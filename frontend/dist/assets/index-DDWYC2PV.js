var l$=Object.defineProperty;var c$=(t,e,n)=>e in t?l$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var u$=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var yn=(t,e,n)=>c$(t,typeof e!="symbol"?e+"":e,n);var HDe=u$((_m,bm)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();var Qg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function f$(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var ON={exports:{}},k1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jU;function h$(){if(jU)return k1;jU=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,a){var s=null;if(a!==void 0&&(s=""+a),r.key!==void 0&&(s=""+r.key),"key"in r){a={};for(var o in r)o!=="key"&&(a[o]=r[o])}else a=r;return r=a.ref,{$$typeof:t,type:i,key:s,ref:r!==void 0?r:null,props:a}}return k1.Fragment=e,k1.jsx=n,k1.jsxs=n,k1}var VU;function d$(){return VU||(VU=1,ON.exports=h$()),ON.exports}var B=d$(),LN={exports:{}},qn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XU;function p$(){if(XU)return qn;XU=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;function p(V){return V===null||typeof V!="object"?null:(V=d&&V[d]||V["@@iterator"],typeof V=="function"?V:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function b(V,$,oe){this.props=V,this.context=$,this.refs=S,this.updater=oe||v}b.prototype.isReactComponent={},b.prototype.setState=function(V,$){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,$,"setState")},b.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function A(){}A.prototype=b.prototype;function T(V,$,oe){this.props=V,this.context=$,this.refs=S,this.updater=oe||v}var R=T.prototype=new A;R.constructor=T,_(R,b.prototype),R.isPureReactComponent=!0;var C=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function k(V,$,oe,de,fe,ge){return oe=ge.ref,{$$typeof:t,type:V,key:$,ref:oe!==void 0?oe:null,props:ge}}function G(V,$){return k(V.type,$,void 0,void 0,void 0,V.props)}function z(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function F(V){var $={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(oe){return $[oe]})}var j=/\/+/g;function ne(V,$){return typeof V=="object"&&V!==null&&V.key!=null?F(""+V.key):$.toString(36)}function W(){}function Y(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(W,W):(V.status="pending",V.then(function($){V.status==="pending"&&(V.status="fulfilled",V.value=$)},function($){V.status==="pending"&&(V.status="rejected",V.reason=$)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function K(V,$,oe,de,fe){var ge=typeof V;(ge==="undefined"||ge==="boolean")&&(V=null);var Se=!1;if(V===null)Se=!0;else switch(ge){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(V.$$typeof){case t:case e:Se=!0;break;case f:return Se=V._init,K(Se(V._payload),$,oe,de,fe)}}if(Se)return fe=fe(V),Se=de===""?"."+ne(V,0):de,C(fe)?(oe="",Se!=null&&(oe=Se.replace(j,"$&/")+"/"),K(fe,$,oe,"",function(Fe){return Fe})):fe!=null&&(z(fe)&&(fe=G(fe,oe+(fe.key==null||V&&V.key===fe.key?"":(""+fe.key).replace(j,"$&/")+"/")+Se)),$.push(fe)),1;Se=0;var De=de===""?".":de+":";if(C(V))for(var He=0;He<V.length;He++)de=V[He],ge=De+ne(de,He),Se+=K(de,$,oe,ge,fe);else if(He=p(V),typeof He=="function")for(V=He.call(V),He=0;!(de=V.next()).done;)de=de.value,ge=De+ne(de,He++),Se+=K(de,$,oe,ge,fe);else if(ge==="object"){if(typeof V.then=="function")return K(Y(V),$,oe,de,fe);throw $=String(V),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Se}function H(V,$,oe){if(V==null)return V;var de=[],fe=0;return K(V,de,"","",function(ge){return $.call(oe,ge,fe++)}),de}function J(V){if(V._status===-1){var $=V._result;$=$(),$.then(function(oe){(V._status===0||V._status===-1)&&(V._status=1,V._result=oe)},function(oe){(V._status===0||V._status===-1)&&(V._status=2,V._result=oe)}),V._status===-1&&(V._status=0,V._result=$)}if(V._status===1)return V._result.default;throw V._result}var Q=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function ie(){}return qn.Children={map:H,forEach:function(V,$,oe){H(V,function(){$.apply(this,arguments)},oe)},count:function(V){var $=0;return H(V,function(){$++}),$},toArray:function(V){return H(V,function($){return $})||[]},only:function(V){if(!z(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},qn.Component=b,qn.Fragment=n,qn.Profiler=r,qn.PureComponent=T,qn.StrictMode=i,qn.Suspense=l,qn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,qn.__COMPILER_RUNTIME={__proto__:null,c:function(V){return L.H.useMemoCache(V)}},qn.cache=function(V){return function(){return V.apply(null,arguments)}},qn.cloneElement=function(V,$,oe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var de=_({},V.props),fe=V.key,ge=void 0;if($!=null)for(Se in $.ref!==void 0&&(ge=void 0),$.key!==void 0&&(fe=""+$.key),$)!P.call($,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&$.ref===void 0||(de[Se]=$[Se]);var Se=arguments.length-2;if(Se===1)de.children=oe;else if(1<Se){for(var De=Array(Se),He=0;He<Se;He++)De[He]=arguments[He+2];de.children=De}return k(V.type,fe,void 0,void 0,ge,de)},qn.createContext=function(V){return V={$$typeof:s,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:a,_context:V},V},qn.createElement=function(V,$,oe){var de,fe={},ge=null;if($!=null)for(de in $.key!==void 0&&(ge=""+$.key),$)P.call($,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(fe[de]=$[de]);var Se=arguments.length-2;if(Se===1)fe.children=oe;else if(1<Se){for(var De=Array(Se),He=0;He<Se;He++)De[He]=arguments[He+2];fe.children=De}if(V&&V.defaultProps)for(de in Se=V.defaultProps,Se)fe[de]===void 0&&(fe[de]=Se[de]);return k(V,ge,void 0,void 0,null,fe)},qn.createRef=function(){return{current:null}},qn.forwardRef=function(V){return{$$typeof:o,render:V}},qn.isValidElement=z,qn.lazy=function(V){return{$$typeof:f,_payload:{_status:-1,_result:V},_init:J}},qn.memo=function(V,$){return{$$typeof:c,type:V,compare:$===void 0?null:$}},qn.startTransition=function(V){var $=L.T,oe={};L.T=oe;try{var de=V(),fe=L.S;fe!==null&&fe(oe,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(ie,Q)}catch(ge){Q(ge)}finally{L.T=$}},qn.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},qn.use=function(V){return L.H.use(V)},qn.useActionState=function(V,$,oe){return L.H.useActionState(V,$,oe)},qn.useCallback=function(V,$){return L.H.useCallback(V,$)},qn.useContext=function(V){return L.H.useContext(V)},qn.useDebugValue=function(){},qn.useDeferredValue=function(V,$){return L.H.useDeferredValue(V,$)},qn.useEffect=function(V,$,oe){var de=L.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return de.useEffect(V,$)},qn.useId=function(){return L.H.useId()},qn.useImperativeHandle=function(V,$,oe){return L.H.useImperativeHandle(V,$,oe)},qn.useInsertionEffect=function(V,$){return L.H.useInsertionEffect(V,$)},qn.useLayoutEffect=function(V,$){return L.H.useLayoutEffect(V,$)},qn.useMemo=function(V,$){return L.H.useMemo(V,$)},qn.useOptimistic=function(V,$){return L.H.useOptimistic(V,$)},qn.useReducer=function(V,$,oe){return L.H.useReducer(V,$,oe)},qn.useRef=function(V){return L.H.useRef(V)},qn.useState=function(V){return L.H.useState(V)},qn.useSyncExternalStore=function(V,$,oe){return L.H.useSyncExternalStore(V,$,oe)},qn.useTransition=function(){return L.H.useTransition()},qn.version="19.1.0",qn}var qU;function ax(){return qU||(qU=1,LN.exports=p$()),LN.exports}var ce=ax();const Rd=mR(ce);var PN={exports:{}},G1={},UN={exports:{}},IN={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YU;function m$(){return YU||(YU=1,function(t){function e(H,J){var Q=H.length;H.push(J);e:for(;0<Q;){var ie=Q-1>>>1,V=H[ie];if(0<r(V,J))H[ie]=J,H[Q]=V,Q=ie;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var J=H[0],Q=H.pop();if(Q!==J){H[0]=Q;e:for(var ie=0,V=H.length,$=V>>>1;ie<$;){var oe=2*(ie+1)-1,de=H[oe],fe=oe+1,ge=H[fe];if(0>r(de,Q))fe<V&&0>r(ge,de)?(H[ie]=ge,H[fe]=Q,ie=fe):(H[ie]=de,H[oe]=Q,ie=oe);else if(fe<V&&0>r(ge,Q))H[ie]=ge,H[fe]=Q,ie=fe;else break e}}return J}function r(H,J){var Q=H.sortIndex-J.sortIndex;return Q!==0?Q:H.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],f=1,d=null,p=3,v=!1,_=!1,S=!1,b=!1,A=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function C(H){for(var J=n(c);J!==null;){if(J.callback===null)i(c);else if(J.startTime<=H)i(c),J.sortIndex=J.expirationTime,e(l,J);else break;J=n(c)}}function L(H){if(S=!1,C(H),!_)if(n(l)!==null)_=!0,P||(P=!0,ne());else{var J=n(c);J!==null&&K(L,J.startTime-H)}}var P=!1,k=-1,G=5,z=-1;function F(){return b?!0:!(t.unstable_now()-z<G)}function j(){if(b=!1,P){var H=t.unstable_now();z=H;var J=!0;try{e:{_=!1,S&&(S=!1,T(k),k=-1),v=!0;var Q=p;try{t:{for(C(H),d=n(l);d!==null&&!(d.expirationTime>H&&F());){var ie=d.callback;if(typeof ie=="function"){d.callback=null,p=d.priorityLevel;var V=ie(d.expirationTime<=H);if(H=t.unstable_now(),typeof V=="function"){d.callback=V,C(H),J=!0;break t}d===n(l)&&i(l),C(H)}else i(l);d=n(l)}if(d!==null)J=!0;else{var $=n(c);$!==null&&K(L,$.startTime-H),J=!1}}break e}finally{d=null,p=Q,v=!1}J=void 0}}finally{J?ne():P=!1}}}var ne;if(typeof R=="function")ne=function(){R(j)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,Y=W.port2;W.port1.onmessage=j,ne=function(){Y.postMessage(null)}}else ne=function(){A(j,0)};function K(H,J){k=A(function(){H(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(H){switch(p){case 1:case 2:case 3:var J=3;break;default:J=p}var Q=p;p=J;try{return H()}finally{p=Q}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Q=p;p=H;try{return J()}finally{p=Q}},t.unstable_scheduleCallback=function(H,J,Q){var ie=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ie+Q:ie):Q=ie,H){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=Q+V,H={id:f++,callback:J,priorityLevel:H,startTime:Q,expirationTime:V,sortIndex:-1},Q>ie?(H.sortIndex=Q,e(c,H),n(l)===null&&H===n(c)&&(S?(T(k),k=-1):S=!0,K(L,Q-ie))):(H.sortIndex=V,e(l,H),_||v||(_=!0,P||(P=!0,ne()))),H},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(H){var J=p;return function(){var Q=p;p=J;try{return H.apply(this,arguments)}finally{p=Q}}}}(IN)),IN}var WU;function g$(){return WU||(WU=1,UN.exports=m$()),UN.exports}var FN={exports:{}},No={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JU;function v$(){if(JU)return No;JU=1;var t=ax();function e(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(l,c,f){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:d==null?null:""+d,children:l,containerInfo:c,implementation:f}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return No.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,No.createPortal=function(l,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return a(l,c,null,f)},No.flushSync=function(l){var c=s.T,f=i.p;try{if(s.T=null,i.p=2,l)return l()}finally{s.T=c,i.p=f,i.d.f()}},No.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,i.d.C(l,c))},No.prefetchDNS=function(l){typeof l=="string"&&i.d.D(l)},No.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var f=c.as,d=o(f,c.crossOrigin),p=typeof c.integrity=="string"?c.integrity:void 0,v=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;f==="style"?i.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:d,integrity:p,fetchPriority:v}):f==="script"&&i.d.X(l,{crossOrigin:d,integrity:p,fetchPriority:v,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},No.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var f=o(c.as,c.crossOrigin);i.d.M(l,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&i.d.M(l)},No.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var f=c.as,d=o(f,c.crossOrigin);i.d.L(l,f,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},No.preloadModule=function(l,c){if(typeof l=="string")if(c){var f=o(c.as,c.crossOrigin);i.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else i.d.m(l)},No.requestFormReset=function(l){i.d.r(l)},No.unstable_batchedUpdates=function(l,c){return l(c)},No.useFormState=function(l,c,f){return s.H.useFormState(l,c,f)},No.useFormStatus=function(){return s.H.useHostTransitionStatus()},No.version="19.1.0",No}var KU;function y$(){if(KU)return FN.exports;KU=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),FN.exports=v$(),FN.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $U;function x$(){if($U)return G1;$U=1;var t=g$(),e=ax(),n=y$();function i(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function a(u){var h=u,y=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(y=h.return),u=h.return;while(u)}return h.tag===3?y:null}function s(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function o(u){if(a(u)!==u)throw Error(i(188))}function l(u){var h=u.alternate;if(!h){if(h=a(u),h===null)throw Error(i(188));return h!==u?null:u}for(var y=u,w=h;;){var N=y.return;if(N===null)break;var U=N.alternate;if(U===null){if(w=N.return,w!==null){y=w;continue}break}if(N.child===U.child){for(U=N.child;U;){if(U===y)return o(N),u;if(U===w)return o(N),h;U=U.sibling}throw Error(i(188))}if(y.return!==w.return)y=N,w=U;else{for(var Z=!1,ae=N.child;ae;){if(ae===y){Z=!0,y=N,w=U;break}if(ae===w){Z=!0,w=N,y=U;break}ae=ae.sibling}if(!Z){for(ae=U.child;ae;){if(ae===y){Z=!0,y=U,w=N;break}if(ae===w){Z=!0,w=U,y=N;break}ae=ae.sibling}if(!Z)throw Error(i(189))}}if(y.alternate!==w)throw Error(i(190))}if(y.tag!==3)throw Error(i(188));return y.stateNode.current===y?u:h}function c(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u;for(u=u.child;u!==null;){if(h=c(u),h!==null)return h;u=u.sibling}return null}var f=Object.assign,d=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),R=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function ne(u){return u===null||typeof u!="object"?null:(u=j&&u[j]||u["@@iterator"],typeof u=="function"?u:null)}var W=Symbol.for("react.client.reference");function Y(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===W?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case _:return"Fragment";case b:return"Profiler";case S:return"StrictMode";case L:return"Suspense";case P:return"SuspenseList";case z:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case v:return"Portal";case R:return(u.displayName||"Context")+".Provider";case T:return(u._context.displayName||"Context")+".Consumer";case C:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case k:return h=u.displayName||null,h!==null?h:Y(u.type)||"Memo";case G:h=u._payload,u=u._init;try{return Y(u(h))}catch{}}return null}var K=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},ie=[],V=-1;function $(u){return{current:u}}function oe(u){0>V||(u.current=ie[V],ie[V]=null,V--)}function de(u,h){V++,ie[V]=u.current,u.current=h}var fe=$(null),ge=$(null),Se=$(null),De=$(null);function He(u,h){switch(de(Se,h),de(ge,u),de(fe,null),h.nodeType){case 9:case 11:u=(u=h.documentElement)&&(u=u.namespaceURI)?Nr(u):0;break;default:if(u=h.tagName,h=h.namespaceURI)h=Nr(h),u=Br(h,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}oe(fe),de(fe,u)}function Fe(){oe(fe),oe(ge),oe(Se)}function ke(u){u.memoizedState!==null&&de(De,u);var h=fe.current,y=Br(h,u.type);h!==y&&(de(ge,u),de(fe,y))}function Qe(u){ge.current===u&&(oe(fe),oe(ge)),De.current===u&&(oe(De),Bg._currentValue=Q)}var Re=Object.prototype.hasOwnProperty,st=t.unstable_scheduleCallback,pe=t.unstable_cancelCallback,St=t.unstable_shouldYield,Ie=t.unstable_requestPaint,_e=t.unstable_now,Le=t.unstable_getCurrentPriorityLevel,pt=t.unstable_ImmediatePriority,ze=t.unstable_UserBlockingPriority,le=t.unstable_NormalPriority,te=t.unstable_LowPriority,Ee=t.unstable_IdlePriority,Xe=t.log,et=t.unstable_setDisableYieldValue,tt=null,_t=null;function gt(u){if(typeof Xe=="function"&&et(u),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(tt,u)}catch{}}var Mt=Math.clz32?Math.clz32:Ot,An=Math.log,yt=Math.LN2;function Ot(u){return u>>>=0,u===0?32:31-(An(u)/yt|0)|0}var zt=256,Ht=4194304;function wt(u){var h=u&42;if(h!==0)return h;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function Ae(u,h,y){var w=u.pendingLanes;if(w===0)return 0;var N=0,U=u.suspendedLanes,Z=u.pingedLanes;u=u.warmLanes;var ae=w&134217727;return ae!==0?(w=ae&~U,w!==0?N=wt(w):(Z&=ae,Z!==0?N=wt(Z):y||(y=ae&~u,y!==0&&(N=wt(y))))):(ae=w&~U,ae!==0?N=wt(ae):Z!==0?N=wt(Z):y||(y=w&~u,y!==0&&(N=wt(y)))),N===0?0:h!==0&&h!==N&&(h&U)===0&&(U=N&-N,y=h&-h,U>=y||U===32&&(y&4194048)!==0)?h:N}function it(u,h){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&h)===0}function Ct(u,h){switch(u){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function be(){var u=zt;return zt<<=1,(zt&4194048)===0&&(zt=256),u}function xt(){var u=Ht;return Ht<<=1,(Ht&62914560)===0&&(Ht=4194304),u}function $e(u){for(var h=[],y=0;31>y;y++)h.push(u);return h}function at(u,h){u.pendingLanes|=h,h!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function Dt(u,h,y,w,N,U){var Z=u.pendingLanes;u.pendingLanes=y,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=y,u.entangledLanes&=y,u.errorRecoveryDisabledLanes&=y,u.shellSuspendCounter=0;var ae=u.entanglements,ye=u.expirationTimes,je=u.hiddenUpdates;for(y=Z&~y;0<y;){var lt=31-Mt(y),ht=1<<lt;ae[lt]=0,ye[lt]=-1;var Ye=je[lt];if(Ye!==null)for(je[lt]=null,lt=0;lt<Ye.length;lt++){var Ve=Ye[lt];Ve!==null&&(Ve.lane&=-536870913)}y&=~ht}w!==0&&Rt(u,w,0),U!==0&&N===0&&u.tag!==0&&(u.suspendedLanes|=U&~(Z&~h))}function Rt(u,h,y){u.pendingLanes|=h,u.suspendedLanes&=~h;var w=31-Mt(h);u.entangledLanes|=h,u.entanglements[w]=u.entanglements[w]|1073741824|y&4194090}function Jt(u,h){var y=u.entangledLanes|=h;for(u=u.entanglements;y;){var w=31-Mt(y),N=1<<w;N&h|u[w]&h&&(u[w]|=h),y&=~N}}function On(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function vi(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function En(){var u=J.p;return u!==0?u:(u=window.event,u===void 0?32:xw(u.type))}function Ur(u,h){var y=J.p;try{return J.p=u,h()}finally{J.p=y}}var hr=Math.random().toString(36).slice(2),Er="__reactFiber$"+hr,$r="__reactProps$"+hr,ca="__reactContainer$"+hr,xs="__reactEvents$"+hr,Yd="__reactListeners$"+hr,Jo="__reactHandles$"+hr,is="__reactResources$"+hr,Ko="__reactMarker$"+hr;function Ui(u){delete u[Er],delete u[$r],delete u[xs],delete u[Yd],delete u[Jo]}function $o(u){var h=u[Er];if(h)return h;for(var y=u.parentNode;y;){if(h=y[ca]||y[Er]){if(y=h.alternate,h.child!==null||y!==null&&y.child!==null)for(u=ow(u);u!==null;){if(y=u[Er])return y;u=ow(u)}return h}u=y,y=u.parentNode}return null}function Zo(u){if(u=u[Er]||u[ca]){var h=u.tag;if(h===5||h===6||h===13||h===26||h===27||h===3)return u}return null}function Uc(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u.stateNode;throw Error(i(33))}function Ic(u){var h=u[is];return h||(h=u[is]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function Ir(u){u[Ko]=!0}var Th=new Set,Ch={};function Qo(u,h){se(u,h),se(u+"Capture",h)}function se(u,h){for(Ch[u]=h,u=0;u<h.length;u++)Th.add(h[u])}var Te=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),We={},Je={};function Oe(u){return Re.call(Je,u)?!0:Re.call(We,u)?!1:Te.test(u)?Je[u]=!0:(We[u]=!0,!1)}function mt(u,h,y){if(Oe(h))if(y===null)u.removeAttribute(h);else{switch(typeof y){case"undefined":case"function":case"symbol":u.removeAttribute(h);return;case"boolean":var w=h.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){u.removeAttribute(h);return}}u.setAttribute(h,""+y)}}function Tt(u,h,y){if(y===null)u.removeAttribute(h);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(h);return}u.setAttribute(h,""+y)}}function Nt(u,h,y,w){if(w===null)u.removeAttribute(y);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(y);return}u.setAttributeNS(h,y,""+w)}}var Ft,rn;function Zt(u){if(Ft===void 0)try{throw Error()}catch(y){var h=y.stack.trim().match(/\n( *(at )?)/);Ft=h&&h[1]||"",rn=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ft+u+rn}var jt=!1;function Fn(u,h){if(!u||jt)return"";jt=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(h){var ht=function(){throw Error()};if(Object.defineProperty(ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ht,[])}catch(Ve){var Ye=Ve}Reflect.construct(u,[],ht)}else{try{ht.call()}catch(Ve){Ye=Ve}u.call(ht.prototype)}}else{try{throw Error()}catch(Ve){Ye=Ve}(ht=u())&&typeof ht.catch=="function"&&ht.catch(function(){})}}catch(Ve){if(Ve&&Ye&&typeof Ve.stack=="string")return[Ve.stack,Ye.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var U=w.DetermineComponentFrameRoot(),Z=U[0],ae=U[1];if(Z&&ae){var ye=Z.split(`
`),je=ae.split(`
`);for(N=w=0;w<ye.length&&!ye[w].includes("DetermineComponentFrameRoot");)w++;for(;N<je.length&&!je[N].includes("DetermineComponentFrameRoot");)N++;if(w===ye.length||N===je.length)for(w=ye.length-1,N=je.length-1;1<=w&&0<=N&&ye[w]!==je[N];)N--;for(;1<=w&&0<=N;w--,N--)if(ye[w]!==je[N]){if(w!==1||N!==1)do if(w--,N--,0>N||ye[w]!==je[N]){var lt=`
`+ye[w].replace(" at new "," at ");return u.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",u.displayName)),lt}while(1<=w&&0<=N);break}}}finally{jt=!1,Error.prepareStackTrace=y}return(y=u?u.displayName||u.name:"")?Zt(y):""}function oi(u){switch(u.tag){case 26:case 27:case 5:return Zt(u.type);case 16:return Zt("Lazy");case 13:return Zt("Suspense");case 19:return Zt("SuspenseList");case 0:case 15:return Fn(u.type,!1);case 11:return Fn(u.type.render,!1);case 1:return Fn(u.type,!0);case 31:return Zt("Activity");default:return""}}function rr(u){try{var h="";do h+=oi(u),u=u.return;while(u);return h}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}function zn(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function Vn(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Kt(u){var h=Vn(u)?"checked":"value",y=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),w=""+u[h];if(!u.hasOwnProperty(h)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var N=y.get,U=y.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return N.call(this)},set:function(Z){w=""+Z,U.call(this,Z)}}),Object.defineProperty(u,h,{enumerable:y.enumerable}),{getValue:function(){return w},setValue:function(Z){w=""+Z},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function xr(u){u._valueTracker||(u._valueTracker=Kt(u))}function Zn(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var y=h.getValue(),w="";return u&&(w=Vn(u)?u.checked?"true":"false":u.value),u=w,u!==y?(h.setValue(u),!0):!1}function Fr(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var el=/[\n"\\]/g;function Xi(u){return u.replace(el,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function tl(u,h,y,w,N,U,Z,ae){u.name="",Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?u.type=Z:u.removeAttribute("type"),h!=null?Z==="number"?(h===0&&u.value===""||u.value!=h)&&(u.value=""+zn(h)):u.value!==""+zn(h)&&(u.value=""+zn(h)):Z!=="submit"&&Z!=="reset"||u.removeAttribute("value"),h!=null?Zr(u,Z,zn(h)):y!=null?Zr(u,Z,zn(y)):w!=null&&u.removeAttribute("value"),N==null&&U!=null&&(u.defaultChecked=!!U),N!=null&&(u.checked=N&&typeof N!="function"&&typeof N!="symbol"),ae!=null&&typeof ae!="function"&&typeof ae!="symbol"&&typeof ae!="boolean"?u.name=""+zn(ae):u.removeAttribute("name")}function Di(u,h,y,w,N,U,Z,ae){if(U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(u.type=U),h!=null||y!=null){if(!(U!=="submit"&&U!=="reset"||h!=null))return;y=y!=null?""+zn(y):"",h=h!=null?""+zn(h):y,ae||h===u.value||(u.value=h),u.defaultValue=h}w=w??N,w=typeof w!="function"&&typeof w!="symbol"&&!!w,u.checked=ae?u.checked:!!w,u.defaultChecked=!!w,Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"&&(u.name=Z)}function Zr(u,h,y){h==="number"&&Fr(u.ownerDocument)===u||u.defaultValue===""+y||(u.defaultValue=""+y)}function zr(u,h,y,w){if(u=u.options,h){h={};for(var N=0;N<y.length;N++)h["$"+y[N]]=!0;for(y=0;y<u.length;y++)N=h.hasOwnProperty("$"+u[y].value),u[y].selected!==N&&(u[y].selected=N),N&&w&&(u[y].defaultSelected=!0)}else{for(y=""+zn(y),h=null,N=0;N<u.length;N++){if(u[N].value===y){u[N].selected=!0,w&&(u[N].defaultSelected=!0);return}h!==null||u[N].disabled||(h=u[N])}h!==null&&(h.selected=!0)}}function Qr(u,h,y){if(h!=null&&(h=""+zn(h),h!==u.value&&(u.value=h),y==null)){u.defaultValue!==h&&(u.defaultValue=h);return}u.defaultValue=y!=null?""+zn(y):""}function Hr(u,h,y,w){if(h==null){if(w!=null){if(y!=null)throw Error(i(92));if(K(w)){if(1<w.length)throw Error(i(93));w=w[0]}y=w}y==null&&(y=""),h=y}y=zn(h),u.defaultValue=y,w=u.textContent,w===y&&w!==""&&w!==null&&(u.value=w)}function wa(u,h){if(h){var y=u.firstChild;if(y&&y===u.lastChild&&y.nodeType===3){y.nodeValue=h;return}}u.textContent=h}var rs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rh(u,h,y){var w=h.indexOf("--")===0;y==null||typeof y=="boolean"||y===""?w?u.setProperty(h,""):h==="float"?u.cssFloat="":u[h]="":w?u.setProperty(h,y):typeof y!="number"||y===0||rs.has(h)?h==="float"?u.cssFloat=y:u[h]=(""+y).trim():u[h]=y+"px"}function Nh(u,h,y){if(h!=null&&typeof h!="object")throw Error(i(62));if(u=u.style,y!=null){for(var w in y)!y.hasOwnProperty(w)||h!=null&&h.hasOwnProperty(w)||(w.indexOf("--")===0?u.setProperty(w,""):w==="float"?u.cssFloat="":u[w]="");for(var N in h)w=h[N],h.hasOwnProperty(N)&&y[N]!==w&&Rh(u,N,w)}else for(var U in h)h.hasOwnProperty(U)&&Rh(u,U,h[U])}function Um(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Im=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),C0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dh(u){return C0.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var Wd=null;function Fm(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Eu=null,bf=null;function zm(u){var h=Zo(u);if(h&&(u=h.stateNode)){var y=u[$r]||null;e:switch(u=h.stateNode,h.type){case"input":if(tl(u,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name),h=y.name,y.type==="radio"&&h!=null){for(y=u;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll('input[name="'+Xi(""+h)+'"][type="radio"]'),h=0;h<y.length;h++){var w=y[h];if(w!==u&&w.form===u.form){var N=w[$r]||null;if(!N)throw Error(i(90));tl(w,N.value,N.defaultValue,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name)}}for(h=0;h<y.length;h++)w=y[h],w.form===u.form&&Zn(w)}break e;case"textarea":Qr(u,y.value,y.defaultValue);break e;case"select":h=y.value,h!=null&&zr(u,!!y.multiple,h,!1)}}}var Jd=!1;function R0(u,h,y){if(Jd)return u(h,y);Jd=!0;try{var w=u(h);return w}finally{if(Jd=!1,(Eu!==null||bf!==null)&&(dc(),Eu&&(h=Eu,u=bf,bf=Eu=null,zm(h),u)))for(h=0;h<u.length;h++)zm(u[h])}}function Bh(u,h){var y=u.stateNode;if(y===null)return null;var w=y[$r]||null;if(w===null)return null;y=w[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(u=u.type,w=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!w;break e;default:u=!1}if(u)return null;if(y&&typeof y!="function")throw Error(i(231,h,typeof y));return y}var Xl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Af=!1;if(Xl)try{var Oh={};Object.defineProperty(Oh,"passive",{get:function(){Af=!0}}),window.addEventListener("test",Oh,Oh),window.removeEventListener("test",Oh,Oh)}catch{Af=!1}var Fc=null,N0=null,Hm=null;function D0(){if(Hm)return Hm;var u,h=N0,y=h.length,w,N="value"in Fc?Fc.value:Fc.textContent,U=N.length;for(u=0;u<y&&h[u]===N[u];u++);var Z=y-u;for(w=1;w<=Z&&h[y-w]===N[U-w];w++);return Hm=N.slice(u,1<w?1-w:void 0)}function pi(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function yi(){return!0}function Kd(){return!1}function as(u){function h(y,w,N,U,Z){this._reactName=y,this._targetInst=N,this.type=w,this.nativeEvent=U,this.target=Z,this.currentTarget=null;for(var ae in u)u.hasOwnProperty(ae)&&(y=u[ae],this[ae]=y?y(U):U[ae]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?yi:Kd,this.isPropagationStopped=Kd,this}return f(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),h}var Tu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lh=as(Tu),Ph=f({},Tu,{view:0,detail:0}),bx=as(Ph),ql,Uh,Tr,Cu=f({},Ph,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fo,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Tr&&(Tr&&u.type==="mousemove"?(ql=u.screenX-Tr.screenX,Uh=u.screenY-Tr.screenY):Uh=ql=0,Tr=u),ql)},movementY:function(u){return"movementY"in u?u.movementY:Uh}}),zc=as(Cu),B0=f({},Cu,{dataTransfer:0}),O0=as(B0),Ii=f({},Ph,{relatedTarget:0}),$d=as(Ii),L0=f({},Tu,{animationName:0,elapsedTime:0,pseudoElement:0}),P0=as(L0),U0=f({},Tu,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),I0=as(U0),Ih=f({},Tu,{data:0}),ka=as(Ih),Ax={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function km(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=Sx[u])?!!h[u]:!1}function fo(){return km}var Zd=f({},Ph,{key:function(u){if(u.key){var h=Ax[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=pi(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Gs[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fo,charCode:function(u){return u.type==="keypress"?pi(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?pi(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Qd=as(Zd),Zi=f({},Cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nl=as(Zi),Gm=f({},Ph,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fo}),F0=as(Gm),jm=f({},Tu,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hc=as(jm),z0=f({},Cu,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),x1=as(z0),H0=f({},Tu,{newState:0,oldState:0}),il=as(H0),_s=[9,13,27,32],ep=Xl&&"CompositionEvent"in window,Ru=null;Xl&&"documentMode"in document&&(Ru=document.documentMode);var Fh=Xl&&"TextEvent"in window&&!Ru,Sf=Xl&&(!ep||Ru&&8<Ru&&11>=Ru),Yl=" ",ua=!1;function tp(u,h){switch(u){case"keyup":return _s.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function np(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Wl=!1;function ip(u,h){switch(u){case"compositionend":return np(h);case"keypress":return h.which!==32?null:(ua=!0,Yl);case"textInput":return u=h.data,u===Yl&&ua?null:u;default:return null}}function Vm(u,h){if(Wl)return u==="compositionend"||!ep&&tp(u,h)?(u=D0(),Hm=N0=Fc=null,Wl=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Sf&&h.locale!=="ko"?null:h.data;default:return null}}var Ga={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rp(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!Ga[u.type]:h==="textarea"}function fa(u,h,y,w){Eu?bf?bf.push(w):bf=[w]:Eu=w,h=Kx(h,"onChange"),0<h.length&&(y=new Lh("onChange","change",null,y,w),u.push({event:y,listeners:h}))}var Mf=null,Nu=null;function Mx(u){QM(u,0)}function ap(u){var h=Uc(u);if(Zn(h))return u}function Xm(u,h){if(u==="change")return h}var qm=!1;if(Xl){var Ym;if(Xl){var rl="oninput"in document;if(!rl){var zh=document.createElement("div");zh.setAttribute("oninput","return;"),rl=typeof zh.oninput=="function"}Ym=rl}else Ym=!1;qm=Ym&&(!document.documentMode||9<document.documentMode)}function dr(){Mf&&(Mf.detachEvent("onpropertychange",Wm),Nu=Mf=null)}function Wm(u){if(u.propertyName==="value"&&ap(Nu)){var h=[];fa(h,Nu,u,Fm(u)),R0(Mx,h)}}function wx(u,h,y){u==="focusin"?(dr(),Mf=h,Nu=y,Mf.attachEvent("onpropertychange",Wm)):u==="focusout"&&dr()}function kc(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return ap(Nu)}function Du(u,h){if(u==="click")return ap(h)}function Bu(u,h){if(u==="input"||u==="change")return ap(h)}function Ex(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var bs=typeof Object.is=="function"?Object.is:Ex;function ja(u,h){if(bs(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var y=Object.keys(u),w=Object.keys(h);if(y.length!==w.length)return!1;for(w=0;w<y.length;w++){var N=y[w];if(!Re.call(h,N)||!bs(u[N],h[N]))return!1}return!0}function pr(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function Jm(u,h){var y=pr(u);u=0;for(var w;y;){if(y.nodeType===3){if(w=u+y.textContent.length,u<=h&&w>=h)return{node:y,offset:h-u};u=w}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=pr(y)}}function k0(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?k0(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function G0(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var h=Fr(u.document);h instanceof u.HTMLIFrameElement;){try{var y=typeof h.contentWindow.location.href=="string"}catch{y=!1}if(y)u=h.contentWindow;else break;h=Fr(u.document)}return h}function sp(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}var j0=Xl&&"documentMode"in document&&11>=document.documentMode,Gc=null,jc=null,Ne=null,rt=!1;function Ze(u,h,y){var w=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;rt||Gc==null||Gc!==Fr(w)||(w=Gc,"selectionStart"in w&&sp(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Ne&&ja(Ne,w)||(Ne=w,w=Kx(jc,"onSelect"),0<w.length&&(h=new Lh("onSelect","select",null,h,y),u.push({event:h,listeners:w}),h.target=Gc)))}function Et(u,h){var y={};return y[u.toLowerCase()]=h.toLowerCase(),y["Webkit"+u]="webkit"+h,y["Moz"+u]="moz"+h,y}var tn={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionrun:Et("Transition","TransitionRun"),transitionstart:Et("Transition","TransitionStart"),transitioncancel:Et("Transition","TransitionCancel"),transitionend:Et("Transition","TransitionEnd")},ii={},kr={};Xl&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete tn.animationend.animation,delete tn.animationiteration.animation,delete tn.animationstart.animation),"TransitionEvent"in window||delete tn.transitionend.transition);function Qn(u){if(ii[u])return ii[u];if(!tn[u])return u;var h=tn[u],y;for(y in h)if(h.hasOwnProperty(y)&&y in kr)return ii[u]=h[y];return u}var Ea=Qn("animationend"),V0=Qn("animationiteration"),ar=Qn("animationstart"),op=Qn("transitionrun"),Vc=Qn("transitionstart"),al=Qn("transitioncancel"),ho=Qn("transitionend"),wf=new Map,li="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");li.push("scrollEnd");function ha(u,h){wf.set(u,h),Qo(h,[u])}var Km=new WeakMap;function Gr(u,h){if(typeof u=="object"&&u!==null){var y=Km.get(u);return y!==void 0?y:(h={value:u,source:h,stack:rr(h)},Km.set(u,h),h)}return{value:u,source:h,stack:rr(h)}}var Va=[],po=0,$m=0;function Ou(){for(var u=po,h=$m=po=0;h<u;){var y=Va[h];Va[h++]=null;var w=Va[h];Va[h++]=null;var N=Va[h];Va[h++]=null;var U=Va[h];if(Va[h++]=null,w!==null&&N!==null){var Z=w.pending;Z===null?N.next=N:(N.next=Z.next,Z.next=N),w.pending=N}U!==0&&Hh(y,N,U)}}function ss(u,h,y,w){Va[po++]=u,Va[po++]=h,Va[po++]=y,Va[po++]=w,$m|=w,u.lanes|=w,u=u.alternate,u!==null&&(u.lanes|=w)}function Ef(u,h,y,w){return ss(u,h,y,w),Tf(u)}function Jl(u,h){return ss(u,null,null,h),Tf(u)}function Hh(u,h,y){u.lanes|=y;var w=u.alternate;w!==null&&(w.lanes|=y);for(var N=!1,U=u.return;U!==null;)U.childLanes|=y,w=U.alternate,w!==null&&(w.childLanes|=y),U.tag===22&&(u=U.stateNode,u===null||u._visibility&1||(N=!0)),u=U,U=U.return;return u.tag===3?(U=u.stateNode,N&&h!==null&&(N=31-Mt(y),u=U.hiddenUpdates,w=u[N],w===null?u[N]=[h]:w.push(h),h.lane=y|536870912),U):null}function Tf(u){if(50<_l)throw _l=0,Wf=null,Error(i(185));for(var h=u.return;h!==null;)u=h,h=u.return;return u.tag===3?u.stateNode:null}var Xc={};function kh(u,h,y,w){this.tag=u,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function os(u,h,y,w){return new kh(u,h,y,w)}function qc(u){return u=u.prototype,!(!u||!u.isReactComponent)}function qi(u,h){var y=u.alternate;return y===null?(y=os(u.tag,h,u.key,u.mode),y.elementType=u.elementType,y.type=u.type,y.stateNode=u.stateNode,y.alternate=u,u.alternate=y):(y.pendingProps=h,y.type=u.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=u.flags&65011712,y.childLanes=u.childLanes,y.lanes=u.lanes,y.child=u.child,y.memoizedProps=u.memoizedProps,y.memoizedState=u.memoizedState,y.updateQueue=u.updateQueue,h=u.dependencies,y.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},y.sibling=u.sibling,y.index=u.index,y.ref=u.ref,y.refCleanup=u.refCleanup,y}function Gh(u,h){u.flags&=65011714;var y=u.alternate;return y===null?(u.childLanes=0,u.lanes=h,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=y.childLanes,u.lanes=y.lanes,u.child=y.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=y.memoizedProps,u.memoizedState=y.memoizedState,u.updateQueue=y.updateQueue,u.type=y.type,h=y.dependencies,u.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),u}function da(u,h,y,w,N,U){var Z=0;if(w=u,typeof u=="function")qc(u)&&(Z=1);else if(typeof u=="string")Z=xN(u,y,fe.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case z:return u=os(31,y,h,N),u.elementType=z,u.lanes=U,u;case _:return Lu(y.children,N,U,h);case S:Z=8,N|=24;break;case b:return u=os(12,y,h,N|2),u.elementType=b,u.lanes=U,u;case L:return u=os(13,y,h,N),u.elementType=L,u.lanes=U,u;case P:return u=os(19,y,h,N),u.elementType=P,u.lanes=U,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case A:case R:Z=10;break e;case T:Z=9;break e;case C:Z=11;break e;case k:Z=14;break e;case G:Z=16,w=null;break e}Z=29,y=Error(i(130,u===null?"null":typeof u,"")),w=null}return h=os(Z,y,h,N),h.elementType=u,h.type=w,h.lanes=U,h}function Lu(u,h,y,w){return u=os(7,u,w,h),u.lanes=y,u}function lp(u,h,y){return u=os(6,u,null,h),u.lanes=y,u}function Cf(u,h,y){return h=os(4,u.children!==null?u.children:[],u.key,h),h.lanes=y,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}var Yc=[],Xa=0,cp=null,Rf=0,Ta=[],js=0,Qi=null,sr=1,Kl="";function Wc(u,h){Yc[Xa++]=Rf,Yc[Xa++]=cp,cp=u,Rf=h}function up(u,h,y){Ta[js++]=sr,Ta[js++]=Kl,Ta[js++]=Qi,Qi=u;var w=sr;u=Kl;var N=32-Mt(w)-1;w&=~(1<<N),y+=1;var U=32-Mt(h)+N;if(30<U){var Z=N-N%5;U=(w&(1<<Z)-1).toString(32),w>>=Z,N-=Z,sr=1<<32-Mt(h)+N|y<<N|w,Kl=U+u}else sr=1<<U|y<<N|w,Kl=u}function X0(u){u.return!==null&&(Wc(u,1),up(u,1,0))}function fp(u){for(;u===cp;)cp=Yc[--Xa],Yc[Xa]=null,Rf=Yc[--Xa],Yc[Xa]=null;for(;u===Qi;)Qi=Ta[--js],Ta[js]=null,Kl=Ta[--js],Ta[js]=null,sr=Ta[--js],Ta[js]=null}var ea=null,or=null,Xn=!1,qa=null,Ca=!1,Nf=Error(i(519));function Vs(u){var h=Error(i(418,""));throw $l(Gr(h,u)),Nf}function Tx(u){var h=u.stateNode,y=u.type,w=u.memoizedProps;switch(h[Er]=u,h[$r]=w,y){case"dialog":ni("cancel",h),ni("close",h);break;case"iframe":case"object":case"embed":ni("load",h);break;case"video":case"audio":for(y=0;y<bv.length;y++)ni(bv[y],h);break;case"source":ni("error",h);break;case"img":case"image":case"link":ni("error",h),ni("load",h);break;case"details":ni("toggle",h);break;case"input":ni("invalid",h),Di(h,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0),xr(h);break;case"select":ni("invalid",h);break;case"textarea":ni("invalid",h),Hr(h,w.value,w.defaultValue,w.children),xr(h)}y=w.children,typeof y!="string"&&typeof y!="number"&&typeof y!="bigint"||h.textContent===""+y||w.suppressHydrationWarning===!0||nw(h.textContent,y)?(w.popover!=null&&(ni("beforetoggle",h),ni("toggle",h)),w.onScroll!=null&&ni("scroll",h),w.onScrollEnd!=null&&ni("scrollend",h),w.onClick!=null&&(h.onclick=$x),h=!0):h=!1,h||Vs(u)}function q0(u){for(ea=u.return;ea;)switch(ea.tag){case 5:case 13:Ca=!1;return;case 27:case 3:Ca=!0;return;default:ea=ea.return}}function sl(u){if(u!==ea)return!1;if(!Xn)return q0(u),Xn=!0,!1;var h=u.tag,y;if((y=h!==3&&h!==27)&&((y=h===5)&&(y=u.type,y=!(y!=="form"&&y!=="button")||Qx(u.type,u.memoizedProps)),y=!y),y&&or&&Vs(u),q0(u),h===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8)if(y=u.data,y==="/$"){if(h===0){or=fu(u.nextSibling);break e}h--}else y!=="$"&&y!=="$!"&&y!=="$?"||h++;u=u.nextSibling}or=null}}else h===27?(h=or,pc(u.type)?(u=D1,D1=null,or=u):or=h):or=ea?fu(u.stateNode.nextSibling):null;return!0}function jh(){or=ea=null,Xn=!1}function Mi(){var u=qa;return u!==null&&(sn===null?sn=u:sn.push.apply(sn,u),qa=null),u}function $l(u){qa===null?qa=[u]:qa.push(u)}var Df=$(null),Jc=null,re=null;function Xs(u,h,y){de(Df,h._currentValue),h._currentValue=y}function mo(u){u._currentValue=Df.current,oe(Df)}function As(u,h,y){for(;u!==null;){var w=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,w!==null&&(w.childLanes|=h)):w!==null&&(w.childLanes&h)!==h&&(w.childLanes|=h),u===y)break;u=u.return}}function Cn(u,h,y,w){var N=u.child;for(N!==null&&(N.return=u);N!==null;){var U=N.dependencies;if(U!==null){var Z=N.child;U=U.firstContext;e:for(;U!==null;){var ae=U;U=N;for(var ye=0;ye<h.length;ye++)if(ae.context===h[ye]){U.lanes|=y,ae=U.alternate,ae!==null&&(ae.lanes|=y),As(U.return,y,u),w||(Z=null);break e}U=ae.next}}else if(N.tag===18){if(Z=N.return,Z===null)throw Error(i(341));Z.lanes|=y,U=Z.alternate,U!==null&&(U.lanes|=y),As(Z,y,u),Z=null}else Z=N.child;if(Z!==null)Z.return=N;else for(Z=N;Z!==null;){if(Z===u){Z=null;break}if(N=Z.sibling,N!==null){N.return=Z.return,Z=N;break}Z=Z.return}N=Z}}function go(u,h,y,w){u=null;for(var N=h,U=!1;N!==null;){if(!U){if((N.flags&524288)!==0)U=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var Z=N.alternate;if(Z===null)throw Error(i(387));if(Z=Z.memoizedProps,Z!==null){var ae=N.type;bs(N.pendingProps.value,Z.value)||(u!==null?u.push(ae):u=[ae])}}else if(N===De.current){if(Z=N.alternate,Z===null)throw Error(i(387));Z.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(u!==null?u.push(Bg):u=[Bg])}N=N.return}u!==null&&Cn(h,u,y,w),h.flags|=262144}function hp(u){for(u=u.firstContext;u!==null;){if(!bs(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Zl(u){Jc=u,re=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function Fi(u){return Zm(Jc,u)}function dp(u,h){return Jc===null&&Zl(u),Zm(u,h)}function Zm(u,h){var y=h._currentValue;if(h={context:h,memoizedValue:y,next:null},re===null){if(u===null)throw Error(i(308));re=h,u.dependencies={lanes:0,firstContext:h},u.flags|=524288}else re=re.next=h;return y}var Y0=typeof AbortController<"u"?AbortController:function(){var u=[],h=this.signal={aborted:!1,addEventListener:function(y,w){u.push(w)}};this.abort=function(){h.aborted=!0,u.forEach(function(y){return y()})}},_1=t.unstable_scheduleCallback,Cx=t.unstable_NormalPriority,zi={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qm(){return{controller:new Y0,data:new Map,refCount:0}}function Vh(u){u.refCount--,u.refCount===0&&_1(Cx,function(){u.controller.abort()})}var Xh=null,pp=0,Sn=0,Ss=null;function qs(u,h){if(Xh===null){var y=Xh=[];pp=0,Sn=Jx(),Ss={status:"pending",value:void 0,then:function(w){y.push(w)}}}return pp++,h.then(eg,eg),h}function eg(){if(--pp===0&&Xh!==null){Ss!==null&&(Ss.status="fulfilled");var u=Xh;Xh=null,Sn=0,Ss=null;for(var h=0;h<u.length;h++)(0,u[h])()}}function b1(u,h){var y=[],w={status:"pending",value:null,reason:null,then:function(N){y.push(N)}};return u.then(function(){w.status="fulfilled",w.value=h;for(var N=0;N<y.length;N++)(0,y[N])(h)},function(N){for(w.status="rejected",w.reason=N,N=0;N<y.length;N++)(0,y[N])(void 0)}),w}var mp=H.S;H.S=function(u,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&qs(u,h),mp!==null&&mp(u,h)};var vo=$(null);function Ms(){var u=vo.current;return u!==null?u:_n.pooledCache}function gp(u,h){h===null?de(vo,vo.current):de(vo,h.pool)}function tg(){var u=Ms();return u===null?null:{parent:zi._currentValue,pool:u}}var ls=Error(i(460)),W0=Error(i(474)),ol=Error(i(542)),vp={then:function(){}};function ng(u){return u=u.status,u==="fulfilled"||u==="rejected"}function qh(){}function yp(u,h,y){switch(y=u[y],y===void 0?u.push(h):y!==h&&(h.then(qh,qh),h=y),h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,Rx(u),u;default:if(typeof h.status=="string")h.then(qh,qh);else{if(u=_n,u!==null&&100<u.shellSuspendCounter)throw Error(i(482));u=h,u.status="pending",u.then(function(w){if(h.status==="pending"){var N=h;N.status="fulfilled",N.value=w}},function(w){if(h.status==="pending"){var N=h;N.status="rejected",N.reason=w}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,Rx(u),u}throw Ys=h,ls}}var Ys=null;function J0(){if(Ys===null)throw Error(i(459));var u=Ys;return Ys=null,u}function Rx(u){if(u===ls||u===ol)throw Error(i(483))}var ll=!1;function Bf(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function an(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function Ql(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function ec(u,h,y){var w=u.updateQueue;if(w===null)return null;if(w=w.shared,(Ti&2)!==0){var N=w.pending;return N===null?h.next=h:(h.next=N.next,N.next=h),w.pending=h,h=Tf(u),Hh(u,null,y),h}return ss(u,w,h,y),Tf(u)}function Of(u,h,y){if(h=h.updateQueue,h!==null&&(h=h.shared,(y&4194048)!==0)){var w=h.lanes;w&=u.pendingLanes,y|=w,h.lanes=y,Jt(u,y)}}function ws(u,h){var y=u.updateQueue,w=u.alternate;if(w!==null&&(w=w.updateQueue,y===w)){var N=null,U=null;if(y=y.firstBaseUpdate,y!==null){do{var Z={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};U===null?N=U=Z:U=U.next=Z,y=y.next}while(y!==null);U===null?N=U=h:U=U.next=h}else N=U=h;y={baseState:w.baseState,firstBaseUpdate:N,lastBaseUpdate:U,shared:w.shared,callbacks:w.callbacks},u.updateQueue=y;return}u=y.lastBaseUpdate,u===null?y.firstBaseUpdate=h:u.next=h,y.lastBaseUpdate=h}var xp=!1;function cl(){if(xp){var u=Ss;if(u!==null)throw u}}function Ra(u,h,y,w){xp=!1;var N=u.updateQueue;ll=!1;var U=N.firstBaseUpdate,Z=N.lastBaseUpdate,ae=N.shared.pending;if(ae!==null){N.shared.pending=null;var ye=ae,je=ye.next;ye.next=null,Z===null?U=je:Z.next=je,Z=ye;var lt=u.alternate;lt!==null&&(lt=lt.updateQueue,ae=lt.lastBaseUpdate,ae!==Z&&(ae===null?lt.firstBaseUpdate=je:ae.next=je,lt.lastBaseUpdate=ye))}if(U!==null){var ht=N.baseState;Z=0,lt=je=ye=null,ae=U;do{var Ye=ae.lane&-536870913,Ve=Ye!==ae.lane;if(Ve?(Qt&Ye)===Ye:(w&Ye)===Ye){Ye!==0&&Ye===Sn&&(xp=!0),lt!==null&&(lt=lt.next={lane:0,tag:ae.tag,payload:ae.payload,callback:null,next:null});e:{var cn=u,on=ae;Ye=h;var nr=y;switch(on.tag){case 1:if(cn=on.payload,typeof cn=="function"){ht=cn.call(nr,ht,Ye);break e}ht=cn;break e;case 3:cn.flags=cn.flags&-65537|128;case 0:if(cn=on.payload,Ye=typeof cn=="function"?cn.call(nr,ht,Ye):cn,Ye==null)break e;ht=f({},ht,Ye);break e;case 2:ll=!0}}Ye=ae.callback,Ye!==null&&(u.flags|=64,Ve&&(u.flags|=8192),Ve=N.callbacks,Ve===null?N.callbacks=[Ye]:Ve.push(Ye))}else Ve={lane:Ye,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},lt===null?(je=lt=Ve,ye=ht):lt=lt.next=Ve,Z|=Ye;if(ae=ae.next,ae===null){if(ae=N.shared.pending,ae===null)break;Ve=ae,ae=Ve.next,Ve.next=null,N.lastBaseUpdate=Ve,N.shared.pending=null}}while(!0);lt===null&&(ye=ht),N.baseState=ye,N.firstBaseUpdate=je,N.lastBaseUpdate=lt,U===null&&(N.shared.lanes=0),xl|=Z,u.lanes=Z,u.memoizedState=ht}}function Yh(u,h){if(typeof u!="function")throw Error(i(191,u));u.call(h)}function K0(u,h){var y=u.callbacks;if(y!==null)for(u.callbacks=null,u=0;u<y.length;u++)Yh(y[u],h)}var Lf=$(null),Pu=$(0);function Kc(u,h){u=To,de(Pu,u),de(Lf,h),To=u|h.baseLanes}function ig(){de(Pu,To),de(Lf,Lf.current)}function _p(){To=Pu.current,oe(Lf),oe(Pu)}var yo=0,Mn=null,wi=null,Wn=null,Wh=!1,$c=!1,mr=!1,Dr=0,cs=0,_r=null,$0=0;function ei(){throw Error(i(321))}function pa(u,h){if(h===null)return!1;for(var y=0;y<h.length&&y<u.length;y++)if(!bs(u[y],h[y]))return!1;return!0}function Zc(u,h,y,w,N,U){return yo=U,Mn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,H.H=u===null||u.memoizedState===null?gg:vg,mr=!1,U=y(w,N),mr=!1,$c&&(U=Dx(h,y,w,N)),Nx(u),U}function Nx(u){H.H=Zh;var h=wi!==null&&wi.next!==null;if(yo=0,Wn=wi=Mn=null,Wh=!1,cs=0,_r=null,h)throw Error(i(300));u===null||ma||(u=u.dependencies,u!==null&&hp(u)&&(ma=!0))}function Dx(u,h,y,w){Mn=u;var N=0;do{if($c&&(_r=null),cs=0,$c=!1,25<=N)throw Error(i(301));if(N+=1,Wn=wi=null,u.updateQueue!=null){var U=u.updateQueue;U.lastEffect=null,U.events=null,U.stores=null,U.memoCache!=null&&(U.memoCache.index=0)}H.H=pv,U=h(y,w)}while($c);return U}function Z0(){var u=H.H,h=u.useState()[0];return h=typeof h.then=="function"?ul(h):h,u=u.useState()[0],(wi!==null?wi.memoizedState:null)!==u&&(Mn.flags|=1024),h}function Q0(){var u=Dr!==0;return Dr=0,u}function Uu(u,h,y){h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~y}function rg(u){if(Wh){for(u=u.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}Wh=!1}yo=0,Wn=wi=Mn=null,$c=!1,cs=Dr=0,_r=null}function us(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?Mn.memoizedState=Wn=u:Wn=Wn.next=u,Wn}function jr(){if(wi===null){var u=Mn.alternate;u=u!==null?u.memoizedState:null}else u=wi.next;var h=Wn===null?Mn.memoizedState:Wn.next;if(h!==null)Wn=h,wi=u;else{if(u===null)throw Mn.alternate===null?Error(i(467)):Error(i(310));wi=u,u={memoizedState:wi.memoizedState,baseState:wi.baseState,baseQueue:wi.baseQueue,queue:wi.queue,next:null},Wn===null?Mn.memoizedState=Wn=u:Wn=Wn.next=u}return Wn}function xo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(u){var h=cs;return cs+=1,_r===null&&(_r=[]),u=yp(_r,u,h),h=Mn,(Wn===null?h.memoizedState:Wn.next)===null&&(h=h.alternate,H.H=h===null||h.memoizedState===null?gg:vg),u}function ag(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return ul(u);if(u.$$typeof===R)return Fi(u)}throw Error(i(438,String(u)))}function bp(u){var h=null,y=Mn.updateQueue;if(y!==null&&(h=y.memoCache),h==null){var w=Mn.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(h={data:w.data.map(function(N){return N.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),y===null&&(y=xo(),Mn.updateQueue=y),y.memoCache=h,y=h.data[h.index],y===void 0)for(y=h.data[h.index]=Array(u),w=0;w<u;w++)y[w]=F;return h.index++,y}function tc(u,h){return typeof h=="function"?h(u):h}function Iu(u){var h=jr();return ev(h,wi,u)}function ev(u,h,y){var w=u.queue;if(w===null)throw Error(i(311));w.lastRenderedReducer=y;var N=u.baseQueue,U=w.pending;if(U!==null){if(N!==null){var Z=N.next;N.next=U.next,U.next=Z}h.baseQueue=N=U,w.pending=null}if(U=u.baseState,N===null)u.memoizedState=U;else{h=N.next;var ae=Z=null,ye=null,je=h,lt=!1;do{var ht=je.lane&-536870913;if(ht!==je.lane?(Qt&ht)===ht:(yo&ht)===ht){var Ye=je.revertLane;if(Ye===0)ye!==null&&(ye=ye.next={lane:0,revertLane:0,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null}),ht===Sn&&(lt=!0);else if((yo&Ye)===Ye){je=je.next,Ye===Sn&&(lt=!0);continue}else ht={lane:0,revertLane:je.revertLane,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null},ye===null?(ae=ye=ht,Z=U):ye=ye.next=ht,Mn.lanes|=Ye,xl|=Ye;ht=je.action,mr&&y(U,ht),U=je.hasEagerState?je.eagerState:y(U,ht)}else Ye={lane:ht,revertLane:je.revertLane,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null},ye===null?(ae=ye=Ye,Z=U):ye=ye.next=Ye,Mn.lanes|=ht,xl|=ht;je=je.next}while(je!==null&&je!==h);if(ye===null?Z=U:ye.next=ae,!bs(U,u.memoizedState)&&(ma=!0,lt&&(y=Ss,y!==null)))throw y;u.memoizedState=U,u.baseState=Z,u.baseQueue=ye,w.lastRenderedState=U}return N===null&&(w.lanes=0),[u.memoizedState,w.dispatch]}function tv(u){var h=jr(),y=h.queue;if(y===null)throw Error(i(311));y.lastRenderedReducer=u;var w=y.dispatch,N=y.pending,U=h.memoizedState;if(N!==null){y.pending=null;var Z=N=N.next;do U=u(U,Z.action),Z=Z.next;while(Z!==N);bs(U,h.memoizedState)||(ma=!0),h.memoizedState=U,h.baseQueue===null&&(h.baseState=U),y.lastRenderedState=U}return[U,w]}function nv(u,h,y){var w=Mn,N=jr(),U=Xn;if(U){if(y===void 0)throw Error(i(407));y=y()}else y=h();var Z=!bs((wi||N).memoizedState,y);Z&&(N.memoizedState=y,ma=!0),N=N.queue;var ae=sg.bind(null,w,N,u);if(Kh(2048,8,ae,[u]),N.getSnapshot!==h||Z||Wn!==null&&Wn.memoizedState.tag&1){if(w.flags|=2048,Jh(9,Mp(),Bx.bind(null,w,N,y,h),null),_n===null)throw Error(i(349));U||(yo&124)!==0||Fu(w,h,y)}return y}function Fu(u,h,y){u.flags|=16384,u={getSnapshot:h,value:y},h=Mn.updateQueue,h===null?(h=xo(),Mn.updateQueue=h,h.stores=[u]):(y=h.stores,y===null?h.stores=[u]:y.push(u))}function Bx(u,h,y,w){h.value=y,h.getSnapshot=w,iv(h)&&rv(u)}function sg(u,h,y){return y(function(){iv(h)&&rv(u)})}function iv(u){var h=u.getSnapshot;u=u.value;try{var y=h();return!bs(u,y)}catch{return!0}}function rv(u){var h=Jl(u,2);h!==null&&ds(h,u,2)}function og(u){var h=us();if(typeof u=="function"){var y=u;if(u=y(),mr){gt(!0);try{y()}finally{gt(!1)}}}return h.memoizedState=h.baseState=u,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:u},h}function Ap(u,h,y,w){return u.baseState=y,ev(u,wi,typeof w=="function"?w:tc)}function A1(u,h,y,w,N){if(mg(u))throw Error(i(485));if(u=h.action,u!==null){var U={payload:N,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Z){U.listeners.push(Z)}};H.T!==null?y(!0):U.isTransition=!1,w(U),y=h.pending,y===null?(U.next=h.pending=U,av(h,U)):(U.next=y.next,h.pending=y.next=U)}}function av(u,h){var y=h.action,w=h.payload,N=u.state;if(h.isTransition){var U=H.T,Z={};H.T=Z;try{var ae=y(N,w),ye=H.S;ye!==null&&ye(Z,ae),sv(u,h,ae)}catch(je){lg(u,h,je)}finally{H.T=U}}else try{U=y(N,w),sv(u,h,U)}catch(je){lg(u,h,je)}}function sv(u,h,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(w){Ox(u,h,w)},function(w){return lg(u,h,w)}):Ox(u,h,y)}function Ox(u,h,y){h.status="fulfilled",h.value=y,Lx(h),u.state=y,h=u.pending,h!==null&&(y=h.next,y===h?u.pending=null:(y=y.next,h.next=y,av(u,y)))}function lg(u,h,y){var w=u.pending;if(u.pending=null,w!==null){w=w.next;do h.status="rejected",h.reason=y,Lx(h),h=h.next;while(h!==w)}u.action=null}function Lx(u){u=u.listeners;for(var h=0;h<u.length;h++)(0,u[h])()}function Sp(u,h){return h}function ov(u,h){if(Xn){var y=_n.formState;if(y!==null){e:{var w=Mn;if(Xn){if(or){t:{for(var N=or,U=Ca;N.nodeType!==8;){if(!U){N=null;break t}if(N=fu(N.nextSibling),N===null){N=null;break t}}U=N.data,N=U==="F!"||U==="F"?N:null}if(N){or=fu(N.nextSibling),w=N.data==="F!";break e}}Vs(w)}w=!1}w&&(h=y[0])}}return y=us(),y.memoizedState=y.baseState=h,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sp,lastRenderedState:h},y.queue=w,y=dv.bind(null,Mn,w),w.dispatch=y,w=og(!1),U=pg.bind(null,Mn,!1,w.queue),w=us(),N={state:h,dispatch:null,action:u,pending:null},w.queue=N,y=A1.bind(null,Mn,N,U,y),N.dispatch=y,w.memoizedState=u,[h,y,!1]}function cg(u){var h=jr();return Px(h,wi,u)}function Px(u,h,y){if(h=ev(u,h,Sp)[0],u=Iu(tc)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var w=ul(h)}catch(Z){throw Z===ls?ol:Z}else w=h;h=jr();var N=h.queue,U=N.dispatch;return y!==h.memoizedState&&(Mn.flags|=2048,Jh(9,Mp(),lv.bind(null,N,y),null)),[w,U,u]}function lv(u,h){u.action=h}function Rn(u){var h=jr(),y=wi;if(y!==null)return Px(h,y,u);jr(),h=h.memoizedState,y=jr();var w=y.queue.dispatch;return y.memoizedState=u,[h,w,!1]}function Jh(u,h,y,w){return u={tag:u,create:y,deps:w,inst:h,next:null},h=Mn.updateQueue,h===null&&(h=xo(),Mn.updateQueue=h),y=h.lastEffect,y===null?h.lastEffect=u.next=u:(w=y.next,y.next=u,u.next=w,h.lastEffect=u),u}function Mp(){return{destroy:void 0,resource:void 0}}function Pf(){return jr().memoizedState}function wp(u,h,y,w){var N=us();w=w===void 0?null:w,Mn.flags|=u,N.memoizedState=Jh(1|h,Mp(),y,w)}function Kh(u,h,y,w){var N=jr();w=w===void 0?null:w;var U=N.memoizedState.inst;wi!==null&&w!==null&&pa(w,wi.memoizedState.deps)?N.memoizedState=Jh(h,U,y,w):(Mn.flags|=u,N.memoizedState=Jh(1|h,U,y,w))}function cv(u,h){wp(8390656,8,u,h)}function Es(u,h){Kh(2048,8,u,h)}function ug(u,h){return Kh(4,2,u,h)}function Uf(u,h){return Kh(4,4,u,h)}function fg(u,h){if(typeof h=="function"){u=u();var y=h(u);return function(){typeof y=="function"?y():h(null)}}if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function uv(u,h,y){y=y!=null?y.concat([u]):null,Kh(4,4,fg.bind(null,h,u),y)}function hg(){}function Ts(u,h){var y=jr();h=h===void 0?null:h;var w=y.memoizedState;return h!==null&&pa(h,w[1])?w[0]:(y.memoizedState=[u,h],u)}function nc(u,h){var y=jr();h=h===void 0?null:h;var w=y.memoizedState;if(h!==null&&pa(h,w[1]))return w[0];if(w=u(),mr){gt(!0);try{u()}finally{gt(!1)}}return y.memoizedState=[w,h],w}function $h(u,h,y){return y===void 0||(yo&1073741824)!==0?u.memoizedState=h:(u.memoizedState=y,u=Mg(),Mn.lanes|=u,xl|=u,y)}function fv(u,h,y,w){return bs(y,h)?y:Lf.current!==null?(u=$h(u,y,w),bs(u,h)||(ma=!0),u):(yo&42)===0?(ma=!0,u.memoizedState=y):(u=Mg(),Mn.lanes|=u,xl|=u,h)}function Ep(u,h,y,w,N){var U=J.p;J.p=U!==0&&8>U?U:8;var Z=H.T,ae={};H.T=ae,pg(u,!1,h,y);try{var ye=N(),je=H.S;if(je!==null&&je(ae,ye),ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var lt=b1(ye,w);If(u,h,lt,cr(u))}else If(u,h,w,cr(u))}catch(ht){If(u,h,{then:function(){},status:"rejected",reason:ht},cr())}finally{J.p=U,H.T=Z}}function Ux(){}function Tp(u,h,y,w){if(u.tag!==5)throw Error(i(476));var N=hv(u).queue;Ep(u,N,h,Q,y===null?Ux:function(){return dg(u),y(w)})}function hv(u){var h=u.memoizedState;if(h!==null)return h;h={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:Q},next:null};var y={};return h.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:y},next:null},u.memoizedState=h,u=u.alternate,u!==null&&(u.memoizedState=h),h}function dg(u){var h=hv(u).next.queue;If(u,h,{},cr())}function Cp(){return Fi(Bg)}function Qc(){return jr().memoizedState}function Ix(){return jr().memoizedState}function zu(u){for(var h=u.return;h!==null;){switch(h.tag){case 24:case 3:var y=cr();u=Ql(y);var w=ec(h,u,y);w!==null&&(ds(w,h,y),Of(w,h,y)),h={cache:Qm()},u.payload=h;return}h=h.return}}function Fx(u,h,y){var w=cr();y={lane:w,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null},mg(u)?zx(h,y):(y=Ef(u,h,y,w),y!==null&&(ds(y,u,w),Cs(y,h,w)))}function dv(u,h,y){var w=cr();If(u,h,y,w)}function If(u,h,y,w){var N={lane:w,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null};if(mg(u))zx(h,N);else{var U=u.alternate;if(u.lanes===0&&(U===null||U.lanes===0)&&(U=h.lastRenderedReducer,U!==null))try{var Z=h.lastRenderedState,ae=U(Z,y);if(N.hasEagerState=!0,N.eagerState=ae,bs(ae,Z))return ss(u,h,N,0),_n===null&&Ou(),!1}catch{}finally{}if(y=Ef(u,h,N,w),y!==null)return ds(y,u,w),Cs(y,h,w),!0}return!1}function pg(u,h,y,w){if(w={lane:2,revertLane:Jx(),action:w,hasEagerState:!1,eagerState:null,next:null},mg(u)){if(h)throw Error(i(479))}else h=Ef(u,y,w,2),h!==null&&ds(h,u,2)}function mg(u){var h=u.alternate;return u===Mn||h!==null&&h===Mn}function zx(u,h){$c=Wh=!0;var y=u.pending;y===null?h.next=h:(h.next=y.next,y.next=h),u.pending=h}function Cs(u,h,y){if((y&4194048)!==0){var w=h.lanes;w&=u.pendingLanes,y|=w,h.lanes=y,Jt(u,y)}}var Zh={readContext:Fi,use:ag,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useLayoutEffect:ei,useInsertionEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useSyncExternalStore:ei,useId:ei,useHostTransitionStatus:ei,useFormState:ei,useActionState:ei,useOptimistic:ei,useMemoCache:ei,useCacheRefresh:ei},gg={readContext:Fi,use:ag,useCallback:function(u,h){return us().memoizedState=[u,h===void 0?null:h],u},useContext:Fi,useEffect:cv,useImperativeHandle:function(u,h,y){y=y!=null?y.concat([u]):null,wp(4194308,4,fg.bind(null,h,u),y)},useLayoutEffect:function(u,h){return wp(4194308,4,u,h)},useInsertionEffect:function(u,h){wp(4,2,u,h)},useMemo:function(u,h){var y=us();h=h===void 0?null:h;var w=u();if(mr){gt(!0);try{u()}finally{gt(!1)}}return y.memoizedState=[w,h],w},useReducer:function(u,h,y){var w=us();if(y!==void 0){var N=y(h);if(mr){gt(!0);try{y(h)}finally{gt(!1)}}}else N=h;return w.memoizedState=w.baseState=N,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:N},w.queue=u,u=u.dispatch=Fx.bind(null,Mn,u),[w.memoizedState,u]},useRef:function(u){var h=us();return u={current:u},h.memoizedState=u},useState:function(u){u=og(u);var h=u.queue,y=dv.bind(null,Mn,h);return h.dispatch=y,[u.memoizedState,y]},useDebugValue:hg,useDeferredValue:function(u,h){var y=us();return $h(y,u,h)},useTransition:function(){var u=og(!1);return u=Ep.bind(null,Mn,u.queue,!0,!1),us().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,h,y){var w=Mn,N=us();if(Xn){if(y===void 0)throw Error(i(407));y=y()}else{if(y=h(),_n===null)throw Error(i(349));(Qt&124)!==0||Fu(w,h,y)}N.memoizedState=y;var U={value:y,getSnapshot:h};return N.queue=U,cv(sg.bind(null,w,U,u),[u]),w.flags|=2048,Jh(9,Mp(),Bx.bind(null,w,U,y,h),null),y},useId:function(){var u=us(),h=_n.identifierPrefix;if(Xn){var y=Kl,w=sr;y=(w&~(1<<32-Mt(w)-1)).toString(32)+y,h="«"+h+"R"+y,y=Dr++,0<y&&(h+="H"+y.toString(32)),h+="»"}else y=$0++,h="«"+h+"r"+y.toString(32)+"»";return u.memoizedState=h},useHostTransitionStatus:Cp,useFormState:ov,useActionState:ov,useOptimistic:function(u){var h=us();h.memoizedState=h.baseState=u;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=y,h=pg.bind(null,Mn,!0,y),y.dispatch=h,[u,h]},useMemoCache:bp,useCacheRefresh:function(){return us().memoizedState=zu.bind(null,Mn)}},vg={readContext:Fi,use:ag,useCallback:Ts,useContext:Fi,useEffect:Es,useImperativeHandle:uv,useInsertionEffect:ug,useLayoutEffect:Uf,useMemo:nc,useReducer:Iu,useRef:Pf,useState:function(){return Iu(tc)},useDebugValue:hg,useDeferredValue:function(u,h){var y=jr();return fv(y,wi.memoizedState,u,h)},useTransition:function(){var u=Iu(tc)[0],h=jr().memoizedState;return[typeof u=="boolean"?u:ul(u),h]},useSyncExternalStore:nv,useId:Qc,useHostTransitionStatus:Cp,useFormState:cg,useActionState:cg,useOptimistic:function(u,h){var y=jr();return Ap(y,wi,u,h)},useMemoCache:bp,useCacheRefresh:Ix},pv={readContext:Fi,use:ag,useCallback:Ts,useContext:Fi,useEffect:Es,useImperativeHandle:uv,useInsertionEffect:ug,useLayoutEffect:Uf,useMemo:nc,useReducer:tv,useRef:Pf,useState:function(){return tv(tc)},useDebugValue:hg,useDeferredValue:function(u,h){var y=jr();return wi===null?$h(y,u,h):fv(y,wi.memoizedState,u,h)},useTransition:function(){var u=tv(tc)[0],h=jr().memoizedState;return[typeof u=="boolean"?u:ul(u),h]},useSyncExternalStore:nv,useId:Qc,useHostTransitionStatus:Cp,useFormState:Rn,useActionState:Rn,useOptimistic:function(u,h){var y=jr();return wi!==null?Ap(y,wi,u,h):(y.baseState=u,[u,y.queue.dispatch])},useMemoCache:bp,useCacheRefresh:Ix},Vr=null,Rs=0;function Rp(u){var h=Rs;return Rs+=1,Vr===null&&(Vr=[]),yp(Vr,u,h)}function Qh(u,h){h=h.props.ref,u.ref=h!==void 0?h:null}function Ff(u,h){throw h.$$typeof===d?Error(i(525)):(u=Object.prototype.toString.call(h),Error(i(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u)))}function zf(u){var h=u._init;return h(u._payload)}function mv(u){function h(Be,Ce){if(u){var Ge=Be.deletions;Ge===null?(Be.deletions=[Ce],Be.flags|=16):Ge.push(Ce)}}function y(Be,Ce){if(!u)return null;for(;Ce!==null;)h(Be,Ce),Ce=Ce.sibling;return null}function w(Be){for(var Ce=new Map;Be!==null;)Be.key!==null?Ce.set(Be.key,Be):Ce.set(Be.index,Be),Be=Be.sibling;return Ce}function N(Be,Ce){return Be=qi(Be,Ce),Be.index=0,Be.sibling=null,Be}function U(Be,Ce,Ge){return Be.index=Ge,u?(Ge=Be.alternate,Ge!==null?(Ge=Ge.index,Ge<Ce?(Be.flags|=67108866,Ce):Ge):(Be.flags|=67108866,Ce)):(Be.flags|=1048576,Ce)}function Z(Be){return u&&Be.alternate===null&&(Be.flags|=67108866),Be}function ae(Be,Ce,Ge,ut){return Ce===null||Ce.tag!==6?(Ce=lp(Ge,Be.mode,ut),Ce.return=Be,Ce):(Ce=N(Ce,Ge),Ce.return=Be,Ce)}function ye(Be,Ce,Ge,ut){var kt=Ge.type;return kt===_?lt(Be,Ce,Ge.props.children,ut,Ge.key):Ce!==null&&(Ce.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===G&&zf(kt)===Ce.type)?(Ce=N(Ce,Ge.props),Qh(Ce,Ge),Ce.return=Be,Ce):(Ce=da(Ge.type,Ge.key,Ge.props,null,Be.mode,ut),Qh(Ce,Ge),Ce.return=Be,Ce)}function je(Be,Ce,Ge,ut){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==Ge.containerInfo||Ce.stateNode.implementation!==Ge.implementation?(Ce=Cf(Ge,Be.mode,ut),Ce.return=Be,Ce):(Ce=N(Ce,Ge.children||[]),Ce.return=Be,Ce)}function lt(Be,Ce,Ge,ut,kt){return Ce===null||Ce.tag!==7?(Ce=Lu(Ge,Be.mode,ut,kt),Ce.return=Be,Ce):(Ce=N(Ce,Ge),Ce.return=Be,Ce)}function ht(Be,Ce,Ge){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return Ce=lp(""+Ce,Be.mode,Ge),Ce.return=Be,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case p:return Ge=da(Ce.type,Ce.key,Ce.props,null,Be.mode,Ge),Qh(Ge,Ce),Ge.return=Be,Ge;case v:return Ce=Cf(Ce,Be.mode,Ge),Ce.return=Be,Ce;case G:var ut=Ce._init;return Ce=ut(Ce._payload),ht(Be,Ce,Ge)}if(K(Ce)||ne(Ce))return Ce=Lu(Ce,Be.mode,Ge,null),Ce.return=Be,Ce;if(typeof Ce.then=="function")return ht(Be,Rp(Ce),Ge);if(Ce.$$typeof===R)return ht(Be,dp(Be,Ce),Ge);Ff(Be,Ce)}return null}function Ye(Be,Ce,Ge,ut){var kt=Ce!==null?Ce.key:null;if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return kt!==null?null:ae(Be,Ce,""+Ge,ut);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case p:return Ge.key===kt?ye(Be,Ce,Ge,ut):null;case v:return Ge.key===kt?je(Be,Ce,Ge,ut):null;case G:return kt=Ge._init,Ge=kt(Ge._payload),Ye(Be,Ce,Ge,ut)}if(K(Ge)||ne(Ge))return kt!==null?null:lt(Be,Ce,Ge,ut,null);if(typeof Ge.then=="function")return Ye(Be,Ce,Rp(Ge),ut);if(Ge.$$typeof===R)return Ye(Be,Ce,dp(Be,Ge),ut);Ff(Be,Ge)}return null}function Ve(Be,Ce,Ge,ut,kt){if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return Be=Be.get(Ge)||null,ae(Ce,Be,""+ut,kt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case p:return Be=Be.get(ut.key===null?Ge:ut.key)||null,ye(Ce,Be,ut,kt);case v:return Be=Be.get(ut.key===null?Ge:ut.key)||null,je(Ce,Be,ut,kt);case G:var Kn=ut._init;return ut=Kn(ut._payload),Ve(Be,Ce,Ge,ut,kt)}if(K(ut)||ne(ut))return Be=Be.get(Ge)||null,lt(Ce,Be,ut,kt,null);if(typeof ut.then=="function")return Ve(Be,Ce,Ge,Rp(ut),kt);if(ut.$$typeof===R)return Ve(Be,Ce,Ge,dp(Ce,ut),kt);Ff(Ce,ut)}return null}function cn(Be,Ce,Ge,ut){for(var kt=null,Kn=null,$t=Ce,un=Ce=0,Za=null;$t!==null&&un<Ge.length;un++){$t.index>un?(Za=$t,$t=null):Za=$t.sibling;var xi=Ye(Be,$t,Ge[un],ut);if(xi===null){$t===null&&($t=Za);break}u&&$t&&xi.alternate===null&&h(Be,$t),Ce=U(xi,Ce,un),Kn===null?kt=xi:Kn.sibling=xi,Kn=xi,$t=Za}if(un===Ge.length)return y(Be,$t),Xn&&Wc(Be,un),kt;if($t===null){for(;un<Ge.length;un++)$t=ht(Be,Ge[un],ut),$t!==null&&(Ce=U($t,Ce,un),Kn===null?kt=$t:Kn.sibling=$t,Kn=$t);return Xn&&Wc(Be,un),kt}for($t=w($t);un<Ge.length;un++)Za=Ve($t,Be,un,Ge[un],ut),Za!==null&&(u&&Za.alternate!==null&&$t.delete(Za.key===null?un:Za.key),Ce=U(Za,Ce,un),Kn===null?kt=Za:Kn.sibling=Za,Kn=Za);return u&&$t.forEach(function(md){return h(Be,md)}),Xn&&Wc(Be,un),kt}function on(Be,Ce,Ge,ut){if(Ge==null)throw Error(i(151));for(var kt=null,Kn=null,$t=Ce,un=Ce=0,Za=null,xi=Ge.next();$t!==null&&!xi.done;un++,xi=Ge.next()){$t.index>un?(Za=$t,$t=null):Za=$t.sibling;var md=Ye(Be,$t,xi.value,ut);if(md===null){$t===null&&($t=Za);break}u&&$t&&md.alternate===null&&h(Be,$t),Ce=U(md,Ce,un),Kn===null?kt=md:Kn.sibling=md,Kn=md,$t=Za}if(xi.done)return y(Be,$t),Xn&&Wc(Be,un),kt;if($t===null){for(;!xi.done;un++,xi=Ge.next())xi=ht(Be,xi.value,ut),xi!==null&&(Ce=U(xi,Ce,un),Kn===null?kt=xi:Kn.sibling=xi,Kn=xi);return Xn&&Wc(Be,un),kt}for($t=w($t);!xi.done;un++,xi=Ge.next())xi=Ve($t,Be,un,xi.value,ut),xi!==null&&(u&&xi.alternate!==null&&$t.delete(xi.key===null?un:xi.key),Ce=U(xi,Ce,un),Kn===null?kt=xi:Kn.sibling=xi,Kn=xi);return u&&$t.forEach(function(NN){return h(Be,NN)}),Xn&&Wc(Be,un),kt}function nr(Be,Ce,Ge,ut){if(typeof Ge=="object"&&Ge!==null&&Ge.type===_&&Ge.key===null&&(Ge=Ge.props.children),typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case p:e:{for(var kt=Ge.key;Ce!==null;){if(Ce.key===kt){if(kt=Ge.type,kt===_){if(Ce.tag===7){y(Be,Ce.sibling),ut=N(Ce,Ge.props.children),ut.return=Be,Be=ut;break e}}else if(Ce.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===G&&zf(kt)===Ce.type){y(Be,Ce.sibling),ut=N(Ce,Ge.props),Qh(ut,Ge),ut.return=Be,Be=ut;break e}y(Be,Ce);break}else h(Be,Ce);Ce=Ce.sibling}Ge.type===_?(ut=Lu(Ge.props.children,Be.mode,ut,Ge.key),ut.return=Be,Be=ut):(ut=da(Ge.type,Ge.key,Ge.props,null,Be.mode,ut),Qh(ut,Ge),ut.return=Be,Be=ut)}return Z(Be);case v:e:{for(kt=Ge.key;Ce!==null;){if(Ce.key===kt)if(Ce.tag===4&&Ce.stateNode.containerInfo===Ge.containerInfo&&Ce.stateNode.implementation===Ge.implementation){y(Be,Ce.sibling),ut=N(Ce,Ge.children||[]),ut.return=Be,Be=ut;break e}else{y(Be,Ce);break}else h(Be,Ce);Ce=Ce.sibling}ut=Cf(Ge,Be.mode,ut),ut.return=Be,Be=ut}return Z(Be);case G:return kt=Ge._init,Ge=kt(Ge._payload),nr(Be,Ce,Ge,ut)}if(K(Ge))return cn(Be,Ce,Ge,ut);if(ne(Ge)){if(kt=ne(Ge),typeof kt!="function")throw Error(i(150));return Ge=kt.call(Ge),on(Be,Ce,Ge,ut)}if(typeof Ge.then=="function")return nr(Be,Ce,Rp(Ge),ut);if(Ge.$$typeof===R)return nr(Be,Ce,dp(Be,Ge),ut);Ff(Be,Ge)}return typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint"?(Ge=""+Ge,Ce!==null&&Ce.tag===6?(y(Be,Ce.sibling),ut=N(Ce,Ge),ut.return=Be,Be=ut):(y(Be,Ce),ut=lp(Ge,Be.mode,ut),ut.return=Be,Be=ut),Z(Be)):y(Be,Ce)}return function(Be,Ce,Ge,ut){try{Rs=0;var kt=nr(Be,Ce,Ge,ut);return Vr=null,kt}catch($t){if($t===ls||$t===ol)throw $t;var Kn=os(29,$t,null,Be.mode);return Kn.lanes=ut,Kn.return=Be,Kn}finally{}}}var Hu=mv(!0),Hx=mv(!1),Hi=$(null),Ya=null;function _o(u){var h=u.alternate;de(gr,gr.current&1),de(Hi,u),Ya===null&&(h===null||Lf.current!==null||h.memoizedState!==null)&&(Ya=u)}function kx(u){if(u.tag===22){if(de(gr,gr.current),de(Hi,u),Ya===null){var h=u.alternate;h!==null&&h.memoizedState!==null&&(Ya=u)}}else eu()}function eu(){de(gr,gr.current),de(Hi,Hi.current)}function fl(u){oe(Hi),Ya===u&&(Ya=null),oe(gr)}var gr=$(0);function ic(u){for(var h=u;h!==null;){if(h.tag===13){var y=h.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||ao(y)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function hl(u,h,y,w){h=u.memoizedState,y=y(w,h),y=y==null?h:f({},h,y),u.memoizedState=y,u.lanes===0&&(u.updateQueue.baseState=y)}var Na={enqueueSetState:function(u,h,y){u=u._reactInternals;var w=cr(),N=Ql(w);N.payload=h,y!=null&&(N.callback=y),h=ec(u,N,w),h!==null&&(ds(h,u,w),Of(h,u,w))},enqueueReplaceState:function(u,h,y){u=u._reactInternals;var w=cr(),N=Ql(w);N.tag=1,N.payload=h,y!=null&&(N.callback=y),h=ec(u,N,w),h!==null&&(ds(h,u,w),Of(h,u,w))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var y=cr(),w=Ql(y);w.tag=2,h!=null&&(w.callback=h),h=ec(u,w,y),h!==null&&(ds(h,u,y),Of(h,u,y))}};function Np(u,h,y,w,N,U,Z){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(w,U,Z):h.prototype&&h.prototype.isPureReactComponent?!ja(y,w)||!ja(N,U):!0}function Gx(u,h,y,w){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(y,w),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(y,w),h.state!==u&&Na.enqueueReplaceState(h,h.state,null)}function dl(u,h){var y=h;if("ref"in h){y={};for(var w in h)w!=="ref"&&(y[w]=h[w])}if(u=u.defaultProps){y===h&&(y=f({},y));for(var N in u)y[N]===void 0&&(y[N]=u[N])}return y}var rc=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function ed(u){rc(u)}function td(u){console.error(u)}function jx(u){rc(u)}function Dp(u,h){try{var y=u.onUncaughtError;y(h.value,{componentStack:h.stack})}catch(w){setTimeout(function(){throw w})}}function Xr(u,h,y){try{var w=u.onCaughtError;w(y.value,{componentStack:y.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function Bp(u,h,y){return y=Ql(y),y.tag=3,y.payload={element:null},y.callback=function(){Dp(u,h)},y}function gv(u){return u=Ql(u),u.tag=3,u}function yg(u,h,y,w){var N=y.type.getDerivedStateFromError;if(typeof N=="function"){var U=w.value;u.payload=function(){return N(U)},u.callback=function(){Xr(h,y,w)}}var Z=y.stateNode;Z!==null&&typeof Z.componentDidCatch=="function"&&(u.callback=function(){Xr(h,y,w),typeof N!="function"&&(to===null?to=new Set([this]):to.add(this));var ae=w.stack;this.componentDidCatch(w.value,{componentStack:ae!==null?ae:""})})}function Vx(u,h,y,w,N){if(y.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(h=y.alternate,h!==null&&go(h,y,N,!0),y=Hi.current,y!==null){switch(y.tag){case 13:return Ya===null?m():y.alternate===null&&lr===0&&(lr=3),y.flags&=-257,y.flags|=65536,y.lanes=N,w===vp?y.flags|=16384:(h=y.updateQueue,h===null?y.updateQueue=new Set([w]):h.add(w),Ke(u,w,N)),!1;case 22:return y.flags|=65536,w===vp?y.flags|=16384:(h=y.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([w])},y.updateQueue=h):(y=h.retryQueue,y===null?h.retryQueue=new Set([w]):y.add(w)),Ke(u,w,N)),!1}throw Error(i(435,y.tag))}return Ke(u,w,N),m(),!1}if(Xn)return h=Hi.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=N,w!==Nf&&(u=Error(i(422),{cause:w}),$l(Gr(u,y)))):(w!==Nf&&(h=Error(i(423),{cause:w}),$l(Gr(h,y))),u=u.current.alternate,u.flags|=65536,N&=-N,u.lanes|=N,w=Gr(w,y),N=Bp(u.stateNode,w,N),ws(u,N),lr!==4&&(lr=2)),!1;var U=Error(i(520),{cause:w});if(U=Gr(U,y),Ci===null?Ci=[U]:Ci.push(U),lr!==4&&(lr=2),h===null)return!0;w=Gr(w,y),y=h;do{switch(y.tag){case 3:return y.flags|=65536,u=N&-N,y.lanes|=u,u=Bp(y.stateNode,w,u),ws(y,u),!1;case 1:if(h=y.type,U=y.stateNode,(y.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(to===null||!to.has(U))))return y.flags|=65536,N&=-N,y.lanes|=N,N=gv(N),yg(N,u,y,w),ws(y,N),!1}y=y.return}while(y!==null);return!1}var Xx=Error(i(461)),ma=!1;function Bi(u,h,y,w){h.child=u===null?Hx(h,null,y,w):Hu(h,u.child,y,w)}function Wa(u,h,y,w,N){y=y.render;var U=h.ref;if("ref"in w){var Z={};for(var ae in w)ae!=="ref"&&(Z[ae]=w[ae])}else Z=w;return Zl(h),w=Zc(u,h,y,Z,U,N),ae=Q0(),u!==null&&!ma?(Uu(u,h,N),va(u,h,N)):(Xn&&ae&&X0(h),h.flags|=1,Bi(u,h,w,N),h.child)}function Ja(u,h,y,w,N){if(u===null){var U=y.type;return typeof U=="function"&&!qc(U)&&U.defaultProps===void 0&&y.compare===null?(h.tag=15,h.type=U,Op(u,h,U,w,N)):(u=da(y.type,null,w,h,h.mode,N),u.ref=h.ref,u.return=h,h.child=u)}if(U=u.child,!Js(u,N)){var Z=U.memoizedProps;if(y=y.compare,y=y!==null?y:ja,y(Z,w)&&u.ref===h.ref)return va(u,h,N)}return h.flags|=1,u=qi(U,w),u.ref=h.ref,u.return=h,h.child=u}function Op(u,h,y,w,N){if(u!==null){var U=u.memoizedProps;if(ja(U,w)&&u.ref===h.ref)if(ma=!1,h.pendingProps=w=U,Js(u,N))(u.flags&131072)!==0&&(ma=!0);else return h.lanes=u.lanes,va(u,h,N)}return tu(u,h,y,w,N)}function ac(u,h,y){var w=h.pendingProps,N=w.children,U=u!==null?u.memoizedState:null;if(w.mode==="hidden"){if((h.flags&128)!==0){if(w=U!==null?U.baseLanes|y:y,u!==null){for(N=h.child=u.child,U=0;N!==null;)U=U|N.lanes|N.childLanes,N=N.sibling;h.childLanes=U&~w}else h.childLanes=0,h.child=null;return bo(u,h,w,y)}if((y&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},u!==null&&gp(h,U!==null?U.cachePool:null),U!==null?Kc(h,U):ig(),kx(h);else return h.lanes=h.childLanes=536870912,bo(u,h,U!==null?U.baseLanes|y:y,y)}else U!==null?(gp(h,U.cachePool),Kc(h,U),eu(),h.memoizedState=null):(u!==null&&gp(h,null),ig(),eu());return Bi(u,h,N,y),h.child}function bo(u,h,y,w){var N=Ms();return N=N===null?null:{parent:zi._currentValue,pool:N},h.memoizedState={baseLanes:y,cachePool:N},u!==null&&gp(h,null),ig(),kx(h),u!==null&&go(u,h,w,!0),null}function Vt(u,h){var y=h.ref;if(y===null)u!==null&&u.ref!==null&&(h.flags|=4194816);else{if(typeof y!="function"&&typeof y!="object")throw Error(i(284));(u===null||u.ref!==y)&&(h.flags|=4194816)}}function tu(u,h,y,w,N){return Zl(h),y=Zc(u,h,y,w,void 0,N),w=Q0(),u!==null&&!ma?(Uu(u,h,N),va(u,h,N)):(Xn&&w&&X0(h),h.flags|=1,Bi(u,h,y,N),h.child)}function fs(u,h,y,w,N,U){return Zl(h),h.updateQueue=null,y=Dx(h,w,y,N),Nx(u),w=Q0(),u!==null&&!ma?(Uu(u,h,U),va(u,h,U)):(Xn&&w&&X0(h),h.flags|=1,Bi(u,h,y,U),h.child)}function ta(u,h,y,w,N){if(Zl(h),h.stateNode===null){var U=Xc,Z=y.contextType;typeof Z=="object"&&Z!==null&&(U=Fi(Z)),U=new y(w,U),h.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,U.updater=Na,h.stateNode=U,U._reactInternals=h,U=h.stateNode,U.props=w,U.state=h.memoizedState,U.refs={},Bf(h),Z=y.contextType,U.context=typeof Z=="object"&&Z!==null?Fi(Z):Xc,U.state=h.memoizedState,Z=y.getDerivedStateFromProps,typeof Z=="function"&&(hl(h,y,Z,w),U.state=h.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(Z=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),Z!==U.state&&Na.enqueueReplaceState(U,U.state,null),Ra(h,w,U,N),cl(),U.state=h.memoizedState),typeof U.componentDidMount=="function"&&(h.flags|=4194308),w=!0}else if(u===null){U=h.stateNode;var ae=h.memoizedProps,ye=dl(y,ae);U.props=ye;var je=U.context,lt=y.contextType;Z=Xc,typeof lt=="object"&&lt!==null&&(Z=Fi(lt));var ht=y.getDerivedStateFromProps;lt=typeof ht=="function"||typeof U.getSnapshotBeforeUpdate=="function",ae=h.pendingProps!==ae,lt||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(ae||je!==Z)&&Gx(h,U,w,Z),ll=!1;var Ye=h.memoizedState;U.state=Ye,Ra(h,w,U,N),cl(),je=h.memoizedState,ae||Ye!==je||ll?(typeof ht=="function"&&(hl(h,y,ht,w),je=h.memoizedState),(ye=ll||Np(h,y,ye,w,Ye,je,Z))?(lt||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(h.flags|=4194308)):(typeof U.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=w,h.memoizedState=je),U.props=w,U.state=je,U.context=Z,w=ye):(typeof U.componentDidMount=="function"&&(h.flags|=4194308),w=!1)}else{U=h.stateNode,an(u,h),Z=h.memoizedProps,lt=dl(y,Z),U.props=lt,ht=h.pendingProps,Ye=U.context,je=y.contextType,ye=Xc,typeof je=="object"&&je!==null&&(ye=Fi(je)),ae=y.getDerivedStateFromProps,(je=typeof ae=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Z!==ht||Ye!==ye)&&Gx(h,U,w,ye),ll=!1,Ye=h.memoizedState,U.state=Ye,Ra(h,w,U,N),cl();var Ve=h.memoizedState;Z!==ht||Ye!==Ve||ll||u!==null&&u.dependencies!==null&&hp(u.dependencies)?(typeof ae=="function"&&(hl(h,y,ae,w),Ve=h.memoizedState),(lt=ll||Np(h,y,lt,w,Ye,Ve,ye)||u!==null&&u.dependencies!==null&&hp(u.dependencies))?(je||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(w,Ve,ye),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(w,Ve,ye)),typeof U.componentDidUpdate=="function"&&(h.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof U.componentDidUpdate!="function"||Z===u.memoizedProps&&Ye===u.memoizedState||(h.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Z===u.memoizedProps&&Ye===u.memoizedState||(h.flags|=1024),h.memoizedProps=w,h.memoizedState=Ve),U.props=w,U.state=Ve,U.context=ye,w=lt):(typeof U.componentDidUpdate!="function"||Z===u.memoizedProps&&Ye===u.memoizedState||(h.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Z===u.memoizedProps&&Ye===u.memoizedState||(h.flags|=1024),w=!1)}return U=w,Vt(u,h),w=(h.flags&128)!==0,U||w?(U=h.stateNode,y=w&&typeof y.getDerivedStateFromError!="function"?null:U.render(),h.flags|=1,u!==null&&w?(h.child=Hu(h,u.child,null,N),h.child=Hu(h,null,y,N)):Bi(u,h,y,N),h.memoizedState=U.state,u=h.child):u=va(u,h,N),u}function ku(u,h,y,w){return jh(),h.flags|=256,Bi(u,h,y,w),h.child}var Ws={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ao(u){return{baseLanes:u,cachePool:tg()}}function ri(u,h,y){return u=u!==null?u.childLanes&~y:0,h&&(u|=Co),u}function nd(u,h,y){var w=h.pendingProps,N=!1,U=(h.flags&128)!==0,Z;if((Z=U)||(Z=u!==null&&u.memoizedState===null?!1:(gr.current&2)!==0),Z&&(N=!0,h.flags&=-129),Z=(h.flags&32)!==0,h.flags&=-33,u===null){if(Xn){if(N?_o(h):eu(),Xn){var ae=or,ye;if(ye=ae){e:{for(ye=ae,ae=Ca;ye.nodeType!==8;){if(!ae){ae=null;break e}if(ye=fu(ye.nextSibling),ye===null){ae=null;break e}}ae=ye}ae!==null?(h.memoizedState={dehydrated:ae,treeContext:Qi!==null?{id:sr,overflow:Kl}:null,retryLane:536870912,hydrationErrors:null},ye=os(18,null,null,0),ye.stateNode=ae,ye.return=h,h.child=ye,ea=h,or=null,ye=!0):ye=!1}ye||Vs(h)}if(ae=h.memoizedState,ae!==null&&(ae=ae.dehydrated,ae!==null))return ao(ae)?h.lanes=32:h.lanes=536870912,null;fl(h)}return ae=w.children,w=w.fallback,N?(eu(),N=h.mode,ae=Gu({mode:"hidden",children:ae},N),w=Lu(w,N,y,null),ae.return=h,w.return=h,ae.sibling=w,h.child=ae,N=h.child,N.memoizedState=Ao(y),N.childLanes=ri(u,Z,y),h.memoizedState=Ws,w):(_o(h),sc(h,ae))}if(ye=u.memoizedState,ye!==null&&(ae=ye.dehydrated,ae!==null)){if(U)h.flags&256?(_o(h),h.flags&=-257,h=Da(u,h,y)):h.memoizedState!==null?(eu(),h.child=u.child,h.flags|=128,h=null):(eu(),N=w.fallback,ae=h.mode,w=Gu({mode:"visible",children:w.children},ae),N=Lu(N,ae,y,null),N.flags|=2,w.return=h,N.return=h,w.sibling=N,h.child=w,Hu(h,u.child,null,y),w=h.child,w.memoizedState=Ao(y),w.childLanes=ri(u,Z,y),h.memoizedState=Ws,h=N);else if(_o(h),ao(ae)){if(Z=ae.nextSibling&&ae.nextSibling.dataset,Z)var je=Z.dgst;Z=je,w=Error(i(419)),w.stack="",w.digest=Z,$l({value:w,source:null,stack:null}),h=Da(u,h,y)}else if(ma||go(u,h,y,!1),Z=(y&u.childLanes)!==0,ma||Z){if(Z=_n,Z!==null&&(w=y&-y,w=(w&42)!==0?1:On(w),w=(w&(Z.suspendedLanes|y))!==0?0:w,w!==0&&w!==ye.retryLane))throw ye.retryLane=w,Jl(u,w),ds(Z,u,w),Xx;ae.data==="$?"||m(),h=Da(u,h,y)}else ae.data==="$?"?(h.flags|=192,h.child=u.child,h=null):(u=ye.treeContext,or=fu(ae.nextSibling),ea=h,Xn=!0,qa=null,Ca=!1,u!==null&&(Ta[js++]=sr,Ta[js++]=Kl,Ta[js++]=Qi,sr=u.id,Kl=u.overflow,Qi=h),h=sc(h,w.children),h.flags|=4096);return h}return N?(eu(),N=w.fallback,ae=h.mode,ye=u.child,je=ye.sibling,w=qi(ye,{mode:"hidden",children:w.children}),w.subtreeFlags=ye.subtreeFlags&65011712,je!==null?N=qi(je,N):(N=Lu(N,ae,y,null),N.flags|=2),N.return=h,w.return=h,w.sibling=N,h.child=w,w=N,N=h.child,ae=u.child.memoizedState,ae===null?ae=Ao(y):(ye=ae.cachePool,ye!==null?(je=zi._currentValue,ye=ye.parent!==je?{parent:je,pool:je}:ye):ye=tg(),ae={baseLanes:ae.baseLanes|y,cachePool:ye}),N.memoizedState=ae,N.childLanes=ri(u,Z,y),h.memoizedState=Ws,w):(_o(h),y=u.child,u=y.sibling,y=qi(y,{mode:"visible",children:w.children}),y.return=h,y.sibling=null,u!==null&&(Z=h.deletions,Z===null?(h.deletions=[u],h.flags|=16):Z.push(u)),h.child=y,h.memoizedState=null,y)}function sc(u,h){return h=Gu({mode:"visible",children:h},u.mode),h.return=u,u.child=h}function Gu(u,h){return u=os(22,u,null,h),u.lanes=0,u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},u}function Da(u,h,y){return Hu(h,u.child,null,y),u=sc(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function ga(u,h,y){u.lanes|=h;var w=u.alternate;w!==null&&(w.lanes|=h),As(u.return,h,y)}function ai(u,h,y,w,N){var U=u.memoizedState;U===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:w,tail:y,tailMode:N}:(U.isBackwards=h,U.rendering=null,U.renderingStartTime=0,U.last=w,U.tail=y,U.tailMode=N)}function So(u,h,y){var w=h.pendingProps,N=w.revealOrder,U=w.tail;if(Bi(u,h,w.children,y),w=gr.current,(w&2)!==0)w=w&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&ga(u,y,h);else if(u.tag===19)ga(u,y,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}w&=1}switch(de(gr,w),N){case"forwards":for(y=h.child,N=null;y!==null;)u=y.alternate,u!==null&&ic(u)===null&&(N=y),y=y.sibling;y=N,y===null?(N=h.child,h.child=null):(N=y.sibling,y.sibling=null),ai(h,!1,N,y,U);break;case"backwards":for(y=null,N=h.child,h.child=null;N!==null;){if(u=N.alternate,u!==null&&ic(u)===null){h.child=N;break}u=N.sibling,N.sibling=y,y=N,N=u}ai(h,!0,y,null,U);break;case"together":ai(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function va(u,h,y){if(u!==null&&(h.dependencies=u.dependencies),xl|=h.lanes,(y&h.childLanes)===0)if(u!==null){if(go(u,h,y,!1),(y&h.childLanes)===0)return null}else return null;if(u!==null&&h.child!==u.child)throw Error(i(153));if(h.child!==null){for(u=h.child,y=qi(u,u.pendingProps),h.child=y,y.return=h;u.sibling!==null;)u=u.sibling,y=y.sibling=qi(u,u.pendingProps),y.return=h;y.sibling=null}return h.child}function Js(u,h){return(u.lanes&h)!==0?!0:(u=u.dependencies,!!(u!==null&&hp(u)))}function er(u,h,y){switch(h.tag){case 3:He(h,h.stateNode.containerInfo),Xs(h,zi,u.memoizedState.cache),jh();break;case 27:case 5:ke(h);break;case 4:He(h,h.stateNode.containerInfo);break;case 10:Xs(h,h.type,h.memoizedProps.value);break;case 13:var w=h.memoizedState;if(w!==null)return w.dehydrated!==null?(_o(h),h.flags|=128,null):(y&h.child.childLanes)!==0?nd(u,h,y):(_o(h),u=va(u,h,y),u!==null?u.sibling:null);_o(h);break;case 19:var N=(u.flags&128)!==0;if(w=(y&h.childLanes)!==0,w||(go(u,h,y,!1),w=(y&h.childLanes)!==0),N){if(w)return So(u,h,y);h.flags|=128}if(N=h.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),de(gr,gr.current),w)break;return null;case 22:case 23:return h.lanes=0,ac(u,h,y);case 24:Xs(h,zi,u.memoizedState.cache)}return va(u,h,y)}function nu(u,h,y){if(u!==null)if(u.memoizedProps!==h.pendingProps)ma=!0;else{if(!Js(u,y)&&(h.flags&128)===0)return ma=!1,er(u,h,y);ma=(u.flags&131072)!==0}else ma=!1,Xn&&(h.flags&1048576)!==0&&up(h,Rf,h.index);switch(h.lanes=0,h.tag){case 16:e:{u=h.pendingProps;var w=h.elementType,N=w._init;if(w=N(w._payload),h.type=w,typeof w=="function")qc(w)?(u=dl(w,u),h.tag=1,h=ta(null,h,w,u,y)):(h.tag=0,h=tu(null,h,w,u,y));else{if(w!=null){if(N=w.$$typeof,N===C){h.tag=11,h=Wa(null,h,w,u,y);break e}else if(N===k){h.tag=14,h=Ja(null,h,w,u,y);break e}}throw h=Y(w)||w,Error(i(306,h,""))}}return h;case 0:return tu(u,h,h.type,h.pendingProps,y);case 1:return w=h.type,N=dl(w,h.pendingProps),ta(u,h,w,N,y);case 3:e:{if(He(h,h.stateNode.containerInfo),u===null)throw Error(i(387));w=h.pendingProps;var U=h.memoizedState;N=U.element,an(u,h),Ra(h,w,null,y);var Z=h.memoizedState;if(w=Z.cache,Xs(h,zi,w),w!==U.cache&&Cn(h,[zi],y,!0),cl(),w=Z.element,U.isDehydrated)if(U={element:w,isDehydrated:!1,cache:Z.cache},h.updateQueue.baseState=U,h.memoizedState=U,h.flags&256){h=ku(u,h,w,y);break e}else if(w!==N){N=Gr(Error(i(424)),h),$l(N),h=ku(u,h,w,y);break e}else{switch(u=h.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName==="HTML"?u.ownerDocument.body:u}for(or=fu(u.firstChild),ea=h,Xn=!0,qa=null,Ca=!0,y=Hx(h,null,w,y),h.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling}else{if(jh(),w===N){h=va(u,h,y);break e}Bi(u,h,w,y)}h=h.child}return h;case 26:return Vt(u,h),u===null?(y=fw(h.type,null,h.pendingProps,null))?h.memoizedState=y:Xn||(y=h.type,u=h.pendingProps,w=zp(Se.current).createElement(y),w[Er]=h,w[$r]=u,Oa(w,y,u),Ir(w),h.stateNode=w):h.memoizedState=fw(h.type,u.memoizedProps,h.pendingProps,u.memoizedState),null;case 27:return ke(h),u===null&&Xn&&(w=h.stateNode=lw(h.type,h.pendingProps,Se.current),ea=h,Ca=!0,N=or,pc(h.type)?(D1=N,or=fu(w.firstChild)):or=N),Bi(u,h,h.pendingProps.children,y),Vt(u,h),u===null&&(h.flags|=4194304),h.child;case 5:return u===null&&Xn&&((N=w=or)&&(w=sw(w,h.type,h.pendingProps,Ca),w!==null?(h.stateNode=w,ea=h,or=fu(w.firstChild),Ca=!1,N=!0):N=!1),N||Vs(h)),ke(h),N=h.type,U=h.pendingProps,Z=u!==null?u.memoizedProps:null,w=U.children,Qx(N,U)?w=null:Z!==null&&Qx(N,Z)&&(h.flags|=32),h.memoizedState!==null&&(N=Zc(u,h,Z0,null,null,y),Bg._currentValue=N),Vt(u,h),Bi(u,h,w,y),h.child;case 6:return u===null&&Xn&&((u=y=or)&&(y=t_(y,h.pendingProps,Ca),y!==null?(h.stateNode=y,ea=h,or=null,u=!0):u=!1),u||Vs(h)),null;case 13:return nd(u,h,y);case 4:return He(h,h.stateNode.containerInfo),w=h.pendingProps,u===null?h.child=Hu(h,null,w,y):Bi(u,h,w,y),h.child;case 11:return Wa(u,h,h.type,h.pendingProps,y);case 7:return Bi(u,h,h.pendingProps,y),h.child;case 8:return Bi(u,h,h.pendingProps.children,y),h.child;case 12:return Bi(u,h,h.pendingProps.children,y),h.child;case 10:return w=h.pendingProps,Xs(h,h.type,w.value),Bi(u,h,w.children,y),h.child;case 9:return N=h.type._context,w=h.pendingProps.children,Zl(h),N=Fi(N),w=w(N),h.flags|=1,Bi(u,h,w,y),h.child;case 14:return Ja(u,h,h.type,h.pendingProps,y);case 15:return Op(u,h,h.type,h.pendingProps,y);case 19:return So(u,h,y);case 31:return w=h.pendingProps,y=h.mode,w={mode:w.mode,children:w.children},u===null?(y=Gu(w,y),y.ref=h.ref,h.child=y,y.return=h,h=y):(y=qi(u.child,w),y.ref=h.ref,h.child=y,y.return=h,h=y),h;case 22:return ac(u,h,y);case 24:return Zl(h),w=Fi(zi),u===null?(N=Ms(),N===null&&(N=_n,U=Qm(),N.pooledCache=U,U.refCount++,U!==null&&(N.pooledCacheLanes|=y),N=U),h.memoizedState={parent:w,cache:N},Bf(h),Xs(h,zi,N)):((u.lanes&y)!==0&&(an(u,h),Ra(h,null,null,y),cl()),N=u.memoizedState,U=h.memoizedState,N.parent!==w?(N={parent:w,cache:w},h.memoizedState=N,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=N),Xs(h,zi,w)):(w=U.cache,Xs(h,zi,w),w!==N.cache&&Cn(h,[zi],y,!0))),Bi(u,h,h.pendingProps.children,y),h.child;case 29:throw h.pendingProps}throw Error(i(156,h.tag))}function pl(u){u.flags|=4}function Hf(u,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!La(h)){if(h=Hi.current,h!==null&&((Qt&4194048)===Qt?Ya!==null:(Qt&62914560)!==Qt&&(Qt&536870912)===0||h!==Ya))throw Ys=vp,W0;u.flags|=8192}}function iu(u,h){h!==null&&(u.flags|=4),u.flags&16384&&(h=u.tag!==22?xt():536870912,u.lanes|=h,ui|=h)}function kf(u,h){if(!Xn)switch(u.tailMode){case"hidden":h=u.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?u.tail=null:y.sibling=null;break;case"collapsed":y=u.tail;for(var w=null;y!==null;)y.alternate!==null&&(w=y),y=y.sibling;w===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:w.sibling=null}}function Ei(u){var h=u.alternate!==null&&u.alternate.child===u.child,y=0,w=0;if(h)for(var N=u.child;N!==null;)y|=N.lanes|N.childLanes,w|=N.subtreeFlags&65011712,w|=N.flags&65011712,N.return=u,N=N.sibling;else for(N=u.child;N!==null;)y|=N.lanes|N.childLanes,w|=N.subtreeFlags,w|=N.flags,N.return=u,N=N.sibling;return u.subtreeFlags|=w,u.childLanes=y,h}function xg(u,h,y){var w=h.pendingProps;switch(fp(h),h.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ei(h),null;case 1:return Ei(h),null;case 3:return y=h.stateNode,w=null,u!==null&&(w=u.memoizedState.cache),h.memoizedState.cache!==w&&(h.flags|=2048),mo(zi),Fe(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(u===null||u.child===null)&&(sl(h)?pl(h):u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Mi())),Ei(h),null;case 26:return y=h.memoizedState,u===null?(pl(h),y!==null?(Ei(h),Hf(h,y)):(Ei(h),h.flags&=-16777217)):y?y!==u.memoizedState?(pl(h),Ei(h),Hf(h,y)):(Ei(h),h.flags&=-16777217):(u.memoizedProps!==w&&pl(h),Ei(h),h.flags&=-16777217),null;case 27:Qe(h),y=Se.current;var N=h.type;if(u!==null&&h.stateNode!=null)u.memoizedProps!==w&&pl(h);else{if(!w){if(h.stateNode===null)throw Error(i(166));return Ei(h),null}u=fe.current,sl(h)?Tx(h):(u=lw(N,w,y),h.stateNode=u,pl(h))}return Ei(h),null;case 5:if(Qe(h),y=h.type,u!==null&&h.stateNode!=null)u.memoizedProps!==w&&pl(h);else{if(!w){if(h.stateNode===null)throw Error(i(166));return Ei(h),null}if(u=fe.current,sl(h))Tx(h);else{switch(N=zp(Se.current),u){case 1:u=N.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:u=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":u=N.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":u=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":u=N.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof w.is=="string"?N.createElement("select",{is:w.is}):N.createElement("select"),w.multiple?u.multiple=!0:w.size&&(u.size=w.size);break;default:u=typeof w.is=="string"?N.createElement(y,{is:w.is}):N.createElement(y)}}u[Er]=h,u[$r]=w;e:for(N=h.child;N!==null;){if(N.tag===5||N.tag===6)u.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===h)break e;for(;N.sibling===null;){if(N.return===null||N.return===h)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}h.stateNode=u;e:switch(Oa(u,y,w),y){case"button":case"input":case"select":case"textarea":u=!!w.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&pl(h)}}return Ei(h),h.flags&=-16777217,null;case 6:if(u&&h.stateNode!=null)u.memoizedProps!==w&&pl(h);else{if(typeof w!="string"&&h.stateNode===null)throw Error(i(166));if(u=Se.current,sl(h)){if(u=h.stateNode,y=h.memoizedProps,w=null,N=ea,N!==null)switch(N.tag){case 27:case 5:w=N.memoizedProps}u[Er]=h,u=!!(u.nodeValue===y||w!==null&&w.suppressHydrationWarning===!0||nw(u.nodeValue,y)),u||Vs(h)}else u=zp(u).createTextNode(w),u[Er]=h,h.stateNode=u}return Ei(h),null;case 13:if(w=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(N=sl(h),w!==null&&w.dehydrated!==null){if(u===null){if(!N)throw Error(i(318));if(N=h.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(i(317));N[Er]=h}else jh(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Ei(h),N=!1}else N=Mi(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=N),N=!0;if(!N)return h.flags&256?(fl(h),h):(fl(h),null)}if(fl(h),(h.flags&128)!==0)return h.lanes=y,h;if(y=w!==null,u=u!==null&&u.memoizedState!==null,y){w=h.child,N=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(N=w.alternate.memoizedState.cachePool.pool);var U=null;w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(U=w.memoizedState.cachePool.pool),U!==N&&(w.flags|=2048)}return y!==u&&y&&(h.child.flags|=8192),iu(h,h.updateQueue),Ei(h),null;case 4:return Fe(),u===null&&T1(h.stateNode.containerInfo),Ei(h),null;case 10:return mo(h.type),Ei(h),null;case 19:if(oe(gr),N=h.memoizedState,N===null)return Ei(h),null;if(w=(h.flags&128)!==0,U=N.rendering,U===null)if(w)kf(N,!1);else{if(lr!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(U=ic(u),U!==null){for(h.flags|=128,kf(N,!1),u=U.updateQueue,h.updateQueue=u,iu(h,u),h.subtreeFlags=0,u=y,y=h.child;y!==null;)Gh(y,u),y=y.sibling;return de(gr,gr.current&1|2),h.child}u=u.sibling}N.tail!==null&&_e()>xa&&(h.flags|=128,w=!0,kf(N,!1),h.lanes=4194304)}else{if(!w)if(u=ic(U),u!==null){if(h.flags|=128,w=!0,u=u.updateQueue,h.updateQueue=u,iu(h,u),kf(N,!0),N.tail===null&&N.tailMode==="hidden"&&!U.alternate&&!Xn)return Ei(h),null}else 2*_e()-N.renderingStartTime>xa&&y!==536870912&&(h.flags|=128,w=!0,kf(N,!1),h.lanes=4194304);N.isBackwards?(U.sibling=h.child,h.child=U):(u=N.last,u!==null?u.sibling=U:h.child=U,N.last=U)}return N.tail!==null?(h=N.tail,N.rendering=h,N.tail=h.sibling,N.renderingStartTime=_e(),h.sibling=null,u=gr.current,de(gr,w?u&1|2:u&1),h):(Ei(h),null);case 22:case 23:return fl(h),_p(),w=h.memoizedState!==null,u!==null?u.memoizedState!==null!==w&&(h.flags|=8192):w&&(h.flags|=8192),w?(y&536870912)!==0&&(h.flags&128)===0&&(Ei(h),h.subtreeFlags&6&&(h.flags|=8192)):Ei(h),y=h.updateQueue,y!==null&&iu(h,y.retryQueue),y=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==y&&(h.flags|=2048),u!==null&&oe(vo),null;case 24:return y=null,u!==null&&(y=u.memoizedState.cache),h.memoizedState.cache!==y&&(h.flags|=2048),mo(zi),Ei(h),null;case 25:return null;case 30:return null}throw Error(i(156,h.tag))}function Gf(u,h){switch(fp(h),h.tag){case 1:return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return mo(zi),Fe(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 26:case 27:case 5:return Qe(h),null;case 13:if(fl(h),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(i(340));jh()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return oe(gr),null;case 4:return Fe(),null;case 10:return mo(h.type),null;case 22:case 23:return fl(h),_p(),u!==null&&oe(vo),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 24:return mo(zi),null;case 25:return null;default:return null}}function id(u,h){switch(fp(h),h.tag){case 3:mo(zi),Fe();break;case 26:case 27:case 5:Qe(h);break;case 4:Fe();break;case 13:fl(h);break;case 19:oe(gr);break;case 10:mo(h.type);break;case 22:case 23:fl(h),_p(),u!==null&&oe(vo);break;case 24:mo(zi)}}function jf(u,h){try{var y=h.updateQueue,w=y!==null?y.lastEffect:null;if(w!==null){var N=w.next;y=N;do{if((y.tag&u)===u){w=void 0;var U=y.create,Z=y.inst;w=U(),Z.destroy=w}y=y.next}while(y!==N)}}catch(ae){we(h,h.return,ae)}}function Ks(u,h,y){try{var w=h.updateQueue,N=w!==null?w.lastEffect:null;if(N!==null){var U=N.next;w=U;do{if((w.tag&u)===u){var Z=w.inst,ae=Z.destroy;if(ae!==void 0){Z.destroy=void 0,N=h;var ye=y,je=ae;try{je()}catch(lt){we(N,ye,lt)}}}w=w.next}while(w!==U)}}catch(lt){we(h,h.return,lt)}}function Vf(u){var h=u.updateQueue;if(h!==null){var y=u.stateNode;try{K0(h,y)}catch(w){we(u,u.return,w)}}}function oc(u,h,y){y.props=dl(u.type,u.memoizedProps),y.state=u.memoizedState;try{y.componentWillUnmount()}catch(w){we(u,h,w)}}function ju(u,h){try{var y=u.ref;if(y!==null){switch(u.tag){case 26:case 27:case 5:var w=u.stateNode;break;case 30:w=u.stateNode;break;default:w=u.stateNode}typeof y=="function"?u.refCleanup=y(w):y.current=w}}catch(N){we(u,h,N)}}function lc(u,h){var y=u.ref,w=u.refCleanup;if(y!==null)if(typeof w=="function")try{w()}catch(N){we(u,h,N)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(N){we(u,h,N)}else y.current=null}function Vu(u){var h=u.type,y=u.memoizedProps,w=u.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":y.autoFocus&&w.focus();break e;case"img":y.src?w.src=y.src:y.srcSet&&(w.srcset=y.srcSet)}}catch(N){we(u,u.return,N)}}function rd(u,h,y){try{var w=u.stateNode;cN(w,u.type,y,h),w[$r]=h}catch(N){we(u,u.return,N)}}function ru(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&pc(u.type)||u.tag===4}function cc(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||ru(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&pc(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function au(u,h,y){var w=u.tag;if(w===5||w===6)u=u.stateNode,h?(y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y).insertBefore(u,h):(h=y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y,h.appendChild(u),y=y._reactRootContainer,y!=null||h.onclick!==null||(h.onclick=$x));else if(w!==4&&(w===27&&pc(u.type)&&(y=u.stateNode,h=null),u=u.child,u!==null))for(au(u,h,y),u=u.sibling;u!==null;)au(u,h,y),u=u.sibling}function su(u,h,y){var w=u.tag;if(w===5||w===6)u=u.stateNode,h?y.insertBefore(u,h):y.appendChild(u);else if(w!==4&&(w===27&&pc(u.type)&&(y=u.stateNode),u=u.child,u!==null))for(su(u,h,y),u=u.sibling;u!==null;)su(u,h,y),u=u.sibling}function ml(u){var h=u.stateNode,y=u.memoizedProps;try{for(var w=u.type,N=h.attributes;N.length;)h.removeAttributeNode(N[0]);Oa(h,w,y),h[Er]=u,h[$r]=y}catch(U){we(u,u.return,U)}}var gl=!1,ti=!1,Mo=!1,$s=typeof WeakSet=="function"?WeakSet:Set,ki=null;function na(u,h){if(u=u.containerInfo,uu=a_,u=G0(u),sp(u)){if("selectionStart"in u)var y={start:u.selectionStart,end:u.selectionEnd};else e:{y=(y=u.ownerDocument)&&y.defaultView||window;var w=y.getSelection&&y.getSelection();if(w&&w.rangeCount!==0){y=w.anchorNode;var N=w.anchorOffset,U=w.focusNode;w=w.focusOffset;try{y.nodeType,U.nodeType}catch{y=null;break e}var Z=0,ae=-1,ye=-1,je=0,lt=0,ht=u,Ye=null;t:for(;;){for(var Ve;ht!==y||N!==0&&ht.nodeType!==3||(ae=Z+N),ht!==U||w!==0&&ht.nodeType!==3||(ye=Z+w),ht.nodeType===3&&(Z+=ht.nodeValue.length),(Ve=ht.firstChild)!==null;)Ye=ht,ht=Ve;for(;;){if(ht===u)break t;if(Ye===y&&++je===N&&(ae=Z),Ye===U&&++lt===w&&(ye=Z),(Ve=ht.nextSibling)!==null)break;ht=Ye,Ye=ht.parentNode}ht=Ve}y=ae===-1||ye===-1?null:{start:ae,end:ye}}else y=null}y=y||{start:0,end:0}}else y=null;for(Zx={focusedElem:u,selectionRange:y},a_=!1,ki=h;ki!==null;)if(h=ki,u=h.child,(h.subtreeFlags&1024)!==0&&u!==null)u.return=h,ki=u;else for(;ki!==null;){switch(h=ki,U=h.alternate,u=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((u&1024)!==0&&U!==null){u=void 0,y=h,N=U.memoizedProps,U=U.memoizedState,w=y.stateNode;try{var cn=dl(y.type,N,y.elementType===y.type);u=w.getSnapshotBeforeUpdate(cn,U),w.__reactInternalSnapshotBeforeUpdate=u}catch(on){we(y,y.return,on)}}break;case 3:if((u&1024)!==0){if(u=h.stateNode.containerInfo,y=u.nodeType,y===9)N1(u);else if(y===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":N1(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(i(163))}if(u=h.sibling,u!==null){u.return=h.return,ki=u;break}ki=h.return}}function ou(u,h,y){var w=y.flags;switch(y.tag){case 0:case 11:case 15:hs(u,y),w&4&&jf(5,y);break;case 1:if(hs(u,y),w&4)if(u=y.stateNode,h===null)try{u.componentDidMount()}catch(Z){we(y,y.return,Z)}else{var N=dl(y.type,h.memoizedProps);h=h.memoizedState;try{u.componentDidUpdate(N,h,u.__reactInternalSnapshotBeforeUpdate)}catch(Z){we(y,y.return,Z)}}w&64&&Vf(y),w&512&&ju(y,y.return);break;case 3:if(hs(u,y),w&64&&(u=y.updateQueue,u!==null)){if(h=null,y.child!==null)switch(y.child.tag){case 27:case 5:h=y.child.stateNode;break;case 1:h=y.child.stateNode}try{K0(u,h)}catch(Z){we(y,y.return,Z)}}break;case 27:h===null&&w&4&&ml(y);case 26:case 5:hs(u,y),h===null&&w&4&&Vu(y),w&512&&ju(y,y.return);break;case 12:hs(u,y);break;case 13:hs(u,y),w&4&&Xu(u,y),w&64&&(u=y.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(y=ji.bind(null,y),Tg(u,y))));break;case 22:if(w=y.memoizedState!==null||gl,!w){h=h!==null&&h.memoizedState!==null||ti,N=gl;var U=ti;gl=w,(ti=h)&&!U?vl(u,y,(y.subtreeFlags&8772)!==0):hs(u,y),gl=N,ti=U}break;case 30:break;default:hs(u,y)}}function Nn(u){var h=u.alternate;h!==null&&(u.alternate=null,Nn(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&Ui(h)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var nn=null,ci=!1;function wo(u,h,y){for(y=y.child;y!==null;)Xf(u,h,y),y=y.sibling}function Xf(u,h,y){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(tt,y)}catch{}switch(y.tag){case 26:ti||lc(y,h),wo(u,h,y),y.memoizedState?y.memoizedState.count--:y.stateNode&&(y=y.stateNode,y.parentNode.removeChild(y));break;case 27:ti||lc(y,h);var w=nn,N=ci;pc(y.type)&&(nn=y.stateNode,ci=!1),wo(u,h,y),Av(y.stateNode),nn=w,ci=N;break;case 5:ti||lc(y,h);case 6:if(w=nn,N=ci,nn=null,wo(u,h,y),nn=w,ci=N,nn!==null)if(ci)try{(nn.nodeType===9?nn.body:nn.nodeName==="HTML"?nn.ownerDocument.body:nn).removeChild(y.stateNode)}catch(U){we(y,h,U)}else try{nn.removeChild(y.stateNode)}catch(U){we(y,h,U)}break;case 18:nn!==null&&(ci?(u=nn,e_(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,y.stateNode),Nv(u)):e_(nn,y.stateNode));break;case 4:w=nn,N=ci,nn=y.stateNode.containerInfo,ci=!0,wo(u,h,y),nn=w,ci=N;break;case 0:case 11:case 14:case 15:ti||Ks(2,y,h),ti||Ks(4,y,h),wo(u,h,y);break;case 1:ti||(lc(y,h),w=y.stateNode,typeof w.componentWillUnmount=="function"&&oc(y,h,w)),wo(u,h,y);break;case 21:wo(u,h,y);break;case 22:ti=(w=ti)||y.memoizedState!==null,wo(u,h,y),ti=w;break;default:wo(u,h,y)}}function Xu(u,h){if(h.memoizedState===null&&(u=h.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{Nv(u)}catch(y){we(h,h.return,y)}}function _g(u){switch(u.tag){case 13:case 19:var h=u.stateNode;return h===null&&(h=u.stateNode=new $s),h;case 22:return u=u.stateNode,h=u._retryCache,h===null&&(h=u._retryCache=new $s),h;default:throw Error(i(435,u.tag))}}function qf(u,h){var y=_g(u);h.forEach(function(w){var N=pn.bind(null,u,w);y.has(w)||(y.add(w),w.then(N,N))})}function ya(u,h){var y=h.deletions;if(y!==null)for(var w=0;w<y.length;w++){var N=y[w],U=u,Z=h,ae=Z;e:for(;ae!==null;){switch(ae.tag){case 27:if(pc(ae.type)){nn=ae.stateNode,ci=!1;break e}break;case 5:nn=ae.stateNode,ci=!1;break e;case 3:case 4:nn=ae.stateNode.containerInfo,ci=!0;break e}ae=ae.return}if(nn===null)throw Error(i(160));Xf(U,Z,N),nn=null,ci=!1,U=N.alternate,U!==null&&(U.return=null),N.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)Lp(h,u),h=h.sibling}var Eo=null;function Lp(u,h){var y=u.alternate,w=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:ya(h,u),br(u),w&4&&(Ks(3,u,u.return),jf(3,u),Ks(5,u,u.return));break;case 1:ya(h,u),br(u),w&512&&(ti||y===null||lc(y,y.return)),w&64&&gl&&(u=u.updateQueue,u!==null&&(w=u.callbacks,w!==null&&(y=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=y===null?w:y.concat(w))));break;case 26:var N=Eo;if(ya(h,u),br(u),w&512&&(ti||y===null||lc(y,y.return)),w&4){var U=y!==null?y.memoizedState:null;if(w=u.memoizedState,y===null)if(w===null)if(u.stateNode===null){e:{w=u.type,y=u.memoizedProps,N=N.ownerDocument||N;t:switch(w){case"title":U=N.getElementsByTagName("title")[0],(!U||U[Ko]||U[Er]||U.namespaceURI==="http://www.w3.org/2000/svg"||U.hasAttribute("itemprop"))&&(U=N.createElement(w),N.head.insertBefore(U,N.querySelector("head > title"))),Oa(U,w,y),U[Er]=u,Ir(U),w=U;break e;case"link":var Z=pw("link","href",N).get(w+(y.href||""));if(Z){for(var ae=0;ae<Z.length;ae++)if(U=Z[ae],U.getAttribute("href")===(y.href==null||y.href===""?null:y.href)&&U.getAttribute("rel")===(y.rel==null?null:y.rel)&&U.getAttribute("title")===(y.title==null?null:y.title)&&U.getAttribute("crossorigin")===(y.crossOrigin==null?null:y.crossOrigin)){Z.splice(ae,1);break t}}U=N.createElement(w),Oa(U,w,y),N.head.appendChild(U);break;case"meta":if(Z=pw("meta","content",N).get(w+(y.content||""))){for(ae=0;ae<Z.length;ae++)if(U=Z[ae],U.getAttribute("content")===(y.content==null?null:""+y.content)&&U.getAttribute("name")===(y.name==null?null:y.name)&&U.getAttribute("property")===(y.property==null?null:y.property)&&U.getAttribute("http-equiv")===(y.httpEquiv==null?null:y.httpEquiv)&&U.getAttribute("charset")===(y.charSet==null?null:y.charSet)){Z.splice(ae,1);break t}}U=N.createElement(w),Oa(U,w,y),N.head.appendChild(U);break;default:throw Error(i(468,w))}U[Er]=u,Ir(U),w=U}u.stateNode=w}else mw(N,u.type,u.stateNode);else u.stateNode=dw(N,w,u.memoizedProps);else U!==w?(U===null?y.stateNode!==null&&(y=y.stateNode,y.parentNode.removeChild(y)):U.count--,w===null?mw(N,u.type,u.stateNode):dw(N,w,u.memoizedProps)):w===null&&u.stateNode!==null&&rd(u,u.memoizedProps,y.memoizedProps)}break;case 27:ya(h,u),br(u),w&512&&(ti||y===null||lc(y,y.return)),y!==null&&w&4&&rd(u,u.memoizedProps,y.memoizedProps);break;case 5:if(ya(h,u),br(u),w&512&&(ti||y===null||lc(y,y.return)),u.flags&32){N=u.stateNode;try{wa(N,"")}catch(Ve){we(u,u.return,Ve)}}w&4&&u.stateNode!=null&&(N=u.memoizedProps,rd(u,N,y!==null?y.memoizedProps:N)),w&1024&&(Mo=!0);break;case 6:if(ya(h,u),br(u),w&4){if(u.stateNode===null)throw Error(i(162));w=u.memoizedProps,y=u.stateNode;try{y.nodeValue=w}catch(Ve){we(u,u.return,Ve)}}break;case 3:if(Dg=null,N=Eo,Eo=wn(h.containerInfo),ya(h,u),Eo=N,br(u),w&4&&y!==null&&y.memoizedState.isDehydrated)try{Nv(h.containerInfo)}catch(Ve){we(u,u.return,Ve)}Mo&&(Mo=!1,qu(u));break;case 4:w=Eo,Eo=wn(u.stateNode.containerInfo),ya(h,u),br(u),Eo=w;break;case 12:ya(h,u),br(u);break;case 13:ya(h,u),br(u),u.child.flags&8192&&u.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(Gi=_e()),w&4&&(w=u.updateQueue,w!==null&&(u.updateQueue=null,qf(u,w)));break;case 22:N=u.memoizedState!==null;var ye=y!==null&&y.memoizedState!==null,je=gl,lt=ti;if(gl=je||N,ti=lt||ye,ya(h,u),ti=lt,gl=je,br(u),w&8192)e:for(h=u.stateNode,h._visibility=N?h._visibility&-2:h._visibility|1,N&&(y===null||ye||gl||ti||Zs(u)),y=null,h=u;;){if(h.tag===5||h.tag===26){if(y===null){ye=y=h;try{if(U=ye.stateNode,N)Z=U.style,typeof Z.setProperty=="function"?Z.setProperty("display","none","important"):Z.display="none";else{ae=ye.stateNode;var ht=ye.memoizedProps.style,Ye=ht!=null&&ht.hasOwnProperty("display")?ht.display:null;ae.style.display=Ye==null||typeof Ye=="boolean"?"":(""+Ye).trim()}}catch(Ve){we(ye,ye.return,Ve)}}}else if(h.tag===6){if(y===null){ye=h;try{ye.stateNode.nodeValue=N?"":ye.memoizedProps}catch(Ve){we(ye,ye.return,Ve)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===u)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break e;for(;h.sibling===null;){if(h.return===null||h.return===u)break e;y===h&&(y=null),h=h.return}y===h&&(y=null),h.sibling.return=h.return,h=h.sibling}w&4&&(w=u.updateQueue,w!==null&&(y=w.retryQueue,y!==null&&(w.retryQueue=null,qf(u,y))));break;case 19:ya(h,u),br(u),w&4&&(w=u.updateQueue,w!==null&&(u.updateQueue=null,qf(u,w)));break;case 30:break;case 21:break;default:ya(h,u),br(u)}}function br(u){var h=u.flags;if(h&2){try{for(var y,w=u.return;w!==null;){if(ru(w)){y=w;break}w=w.return}if(y==null)throw Error(i(160));switch(y.tag){case 27:var N=y.stateNode,U=cc(u);su(u,U,N);break;case 5:var Z=y.stateNode;y.flags&32&&(wa(Z,""),y.flags&=-33);var ae=cc(u);su(u,ae,Z);break;case 3:case 4:var ye=y.stateNode.containerInfo,je=cc(u);au(u,je,ye);break;default:throw Error(i(161))}}catch(lt){we(u,u.return,lt)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function qu(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var h=u;qu(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),u=u.sibling}}function hs(u,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)ou(u,h.alternate,h),h=h.sibling}function Zs(u){for(u=u.child;u!==null;){var h=u;switch(h.tag){case 0:case 11:case 14:case 15:Ks(4,h,h.return),Zs(h);break;case 1:lc(h,h.return);var y=h.stateNode;typeof y.componentWillUnmount=="function"&&oc(h,h.return,y),Zs(h);break;case 27:Av(h.stateNode);case 26:case 5:lc(h,h.return),Zs(h);break;case 22:h.memoizedState===null&&Zs(h);break;case 30:Zs(h);break;default:Zs(h)}u=u.sibling}}function vl(u,h,y){for(y=y&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var w=h.alternate,N=u,U=h,Z=U.flags;switch(U.tag){case 0:case 11:case 15:vl(N,U,y),jf(4,U);break;case 1:if(vl(N,U,y),w=U,N=w.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(je){we(w,w.return,je)}if(w=U,N=w.updateQueue,N!==null){var ae=w.stateNode;try{var ye=N.shared.hiddenCallbacks;if(ye!==null)for(N.shared.hiddenCallbacks=null,N=0;N<ye.length;N++)Yh(ye[N],ae)}catch(je){we(w,w.return,je)}}y&&Z&64&&Vf(U),ju(U,U.return);break;case 27:ml(U);case 26:case 5:vl(N,U,y),y&&w===null&&Z&4&&Vu(U),ju(U,U.return);break;case 12:vl(N,U,y);break;case 13:vl(N,U,y),y&&Z&4&&Xu(N,U);break;case 22:U.memoizedState===null&&vl(N,U,y),ju(U,U.return);break;case 30:break;default:vl(N,U,y)}h=h.sibling}}function bg(u,h){var y=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),u=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(u=h.memoizedState.cachePool.pool),u!==y&&(u!=null&&u.refCount++,y!=null&&Vh(y))}function Ag(u,h){u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&Vh(u))}function Yi(u,h,y,w){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)Sg(u,h,y,w),h=h.sibling}function Sg(u,h,y,w){var N=h.flags;switch(h.tag){case 0:case 11:case 15:Yi(u,h,y,w),N&2048&&jf(9,h);break;case 1:Yi(u,h,y,w);break;case 3:Yi(u,h,y,w),N&2048&&(u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&Vh(u)));break;case 12:if(N&2048){Yi(u,h,y,w),u=h.stateNode;try{var U=h.memoizedProps,Z=U.id,ae=U.onPostCommit;typeof ae=="function"&&ae(Z,h.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(ye){we(h,h.return,ye)}}else Yi(u,h,y,w);break;case 13:Yi(u,h,y,w);break;case 23:break;case 22:U=h.stateNode,Z=h.alternate,h.memoizedState!==null?U._visibility&2?Yi(u,h,y,w):yl(u,h):U._visibility&2?Yi(u,h,y,w):(U._visibility|=2,lu(u,h,y,w,(h.subtreeFlags&10256)!==0)),N&2048&&bg(Z,h);break;case 24:Yi(u,h,y,w),N&2048&&Ag(h.alternate,h);break;default:Yi(u,h,y,w)}}function lu(u,h,y,w,N){for(N=N&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var U=u,Z=h,ae=y,ye=w,je=Z.flags;switch(Z.tag){case 0:case 11:case 15:lu(U,Z,ae,ye,N),jf(8,Z);break;case 23:break;case 22:var lt=Z.stateNode;Z.memoizedState!==null?lt._visibility&2?lu(U,Z,ae,ye,N):yl(U,Z):(lt._visibility|=2,lu(U,Z,ae,ye,N)),N&&je&2048&&bg(Z.alternate,Z);break;case 24:lu(U,Z,ae,ye,N),N&&je&2048&&Ag(Z.alternate,Z);break;default:lu(U,Z,ae,ye,N)}h=h.sibling}}function yl(u,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var y=u,w=h,N=w.flags;switch(w.tag){case 22:yl(y,w),N&2048&&bg(w.alternate,w);break;case 24:yl(y,w),N&2048&&Ag(w.alternate,w);break;default:yl(y,w)}h=h.sibling}}var vr=8192;function ad(u){if(u.subtreeFlags&vr)for(u=u.child;u!==null;)qx(u),u=u.sibling}function qx(u){switch(u.tag){case 26:ad(u),u.flags&vr&&u.memoizedState!==null&&bN(Eo,u.memoizedState,u.memoizedProps);break;case 5:ad(u);break;case 3:case 4:var h=Eo;Eo=wn(u.stateNode.containerInfo),ad(u),Eo=h;break;case 22:u.memoizedState===null&&(h=u.alternate,h!==null&&h.memoizedState!==null?(h=vr,vr=16777216,ad(u),vr=h):ad(u));break;default:ad(u)}}function Yx(u){var h=u.alternate;if(h!==null&&(u=h.child,u!==null)){h.child=null;do h=u.sibling,u.sibling=null,u=h;while(u!==null)}}function Wi(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var y=0;y<h.length;y++){var w=h[y];ki=w,fc(w,u)}Yx(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)vv(u),u=u.sibling}function vv(u){switch(u.tag){case 0:case 11:case 15:Wi(u),u.flags&2048&&Ks(9,u,u.return);break;case 3:Wi(u);break;case 12:Wi(u);break;case 22:var h=u.stateNode;u.memoizedState!==null&&h._visibility&2&&(u.return===null||u.return.tag!==13)?(h._visibility&=-3,uc(u)):Wi(u);break;default:Wi(u)}}function uc(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var y=0;y<h.length;y++){var w=h[y];ki=w,fc(w,u)}Yx(u)}for(u=u.child;u!==null;){switch(h=u,h.tag){case 0:case 11:case 15:Ks(8,h,h.return),uc(h);break;case 22:y=h.stateNode,y._visibility&2&&(y._visibility&=-3,uc(h));break;default:uc(h)}u=u.sibling}}function fc(u,h){for(;ki!==null;){var y=ki;switch(y.tag){case 0:case 11:case 15:Ks(8,y,h);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var w=y.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:Vh(y.memoizedState.cache)}if(w=y.child,w!==null)w.return=y,ki=w;else e:for(y=u;ki!==null;){w=ki;var N=w.sibling,U=w.return;if(Nn(w),w===y){ki=null;break e}if(N!==null){N.return=U,ki=N;break e}ki=U}}}var Cr={getCacheForType:function(u){var h=Fi(zi),y=h.data.get(u);return y===void 0&&(y=u(),h.data.set(u,y)),y}},Pp=typeof WeakMap=="function"?WeakMap:Map,Ti=0,_n=null,Hn=null,Qt=0,Tn=0,Ar=null,Qs=!1,sd=!1,od=!1,To=0,lr=0,xl=0,hc=0,Yf=0,Co=0,ui=0,Ci=null,sn=null,Jn=!1,Gi=0,xa=1/0,eo=null,to=null,ia=0,Ka=null,Ji=null,no=0,cu=0,Up=null,io=null,_l=0,Wf=null;function cr(){if((Ti&2)!==0&&Qt!==0)return Qt&-Qt;if(H.T!==null){var u=Sn;return u!==0?u:Jx()}return En()}function Mg(){Co===0&&(Co=(Qt&536870912)===0||Xn?be():536870912);var u=Hi.current;return u!==null&&(u.flags|=32),Co}function ds(u,h,y){(u===_n&&(Tn===2||Tn===9)||u.cancelPendingCommit!==null)&&(Wu(u,0),bl(u,Qt,Co,!1)),at(u,y),((Ti&2)===0||u!==_n)&&(u===_n&&((Ti&2)===0&&(hc|=y),lr===4&&bl(u,Qt,Co,!1)),$u(u))}function ld(u,h,y){if((Ti&6)!==0)throw Error(i(327));var w=!y&&(h&124)===0&&(h&u.expiredLanes)===0||it(u,h),N=w?D(u,h):g(u,h,!0),U=w;do{if(N===0){sd&&!w&&bl(u,h,0,!1);break}else{if(y=u.current.alternate,U&&!Yu(y)){N=g(u,h,!1),U=!1;continue}if(N===2){if(U=h,u.errorRecoveryDisabledLanes&U)var Z=0;else Z=u.pendingLanes&-536870913,Z=Z!==0?Z:Z&536870912?536870912:0;if(Z!==0){h=Z;e:{var ae=u;N=Ci;var ye=ae.current.memoizedState.isDehydrated;if(ye&&(Wu(ae,Z).flags|=256),Z=g(ae,Z,!1),Z!==2){if(od&&!ye){ae.errorRecoveryDisabledLanes|=U,hc|=U,N=4;break e}U=sn,sn=N,U!==null&&(sn===null?sn=U:sn.push.apply(sn,U))}N=Z}if(U=!1,N!==2)continue}}if(N===1){Wu(u,0),bl(u,h,0,!0);break}e:{switch(w=u,U=N,U){case 0:case 1:throw Error(i(345));case 4:if((h&4194048)!==h)break;case 6:bl(w,h,Co,!Qs);break e;case 2:sn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((h&62914560)===h&&(N=Gi+300-_e(),10<N)){if(bl(w,h,Co,!Qs),Ae(w,0,!0)!==0)break e;w.timeoutHandle=iw(Ip.bind(null,w,y,sn,eo,Jn,h,Co,hc,ui,Qs,U,2,-0,0),N);break e}Ip(w,y,sn,eo,Jn,h,Co,hc,ui,Qs,U,0,-0,0)}}break}while(!0);$u(u)}function Ip(u,h,y,w,N,U,Z,ae,ye,je,lt,ht,Ye,Ve){if(u.timeoutHandle=-1,ht=h.subtreeFlags,(ht&8192||(ht&16785408)===16785408)&&($a={stylesheets:null,count:0,unsuspend:_N},qx(h),ht=AN(),ht!==null)){u.cancelPendingCommit=ht(bt.bind(null,u,h,U,y,w,N,Z,ae,ye,lt,1,Ye,Ve)),bl(u,U,Z,!je);return}bt(u,h,U,y,w,N,Z,ae,ye)}function Yu(u){for(var h=u;;){var y=h.tag;if((y===0||y===11||y===15)&&h.flags&16384&&(y=h.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var w=0;w<y.length;w++){var N=y[w],U=N.getSnapshot;N=N.value;try{if(!bs(U(),N))return!1}catch{return!1}}if(y=h.child,h.subtreeFlags&16384&&y!==null)y.return=h,h=y;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function bl(u,h,y,w){h&=~Yf,h&=~hc,u.suspendedLanes|=h,u.pingedLanes&=~h,w&&(u.warmLanes|=h),w=u.expirationTimes;for(var N=h;0<N;){var U=31-Mt(N),Z=1<<U;w[U]=-1,N&=~Z}y!==0&&Rt(u,y,h)}function dc(){return(Ti&6)===0?(yv(0),!1):!0}function Jf(){if(Hn!==null){if(Tn===0)var u=Hn.return;else u=Hn,re=Jc=null,rg(u),Vr=null,Rs=0,u=Hn;for(;u!==null;)id(u.alternate,u),u=u.return;Hn=null}}function Wu(u,h){var y=u.timeoutHandle;y!==-1&&(u.timeoutHandle=-1,fN(y)),y=u.cancelPendingCommit,y!==null&&(u.cancelPendingCommit=null,y()),Jf(),_n=u,Hn=y=qi(u.current,null),Qt=h,Tn=0,Ar=null,Qs=!1,sd=it(u,h),od=!1,ui=Co=Yf=hc=xl=lr=0,sn=Ci=null,Jn=!1,(h&8)!==0&&(h|=h&32);var w=u.entangledLanes;if(w!==0)for(u=u.entanglements,w&=h;0<w;){var N=31-Mt(w),U=1<<N;h|=u[N],w&=~U}return To=h,Ou(),y}function wg(u,h){Mn=null,H.H=Zh,h===ls||h===ol?(h=J0(),Tn=3):h===W0?(h=J0(),Tn=4):Tn=h===Xx?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,Ar=h,Hn===null&&(lr=1,Dp(u,Gr(h,u.current)))}function cd(){var u=H.H;return H.H=Zh,u===null?Zh:u}function Eg(){var u=H.A;return H.A=Cr,u}function m(){lr=4,Qs||(Qt&4194048)!==Qt&&Hi.current!==null||(sd=!0),(xl&134217727)===0&&(hc&134217727)===0||_n===null||bl(_n,Qt,Co,!1)}function g(u,h,y){var w=Ti;Ti|=2;var N=cd(),U=Eg();(_n!==u||Qt!==h)&&(eo=null,Wu(u,h)),h=!1;var Z=lr;e:do try{if(Tn!==0&&Hn!==null){var ae=Hn,ye=Ar;switch(Tn){case 8:Jf(),Z=6;break e;case 3:case 2:case 9:case 6:Hi.current===null&&(h=!0);var je=Tn;if(Tn=0,Ar=null,xe(u,ae,ye,je),y&&sd){Z=0;break e}break;default:je=Tn,Tn=0,Ar=null,xe(u,ae,ye,je)}}E(),Z=lr;break}catch(lt){wg(u,lt)}while(!0);return h&&u.shellSuspendCounter++,re=Jc=null,Ti=w,H.H=N,H.A=U,Hn===null&&(_n=null,Qt=0,Ou()),Z}function E(){for(;Hn!==null;)q(Hn)}function D(u,h){var y=Ti;Ti|=2;var w=cd(),N=Eg();_n!==u||Qt!==h?(eo=null,xa=_e()+500,Wu(u,h)):sd=it(u,h);e:do try{if(Tn!==0&&Hn!==null){h=Hn;var U=Ar;t:switch(Tn){case 1:Tn=0,Ar=null,xe(u,h,U,1);break;case 2:case 9:if(ng(U)){Tn=0,Ar=null,ue(h);break}h=function(){Tn!==2&&Tn!==9||_n!==u||(Tn=7),$u(u)},U.then(h,h);break e;case 3:Tn=7;break e;case 4:Tn=5;break e;case 7:ng(U)?(Tn=0,Ar=null,ue(h)):(Tn=0,Ar=null,xe(u,h,U,7));break;case 5:var Z=null;switch(Hn.tag){case 26:Z=Hn.memoizedState;case 5:case 27:var ae=Hn;if(!Z||La(Z)){Tn=0,Ar=null;var ye=ae.sibling;if(ye!==null)Hn=ye;else{var je=ae.return;je!==null?(Hn=je,Pe(je)):Hn=null}break t}}Tn=0,Ar=null,xe(u,h,U,5);break;case 6:Tn=0,Ar=null,xe(u,h,U,6);break;case 8:Jf(),lr=6;break e;default:throw Error(i(462))}}I();break}catch(lt){wg(u,lt)}while(!0);return re=Jc=null,H.H=w,H.A=N,Ti=y,Hn!==null?0:(_n=null,Qt=0,Ou(),lr)}function I(){for(;Hn!==null&&!St();)q(Hn)}function q(u){var h=nu(u.alternate,u,To);u.memoizedProps=u.pendingProps,h===null?Pe(u):Hn=h}function ue(u){var h=u,y=h.alternate;switch(h.tag){case 15:case 0:h=fs(y,h,h.pendingProps,h.type,void 0,Qt);break;case 11:h=fs(y,h,h.pendingProps,h.type.render,h.ref,Qt);break;case 5:rg(h);default:id(y,h),h=Hn=Gh(h,To),h=nu(y,h,To)}u.memoizedProps=u.pendingProps,h===null?Pe(u):Hn=h}function xe(u,h,y,w){re=Jc=null,rg(h),Vr=null,Rs=0;var N=h.return;try{if(Vx(u,N,h,y,Qt)){lr=1,Dp(u,Gr(y,u.current)),Hn=null;return}}catch(U){if(N!==null)throw Hn=N,U;lr=1,Dp(u,Gr(y,u.current)),Hn=null;return}h.flags&32768?(Xn||w===1?u=!0:sd||(Qt&536870912)!==0?u=!1:(Qs=u=!0,(w===2||w===9||w===3||w===6)&&(w=Hi.current,w!==null&&w.tag===13&&(w.flags|=16384))),ot(h,u)):Pe(h)}function Pe(u){var h=u;do{if((h.flags&32768)!==0){ot(h,Qs);return}u=h.return;var y=xg(h.alternate,h,To);if(y!==null){Hn=y;return}if(h=h.sibling,h!==null){Hn=h;return}Hn=h=u}while(h!==null);lr===0&&(lr=5)}function ot(u,h){do{var y=Gf(u.alternate,u);if(y!==null){y.flags&=32767,Hn=y;return}if(y=u.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!h&&(u=u.sibling,u!==null)){Hn=u;return}Hn=u=y}while(u!==null);lr=6,Hn=null}function bt(u,h,y,w,N,U,Z,ae,ye){u.cancelPendingCommit=null;do Ju();while(ia!==0);if((Ti&6)!==0)throw Error(i(327));if(h!==null){if(h===u.current)throw Error(i(177));if(U=h.lanes|h.childLanes,U|=$m,Dt(u,y,U,Z,ae,ye),u===_n&&(Hn=_n=null,Qt=0),Ji=h,Ka=u,no=y,cu=U,Up=N,io=w,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,fi(le,function(){return Ku(),null})):(u.callbackNode=null,u.callbackPriority=0),w=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||w){w=H.T,H.T=null,N=J.p,J.p=2,Z=Ti,Ti|=4;try{na(u,h,y)}finally{Ti=Z,J.p=N,H.T=w}}ia=1,Bt(),Ut(),bn()}}function Bt(){if(ia===1){ia=0;var u=Ka,h=Ji,y=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||y){y=H.T,H.T=null;var w=J.p;J.p=2;var N=Ti;Ti|=4;try{Lp(h,u);var U=Zx,Z=G0(u.containerInfo),ae=U.focusedElem,ye=U.selectionRange;if(Z!==ae&&ae&&ae.ownerDocument&&k0(ae.ownerDocument.documentElement,ae)){if(ye!==null&&sp(ae)){var je=ye.start,lt=ye.end;if(lt===void 0&&(lt=je),"selectionStart"in ae)ae.selectionStart=je,ae.selectionEnd=Math.min(lt,ae.value.length);else{var ht=ae.ownerDocument||document,Ye=ht&&ht.defaultView||window;if(Ye.getSelection){var Ve=Ye.getSelection(),cn=ae.textContent.length,on=Math.min(ye.start,cn),nr=ye.end===void 0?on:Math.min(ye.end,cn);!Ve.extend&&on>nr&&(Z=nr,nr=on,on=Z);var Be=Jm(ae,on),Ce=Jm(ae,nr);if(Be&&Ce&&(Ve.rangeCount!==1||Ve.anchorNode!==Be.node||Ve.anchorOffset!==Be.offset||Ve.focusNode!==Ce.node||Ve.focusOffset!==Ce.offset)){var Ge=ht.createRange();Ge.setStart(Be.node,Be.offset),Ve.removeAllRanges(),on>nr?(Ve.addRange(Ge),Ve.extend(Ce.node,Ce.offset)):(Ge.setEnd(Ce.node,Ce.offset),Ve.addRange(Ge))}}}}for(ht=[],Ve=ae;Ve=Ve.parentNode;)Ve.nodeType===1&&ht.push({element:Ve,left:Ve.scrollLeft,top:Ve.scrollTop});for(typeof ae.focus=="function"&&ae.focus(),ae=0;ae<ht.length;ae++){var ut=ht[ae];ut.element.scrollLeft=ut.left,ut.element.scrollTop=ut.top}}a_=!!uu,Zx=uu=null}finally{Ti=N,J.p=w,H.T=y}}u.current=h,ia=2}}function Ut(){if(ia===2){ia=0;var u=Ka,h=Ji,y=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||y){y=H.T,H.T=null;var w=J.p;J.p=2;var N=Ti;Ti|=4;try{ou(u,h.alternate,h)}finally{Ti=N,J.p=w,H.T=y}}ia=3}}function bn(){if(ia===4||ia===3){ia=0,Ie();var u=Ka,h=Ji,y=no,w=io;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?ia=5:(ia=0,Ji=Ka=null,ro(u,u.pendingLanes));var N=u.pendingLanes;if(N===0&&(to=null),vi(y),h=h.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(tt,h,void 0,(h.current.flags&128)===128)}catch{}if(w!==null){h=H.T,N=J.p,J.p=2,H.T=null;try{for(var U=u.onRecoverableError,Z=0;Z<w.length;Z++){var ae=w[Z];U(ae.value,{componentStack:ae.stack})}}finally{H.T=h,J.p=N}}(no&3)!==0&&Ju(),$u(u),N=u.pendingLanes,(y&4194090)!==0&&(N&42)!==0?u===Wf?_l++:(_l=0,Wf=u):_l=0,yv(0)}}function ro(u,h){(u.pooledCacheLanes&=h)===0&&(h=u.pooledCache,h!=null&&(u.pooledCache=null,Vh(h)))}function Ju(u){return Bt(),Ut(),bn(),Ku()}function Ku(){if(ia!==5)return!1;var u=Ka,h=cu;cu=0;var y=vi(no),w=H.T,N=J.p;try{J.p=32>y?32:y,H.T=null,y=Up,Up=null;var U=Ka,Z=no;if(ia=0,Ji=Ka=null,no=0,(Ti&6)!==0)throw Error(i(331));var ae=Ti;if(Ti|=4,vv(U.current),Sg(U,U.current,Z,y),Ti=ae,yv(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(tt,U)}catch{}return!0}finally{J.p=N,H.T=w,ro(u,h)}}function qe(u,h,y){h=Gr(y,h),h=Bp(u.stateNode,h,2),u=ec(u,h,2),u!==null&&(at(u,2),$u(u))}function we(u,h,y){if(u.tag===3)qe(u,u,y);else for(;h!==null;){if(h.tag===3){qe(h,u,y);break}else if(h.tag===1){var w=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(to===null||!to.has(w))){u=Gr(y,u),y=gv(2),w=ec(h,y,2),w!==null&&(yg(y,w,h,u),at(w,2),$u(w));break}}h=h.return}}function Ke(u,h,y){var w=u.pingCache;if(w===null){w=u.pingCache=new Pp;var N=new Set;w.set(h,N)}else N=w.get(h),N===void 0&&(N=new Set,w.set(h,N));N.has(y)||(od=!0,N.add(y),u=At.bind(null,u,h,y),h.then(u,u))}function At(u,h,y){var w=u.pingCache;w!==null&&w.delete(h),u.pingedLanes|=u.suspendedLanes&y,u.warmLanes&=~y,_n===u&&(Qt&y)===y&&(lr===4||lr===3&&(Qt&62914560)===Qt&&300>_e()-Gi?(Ti&2)===0&&Wu(u,0):Yf|=y,ui===Qt&&(ui=0)),$u(u)}function qt(u,h){h===0&&(h=xt()),u=Jl(u,h),u!==null&&(at(u,h),$u(u))}function ji(u){var h=u.memoizedState,y=0;h!==null&&(y=h.retryLane),qt(u,y)}function pn(u,h){var y=0;switch(u.tag){case 13:var w=u.stateNode,N=u.memoizedState;N!==null&&(y=N.retryLane);break;case 19:w=u.stateNode;break;case 22:w=u.stateNode._retryCache;break;default:throw Error(i(314))}w!==null&&w.delete(h),qt(u,y)}function fi(u,h){return st(u,h)}var Rr=null,Ln=null,Al=!1,Fp=!1,Wx=!1,ud=0;function $u(u){u!==Ln&&u.next===null&&(Ln===null?Rr=Ln=u:Ln=Ln.next=u),Fp=!0,Al||(Al=!0,S1())}function yv(u,h){if(!Wx&&Fp){Wx=!0;do for(var y=!1,w=Rr;w!==null;){if(u!==0){var N=w.pendingLanes;if(N===0)var U=0;else{var Z=w.suspendedLanes,ae=w.pingedLanes;U=(1<<31-Mt(42|u)+1)-1,U&=N&~(Z&~ae),U=U&201326741?U&201326741|1:U?U|2:0}U!==0&&(y=!0,KM(w,U))}else U=Qt,U=Ae(w,w===_n?U:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),(U&3)===0||it(w,U)||(y=!0,KM(w,U));w=w.next}while(y);Wx=!1}}function iN(){xv()}function xv(){Fp=Al=!1;var u=0;ud!==0&&(uN()&&(u=ud),ud=0);for(var h=_e(),y=null,w=Rr;w!==null;){var N=w.next,U=_v(w,h);U===0?(w.next=null,y===null?Rr=N:y.next=N,N===null&&(Ln=y)):(y=w,(u!==0||(U&3)!==0)&&(Fp=!0)),w=N}yv(u)}function _v(u,h){for(var y=u.suspendedLanes,w=u.pingedLanes,N=u.expirationTimes,U=u.pendingLanes&-62914561;0<U;){var Z=31-Mt(U),ae=1<<Z,ye=N[Z];ye===-1?((ae&y)===0||(ae&w)!==0)&&(N[Z]=Ct(ae,h)):ye<=h&&(u.expiredLanes|=ae),U&=~ae}if(h=_n,y=Qt,y=Ae(u,u===h?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),w=u.callbackNode,y===0||u===h&&(Tn===2||Tn===9)||u.cancelPendingCommit!==null)return w!==null&&w!==null&&pe(w),u.callbackNode=null,u.callbackPriority=0;if((y&3)===0||it(u,y)){if(h=y&-y,h===u.callbackPriority)return h;switch(w!==null&&pe(w),vi(y)){case 2:case 8:y=ze;break;case 32:y=le;break;case 268435456:y=Ee;break;default:y=le}return w=JM.bind(null,u),y=st(y,w),u.callbackPriority=h,u.callbackNode=y,h}return w!==null&&w!==null&&pe(w),u.callbackPriority=2,u.callbackNode=null,2}function JM(u,h){if(ia!==0&&ia!==5)return u.callbackNode=null,u.callbackPriority=0,null;var y=u.callbackNode;if(Ju()&&u.callbackNode!==y)return null;var w=Qt;return w=Ae(u,u===_n?w:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),w===0?null:(ld(u,w,h),_v(u,_e()),u.callbackNode!=null&&u.callbackNode===y?JM.bind(null,u):null)}function KM(u,h){if(Ju())return null;ld(u,h,!0)}function S1(){hN(function(){(Ti&6)!==0?st(pt,iN):xv()})}function Jx(){return ud===0&&(ud=be()),ud}function $M(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:Dh(""+u)}function ZM(u,h){var y=h.ownerDocument.createElement("input");return y.name=h.name,y.value=h.value,u.id&&y.setAttribute("form",u.id),h.parentNode.insertBefore(y,h),u=new FormData(u),y.parentNode.removeChild(y),u}function rN(u,h,y,w,N){if(h==="submit"&&y&&y.stateNode===N){var U=$M((N[$r]||null).action),Z=w.submitter;Z&&(h=(h=Z[$r]||null)?$M(h.formAction):Z.getAttribute("formAction"),h!==null&&(U=h,Z=null));var ae=new Lh("action","action",null,w,N);u.push({event:ae,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(ud!==0){var ye=Z?ZM(N,Z):new FormData(N);Tp(y,{pending:!0,data:ye,method:N.method,action:U},null,ye)}}else typeof U=="function"&&(ae.preventDefault(),ye=Z?ZM(N,Z):new FormData(N),Tp(y,{pending:!0,data:ye,method:N.method,action:U},U,ye))},currentTarget:N}]})}}for(var M1=0;M1<li.length;M1++){var w1=li[M1],aN=w1.toLowerCase(),sN=w1[0].toUpperCase()+w1.slice(1);ha(aN,"on"+sN)}ha(Ea,"onAnimationEnd"),ha(V0,"onAnimationIteration"),ha(ar,"onAnimationStart"),ha("dblclick","onDoubleClick"),ha("focusin","onFocus"),ha("focusout","onBlur"),ha(op,"onTransitionRun"),ha(Vc,"onTransitionStart"),ha(al,"onTransitionCancel"),ha(ho,"onTransitionEnd"),se("onMouseEnter",["mouseout","mouseover"]),se("onMouseLeave",["mouseout","mouseover"]),se("onPointerEnter",["pointerout","pointerover"]),se("onPointerLeave",["pointerout","pointerover"]),Qo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qo("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bv));function QM(u,h){h=(h&4)!==0;for(var y=0;y<u.length;y++){var w=u[y],N=w.event;w=w.listeners;e:{var U=void 0;if(h)for(var Z=w.length-1;0<=Z;Z--){var ae=w[Z],ye=ae.instance,je=ae.currentTarget;if(ae=ae.listener,ye!==U&&N.isPropagationStopped())break e;U=ae,N.currentTarget=je;try{U(N)}catch(lt){rc(lt)}N.currentTarget=null,U=ye}else for(Z=0;Z<w.length;Z++){if(ae=w[Z],ye=ae.instance,je=ae.currentTarget,ae=ae.listener,ye!==U&&N.isPropagationStopped())break e;U=ae,N.currentTarget=je;try{U(N)}catch(lt){rc(lt)}N.currentTarget=null,U=ye}}}}function ni(u,h){var y=h[xs];y===void 0&&(y=h[xs]=new Set);var w=u+"__bubble";y.has(w)||(ew(h,u,2,!1),y.add(w))}function E1(u,h,y){var w=0;h&&(w|=4),ew(y,u,w,h)}var Ro="_reactListening"+Math.random().toString(36).slice(2);function T1(u){if(!u[Ro]){u[Ro]=!0,Th.forEach(function(y){y!=="selectionchange"&&(oN.has(y)||E1(y,!1,u),E1(y,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[Ro]||(h[Ro]=!0,E1("selectionchange",!1,h))}}function ew(u,h,y,w){switch(xw(h)){case 2:var N=wN;break;case 8:N=Og;break;default:N=I1}y=N.bind(null,h,y,u),N=void 0,!Af||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(N=!0),w?N!==void 0?u.addEventListener(h,y,{capture:!0,passive:N}):u.addEventListener(h,y,!0):N!==void 0?u.addEventListener(h,y,{passive:N}):u.addEventListener(h,y,!1)}function Kf(u,h,y,w,N){var U=w;if((h&1)===0&&(h&2)===0&&w!==null)e:for(;;){if(w===null)return;var Z=w.tag;if(Z===3||Z===4){var ae=w.stateNode.containerInfo;if(ae===N)break;if(Z===4)for(Z=w.return;Z!==null;){var ye=Z.tag;if((ye===3||ye===4)&&Z.stateNode.containerInfo===N)return;Z=Z.return}for(;ae!==null;){if(Z=$o(ae),Z===null)return;if(ye=Z.tag,ye===5||ye===6||ye===26||ye===27){w=U=Z;continue e}ae=ae.parentNode}}w=w.return}R0(function(){var je=U,lt=Fm(y),ht=[];e:{var Ye=wf.get(u);if(Ye!==void 0){var Ve=Lh,cn=u;switch(u){case"keypress":if(pi(y)===0)break e;case"keydown":case"keyup":Ve=Qd;break;case"focusin":cn="focus",Ve=$d;break;case"focusout":cn="blur",Ve=$d;break;case"beforeblur":case"afterblur":Ve=$d;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ve=zc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ve=O0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ve=F0;break;case Ea:case V0:case ar:Ve=P0;break;case ho:Ve=Hc;break;case"scroll":case"scrollend":Ve=bx;break;case"wheel":Ve=x1;break;case"copy":case"cut":case"paste":Ve=I0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ve=nl;break;case"toggle":case"beforetoggle":Ve=il}var on=(h&4)!==0,nr=!on&&(u==="scroll"||u==="scrollend"),Be=on?Ye!==null?Ye+"Capture":null:Ye;on=[];for(var Ce=je,Ge;Ce!==null;){var ut=Ce;if(Ge=ut.stateNode,ut=ut.tag,ut!==5&&ut!==26&&ut!==27||Ge===null||Be===null||(ut=Bh(Ce,Be),ut!=null&&on.push(vn(Ce,ut,Ge))),nr)break;Ce=Ce.return}0<on.length&&(Ye=new Ve(Ye,cn,null,y,lt),ht.push({event:Ye,listeners:on}))}}if((h&7)===0){e:{if(Ye=u==="mouseover"||u==="pointerover",Ve=u==="mouseout"||u==="pointerout",Ye&&y!==Wd&&(cn=y.relatedTarget||y.fromElement)&&($o(cn)||cn[ca]))break e;if((Ve||Ye)&&(Ye=lt.window===lt?lt:(Ye=lt.ownerDocument)?Ye.defaultView||Ye.parentWindow:window,Ve?(cn=y.relatedTarget||y.toElement,Ve=je,cn=cn?$o(cn):null,cn!==null&&(nr=a(cn),on=cn.tag,cn!==nr||on!==5&&on!==27&&on!==6)&&(cn=null)):(Ve=null,cn=je),Ve!==cn)){if(on=zc,ut="onMouseLeave",Be="onMouseEnter",Ce="mouse",(u==="pointerout"||u==="pointerover")&&(on=nl,ut="onPointerLeave",Be="onPointerEnter",Ce="pointer"),nr=Ve==null?Ye:Uc(Ve),Ge=cn==null?Ye:Uc(cn),Ye=new on(ut,Ce+"leave",Ve,y,lt),Ye.target=nr,Ye.relatedTarget=Ge,ut=null,$o(lt)===je&&(on=new on(Be,Ce+"enter",cn,y,lt),on.target=Ge,on.relatedTarget=nr,ut=on),nr=ut,Ve&&cn)t:{for(on=Ve,Be=cn,Ce=0,Ge=on;Ge;Ge=Ba(Ge))Ce++;for(Ge=0,ut=Be;ut;ut=Ba(ut))Ge++;for(;0<Ce-Ge;)on=Ba(on),Ce--;for(;0<Ge-Ce;)Be=Ba(Be),Ge--;for(;Ce--;){if(on===Be||Be!==null&&on===Be.alternate)break t;on=Ba(on),Be=Ba(Be)}on=null}else on=null;Ve!==null&&qr(ht,Ye,Ve,on,!1),cn!==null&&nr!==null&&qr(ht,nr,cn,on,!0)}}e:{if(Ye=je?Uc(je):window,Ve=Ye.nodeName&&Ye.nodeName.toLowerCase(),Ve==="select"||Ve==="input"&&Ye.type==="file")var kt=Xm;else if(rp(Ye))if(qm)kt=Bu;else{kt=kc;var Kn=wx}else Ve=Ye.nodeName,!Ve||Ve.toLowerCase()!=="input"||Ye.type!=="checkbox"&&Ye.type!=="radio"?je&&Um(je.elementType)&&(kt=Xm):kt=Du;if(kt&&(kt=kt(u,je))){fa(ht,kt,y,lt);break e}Kn&&Kn(u,Ye,je),u==="focusout"&&je&&Ye.type==="number"&&je.memoizedProps.value!=null&&Zr(Ye,"number",Ye.value)}switch(Kn=je?Uc(je):window,u){case"focusin":(rp(Kn)||Kn.contentEditable==="true")&&(Gc=Kn,jc=je,Ne=null);break;case"focusout":Ne=jc=Gc=null;break;case"mousedown":rt=!0;break;case"contextmenu":case"mouseup":case"dragend":rt=!1,Ze(ht,y,lt);break;case"selectionchange":if(j0)break;case"keydown":case"keyup":Ze(ht,y,lt)}var $t;if(ep)e:{switch(u){case"compositionstart":var un="onCompositionStart";break e;case"compositionend":un="onCompositionEnd";break e;case"compositionupdate":un="onCompositionUpdate";break e}un=void 0}else Wl?tp(u,y)&&(un="onCompositionEnd"):u==="keydown"&&y.keyCode===229&&(un="onCompositionStart");un&&(Sf&&y.locale!=="ko"&&(Wl||un!=="onCompositionStart"?un==="onCompositionEnd"&&Wl&&($t=D0()):(Fc=lt,N0="value"in Fc?Fc.value:Fc.textContent,Wl=!0)),Kn=Kx(je,un),0<Kn.length&&(un=new ka(un,u,null,y,lt),ht.push({event:un,listeners:Kn}),$t?un.data=$t:($t=np(y),$t!==null&&(un.data=$t)))),($t=Fh?ip(u,y):Vm(u,y))&&(un=Kx(je,"onBeforeInput"),0<un.length&&(Kn=new ka("onBeforeInput","beforeinput",null,y,lt),ht.push({event:Kn,listeners:un}),Kn.data=$t)),rN(ht,u,je,y,lt)}QM(ht,h)})}function vn(u,h,y){return{instance:u,listener:h,currentTarget:y}}function Kx(u,h){for(var y=h+"Capture",w=[];u!==null;){var N=u,U=N.stateNode;if(N=N.tag,N!==5&&N!==26&&N!==27||U===null||(N=Bh(u,y),N!=null&&w.unshift(vn(u,N,U)),N=Bh(u,h),N!=null&&w.push(vn(u,N,U))),u.tag===3)return w;u=u.return}return[]}function Ba(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function qr(u,h,y,w,N){for(var U=h._reactName,Z=[];y!==null&&y!==w;){var ae=y,ye=ae.alternate,je=ae.stateNode;if(ae=ae.tag,ye!==null&&ye===w)break;ae!==5&&ae!==26&&ae!==27||je===null||(ye=je,N?(je=Bh(y,U),je!=null&&Z.unshift(vn(y,je,ye))):N||(je=Bh(y,U),je!=null&&Z.push(vn(y,je,ye)))),y=y.return}Z.length!==0&&u.push({event:h,listeners:Z})}var lN=/\r\n?/g,fd=/\u0000|\uFFFD/g;function tw(u){return(typeof u=="string"?u:""+u).replace(lN,`
`).replace(fd,"")}function nw(u,h){return h=tw(h),tw(u)===h}function $x(){}function tr(u,h,y,w,N,U){switch(y){case"children":typeof w=="string"?h==="body"||h==="textarea"&&w===""||wa(u,w):(typeof w=="number"||typeof w=="bigint")&&h!=="body"&&wa(u,""+w);break;case"className":Tt(u,"class",w);break;case"tabIndex":Tt(u,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":Tt(u,y,w);break;case"style":Nh(u,w,U);break;case"data":if(h!=="object"){Tt(u,"data",w);break}case"src":case"href":if(w===""&&(h!=="a"||y!=="href")){u.removeAttribute(y);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){u.removeAttribute(y);break}w=Dh(""+w),u.setAttribute(y,w);break;case"action":case"formAction":if(typeof w=="function"){u.setAttribute(y,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof U=="function"&&(y==="formAction"?(h!=="input"&&tr(u,h,"name",N.name,N,null),tr(u,h,"formEncType",N.formEncType,N,null),tr(u,h,"formMethod",N.formMethod,N,null),tr(u,h,"formTarget",N.formTarget,N,null)):(tr(u,h,"encType",N.encType,N,null),tr(u,h,"method",N.method,N,null),tr(u,h,"target",N.target,N,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){u.removeAttribute(y);break}w=Dh(""+w),u.setAttribute(y,w);break;case"onClick":w!=null&&(u.onclick=$x);break;case"onScroll":w!=null&&ni("scroll",u);break;case"onScrollEnd":w!=null&&ni("scrollend",u);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(i(61));if(y=w.__html,y!=null){if(N.children!=null)throw Error(i(60));u.innerHTML=y}}break;case"multiple":u.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":u.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){u.removeAttribute("xlink:href");break}y=Dh(""+w),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",y);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?u.setAttribute(y,""+w):u.removeAttribute(y);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?u.setAttribute(y,""):u.removeAttribute(y);break;case"capture":case"download":w===!0?u.setAttribute(y,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?u.setAttribute(y,w):u.removeAttribute(y);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?u.setAttribute(y,w):u.removeAttribute(y);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?u.removeAttribute(y):u.setAttribute(y,w);break;case"popover":ni("beforetoggle",u),ni("toggle",u),mt(u,"popover",w);break;case"xlinkActuate":Nt(u,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":Nt(u,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":Nt(u,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":Nt(u,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":Nt(u,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":Nt(u,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":Nt(u,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":Nt(u,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":Nt(u,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":mt(u,"is",w);break;case"innerText":case"textContent":break;default:(!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&(y=Im.get(y)||y,mt(u,y,w))}}function C1(u,h,y,w,N,U){switch(y){case"style":Nh(u,w,U);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(i(61));if(y=w.__html,y!=null){if(N.children!=null)throw Error(i(60));u.innerHTML=y}}break;case"children":typeof w=="string"?wa(u,w):(typeof w=="number"||typeof w=="bigint")&&wa(u,""+w);break;case"onScroll":w!=null&&ni("scroll",u);break;case"onScrollEnd":w!=null&&ni("scrollend",u);break;case"onClick":w!=null&&(u.onclick=$x);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ch.hasOwnProperty(y))e:{if(y[0]==="o"&&y[1]==="n"&&(N=y.endsWith("Capture"),h=y.slice(2,N?y.length-7:void 0),U=u[$r]||null,U=U!=null?U[y]:null,typeof U=="function"&&u.removeEventListener(h,U,N),typeof w=="function")){typeof U!="function"&&U!==null&&(y in u?u[y]=null:u.hasAttribute(y)&&u.removeAttribute(y)),u.addEventListener(h,w,N);break e}y in u?u[y]=w:w===!0?u.setAttribute(y,""):mt(u,y,w)}}}function Oa(u,h,y){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ni("error",u),ni("load",u);var w=!1,N=!1,U;for(U in y)if(y.hasOwnProperty(U)){var Z=y[U];if(Z!=null)switch(U){case"src":w=!0;break;case"srcSet":N=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,h));default:tr(u,h,U,Z,y,null)}}N&&tr(u,h,"srcSet",y.srcSet,y,null),w&&tr(u,h,"src",y.src,y,null);return;case"input":ni("invalid",u);var ae=U=Z=N=null,ye=null,je=null;for(w in y)if(y.hasOwnProperty(w)){var lt=y[w];if(lt!=null)switch(w){case"name":N=lt;break;case"type":Z=lt;break;case"checked":ye=lt;break;case"defaultChecked":je=lt;break;case"value":U=lt;break;case"defaultValue":ae=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(i(137,h));break;default:tr(u,h,w,lt,y,null)}}Di(u,U,ae,ye,je,Z,N,!1),xr(u);return;case"select":ni("invalid",u),w=Z=U=null;for(N in y)if(y.hasOwnProperty(N)&&(ae=y[N],ae!=null))switch(N){case"value":U=ae;break;case"defaultValue":Z=ae;break;case"multiple":w=ae;default:tr(u,h,N,ae,y,null)}h=U,y=Z,u.multiple=!!w,h!=null?zr(u,!!w,h,!1):y!=null&&zr(u,!!w,y,!0);return;case"textarea":ni("invalid",u),U=N=w=null;for(Z in y)if(y.hasOwnProperty(Z)&&(ae=y[Z],ae!=null))switch(Z){case"value":w=ae;break;case"defaultValue":N=ae;break;case"children":U=ae;break;case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(91));break;default:tr(u,h,Z,ae,y,null)}Hr(u,w,N,U),xr(u);return;case"option":for(ye in y)if(y.hasOwnProperty(ye)&&(w=y[ye],w!=null))switch(ye){case"selected":u.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:tr(u,h,ye,w,y,null)}return;case"dialog":ni("beforetoggle",u),ni("toggle",u),ni("cancel",u),ni("close",u);break;case"iframe":case"object":ni("load",u);break;case"video":case"audio":for(w=0;w<bv.length;w++)ni(bv[w],u);break;case"image":ni("error",u),ni("load",u);break;case"details":ni("toggle",u);break;case"embed":case"source":case"link":ni("error",u),ni("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(je in y)if(y.hasOwnProperty(je)&&(w=y[je],w!=null))switch(je){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,h));default:tr(u,h,je,w,y,null)}return;default:if(Um(h)){for(lt in y)y.hasOwnProperty(lt)&&(w=y[lt],w!==void 0&&C1(u,h,lt,w,y,void 0));return}}for(ae in y)y.hasOwnProperty(ae)&&(w=y[ae],w!=null&&tr(u,h,ae,w,y,null))}function cN(u,h,y,w){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var N=null,U=null,Z=null,ae=null,ye=null,je=null,lt=null;for(Ve in y){var ht=y[Ve];if(y.hasOwnProperty(Ve)&&ht!=null)switch(Ve){case"checked":break;case"value":break;case"defaultValue":ye=ht;default:w.hasOwnProperty(Ve)||tr(u,h,Ve,null,w,ht)}}for(var Ye in w){var Ve=w[Ye];if(ht=y[Ye],w.hasOwnProperty(Ye)&&(Ve!=null||ht!=null))switch(Ye){case"type":U=Ve;break;case"name":N=Ve;break;case"checked":je=Ve;break;case"defaultChecked":lt=Ve;break;case"value":Z=Ve;break;case"defaultValue":ae=Ve;break;case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(i(137,h));break;default:Ve!==ht&&tr(u,h,Ye,Ve,w,ht)}}tl(u,Z,ae,ye,je,lt,U,N);return;case"select":Ve=Z=ae=Ye=null;for(U in y)if(ye=y[U],y.hasOwnProperty(U)&&ye!=null)switch(U){case"value":break;case"multiple":Ve=ye;default:w.hasOwnProperty(U)||tr(u,h,U,null,w,ye)}for(N in w)if(U=w[N],ye=y[N],w.hasOwnProperty(N)&&(U!=null||ye!=null))switch(N){case"value":Ye=U;break;case"defaultValue":ae=U;break;case"multiple":Z=U;default:U!==ye&&tr(u,h,N,U,w,ye)}h=ae,y=Z,w=Ve,Ye!=null?zr(u,!!y,Ye,!1):!!w!=!!y&&(h!=null?zr(u,!!y,h,!0):zr(u,!!y,y?[]:"",!1));return;case"textarea":Ve=Ye=null;for(ae in y)if(N=y[ae],y.hasOwnProperty(ae)&&N!=null&&!w.hasOwnProperty(ae))switch(ae){case"value":break;case"children":break;default:tr(u,h,ae,null,w,N)}for(Z in w)if(N=w[Z],U=y[Z],w.hasOwnProperty(Z)&&(N!=null||U!=null))switch(Z){case"value":Ye=N;break;case"defaultValue":Ve=N;break;case"children":break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(91));break;default:N!==U&&tr(u,h,Z,N,w,U)}Qr(u,Ye,Ve);return;case"option":for(var cn in y)if(Ye=y[cn],y.hasOwnProperty(cn)&&Ye!=null&&!w.hasOwnProperty(cn))switch(cn){case"selected":u.selected=!1;break;default:tr(u,h,cn,null,w,Ye)}for(ye in w)if(Ye=w[ye],Ve=y[ye],w.hasOwnProperty(ye)&&Ye!==Ve&&(Ye!=null||Ve!=null))switch(ye){case"selected":u.selected=Ye&&typeof Ye!="function"&&typeof Ye!="symbol";break;default:tr(u,h,ye,Ye,w,Ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var on in y)Ye=y[on],y.hasOwnProperty(on)&&Ye!=null&&!w.hasOwnProperty(on)&&tr(u,h,on,null,w,Ye);for(je in w)if(Ye=w[je],Ve=y[je],w.hasOwnProperty(je)&&Ye!==Ve&&(Ye!=null||Ve!=null))switch(je){case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(i(137,h));break;default:tr(u,h,je,Ye,w,Ve)}return;default:if(Um(h)){for(var nr in y)Ye=y[nr],y.hasOwnProperty(nr)&&Ye!==void 0&&!w.hasOwnProperty(nr)&&C1(u,h,nr,void 0,w,Ye);for(lt in w)Ye=w[lt],Ve=y[lt],!w.hasOwnProperty(lt)||Ye===Ve||Ye===void 0&&Ve===void 0||C1(u,h,lt,Ye,w,Ve);return}}for(var Be in y)Ye=y[Be],y.hasOwnProperty(Be)&&Ye!=null&&!w.hasOwnProperty(Be)&&tr(u,h,Be,null,w,Ye);for(ht in w)Ye=w[ht],Ve=y[ht],!w.hasOwnProperty(ht)||Ye===Ve||Ye==null&&Ve==null||tr(u,h,ht,Ye,w,Ve)}var uu=null,Zx=null;function zp(u){return u.nodeType===9?u:u.ownerDocument}function Nr(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Br(u,h){if(u===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&h==="foreignObject"?0:u}function Qx(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var R1=null;function uN(){var u=window.event;return u&&u.type==="popstate"?u===R1?!1:(R1=u,!0):(R1=null,!1)}var iw=typeof setTimeout=="function"?setTimeout:void 0,fN=typeof clearTimeout=="function"?clearTimeout:void 0,rw=typeof Promise=="function"?Promise:void 0,hN=typeof queueMicrotask=="function"?queueMicrotask:typeof rw<"u"?function(u){return rw.resolve(null).then(u).catch(aw)}:iw;function aw(u){setTimeout(function(){throw u})}function pc(u){return u==="head"}function e_(u,h){var y=h,w=0,N=0;do{var U=y.nextSibling;if(u.removeChild(y),U&&U.nodeType===8)if(y=U.data,y==="/$"){if(0<w&&8>w){y=w;var Z=u.ownerDocument;if(y&1&&Av(Z.documentElement),y&2&&Av(Z.body),y&4)for(y=Z.head,Av(y),Z=y.firstChild;Z;){var ae=Z.nextSibling,ye=Z.nodeName;Z[Ko]||ye==="SCRIPT"||ye==="STYLE"||ye==="LINK"&&Z.rel.toLowerCase()==="stylesheet"||y.removeChild(Z),Z=ae}}if(N===0){u.removeChild(U),Nv(h);return}N--}else y==="$"||y==="$?"||y==="$!"?N++:w=y.charCodeAt(0)-48;else w=0;y=U}while(y);Nv(h)}function N1(u){var h=u.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var y=h;switch(h=h.nextSibling,y.nodeName){case"HTML":case"HEAD":case"BODY":N1(y),Ui(y);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(y.rel.toLowerCase()==="stylesheet")continue}u.removeChild(y)}}function sw(u,h,y,w){for(;u.nodeType===1;){var N=y;if(u.nodeName.toLowerCase()!==h.toLowerCase()){if(!w&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(w){if(!u[Ko])switch(h){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(U=u.getAttribute("rel"),U==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(U!==N.rel||u.getAttribute("href")!==(N.href==null||N.href===""?null:N.href)||u.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin)||u.getAttribute("title")!==(N.title==null?null:N.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(U=u.getAttribute("src"),(U!==(N.src==null?null:N.src)||u.getAttribute("type")!==(N.type==null?null:N.type)||u.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin))&&U&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(h==="input"&&u.type==="hidden"){var U=N.name==null?null:""+N.name;if(N.type==="hidden"&&u.getAttribute("name")===U)return u}else return u;if(u=fu(u.nextSibling),u===null)break}return null}function t_(u,h,y){if(h==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!y||(u=fu(u.nextSibling),u===null))return null;return u}function ao(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState==="complete"}function Tg(u,h){var y=u.ownerDocument;if(u.data!=="$?"||y.readyState==="complete")h();else{var w=function(){h(),y.removeEventListener("DOMContentLoaded",w)};y.addEventListener("DOMContentLoaded",w),u._reactRetry=w}}function fu(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?"||h==="F!"||h==="F")break;if(h==="/$")return null}}return u}var D1=null;function ow(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var y=u.data;if(y==="$"||y==="$!"||y==="$?"){if(h===0)return u;h--}else y==="/$"&&h++}u=u.previousSibling}return null}function lw(u,h,y){switch(h=zp(y),u){case"html":if(u=h.documentElement,!u)throw Error(i(452));return u;case"head":if(u=h.head,!u)throw Error(i(453));return u;case"body":if(u=h.body,!u)throw Error(i(454));return u;default:throw Error(i(451))}}function Av(u){for(var h=u.attributes;h.length;)u.removeAttributeNode(h[0]);Ui(u)}var Sl=new Map,Zu=new Set;function wn(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var Qu=J.d;J.d={f:mc,r:cw,D:dN,C:uw,L:n_,m:pN,X:gN,S:mN,M:vN};function mc(){var u=Qu.f(),h=dc();return u||h}function cw(u){var h=Zo(u);h!==null&&h.tag===5&&h.type==="form"?dg(h):Qu.r(u)}var Cg=typeof document>"u"?null:document;function Oi(u,h,y){var w=Cg;if(w&&typeof h=="string"&&h){var N=Xi(h);N='link[rel="'+u+'"][href="'+N+'"]',typeof y=="string"&&(N+='[crossorigin="'+y+'"]'),Zu.has(N)||(Zu.add(N),u={rel:u,crossOrigin:y,href:h},w.querySelector(N)===null&&(h=w.createElement("link"),Oa(h,"link",u),Ir(h),w.head.appendChild(h)))}}function dN(u){Qu.D(u),Oi("dns-prefetch",u,null)}function uw(u,h){Qu.C(u,h),Oi("preconnect",u,h)}function n_(u,h,y){Qu.L(u,h,y);var w=Cg;if(w&&u&&h){var N='link[rel="preload"][as="'+Xi(h)+'"]';h==="image"&&y&&y.imageSrcSet?(N+='[imagesrcset="'+Xi(y.imageSrcSet)+'"]',typeof y.imageSizes=="string"&&(N+='[imagesizes="'+Xi(y.imageSizes)+'"]')):N+='[href="'+Xi(u)+'"]';var U=N;switch(h){case"style":U=Rg(u);break;case"script":U=Ng(u)}Sl.has(U)||(u=f({rel:"preload",href:h==="image"&&y&&y.imageSrcSet?void 0:u,as:h},y),Sl.set(U,u),w.querySelector(N)!==null||h==="style"&&w.querySelector(Sv(U))||h==="script"&&w.querySelector(Mv(U))||(h=w.createElement("link"),Oa(h,"link",u),Ir(h),w.head.appendChild(h)))}}function pN(u,h){Qu.m(u,h);var y=Cg;if(y&&u){var w=h&&typeof h.as=="string"?h.as:"script",N='link[rel="modulepreload"][as="'+Xi(w)+'"][href="'+Xi(u)+'"]',U=N;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":U=Ng(u)}if(!Sl.has(U)&&(u=f({rel:"modulepreload",href:u},h),Sl.set(U,u),y.querySelector(N)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(y.querySelector(Mv(U)))return}w=y.createElement("link"),Oa(w,"link",u),Ir(w),y.head.appendChild(w)}}}function mN(u,h,y){Qu.S(u,h,y);var w=Cg;if(w&&u){var N=Ic(w).hoistableStyles,U=Rg(u);h=h||"default";var Z=N.get(U);if(!Z){var ae={loading:0,preload:null};if(Z=w.querySelector(Sv(U)))ae.loading=5;else{u=f({rel:"stylesheet",href:u,"data-precedence":h},y),(y=Sl.get(U))&&wv(u,y);var ye=Z=w.createElement("link");Ir(ye),Oa(ye,"link",u),ye._p=new Promise(function(je,lt){ye.onload=je,ye.onerror=lt}),ye.addEventListener("load",function(){ae.loading|=1}),ye.addEventListener("error",function(){ae.loading|=2}),ae.loading|=4,i_(Z,h,w)}Z={type:"stylesheet",instance:Z,count:1,state:ae},N.set(U,Z)}}}function gN(u,h){Qu.X(u,h);var y=Cg;if(y&&u){var w=Ic(y).hoistableScripts,N=Ng(u),U=w.get(N);U||(U=y.querySelector(Mv(N)),U||(u=f({src:u,async:!0},h),(h=Sl.get(N))&&B1(u,h),U=y.createElement("script"),Ir(U),Oa(U,"link",u),y.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},w.set(N,U))}}function vN(u,h){Qu.M(u,h);var y=Cg;if(y&&u){var w=Ic(y).hoistableScripts,N=Ng(u),U=w.get(N);U||(U=y.querySelector(Mv(N)),U||(u=f({src:u,async:!0,type:"module"},h),(h=Sl.get(N))&&B1(u,h),U=y.createElement("script"),Ir(U),Oa(U,"link",u),y.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},w.set(N,U))}}function fw(u,h,y,w){var N=(N=Se.current)?wn(N):null;if(!N)throw Error(i(446));switch(u){case"meta":case"title":return null;case"style":return typeof y.precedence=="string"&&typeof y.href=="string"?(h=Rg(y.href),y=Ic(N).hoistableStyles,w=y.get(h),w||(w={type:"style",instance:null,count:0,state:null},y.set(h,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(y.rel==="stylesheet"&&typeof y.href=="string"&&typeof y.precedence=="string"){u=Rg(y.href);var U=Ic(N).hoistableStyles,Z=U.get(u);if(Z||(N=N.ownerDocument||N,Z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},U.set(u,Z),(U=N.querySelector(Sv(u)))&&!U._p&&(Z.instance=U,Z.state.loading=5),Sl.has(u)||(y={rel:"preload",as:"style",href:y.href,crossOrigin:y.crossOrigin,integrity:y.integrity,media:y.media,hrefLang:y.hrefLang,referrerPolicy:y.referrerPolicy},Sl.set(u,y),U||yN(N,u,y,Z.state))),h&&w===null)throw Error(i(528,""));return Z}if(h&&w!==null)throw Error(i(529,""));return null;case"script":return h=y.async,y=y.src,typeof y=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=Ng(y),y=Ic(N).hoistableScripts,w=y.get(h),w||(w={type:"script",instance:null,count:0,state:null},y.set(h,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,u))}}function Rg(u){return'href="'+Xi(u)+'"'}function Sv(u){return'link[rel="stylesheet"]['+u+"]"}function hw(u){return f({},u,{"data-precedence":u.precedence,precedence:null})}function yN(u,h,y,w){u.querySelector('link[rel="preload"][as="style"]['+h+"]")?w.loading=1:(h=u.createElement("link"),w.preload=h,h.addEventListener("load",function(){return w.loading|=1}),h.addEventListener("error",function(){return w.loading|=2}),Oa(h,"link",y),Ir(h),u.head.appendChild(h))}function Ng(u){return'[src="'+Xi(u)+'"]'}function Mv(u){return"script[async]"+u}function dw(u,h,y){if(h.count++,h.instance===null)switch(h.type){case"style":var w=u.querySelector('style[data-href~="'+Xi(y.href)+'"]');if(w)return h.instance=w,Ir(w),w;var N=f({},y,{"data-href":y.href,"data-precedence":y.precedence,href:null,precedence:null});return w=(u.ownerDocument||u).createElement("style"),Ir(w),Oa(w,"style",N),i_(w,y.precedence,u),h.instance=w;case"stylesheet":N=Rg(y.href);var U=u.querySelector(Sv(N));if(U)return h.state.loading|=4,h.instance=U,Ir(U),U;w=hw(y),(N=Sl.get(N))&&wv(w,N),U=(u.ownerDocument||u).createElement("link"),Ir(U);var Z=U;return Z._p=new Promise(function(ae,ye){Z.onload=ae,Z.onerror=ye}),Oa(U,"link",w),h.state.loading|=4,i_(U,y.precedence,u),h.instance=U;case"script":return U=Ng(y.src),(N=u.querySelector(Mv(U)))?(h.instance=N,Ir(N),N):(w=y,(N=Sl.get(U))&&(w=f({},y),B1(w,N)),u=u.ownerDocument||u,N=u.createElement("script"),Ir(N),Oa(N,"link",w),u.head.appendChild(N),h.instance=N);case"void":return null;default:throw Error(i(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(w=h.instance,h.state.loading|=4,i_(w,y.precedence,u));return h.instance}function i_(u,h,y){for(var w=y.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),N=w.length?w[w.length-1]:null,U=N,Z=0;Z<w.length;Z++){var ae=w[Z];if(ae.dataset.precedence===h)U=ae;else if(U!==N)break}U?U.parentNode.insertBefore(u,U.nextSibling):(h=y.nodeType===9?y.head:y,h.insertBefore(u,h.firstChild))}function wv(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.title==null&&(u.title=h.title)}function B1(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.integrity==null&&(u.integrity=h.integrity)}var Dg=null;function pw(u,h,y){if(Dg===null){var w=new Map,N=Dg=new Map;N.set(y,w)}else N=Dg,w=N.get(y),w||(w=new Map,N.set(y,w));if(w.has(u))return w;for(w.set(u,null),y=y.getElementsByTagName(u),N=0;N<y.length;N++){var U=y[N];if(!(U[Ko]||U[Er]||u==="link"&&U.getAttribute("rel")==="stylesheet")&&U.namespaceURI!=="http://www.w3.org/2000/svg"){var Z=U.getAttribute(h)||"";Z=u+Z;var ae=w.get(Z);ae?ae.push(U):w.set(Z,[U])}}return w}function mw(u,h,y){u=u.ownerDocument||u,u.head.insertBefore(y,h==="title"?u.querySelector("head > title"):null)}function xN(u,h,y){if(y===1||h.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return u=h.disabled,typeof h.precedence=="string"&&u==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function La(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}var $a=null;function _N(){}function bN(u,h,y){if($a===null)throw Error(i(475));var w=$a;if(h.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var N=Rg(y.href),U=u.querySelector(Sv(N));if(U){u=U._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(w.count++,w=Ev.bind(w),u.then(w,w)),h.state.loading|=4,h.instance=U,Ir(U);return}U=u.ownerDocument||u,y=hw(y),(N=Sl.get(N))&&wv(y,N),U=U.createElement("link"),Ir(U);var Z=U;Z._p=new Promise(function(ae,ye){Z.onload=ae,Z.onerror=ye}),Oa(U,"link",y),h.instance=U}w.stylesheets===null&&(w.stylesheets=new Map),w.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(w.count++,h=Ev.bind(w),u.addEventListener("load",h),u.addEventListener("error",h))}}function AN(){if($a===null)throw Error(i(475));var u=$a;return u.stylesheets&&u.count===0&&O1(u,u.stylesheets),0<u.count?function(h){var y=setTimeout(function(){if(u.stylesheets&&O1(u,u.stylesheets),u.unsuspend){var w=u.unsuspend;u.unsuspend=null,w()}},6e4);return u.unsuspend=h,function(){u.unsuspend=null,clearTimeout(y)}}:null}function Ev(){if(this.count--,this.count===0){if(this.stylesheets)O1(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var r_=null;function O1(u,h){u.stylesheets=null,u.unsuspend!==null&&(u.count++,r_=new Map,h.forEach(SN,u),r_=null,Ev.call(u))}function SN(u,h){if(!(h.state.loading&4)){var y=r_.get(u);if(y)var w=y.get(null);else{y=new Map,r_.set(u,y);for(var N=u.querySelectorAll("link[data-precedence],style[data-precedence]"),U=0;U<N.length;U++){var Z=N[U];(Z.nodeName==="LINK"||Z.getAttribute("media")!=="not all")&&(y.set(Z.dataset.precedence,Z),w=Z)}w&&y.set(null,w)}N=h.instance,Z=N.getAttribute("data-precedence"),U=y.get(Z)||w,U===w&&y.set(null,N),y.set(Z,N),this.count++,w=Ev.bind(this),N.addEventListener("load",w),N.addEventListener("error",w),U?U.parentNode.insertBefore(N,U.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(N,u.firstChild)),h.state.loading|=4}}var Bg={$$typeof:R,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function MN(u,h,y,w,N,U,Z,ae){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$e(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$e(0),this.hiddenUpdates=$e(null),this.identifierPrefix=w,this.onUncaughtError=N,this.onCaughtError=U,this.onRecoverableError=Z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ae,this.incompleteTransitions=new Map}function gw(u,h,y,w,N,U,Z,ae,ye,je,lt,ht){return u=new MN(u,h,y,Z,ae,ye,je,ht),h=1,U===!0&&(h|=24),U=os(3,null,null,h),u.current=U,U.stateNode=u,h=Qm(),h.refCount++,u.pooledCache=h,h.refCount++,U.memoizedState={element:w,isDehydrated:y,cache:h},Bf(U),u}function vw(u){return u?(u=Xc,u):Xc}function L1(u,h,y,w,N,U){N=vw(N),w.context===null?w.context=N:w.pendingContext=N,w=Ql(h),w.payload={element:y},U=U===void 0?null:U,U!==null&&(w.callback=U),y=ec(u,w,h),y!==null&&(ds(y,u,h),Of(y,u,h))}function P1(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var y=u.retryLane;u.retryLane=y!==0&&y<h?y:h}}function U1(u,h){P1(u,h),(u=u.alternate)&&P1(u,h)}function yw(u){if(u.tag===13){var h=Jl(u,67108864);h!==null&&ds(h,u,67108864),U1(u,67108864)}}var a_=!0;function wN(u,h,y,w){var N=H.T;H.T=null;var U=J.p;try{J.p=2,I1(u,h,y,w)}finally{J.p=U,H.T=N}}function Og(u,h,y,w){var N=H.T;H.T=null;var U=J.p;try{J.p=8,I1(u,h,y,w)}finally{J.p=U,H.T=N}}function I1(u,h,y,w){if(a_){var N=F1(w);if(N===null)Kf(u,h,w,s_,y),_w(u,w);else if(TN(N,u,h,y,w))w.stopPropagation();else if(_w(u,w),h&4&&-1<EN.indexOf(u)){for(;N!==null;){var U=Zo(N);if(U!==null)switch(U.tag){case 3:if(U=U.stateNode,U.current.memoizedState.isDehydrated){var Z=wt(U.pendingLanes);if(Z!==0){var ae=U;for(ae.pendingLanes|=2,ae.entangledLanes|=2;Z;){var ye=1<<31-Mt(Z);ae.entanglements[1]|=ye,Z&=~ye}$u(U),(Ti&6)===0&&(xa=_e()+500,yv(0))}}break;case 13:ae=Jl(U,2),ae!==null&&ds(ae,U,2),dc(),U1(U,2)}if(U=F1(w),U===null&&Kf(u,h,w,s_,y),U===N)break;N=U}N!==null&&w.stopPropagation()}else Kf(u,h,w,null,y)}}function F1(u){return u=Fm(u),z1(u)}var s_=null;function z1(u){if(s_=null,u=$o(u),u!==null){var h=a(u);if(h===null)u=null;else{var y=h.tag;if(y===13){if(u=s(h),u!==null)return u;u=null}else if(y===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null)}}return s_=u,null}function xw(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Le()){case pt:return 2;case ze:return 8;case le:case te:return 32;case Ee:return 268435456;default:return 32}default:return 32}}var o_=!1,$f=null,hd=null,dd=null,Tv=new Map,Cv=new Map,pd=[],EN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _w(u,h){switch(u){case"focusin":case"focusout":$f=null;break;case"dragenter":case"dragleave":hd=null;break;case"mouseover":case"mouseout":dd=null;break;case"pointerover":case"pointerout":Tv.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cv.delete(h.pointerId)}}function Rv(u,h,y,w,N,U){return u===null||u.nativeEvent!==U?(u={blockedOn:h,domEventName:y,eventSystemFlags:w,nativeEvent:U,targetContainers:[N]},h!==null&&(h=Zo(h),h!==null&&yw(h)),u):(u.eventSystemFlags|=w,h=u.targetContainers,N!==null&&h.indexOf(N)===-1&&h.push(N),u)}function TN(u,h,y,w,N){switch(h){case"focusin":return $f=Rv($f,u,h,y,w,N),!0;case"dragenter":return hd=Rv(hd,u,h,y,w,N),!0;case"mouseover":return dd=Rv(dd,u,h,y,w,N),!0;case"pointerover":var U=N.pointerId;return Tv.set(U,Rv(Tv.get(U)||null,u,h,y,w,N)),!0;case"gotpointercapture":return U=N.pointerId,Cv.set(U,Rv(Cv.get(U)||null,u,h,y,w,N)),!0}return!1}function bw(u){var h=$o(u.target);if(h!==null){var y=a(h);if(y!==null){if(h=y.tag,h===13){if(h=s(y),h!==null){u.blockedOn=h,Ur(u.priority,function(){if(y.tag===13){var w=cr();w=On(w);var N=Jl(y,w);N!==null&&ds(N,y,w),U1(y,w)}});return}}else if(h===3&&y.stateNode.current.memoizedState.isDehydrated){u.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}u.blockedOn=null}function l_(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var y=F1(u.nativeEvent);if(y===null){y=u.nativeEvent;var w=new y.constructor(y.type,y);Wd=w,y.target.dispatchEvent(w),Wd=null}else return h=Zo(y),h!==null&&yw(h),u.blockedOn=y,!1;h.shift()}return!0}function Aw(u,h,y){l_(u)&&y.delete(h)}function CN(){o_=!1,$f!==null&&l_($f)&&($f=null),hd!==null&&l_(hd)&&(hd=null),dd!==null&&l_(dd)&&(dd=null),Tv.forEach(Aw),Cv.forEach(Aw)}function c_(u,h){u.blockedOn===h&&(u.blockedOn=null,o_||(o_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,CN)))}var u_=null;function Sw(u){u_!==u&&(u_=u,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){u_===u&&(u_=null);for(var h=0;h<u.length;h+=3){var y=u[h],w=u[h+1],N=u[h+2];if(typeof w!="function"){if(z1(w||y)===null)continue;break}var U=Zo(y);U!==null&&(u.splice(h,3),h-=3,Tp(U,{pending:!0,data:N,method:y.method,action:w},w,N))}}))}function Nv(u){function h(ye){return c_(ye,u)}$f!==null&&c_($f,u),hd!==null&&c_(hd,u),dd!==null&&c_(dd,u),Tv.forEach(h),Cv.forEach(h);for(var y=0;y<pd.length;y++){var w=pd[y];w.blockedOn===u&&(w.blockedOn=null)}for(;0<pd.length&&(y=pd[0],y.blockedOn===null);)bw(y),y.blockedOn===null&&pd.shift();if(y=(u.ownerDocument||u).$$reactFormReplay,y!=null)for(w=0;w<y.length;w+=3){var N=y[w],U=y[w+1],Z=N[$r]||null;if(typeof U=="function")Z||Sw(y);else if(Z){var ae=null;if(U&&U.hasAttribute("formAction")){if(N=U,Z=U[$r]||null)ae=Z.formAction;else if(z1(N)!==null)continue}else ae=Z.action;typeof ae=="function"?y[w+1]=ae:(y.splice(w,3),w-=3),Sw(y)}}}function H1(u){this._internalRoot=u}f_.prototype.render=H1.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(i(409));var y=h.current,w=cr();L1(y,w,u,h,null,null)},f_.prototype.unmount=H1.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;L1(u.current,2,null,u,null,null),dc(),h[ca]=null}};function f_(u){this._internalRoot=u}f_.prototype.unstable_scheduleHydration=function(u){if(u){var h=En();u={blockedOn:null,target:u,priority:h};for(var y=0;y<pd.length&&h!==0&&h<pd[y].priority;y++);pd.splice(y,0,u),y===0&&bw(u)}};var Mw=e.version;if(Mw!=="19.1.0")throw Error(i(527,Mw,"19.1.0"));J.findDOMNode=function(u){var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(i(188)):(u=Object.keys(u).join(","),Error(i(268,u)));return u=l(h),u=u!==null?c(u):null,u=u===null?null:u.stateNode,u};var RN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var h_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!h_.isDisabled&&h_.supportsFiber)try{tt=h_.inject(RN),_t=h_}catch{}}return G1.createRoot=function(u,h){if(!r(u))throw Error(i(299));var y=!1,w="",N=ed,U=td,Z=jx,ae=null;return h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(N=h.onUncaughtError),h.onCaughtError!==void 0&&(U=h.onCaughtError),h.onRecoverableError!==void 0&&(Z=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(ae=h.unstable_transitionCallbacks)),h=gw(u,1,!1,null,null,y,w,N,U,Z,ae,null),u[ca]=h.current,T1(u),new H1(h)},G1.hydrateRoot=function(u,h,y){if(!r(u))throw Error(i(299));var w=!1,N="",U=ed,Z=td,ae=jx,ye=null,je=null;return y!=null&&(y.unstable_strictMode===!0&&(w=!0),y.identifierPrefix!==void 0&&(N=y.identifierPrefix),y.onUncaughtError!==void 0&&(U=y.onUncaughtError),y.onCaughtError!==void 0&&(Z=y.onCaughtError),y.onRecoverableError!==void 0&&(ae=y.onRecoverableError),y.unstable_transitionCallbacks!==void 0&&(ye=y.unstable_transitionCallbacks),y.formState!==void 0&&(je=y.formState)),h=gw(u,1,!0,h,y??null,w,N,U,Z,ae,ye,je),h.context=vw(null),y=h.current,w=cr(),w=On(w),N=Ql(w),N.callback=null,ec(y,N,w),y=w,h.current.lanes=y,at(h,y),$u(h),u[ca]=h.current,T1(u),new f_(h)},G1.version="19.1.0",G1}var ZU;function _$(){if(ZU)return PN.exports;ZU=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),PN.exports=x$(),PN.exports}var j7=_$(),j1={},QU;function b$(){if(QU)return j1;QU=1,Object.defineProperty(j1,"__esModule",{value:!0}),j1.parse=s,j1.serialize=c;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,a=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function s(p,v){const _=new a,S=p.length;if(S<2)return _;const b=(v==null?void 0:v.decode)||f;let A=0;do{const T=p.indexOf("=",A);if(T===-1)break;const R=p.indexOf(";",A),C=R===-1?S:R;if(T>C){A=p.lastIndexOf(";",T-1)+1;continue}const L=o(p,A,T),P=l(p,T,L),k=p.slice(L,P);if(_[k]===void 0){let G=o(p,T+1,C),z=l(p,C,G);const F=b(p.slice(G,z));_[k]=F}A=C+1}while(A<S);return _}function o(p,v,_){do{const S=p.charCodeAt(v);if(S!==32&&S!==9)return v}while(++v<_);return _}function l(p,v,_){for(;v>_;){const S=p.charCodeAt(--v);if(S!==32&&S!==9)return v+1}return _}function c(p,v,_){const S=(_==null?void 0:_.encode)||encodeURIComponent;if(!t.test(p))throw new TypeError(`argument name is invalid: ${p}`);const b=S(v);if(!e.test(b))throw new TypeError(`argument val is invalid: ${v}`);let A=p+"="+b;if(!_)return A;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);A+="; Max-Age="+_.maxAge}if(_.domain){if(!n.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);A+="; Domain="+_.domain}if(_.path){if(!i.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);A+="; Path="+_.path}if(_.expires){if(!d(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);A+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(A+="; HttpOnly"),_.secure&&(A+="; Secure"),_.partitioned&&(A+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return A}function f(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function d(p){return r.call(p)==="[object Date]"}return j1}b$();var e8="popstate";function A$(t={}){function e(i,r){let{pathname:a,search:s,hash:o}=i.location;return E4("",{pathname:a,search:s,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:AS(r)}return M$(e,n,null,t)}function Jr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function S$(){return Math.random().toString(36).substring(2,10)}function t8(t,e){return{usr:t.state,key:t.key,idx:e}}function E4(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?e1(e):e,state:n,key:e&&e.key||i||S$()}}function AS({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function e1(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function M$(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,s=r.history,o="POP",l=null,c=f();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function f(){return(s.state||{idx:null}).idx}function d(){o="POP";let b=f(),A=b==null?null:b-c;c=b,l&&l({action:o,location:S.location,delta:A})}function p(b,A){o="PUSH";let T=E4(S.location,b,A);c=f()+1;let R=t8(T,c),C=S.createHref(T);try{s.pushState(R,"",C)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;r.location.assign(C)}a&&l&&l({action:o,location:S.location,delta:1})}function v(b,A){o="REPLACE";let T=E4(S.location,b,A);c=f();let R=t8(T,c),C=S.createHref(T);s.replaceState(R,"",C),a&&l&&l({action:o,location:S.location,delta:0})}function _(b){let A=r.location.origin!=="null"?r.location.origin:r.location.href,T=typeof b=="string"?b:AS(b);return T=T.replace(/ $/,"%20"),Jr(A,`No window.location.(origin|href) available to create URL for href: ${T}`),new URL(T,A)}let S={get action(){return o},get location(){return t(r,s)},listen(b){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(e8,d),l=b,()=>{r.removeEventListener(e8,d),l=null}},createHref(b){return e(r,b)},createURL:_,encodeLocation(b){let A=_(b);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:p,replace:v,go(b){return s.go(b)}};return S}function V7(t,e,n="/"){return w$(t,e,n,!1)}function w$(t,e,n,i){let r=typeof e=="string"?e1(e):e,a=Tm(r.pathname||"/",n);if(a==null)return null;let s=X7(t);E$(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=I$(a);o=P$(s[l],c,i)}return o}function X7(t,e=[],n=[],i=""){let r=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(Jr(l.relativePath.startsWith(i),`Absolute route path "${l.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(i.length));let c=Am([i,l.relativePath]),f=n.concat(l);a.children&&a.children.length>0&&(Jr(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),X7(a.children,e,f,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:O$(c,a.index),routesMeta:f})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))r(a,s);else for(let l of q7(a.path))r(a,s,l)}),e}function q7(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let s=q7(i.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),r&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function E$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:L$(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var T$=/^:[\w-]+$/,C$=3,R$=2,N$=1,D$=10,B$=-2,n8=t=>t==="*";function O$(t,e){let n=t.split("/"),i=n.length;return n.some(n8)&&(i+=B$),e&&(i+=R$),n.filter(r=>!n8(r)).reduce((r,a)=>r+(T$.test(a)?C$:a===""?N$:D$),i)}function L$(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function P$(t,e,n=!1){let{routesMeta:i}=t,r={},a="/",s=[];for(let o=0;o<i.length;++o){let l=i[o],c=o===i.length-1,f=a==="/"?e:e.slice(a.length)||"/",d=ZE({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),p=l.route;if(!d&&c&&n&&!i[i.length-1].route.index&&(d=ZE({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!d)return null;Object.assign(r,d.params),s.push({params:r,pathname:Am([a,d.pathname]),pathnameBase:k$(Am([a,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(a=Am([a,d.pathnameBase]))}return s}function ZE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=U$(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let a=r[0],s=a.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((c,{paramName:f,isOptional:d},p)=>{if(f==="*"){let _=o[p]||"";s=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const v=o[p];return d&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function U$(t,e=!1,n=!0){yh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function I$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yh(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Tm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function F$(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?e1(t):t;return{pathname:n?n.startsWith("/")?n:z$(n,e):e,search:G$(i),hash:j$(r)}}function z$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function zN(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function H$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function F5(t){let e=H$(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function z5(t,e,n,i=!1){let r;typeof t=="string"?r=e1(t):(r={...t},Jr(!r.pathname||!r.pathname.includes("?"),zN("?","pathname","search",r)),Jr(!r.pathname||!r.pathname.includes("#"),zN("#","pathname","hash",r)),Jr(!r.search||!r.search.includes("#"),zN("#","search","hash",r)));let a=t===""||r.pathname==="",s=a?"/":r.pathname,o;if(s==null)o=n;else{let d=e.length-1;if(!i&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),d-=1;r.pathname=p.join("/")}o=d>=0?e[d]:"/"}let l=F$(r,o),c=s&&s!=="/"&&s.endsWith("/"),f=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}var Am=t=>t.join("/").replace(/\/\/+/g,"/"),k$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),G$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,j$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function V$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Y7=["POST","PUT","PATCH","DELETE"];new Set(Y7);var X$=["GET",...Y7];new Set(X$);var t1=ce.createContext(null);t1.displayName="DataRouter";var gR=ce.createContext(null);gR.displayName="DataRouterState";var W7=ce.createContext({isTransitioning:!1});W7.displayName="ViewTransition";var q$=ce.createContext(new Map);q$.displayName="Fetchers";var Y$=ce.createContext(null);Y$.displayName="Await";var Ah=ce.createContext(null);Ah.displayName="Navigation";var uM=ce.createContext(null);uM.displayName="Location";var jd=ce.createContext({outlet:null,matches:[],isDataRoute:!1});jd.displayName="Route";var H5=ce.createContext(null);H5.displayName="RouteError";function W$(t,{relative:e}={}){Jr(n1(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=ce.useContext(Ah),{hash:r,pathname:a,search:s}=fM(t,{relative:e}),o=a;return n!=="/"&&(o=a==="/"?n:Am([n,a])),i.createHref({pathname:o,search:s,hash:r})}function n1(){return ce.useContext(uM)!=null}function Lm(){return Jr(n1(),"useLocation() may be used only in the context of a <Router> component."),ce.useContext(uM).location}var J7="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function K7(t){ce.useContext(Ah).static||ce.useLayoutEffect(t)}function sx(){let{isDataRoute:t}=ce.useContext(jd);return t?oZ():J$()}function J$(){Jr(n1(),"useNavigate() may be used only in the context of a <Router> component.");let t=ce.useContext(t1),{basename:e,navigator:n}=ce.useContext(Ah),{matches:i}=ce.useContext(jd),{pathname:r}=Lm(),a=JSON.stringify(F5(i)),s=ce.useRef(!1);return K7(()=>{s.current=!0}),ce.useCallback((l,c={})=>{if(yh(s.current,J7),!s.current)return;if(typeof l=="number"){n.go(l);return}let f=z5(l,JSON.parse(a),r,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Am([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,a,r,t])}ce.createContext(null);function fM(t,{relative:e}={}){let{matches:n}=ce.useContext(jd),{pathname:i}=Lm(),r=JSON.stringify(F5(n));return ce.useMemo(()=>z5(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function K$(t,e){return $7(t,e)}function $7(t,e,n,i){var T;Jr(n1(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:a}=ce.useContext(Ah),{matches:s}=ce.useContext(jd),o=s[s.length-1],l=o?o.params:{},c=o?o.pathname:"/",f=o?o.pathnameBase:"/",d=o&&o.route;{let R=d&&d.path||"";Z7(c,!d||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let p=Lm(),v;if(e){let R=typeof e=="string"?e1(e):e;Jr(f==="/"||((T=R.pathname)==null?void 0:T.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${R.pathname}" was given in the \`location\` prop.`),v=R}else v=p;let _=v.pathname||"/",S=_;if(f!=="/"){let R=f.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(R.length).join("/")}let b=!a&&n&&n.matches&&n.matches.length>0?n.matches:V7(t,{pathname:S});yh(d||b!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),yh(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=tZ(b&&b.map(R=>Object.assign({},R,{params:Object.assign({},l,R.params),pathname:Am([f,r.encodeLocation?r.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?f:Am([f,r.encodeLocation?r.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),s,n,i);return e&&A?ce.createElement(uM.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},A):A}function $$(){let t=sZ(),e=V$(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=ce.createElement(ce.Fragment,null,ce.createElement("p",null,"💿 Hey developer 👋"),ce.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ce.createElement("code",{style:a},"ErrorBoundary")," or"," ",ce.createElement("code",{style:a},"errorElement")," prop on your route.")),ce.createElement(ce.Fragment,null,ce.createElement("h2",null,"Unexpected Application Error!"),ce.createElement("h3",{style:{fontStyle:"italic"}},e),n?ce.createElement("pre",{style:r},n):null,s)}var Z$=ce.createElement($$,null),Q$=class extends ce.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?ce.createElement(jd.Provider,{value:this.props.routeContext},ce.createElement(H5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eZ({routeContext:t,match:e,children:n}){let i=ce.useContext(t1);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),ce.createElement(jd.Provider,{value:t},n)}function tZ(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let r=t,a=n==null?void 0:n.errors;if(a!=null){let l=r.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id])!==void 0);Jr(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,l+1))}let s=!1,o=-1;if(n)for(let l=0;l<r.length;l++){let c=r[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(o=l),c.route.id){let{loaderData:f,errors:d}=n,p=c.route.loader&&!f.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||p){s=!0,o>=0?r=r.slice(0,o+1):r=[r[0]];break}}}return r.reduceRight((l,c,f)=>{let d,p=!1,v=null,_=null;n&&(d=a&&c.route.id?a[c.route.id]:void 0,v=c.route.errorElement||Z$,s&&(o<0&&f===0?(Z7("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,_=null):o===f&&(p=!0,_=c.route.hydrateFallbackElement||null)));let S=e.concat(r.slice(0,f+1)),b=()=>{let A;return d?A=v:p?A=_:c.route.Component?A=ce.createElement(c.route.Component,null):c.route.element?A=c.route.element:A=l,ce.createElement(eZ,{match:c,routeContext:{outlet:l,matches:S,isDataRoute:n!=null},children:A})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?ce.createElement(Q$,{location:n.location,revalidation:n.revalidation,component:v,error:d,children:b(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):b()},null)}function k5(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nZ(t){let e=ce.useContext(t1);return Jr(e,k5(t)),e}function iZ(t){let e=ce.useContext(gR);return Jr(e,k5(t)),e}function rZ(t){let e=ce.useContext(jd);return Jr(e,k5(t)),e}function G5(t){let e=rZ(t),n=e.matches[e.matches.length-1];return Jr(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function aZ(){return G5("useRouteId")}function sZ(){var i;let t=ce.useContext(H5),e=iZ("useRouteError"),n=G5("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function oZ(){let{router:t}=nZ("useNavigate"),e=G5("useNavigate"),n=ce.useRef(!1);return K7(()=>{n.current=!0}),ce.useCallback(async(r,a={})=>{yh(n.current,J7),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...a}))},[t,e])}var i8={};function Z7(t,e,n){!e&&!i8[t]&&(i8[t]=!0,yh(!1,n))}ce.memo(lZ);function lZ({routes:t,future:e,state:n}){return $7(t,void 0,n,e)}function j5({to:t,replace:e,state:n,relative:i}){Jr(n1(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=ce.useContext(Ah);yh(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=ce.useContext(jd),{pathname:s}=Lm(),o=sx(),l=z5(t,F5(a),s,i==="path"),c=JSON.stringify(l);return ce.useEffect(()=>{o(JSON.parse(c),{replace:e,state:n,relative:i})},[o,c,i,e,n]),null}function Ac(t){Jr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cZ({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:a=!1}){Jr(!n1(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),o=ce.useMemo(()=>({basename:s,navigator:r,static:a,future:{}}),[s,r,a]);typeof n=="string"&&(n=e1(n));let{pathname:l="/",search:c="",hash:f="",state:d=null,key:p="default"}=n,v=ce.useMemo(()=>{let _=Tm(l,s);return _==null?null:{location:{pathname:_,search:c,hash:f,state:d,key:p},navigationType:i}},[s,l,c,f,d,p,i]);return yh(v!=null,`<Router basename="${s}"> is not able to match the URL "${l}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:ce.createElement(Ah.Provider,{value:o},ce.createElement(uM.Provider,{children:e,value:v}))}function uZ({children:t,location:e}){return K$(T4(t),e)}function T4(t,e=[]){let n=[];return ce.Children.forEach(t,(i,r)=>{if(!ce.isValidElement(i))return;let a=[...e,r];if(i.type===ce.Fragment){n.push.apply(n,T4(i.props.children,a));return}Jr(i.type===Ac,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Jr(!i.props.index||!i.props.children,"An index route cannot have child routes.");let s={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(s.children=T4(i.props.children,a)),n.push(s)}),n}var mE="get",gE="application/x-www-form-urlencoded";function vR(t){return t!=null&&typeof t.tagName=="string"}function fZ(t){return vR(t)&&t.tagName.toLowerCase()==="button"}function hZ(t){return vR(t)&&t.tagName.toLowerCase()==="form"}function dZ(t){return vR(t)&&t.tagName.toLowerCase()==="input"}function pZ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mZ(t,e){return t.button===0&&(!e||e==="_self")&&!pZ(t)}var ww=null;function gZ(){if(ww===null)try{new FormData(document.createElement("form"),0),ww=!1}catch{ww=!0}return ww}var vZ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function HN(t){return t!=null&&!vZ.has(t)?(yh(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gE}"`),null):t}function yZ(t,e){let n,i,r,a,s;if(hZ(t)){let o=t.getAttribute("action");i=o?Tm(o,e):null,n=t.getAttribute("method")||mE,r=HN(t.getAttribute("enctype"))||gE,a=new FormData(t)}else if(fZ(t)||dZ(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(i=l?Tm(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||mE,r=HN(t.getAttribute("formenctype"))||HN(o.getAttribute("enctype"))||gE,a=new FormData(o,t),!gZ()){let{name:c,type:f,value:d}=t;if(f==="image"){let p=c?`${c}.`:"";a.append(`${p}x`,"0"),a.append(`${p}y`,"0")}else c&&a.append(c,d)}}else{if(vR(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mE,i=null,r=gE,s=t}return a&&r==="text/plain"&&(s=a,a=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:a,body:s}}function V5(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function xZ(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _Z(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function bZ(t,e,n){let i=await Promise.all(t.map(async r=>{let a=e.routes[r.route.id];if(a){let s=await xZ(a,n);return s.links?s.links():[]}return[]}));return wZ(i.flat(1).filter(_Z).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function r8(t,e,n,i,r,a){let s=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,o=(l,c)=>{var f;return n[c].pathname!==l.pathname||((f=n[c].route.path)==null?void 0:f.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return a==="assets"?e.filter((l,c)=>s(l,c)||o(l,c)):a==="data"?e.filter((l,c)=>{var d;let f=i.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(s(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function AZ(t,e,{includeHydrateFallback:n}={}){return SZ(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function SZ(t){return[...new Set(t)]}function MZ(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function wZ(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let a=JSON.stringify(MZ(r));return n.has(a)||(n.add(a),i.push({key:a,link:r})),i},[])}var EZ=new Set([100,101,204,205]);function TZ(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Tm(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Q7(){let t=ce.useContext(t1);return V5(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function CZ(){let t=ce.useContext(gR);return V5(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var X5=ce.createContext(void 0);X5.displayName="FrameworkContext";function ek(){let t=ce.useContext(X5);return V5(t,"You must render this element inside a <HydratedRouter> element"),t}function RZ(t,e){let n=ce.useContext(X5),[i,r]=ce.useState(!1),[a,s]=ce.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:f,onTouchStart:d}=e,p=ce.useRef(null);ce.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let S=A=>{A.forEach(T=>{s(T.isIntersecting)})},b=new IntersectionObserver(S,{threshold:.5});return p.current&&b.observe(p.current),()=>{b.disconnect()}}},[t]),ce.useEffect(()=>{if(i){let S=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(S)}}},[i]);let v=()=>{r(!0)},_=()=>{r(!1),s(!1)};return n?t!=="intent"?[a,p,{}]:[a,p,{onFocus:V1(o,v),onBlur:V1(l,_),onMouseEnter:V1(c,v),onMouseLeave:V1(f,_),onTouchStart:V1(d,v)}]:[!1,p,{}]}function V1(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function NZ({page:t,...e}){let{router:n}=Q7(),i=ce.useMemo(()=>V7(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?ce.createElement(BZ,{page:t,matches:i,...e}):null}function DZ(t){let{manifest:e,routeModules:n}=ek(),[i,r]=ce.useState([]);return ce.useEffect(()=>{let a=!1;return bZ(t,e,n).then(s=>{a||r(s)}),()=>{a=!0}},[t,e,n]),i}function BZ({page:t,matches:e,...n}){let i=Lm(),{manifest:r,routeModules:a}=ek(),{basename:s}=Q7(),{loaderData:o,matches:l}=CZ(),c=ce.useMemo(()=>r8(t,e,l,r,i,"data"),[t,e,l,r,i]),f=ce.useMemo(()=>r8(t,e,l,r,i,"assets"),[t,e,l,r,i]),d=ce.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let _=new Set,S=!1;if(e.forEach(A=>{var R;let T=r.routes[A.route.id];!T||!T.hasLoader||(!c.some(C=>C.route.id===A.route.id)&&A.route.id in o&&((R=a[A.route.id])!=null&&R.shouldRevalidate)||T.hasClientLoader?S=!0:_.add(A.route.id))}),_.size===0)return[];let b=TZ(t,s);return S&&_.size>0&&b.searchParams.set("_routes",e.filter(A=>_.has(A.route.id)).map(A=>A.route.id).join(",")),[b.pathname+b.search]},[s,o,i,r,c,e,t,a]),p=ce.useMemo(()=>AZ(f,r),[f,r]),v=DZ(f);return ce.createElement(ce.Fragment,null,d.map(_=>ce.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),p.map(_=>ce.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),v.map(({key:_,link:S})=>ce.createElement("link",{key:_,...S})))}function OZ(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var tk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tk&&(window.__reactRouterVersion="7.5.3")}catch{}function LZ({basename:t,children:e,window:n}){let i=ce.useRef();i.current==null&&(i.current=A$({window:n,v5Compat:!0}));let r=i.current,[a,s]=ce.useState({action:r.action,location:r.location}),o=ce.useCallback(l=>{ce.startTransition(()=>s(l))},[s]);return ce.useLayoutEffect(()=>r.listen(o),[r,o]),ce.createElement(cZ,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:r})}var nk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_d=ce.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:f,viewTransition:d,...p},v){let{basename:_}=ce.useContext(Ah),S=typeof c=="string"&&nk.test(c),b,A=!1;if(typeof c=="string"&&S&&(b=c,tk))try{let z=new URL(window.location.href),F=c.startsWith("//")?new URL(z.protocol+c):new URL(c),j=Tm(F.pathname,_);F.origin===z.origin&&j!=null?c=j+F.search+F.hash:A=!0}catch{yh(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=W$(c,{relative:r}),[R,C,L]=RZ(i,p),P=FZ(c,{replace:s,state:o,target:l,preventScrollReset:f,relative:r,viewTransition:d});function k(z){e&&e(z),z.defaultPrevented||P(z)}let G=ce.createElement("a",{...p,...L,href:b||T,onClick:A||a?e:k,ref:OZ(v,C),target:l,"data-discover":!S&&n==="render"?"true":void 0});return R&&!S?ce.createElement(ce.Fragment,null,G,ce.createElement(NZ,{page:T})):G});_d.displayName="Link";var PZ=ce.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:a,to:s,viewTransition:o,children:l,...c},f){let d=fM(s,{relative:c.relative}),p=Lm(),v=ce.useContext(gR),{navigator:_,basename:S}=ce.useContext(Ah),b=v!=null&&jZ(d)&&o===!0,A=_.encodeLocation?_.encodeLocation(d).pathname:d.pathname,T=p.pathname,R=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(T=T.toLowerCase(),R=R?R.toLowerCase():null,A=A.toLowerCase()),R&&S&&(R=Tm(R,S)||R);const C=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let L=T===A||!r&&T.startsWith(A)&&T.charAt(C)==="/",P=R!=null&&(R===A||!r&&R.startsWith(A)&&R.charAt(A.length)==="/"),k={isActive:L,isPending:P,isTransitioning:b},G=L?e:void 0,z;typeof i=="function"?z=i(k):z=[i,L?"active":null,P?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let F=typeof a=="function"?a(k):a;return ce.createElement(_d,{...c,"aria-current":G,className:z,ref:f,style:F,to:s,viewTransition:o},typeof l=="function"?l(k):l)});PZ.displayName="NavLink";var UZ=ce.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:a,method:s=mE,action:o,onSubmit:l,relative:c,preventScrollReset:f,viewTransition:d,...p},v)=>{let _=kZ(),S=GZ(o,{relative:c}),b=s.toLowerCase()==="get"?"get":"post",A=typeof o=="string"&&nk.test(o),T=R=>{if(l&&l(R),R.defaultPrevented)return;R.preventDefault();let C=R.nativeEvent.submitter,L=(C==null?void 0:C.getAttribute("formmethod"))||s;_(C||R.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:r,state:a,relative:c,preventScrollReset:f,viewTransition:d})};return ce.createElement("form",{ref:v,method:b,action:S,onSubmit:i?l:T,...p,"data-discover":!A&&t==="render"?"true":void 0})});UZ.displayName="Form";function IZ(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ik(t){let e=ce.useContext(t1);return Jr(e,IZ(t)),e}function FZ(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:a,viewTransition:s}={}){let o=sx(),l=Lm(),c=fM(t,{relative:a});return ce.useCallback(f=>{if(mZ(f,e)){f.preventDefault();let d=n!==void 0?n:AS(l)===AS(c);o(t,{replace:d,state:i,preventScrollReset:r,relative:a,viewTransition:s})}},[l,o,c,n,i,e,t,r,a,s])}var zZ=0,HZ=()=>`__${String(++zZ)}__`;function kZ(){let{router:t}=ik("useSubmit"),{basename:e}=ce.useContext(Ah),n=aZ();return ce.useCallback(async(i,r={})=>{let{action:a,method:s,encType:o,formData:l,body:c}=yZ(i,e);if(r.navigate===!1){let f=r.fetcherKey||HZ();await t.fetch(f,n,r.action||a,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||s,formEncType:r.encType||o,flushSync:r.flushSync})}else await t.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||s,formEncType:r.encType||o,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function GZ(t,{relative:e}={}){let{basename:n}=ce.useContext(Ah),i=ce.useContext(jd);Jr(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...fM(t||".",{relative:e})},s=Lm();if(t==null){a.search=s.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(f=>f==="")){o.delete("index"),l.filter(d=>d).forEach(d=>o.append("index",d));let f=o.toString();a.search=f?`?${f}`:""}}return(!t||t===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Am([n,a.pathname])),AS(a)}function jZ(t,e={}){let n=ce.useContext(W7);Jr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ik("useViewTransitionState"),r=fM(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Tm(n.currentLocation.pathname,i)||n.currentLocation.pathname,s=Tm(n.nextLocation.pathname,i)||n.nextLocation.pathname;return ZE(r.pathname,s)!=null||ZE(r.pathname,a)!=null}new TextEncoder;[...EZ];function rk(t,e){return function(){return t.apply(e,arguments)}}const{toString:VZ}=Object.prototype,{getPrototypeOf:q5}=Object,{iterator:yR,toStringTag:ak}=Symbol,xR=(t=>e=>{const n=VZ.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Sh=t=>(t=t.toLowerCase(),e=>xR(e)===t),_R=t=>e=>typeof e===t,{isArray:i1}=Array,SS=_R("undefined");function XZ(t){return t!==null&&!SS(t)&&t.constructor!==null&&!SS(t.constructor)&&Lc(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const sk=Sh("ArrayBuffer");function qZ(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&sk(t.buffer),e}const YZ=_R("string"),Lc=_R("function"),ok=_R("number"),bR=t=>t!==null&&typeof t=="object",WZ=t=>t===!0||t===!1,vE=t=>{if(xR(t)!=="object")return!1;const e=q5(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(ak in t)&&!(yR in t)},JZ=Sh("Date"),KZ=Sh("File"),$Z=Sh("Blob"),ZZ=Sh("FileList"),QZ=t=>bR(t)&&Lc(t.pipe),eQ=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Lc(t.append)&&((e=xR(t))==="formdata"||e==="object"&&Lc(t.toString)&&t.toString()==="[object FormData]"))},tQ=Sh("URLSearchParams"),[nQ,iQ,rQ,aQ]=["ReadableStream","Request","Response","Headers"].map(Sh),sQ=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hM(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),i1(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{const a=n?Object.getOwnPropertyNames(t):Object.keys(t),s=a.length;let o;for(i=0;i<s;i++)o=a[i],e.call(null,t[o],o,t)}}function lk(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const fy=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ck=t=>!SS(t)&&t!==fy;function C4(){const{caseless:t}=ck(this)&&this||{},e={},n=(i,r)=>{const a=t&&lk(e,r)||r;vE(e[a])&&vE(i)?e[a]=C4(e[a],i):vE(i)?e[a]=C4({},i):i1(i)?e[a]=i.slice():e[a]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&hM(arguments[i],n);return e}const oQ=(t,e,n,{allOwnKeys:i}={})=>(hM(e,(r,a)=>{n&&Lc(r)?t[a]=rk(r,n):t[a]=r},{allOwnKeys:i}),t),lQ=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),cQ=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},uQ=(t,e,n,i)=>{let r,a,s;const o={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),a=r.length;a-- >0;)s=r[a],(!i||i(s,t,e))&&!o[s]&&(e[s]=t[s],o[s]=!0);t=n!==!1&&q5(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},fQ=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},hQ=t=>{if(!t)return null;if(i1(t))return t;let e=t.length;if(!ok(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},dQ=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&q5(Uint8Array)),pQ=(t,e)=>{const i=(t&&t[yR]).call(t);let r;for(;(r=i.next())&&!r.done;){const a=r.value;e.call(t,a[0],a[1])}},mQ=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},gQ=Sh("HTMLFormElement"),vQ=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),a8=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),yQ=Sh("RegExp"),uk=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};hM(n,(r,a)=>{let s;(s=e(r,a,t))!==!1&&(i[a]=s||r)}),Object.defineProperties(t,i)},xQ=t=>{uk(t,(e,n)=>{if(Lc(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Lc(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},_Q=(t,e)=>{const n={},i=r=>{r.forEach(a=>{n[a]=!0})};return i1(t)?i(t):i(String(t).split(e)),n},bQ=()=>{},AQ=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function SQ(t){return!!(t&&Lc(t.append)&&t[ak]==="FormData"&&t[yR])}const MQ=t=>{const e=new Array(10),n=(i,r)=>{if(bR(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const a=i1(i)?[]:{};return hM(i,(s,o)=>{const l=n(s,r+1);!SS(l)&&(a[o]=l)}),e[r]=void 0,a}}return i};return n(t,0)},wQ=Sh("AsyncFunction"),EQ=t=>t&&(bR(t)||Lc(t))&&Lc(t.then)&&Lc(t.catch),fk=((t,e)=>t?setImmediate:e?((n,i)=>(fy.addEventListener("message",({source:r,data:a})=>{r===fy&&a===n&&i.length&&i.shift()()},!1),r=>{i.push(r),fy.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Lc(fy.postMessage)),TQ=typeof queueMicrotask<"u"?queueMicrotask.bind(fy):typeof process<"u"&&process.nextTick||fk,CQ=t=>t!=null&&Lc(t[yR]),nt={isArray:i1,isArrayBuffer:sk,isBuffer:XZ,isFormData:eQ,isArrayBufferView:qZ,isString:YZ,isNumber:ok,isBoolean:WZ,isObject:bR,isPlainObject:vE,isReadableStream:nQ,isRequest:iQ,isResponse:rQ,isHeaders:aQ,isUndefined:SS,isDate:JZ,isFile:KZ,isBlob:$Z,isRegExp:yQ,isFunction:Lc,isStream:QZ,isURLSearchParams:tQ,isTypedArray:dQ,isFileList:ZZ,forEach:hM,merge:C4,extend:oQ,trim:sQ,stripBOM:lQ,inherits:cQ,toFlatObject:uQ,kindOf:xR,kindOfTest:Sh,endsWith:fQ,toArray:hQ,forEachEntry:pQ,matchAll:mQ,isHTMLForm:gQ,hasOwnProperty:a8,hasOwnProp:a8,reduceDescriptors:uk,freezeMethods:xQ,toObjectSet:_Q,toCamelCase:vQ,noop:bQ,toFiniteNumber:AQ,findKey:lk,global:fy,isContextDefined:ck,isSpecCompliantForm:SQ,toJSONObject:MQ,isAsyncFn:wQ,isThenable:EQ,setImmediate:fk,asap:TQ,isIterable:CQ};function Gn(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}nt.inherits(Gn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:nt.toJSONObject(this.config),code:this.code,status:this.status}}});const hk=Gn.prototype,dk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{dk[t]={value:t}});Object.defineProperties(Gn,dk);Object.defineProperty(hk,"isAxiosError",{value:!0});Gn.from=(t,e,n,i,r,a)=>{const s=Object.create(hk);return nt.toFlatObject(t,s,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),Gn.call(s,t.message,e,n,i,r),s.cause=t,s.name=t.name,a&&Object.assign(s,a),s};const RQ=null;function R4(t){return nt.isPlainObject(t)||nt.isArray(t)}function pk(t){return nt.endsWith(t,"[]")?t.slice(0,-2):t}function s8(t,e,n){return t?t.concat(e).map(function(r,a){return r=pk(r),!n&&a?"["+r+"]":r}).join(n?".":""):e}function NQ(t){return nt.isArray(t)&&!t.some(R4)}const DQ=nt.toFlatObject(nt,{},null,function(e){return/^is[A-Z]/.test(e)});function AR(t,e,n){if(!nt.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=nt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,b){return!nt.isUndefined(b[S])});const i=n.metaTokens,r=n.visitor||f,a=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&nt.isSpecCompliantForm(e);if(!nt.isFunction(r))throw new TypeError("visitor must be a function");function c(_){if(_===null)return"";if(nt.isDate(_))return _.toISOString();if(!l&&nt.isBlob(_))throw new Gn("Blob is not supported. Use a Buffer instead.");return nt.isArrayBuffer(_)||nt.isTypedArray(_)?l&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function f(_,S,b){let A=_;if(_&&!b&&typeof _=="object"){if(nt.endsWith(S,"{}"))S=i?S:S.slice(0,-2),_=JSON.stringify(_);else if(nt.isArray(_)&&NQ(_)||(nt.isFileList(_)||nt.endsWith(S,"[]"))&&(A=nt.toArray(_)))return S=pk(S),A.forEach(function(R,C){!(nt.isUndefined(R)||R===null)&&e.append(s===!0?s8([S],C,a):s===null?S:S+"[]",c(R))}),!1}return R4(_)?!0:(e.append(s8(b,S,a),c(_)),!1)}const d=[],p=Object.assign(DQ,{defaultVisitor:f,convertValue:c,isVisitable:R4});function v(_,S){if(!nt.isUndefined(_)){if(d.indexOf(_)!==-1)throw Error("Circular reference detected in "+S.join("."));d.push(_),nt.forEach(_,function(A,T){(!(nt.isUndefined(A)||A===null)&&r.call(e,A,nt.isString(T)?T.trim():T,S,p))===!0&&v(A,S?S.concat(T):[T])}),d.pop()}}if(!nt.isObject(t))throw new TypeError("data must be an object");return v(t),e}function o8(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Y5(t,e){this._pairs=[],t&&AR(t,this,e)}const mk=Y5.prototype;mk.append=function(e,n){this._pairs.push([e,n])};mk.toString=function(e){const n=e?function(i){return e.call(this,i,o8)}:o8;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function BQ(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function gk(t,e,n){if(!e)return t;const i=n&&n.encode||BQ;nt.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let a;if(r?a=r(e,n):a=nt.isURLSearchParams(e)?e.toString():new Y5(e,n).toString(i),a){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class l8{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){nt.forEach(this.handlers,function(i){i!==null&&e(i)})}}const vk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},OQ=typeof URLSearchParams<"u"?URLSearchParams:Y5,LQ=typeof FormData<"u"?FormData:null,PQ=typeof Blob<"u"?Blob:null,UQ={isBrowser:!0,classes:{URLSearchParams:OQ,FormData:LQ,Blob:PQ},protocols:["http","https","file","blob","url","data"]},W5=typeof window<"u"&&typeof document<"u",N4=typeof navigator=="object"&&navigator||void 0,IQ=W5&&(!N4||["ReactNative","NativeScript","NS"].indexOf(N4.product)<0),FQ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zQ=W5&&window.location.href||"http://localhost",HQ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:W5,hasStandardBrowserEnv:IQ,hasStandardBrowserWebWorkerEnv:FQ,navigator:N4,origin:zQ},Symbol.toStringTag,{value:"Module"})),Go={...HQ,...UQ};function kQ(t,e){return AR(t,new Go.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,a){return Go.isNode&&nt.isBuffer(n)?(this.append(i,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function GQ(t){return nt.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function jQ(t){const e={},n=Object.keys(t);let i;const r=n.length;let a;for(i=0;i<r;i++)a=n[i],e[a]=t[a];return e}function yk(t){function e(n,i,r,a){let s=n[a++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),l=a>=n.length;return s=!s&&nt.isArray(r)?r.length:s,l?(nt.hasOwnProp(r,s)?r[s]=[r[s],i]:r[s]=i,!o):((!r[s]||!nt.isObject(r[s]))&&(r[s]=[]),e(n,i,r[s],a)&&nt.isArray(r[s])&&(r[s]=jQ(r[s])),!o)}if(nt.isFormData(t)&&nt.isFunction(t.entries)){const n={};return nt.forEachEntry(t,(i,r)=>{e(GQ(i),r,n,0)}),n}return null}function VQ(t,e,n){if(nt.isString(t))try{return(e||JSON.parse)(t),nt.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const dM={transitional:vk,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,a=nt.isObject(e);if(a&&nt.isHTMLForm(e)&&(e=new FormData(e)),nt.isFormData(e))return r?JSON.stringify(yk(e)):e;if(nt.isArrayBuffer(e)||nt.isBuffer(e)||nt.isStream(e)||nt.isFile(e)||nt.isBlob(e)||nt.isReadableStream(e))return e;if(nt.isArrayBufferView(e))return e.buffer;if(nt.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return kQ(e,this.formSerializer).toString();if((o=nt.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return AR(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return a||r?(n.setContentType("application/json",!1),VQ(e)):e}],transformResponse:[function(e){const n=this.transitional||dM.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(nt.isResponse(e)||nt.isReadableStream(e))return e;if(e&&nt.isString(e)&&(i&&!this.responseType||r)){const s=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?Gn.from(o,Gn.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Go.classes.FormData,Blob:Go.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};nt.forEach(["delete","get","head","post","put","patch"],t=>{dM.headers[t]={}});const XQ=nt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qQ=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(s){r=s.indexOf(":"),n=s.substring(0,r).trim().toLowerCase(),i=s.substring(r+1).trim(),!(!n||e[n]&&XQ[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},c8=Symbol("internals");function X1(t){return t&&String(t).trim().toLowerCase()}function yE(t){return t===!1||t==null?t:nt.isArray(t)?t.map(yE):String(t)}function YQ(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const WQ=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function kN(t,e,n,i,r){if(nt.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!nt.isString(e)){if(nt.isString(i))return e.indexOf(i)!==-1;if(nt.isRegExp(i))return i.test(e)}}function JQ(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function KQ(t,e){const n=nt.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,a,s){return this[i].call(this,e,r,a,s)},configurable:!0})})}let Pc=class{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function a(o,l,c){const f=X1(l);if(!f)throw new Error("header name must be a non-empty string");const d=nt.findKey(r,f);(!d||r[d]===void 0||c===!0||c===void 0&&r[d]!==!1)&&(r[d||l]=yE(o))}const s=(o,l)=>nt.forEach(o,(c,f)=>a(c,f,l));if(nt.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(nt.isString(e)&&(e=e.trim())&&!WQ(e))s(qQ(e),n);else if(nt.isObject(e)&&nt.isIterable(e)){let o={},l,c;for(const f of e){if(!nt.isArray(f))throw TypeError("Object iterator must return a key-value pair");o[c=f[0]]=(l=o[c])?nt.isArray(l)?[...l,f[1]]:[l,f[1]]:f[1]}s(o,n)}else e!=null&&a(n,e,i);return this}get(e,n){if(e=X1(e),e){const i=nt.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return YQ(r);if(nt.isFunction(n))return n.call(this,r,i);if(nt.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=X1(e),e){const i=nt.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||kN(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function a(s){if(s=X1(s),s){const o=nt.findKey(i,s);o&&(!n||kN(i,i[o],o,n))&&(delete i[o],r=!0)}}return nt.isArray(e)?e.forEach(a):a(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const a=n[i];(!e||kN(this,this[a],a,e,!0))&&(delete this[a],r=!0)}return r}normalize(e){const n=this,i={};return nt.forEach(this,(r,a)=>{const s=nt.findKey(i,a);if(s){n[s]=yE(r),delete n[a];return}const o=e?JQ(a):String(a).trim();o!==a&&delete n[a],n[o]=yE(r),i[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return nt.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&nt.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[c8]=this[c8]={accessors:{}}).accessors,r=this.prototype;function a(s){const o=X1(s);i[o]||(KQ(r,s),i[o]=!0)}return nt.isArray(e)?e.forEach(a):a(e),this}};Pc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);nt.reduceDescriptors(Pc.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});nt.freezeMethods(Pc);function GN(t,e){const n=this||dM,i=e||n,r=Pc.from(i.headers);let a=i.data;return nt.forEach(t,function(o){a=o.call(n,a,r.normalize(),e?e.status:void 0)}),r.normalize(),a}function xk(t){return!!(t&&t.__CANCEL__)}function r1(t,e,n){Gn.call(this,t??"canceled",Gn.ERR_CANCELED,e,n),this.name="CanceledError"}nt.inherits(r1,Gn,{__CANCEL__:!0});function _k(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new Gn("Request failed with status code "+n.status,[Gn.ERR_BAD_REQUEST,Gn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function $Q(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function ZQ(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,a=0,s;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),f=i[a];s||(s=c),n[r]=l,i[r]=c;let d=a,p=0;for(;d!==r;)p+=n[d++],d=d%t;if(r=(r+1)%t,r===a&&(a=(a+1)%t),c-s<e)return;const v=f&&c-f;return v?Math.round(p*1e3/v):void 0}}function QQ(t,e){let n=0,i=1e3/e,r,a;const s=(c,f=Date.now())=>{n=f,r=null,a&&(clearTimeout(a),a=null),t.apply(null,c)};return[(...c)=>{const f=Date.now(),d=f-n;d>=i?s(c,f):(r=c,a||(a=setTimeout(()=>{a=null,s(r)},i-d)))},()=>r&&s(r)]}const QE=(t,e,n=3)=>{let i=0;const r=ZQ(50,250);return QQ(a=>{const s=a.loaded,o=a.lengthComputable?a.total:void 0,l=s-i,c=r(l),f=s<=o;i=s;const d={loaded:s,total:o,progress:o?s/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&f?(o-s)/c:void 0,event:a,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(d)},n)},u8=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},f8=t=>(...e)=>nt.asap(()=>t(...e)),eee=Go.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Go.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Go.origin),Go.navigator&&/(msie|trident)/i.test(Go.navigator.userAgent)):()=>!0,tee=Go.hasStandardBrowserEnv?{write(t,e,n,i,r,a){const s=[t+"="+encodeURIComponent(e)];nt.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),nt.isString(i)&&s.push("path="+i),nt.isString(r)&&s.push("domain="+r),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function nee(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function iee(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function bk(t,e,n){let i=!nee(e);return t&&(i||n==!1)?iee(t,e):e}const h8=t=>t instanceof Pc?{...t}:t;function Fy(t,e){e=e||{};const n={};function i(c,f,d,p){return nt.isPlainObject(c)&&nt.isPlainObject(f)?nt.merge.call({caseless:p},c,f):nt.isPlainObject(f)?nt.merge({},f):nt.isArray(f)?f.slice():f}function r(c,f,d,p){if(nt.isUndefined(f)){if(!nt.isUndefined(c))return i(void 0,c,d,p)}else return i(c,f,d,p)}function a(c,f){if(!nt.isUndefined(f))return i(void 0,f)}function s(c,f){if(nt.isUndefined(f)){if(!nt.isUndefined(c))return i(void 0,c)}else return i(void 0,f)}function o(c,f,d){if(d in e)return i(c,f);if(d in t)return i(void 0,c)}const l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(c,f,d)=>r(h8(c),h8(f),d,!0)};return nt.forEach(Object.keys(Object.assign({},t,e)),function(f){const d=l[f]||r,p=d(t[f],e[f],f);nt.isUndefined(p)&&d!==o||(n[f]=p)}),n}const Ak=t=>{const e=Fy({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:a,headers:s,auth:o}=e;e.headers=s=Pc.from(s),e.url=gk(bk(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(nt.isFormData(n)){if(Go.hasStandardBrowserEnv||Go.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[c,...f]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...f].join("; "))}}if(Go.hasStandardBrowserEnv&&(i&&nt.isFunction(i)&&(i=i(e)),i||i!==!1&&eee(e.url))){const c=r&&a&&tee.read(a);c&&s.set(r,c)}return e},ree=typeof XMLHttpRequest<"u",aee=ree&&function(t){return new Promise(function(n,i){const r=Ak(t);let a=r.data;const s=Pc.from(r.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=r,f,d,p,v,_;function S(){v&&v(),_&&_(),r.cancelToken&&r.cancelToken.unsubscribe(f),r.signal&&r.signal.removeEventListener("abort",f)}let b=new XMLHttpRequest;b.open(r.method.toUpperCase(),r.url,!0),b.timeout=r.timeout;function A(){if(!b)return;const R=Pc.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),L={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:R,config:t,request:b};_k(function(k){n(k),S()},function(k){i(k),S()},L),b=null}"onloadend"in b?b.onloadend=A:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(A)},b.onabort=function(){b&&(i(new Gn("Request aborted",Gn.ECONNABORTED,t,b)),b=null)},b.onerror=function(){i(new Gn("Network Error",Gn.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let C=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const L=r.transitional||vk;r.timeoutErrorMessage&&(C=r.timeoutErrorMessage),i(new Gn(C,L.clarifyTimeoutError?Gn.ETIMEDOUT:Gn.ECONNABORTED,t,b)),b=null},a===void 0&&s.setContentType(null),"setRequestHeader"in b&&nt.forEach(s.toJSON(),function(C,L){b.setRequestHeader(L,C)}),nt.isUndefined(r.withCredentials)||(b.withCredentials=!!r.withCredentials),o&&o!=="json"&&(b.responseType=r.responseType),c&&([p,_]=QE(c,!0),b.addEventListener("progress",p)),l&&b.upload&&([d,v]=QE(l),b.upload.addEventListener("progress",d),b.upload.addEventListener("loadend",v)),(r.cancelToken||r.signal)&&(f=R=>{b&&(i(!R||R.type?new r1(null,t,b):R),b.abort(),b=null)},r.cancelToken&&r.cancelToken.subscribe(f),r.signal&&(r.signal.aborted?f():r.signal.addEventListener("abort",f)));const T=$Q(r.url);if(T&&Go.protocols.indexOf(T)===-1){i(new Gn("Unsupported protocol "+T+":",Gn.ERR_BAD_REQUEST,t));return}b.send(a||null)})},see=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,r;const a=function(c){if(!r){r=!0,o();const f=c instanceof Error?c:this.reason;i.abort(f instanceof Gn?f:new r1(f instanceof Error?f.message:f))}};let s=e&&setTimeout(()=>{s=null,a(new Gn(`timeout ${e} of ms exceeded`,Gn.ETIMEDOUT))},e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(a):c.removeEventListener("abort",a)}),t=null)};t.forEach(c=>c.addEventListener("abort",a));const{signal:l}=i;return l.unsubscribe=()=>nt.asap(o),l}},oee=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,r;for(;i<n;)r=i+e,yield t.slice(i,r),i=r},lee=async function*(t,e){for await(const n of cee(t))yield*oee(n,e)},cee=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},d8=(t,e,n,i)=>{const r=lee(t,e);let a=0,s,o=l=>{s||(s=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:c,value:f}=await r.next();if(c){o(),l.close();return}let d=f.byteLength;if(n){let p=a+=d;n(p)}l.enqueue(new Uint8Array(f))}catch(c){throw o(c),c}},cancel(l){return o(l),r.return()}},{highWaterMark:2})},SR=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Sk=SR&&typeof ReadableStream=="function",uee=SR&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Mk=(t,...e)=>{try{return!!t(...e)}catch{return!1}},fee=Sk&&Mk(()=>{let t=!1;const e=new Request(Go.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),p8=64*1024,D4=Sk&&Mk(()=>nt.isReadableStream(new Response("").body)),eT={stream:D4&&(t=>t.body)};SR&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!eT[e]&&(eT[e]=nt.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new Gn(`Response type '${e}' is not supported`,Gn.ERR_NOT_SUPPORT,i)})})})(new Response);const hee=async t=>{if(t==null)return 0;if(nt.isBlob(t))return t.size;if(nt.isSpecCompliantForm(t))return(await new Request(Go.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(nt.isArrayBufferView(t)||nt.isArrayBuffer(t))return t.byteLength;if(nt.isURLSearchParams(t)&&(t=t+""),nt.isString(t))return(await uee(t)).byteLength},dee=async(t,e)=>{const n=nt.toFiniteNumber(t.getContentLength());return n??hee(e)},pee=SR&&(async t=>{let{url:e,method:n,data:i,signal:r,cancelToken:a,timeout:s,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:f,withCredentials:d="same-origin",fetchOptions:p}=Ak(t);c=c?(c+"").toLowerCase():"text";let v=see([r,a&&a.toAbortSignal()],s),_;const S=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let b;try{if(l&&fee&&n!=="get"&&n!=="head"&&(b=await dee(f,i))!==0){let L=new Request(e,{method:"POST",body:i,duplex:"half"}),P;if(nt.isFormData(i)&&(P=L.headers.get("content-type"))&&f.setContentType(P),L.body){const[k,G]=u8(b,QE(f8(l)));i=d8(L.body,p8,k,G)}}nt.isString(d)||(d=d?"include":"omit");const A="credentials"in Request.prototype;_=new Request(e,{...p,signal:v,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:i,duplex:"half",credentials:A?d:void 0});let T=await fetch(_);const R=D4&&(c==="stream"||c==="response");if(D4&&(o||R&&S)){const L={};["status","statusText","headers"].forEach(z=>{L[z]=T[z]});const P=nt.toFiniteNumber(T.headers.get("content-length")),[k,G]=o&&u8(P,QE(f8(o),!0))||[];T=new Response(d8(T.body,p8,k,()=>{G&&G(),S&&S()}),L)}c=c||"text";let C=await eT[nt.findKey(eT,c)||"text"](T,t);return!R&&S&&S(),await new Promise((L,P)=>{_k(L,P,{data:C,headers:Pc.from(T.headers),status:T.status,statusText:T.statusText,config:t,request:_})})}catch(A){throw S&&S(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new Gn("Network Error",Gn.ERR_NETWORK,t,_),{cause:A.cause||A}):Gn.from(A,A&&A.code,t,_)}}),B4={http:RQ,xhr:aee,fetch:pee};nt.forEach(B4,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const m8=t=>`- ${t}`,mee=t=>nt.isFunction(t)||t===null||t===!1,wk={getAdapter:t=>{t=nt.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let a=0;a<e;a++){n=t[a];let s;if(i=n,!mee(n)&&(i=B4[(s=String(n)).toLowerCase()],i===void 0))throw new Gn(`Unknown adapter '${s}'`);if(i)break;r[s||"#"+a]=i}if(!i){const a=Object.entries(r).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?a.length>1?`since :
`+a.map(m8).join(`
`):" "+m8(a[0]):"as no adapter specified";throw new Gn("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return i},adapters:B4};function jN(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new r1(null,t)}function g8(t){return jN(t),t.headers=Pc.from(t.headers),t.data=GN.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),wk.getAdapter(t.adapter||dM.adapter)(t).then(function(i){return jN(t),i.data=GN.call(t,t.transformResponse,i),i.headers=Pc.from(i.headers),i},function(i){return xk(i)||(jN(t),i&&i.response&&(i.response.data=GN.call(t,t.transformResponse,i.response),i.response.headers=Pc.from(i.response.headers))),Promise.reject(i)})}const Ek="1.9.0",MR={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{MR[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const v8={};MR.transitional=function(e,n,i){function r(a,s){return"[Axios v"+Ek+"] Transitional option '"+a+"'"+s+(i?". "+i:"")}return(a,s,o)=>{if(e===!1)throw new Gn(r(s," has been removed"+(n?" in "+n:"")),Gn.ERR_DEPRECATED);return n&&!v8[s]&&(v8[s]=!0,console.warn(r(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,s,o):!0}};MR.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function gee(t,e,n){if(typeof t!="object")throw new Gn("options must be an object",Gn.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const a=i[r],s=e[a];if(s){const o=t[a],l=o===void 0||s(o,a,t);if(l!==!0)throw new Gn("option "+a+" must be "+l,Gn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Gn("Unknown option "+a,Gn.ERR_BAD_OPTION)}}const xE={assertOptions:gee,validators:MR},gd=xE.validators;let Ty=class{constructor(e){this.defaults=e||{},this.interceptors={request:new l8,response:new l8}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const a=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Fy(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:a}=n;i!==void 0&&xE.assertOptions(i,{silentJSONParsing:gd.transitional(gd.boolean),forcedJSONParsing:gd.transitional(gd.boolean),clarifyTimeoutError:gd.transitional(gd.boolean)},!1),r!=null&&(nt.isFunction(r)?n.paramsSerializer={serialize:r}:xE.assertOptions(r,{encode:gd.function,serialize:gd.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),xE.assertOptions(n,{baseUrl:gd.spelling("baseURL"),withXsrfToken:gd.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=a&&nt.merge(a.common,a[n.method]);a&&nt.forEach(["delete","get","head","post","put","patch","common"],_=>{delete a[_]}),n.headers=Pc.concat(s,a);const o=[];let l=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(l=l&&S.synchronous,o.unshift(S.fulfilled,S.rejected))});const c=[];this.interceptors.response.forEach(function(S){c.push(S.fulfilled,S.rejected)});let f,d=0,p;if(!l){const _=[g8.bind(this),void 0];for(_.unshift.apply(_,o),_.push.apply(_,c),p=_.length,f=Promise.resolve(n);d<p;)f=f.then(_[d++],_[d++]);return f}p=o.length;let v=n;for(d=0;d<p;){const _=o[d++],S=o[d++];try{v=_(v)}catch(b){S.call(this,b);break}}try{f=g8.call(this,v)}catch(_){return Promise.reject(_)}for(d=0,p=c.length;d<p;)f=f.then(c[d++],c[d++]);return f}getUri(e){e=Fy(this.defaults,e);const n=bk(e.baseURL,e.url,e.allowAbsoluteUrls);return gk(n,e.params,e.paramsSerializer)}};nt.forEach(["delete","get","head","options"],function(e){Ty.prototype[e]=function(n,i){return this.request(Fy(i||{},{method:e,url:n,data:(i||{}).data}))}});nt.forEach(["post","put","patch"],function(e){function n(i){return function(a,s,o){return this.request(Fy(o||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}Ty.prototype[e]=n(),Ty.prototype[e+"Form"]=n(!0)});let vee=class Tk{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const i=this;this.promise.then(r=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](r);i._listeners=null}),this.promise.then=r=>{let a;const s=new Promise(o=>{i.subscribe(o),a=o}).then(r);return s.cancel=function(){i.unsubscribe(a)},s},e(function(a,s,o){i.reason||(i.reason=new r1(a,s,o),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Tk(function(r){e=r}),cancel:e}}};function yee(t){return function(n){return t.apply(null,n)}}function xee(t){return nt.isObject(t)&&t.isAxiosError===!0}const O4={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(O4).forEach(([t,e])=>{O4[e]=t});function Ck(t){const e=new Ty(t),n=rk(Ty.prototype.request,e);return nt.extend(n,Ty.prototype,e,{allOwnKeys:!0}),nt.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return Ck(Fy(t,r))},n}const Ni=Ck(dM);Ni.Axios=Ty;Ni.CanceledError=r1;Ni.CancelToken=vee;Ni.isCancel=xk;Ni.VERSION=Ek;Ni.toFormData=AR;Ni.AxiosError=Gn;Ni.Cancel=Ni.CanceledError;Ni.all=function(e){return Promise.all(e)};Ni.spread=yee;Ni.isAxiosError=xee;Ni.mergeConfig=Fy;Ni.AxiosHeaders=Pc;Ni.formToJSON=t=>yk(nt.isHTMLForm(t)?new FormData(t):t);Ni.getAdapter=wk.getAdapter;Ni.HttpStatusCode=O4;Ni.default=Ni;const{Axios:VDe,AxiosError:XDe,CanceledError:qDe,isCancel:YDe,CancelToken:WDe,VERSION:JDe,all:KDe,Cancel:$De,isAxiosError:ZDe,spread:QDe,toFormData:eBe,AxiosHeaders:tBe,HttpStatusCode:nBe,formToJSON:iBe,getAdapter:rBe,mergeConfig:aBe}=Ni,wR=ce.createContext(null);wR.Provider;wR.Consumer;function jl(){const t=ce.useContext(wR);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function _ee({children:t}){const[e,n]=ce.useState(null),[i,r]=ce.useState(!0),[a,s]=ce.useState(null);ce.useEffect(()=>{(async()=>{const v=localStorage.getItem("accessToken"),_=localStorage.getItem("refreshToken");if(v&&_)try{const S=await Ni.get("http://xymaonline.duckdns.org:5000/api/auth/verify-token",{headers:{Authorization:`Bearer ${v}`}});n(S.data.user)}catch{try{const b=await Ni.post("http://xymaonline.duckdns.org:5000/api/auth/refresh-token",{refreshToken:_});localStorage.setItem("accessToken",b.data.accessToken),n(b.data.user)}catch{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),n(null)}}finally{r(!1)}else n(null),r(!1)})()},[]);const o=async p=>{try{const v=localStorage.getItem("accessToken");if(!v)throw new Error("No access token found");const _={...e,...p};return n(_),p.cookieConsent!==void 0&&await Ni.post("http://xymaonline.duckdns.org:5000/api/auth/update-cookie-consent",{consent:p.cookieConsent},{headers:{Authorization:`Bearer ${v}`}}),_}catch(v){throw console.error("Error updating user:",v),v}},l=async(p,v,_)=>{var b,A,T;const S=localStorage.getItem("accessToken");if(!S)return{success:!1,error:"No access token found. Please log in again."};console.log("change password",p,v,_);try{return{success:!0,message:(await Ni.put(`http://xymaonline.duckdns.org:5000/api//users/${p}/change-password`,{currentPassword:v,newPassword:_},{headers:{Authorization:`Bearer ${S}`}})).data.message}}catch(R){const C=((A=(b=R.response)==null?void 0:b.data)==null?void 0:A.message)||"Failed to change password.";return console.error("Change password error:",((T=R.response)==null?void 0:T.data)||R.message),{success:!1,error:C}}},c=async p=>{var v,_;try{const S=await Ni.post("http://xymaonline.duckdns.org:5000/api/auth/login",p),{user:b,accessToken:A,refreshToken:T,loginActivityId:R}=S.data;return b.phoneVerified?b.cookieConsent?(localStorage.setItem("accessToken",A),localStorage.setItem("refreshToken",T),n(b),{success:!0,user:b}):(localStorage.setItem("accessToken",A),localStorage.setItem("refreshToken",T),{success:!0,redirect:"/cookie-consent",user:b}):(localStorage.setItem("accessToken",A),localStorage.setItem("refreshToken",T),{success:!0,redirect:"/verify-otp",user:b})}catch(S){const b=((_=(v=S.response)==null?void 0:v.data)==null?void 0:_.message)||"Login failed";return s(b),{success:!1,error:b}}},f=async()=>{try{const p=localStorage.getItem("accessToken");p&&await Ni.post("http://xymaonline.duckdns.org:5000/api/auth/logout",{},{headers:{Authorization:`Bearer ${p}`}})}catch(p){console.error("Logout error:",p)}finally{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),n(null),s(null)}},d=async(p,v)=>{var _,S;try{const b=await Ni.post("http://xymaonline.duckdns.org:5000/api//verify-otp",{phoneNumber:p,otp:v},{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});return b.data.success&&n(b.data.user),b.data}catch(b){throw((S=(_=b.response)==null?void 0:_.data)==null?void 0:S.error)||"OTP verification failed"}};return ce.useEffect(()=>{const p=Ni.interceptors.response.use(v=>v,async v=>{var S;const _=v.config;if(((S=v.response)==null?void 0:S.status)===401&&!_._retry){_._retry=!0;const b=localStorage.getItem("refreshToken");try{const A=await Ni.post("http://xymaonline.duckdns.org:5000/api/auth/refresh-token",{refreshToken:b});return localStorage.setItem("accessToken",A.data.accessToken),Ni.defaults.headers.common.Authorization=`Bearer ${A.data.accessToken}`,Ni(_)}catch(A){return localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),n(null),Promise.reject(A)}}return Promise.reject(v)});return()=>{Ni.interceptors.response.eject(p)}},[]),B.jsx(wR.Provider,{value:{user:e,updateUser:o,loading:i,error:a,login:c,logout:f,verifyOTP:d,changePassword:l},children:t})}const bee="/assets/RusticHome-BpZXXFab.jpg",Aee="/assets/power_line-Bf3tTiyY.png",See="/assets/xyma-BBChE-JE.png",Bn=Ni.create({baseURL:"http://xymaonline.duckdns.org:5000/api/",withCredentials:!0,headers:{"Content-Type":"application/json"}});Bn.interceptors.request.use(t=>{if(t.url!=="/auth/login"){const e=localStorage.getItem("accessToken");e&&(t.headers.Authorization=`Bearer ${e}`)}return t},t=>Promise.reject(t));Bn.interceptors.response.use(t=>t,async t=>{const e=t.config;if(t.response.status===401&&!e._retry){e._retry=!0;try{const n=localStorage.getItem("refreshToken"),i=await Ni.post("http://xymaonline.duckdns.org:5000/api//refresh-token",{refreshToken:n});return localStorage.setItem("accessToken",i.data.accessToken),e.headers.Authorization=`Bearer ${i.data.accessToken}`,Bn(e)}catch(n){return localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href="/login",Promise.reject(n)}}return Promise.reject(t)});const Mee=()=>{const t=sx(),{user:e,login:n}=jl(),[i,r]=ce.useState({UserName:"",Password:""}),[a,s]=ce.useState(""),o=async l=>{l.preventDefault(),s("");try{const c=await n(i);console.log(c),c.success?c.redirect?t(c.redirect):t("/dashboard"):s(c.error||"Login failed")}catch{s("An error occurred during login")}};return ce.useEffect(()=>{e&&t("/",{replace:!0})},[e,t]),B.jsxs("section",{className:"flex min-h-screen relative items-center justify-center bg-background",children:[B.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:`url(${Aee})`,backgroundSize:"cover",backgroundPosition:"center"},children:B.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm"})}),B.jsxs("div",{className:"w-4/5 h-[70dvh] md:h-[85dvh] xl:h-[70dvh] sm:h-auto flex bg-background border border-secondary rounded-2xl shadow-lg max-w-3xl sm:p-5 py-5 mx-4 z-10",children:[B.jsxs("div",{className:"w-full sm:w-1/2 px-8 md:px-16 flex flex-col justify-center gap-2",children:[B.jsxs("div",{className:"text-center mb-8",children:[B.jsx("h2",{className:"text-2xl font-bold text-text",children:"Welcome Back!"}),B.jsx("p",{className:"text-xs md:text-sm mt-4 text-text/60",children:"Please enter your credentials to login."})]}),a&&B.jsx("p",{className:"text-primary text-center mb-4",children:a}),B.jsxs("form",{className:"flex flex-col gap-6 w-full",onSubmit:o,children:[B.jsxs("div",{children:[B.jsx("label",{htmlFor:"name",className:"block mb-2 font-medium text-text",children:"Name"}),B.jsx("input",{id:"name",type:"text",required:!0,className:"w-full p-2 rounded-xl border border-secondary bg-background text-text focus:outline-none focus:ring-1 focus:ring-primary focus:border-transparent transition-all duration-200",placeholder:"Username",value:i.UserName,onChange:l=>r({...i,UserName:l.target.value})})]}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"password",className:"block mb-2 font-medium text-text",children:"Password"}),B.jsx("input",{id:"password",type:"password",required:!0,className:"w-full p-2 rounded-xl border border-secondary bg-background text-text focus:outline-none focus:ring-1 focus:ring-primary focus:border-transparent transition-all duration-200",placeholder:"Password",value:i.Password,onChange:l=>r({...i,Password:l.target.value})})]}),B.jsx("button",{type:"submit",className:"bg-primary text-text font-medium py-3 mt-4 rounded-xl hover:bg-primary/80 transition-colors duration-200",children:"Sign in"})]})]}),B.jsxs("div",{className:"sm:block hidden w-1/2 relative",children:[B.jsx("img",{src:bee,alt:"some image",className:"rounded-2xl object-cover h-full"}),B.jsx("div",{className:"absolute top-0 right-0 w-full h-full bg-background/55 rounded-2xl"}),B.jsx("img",{src:See,alt:"",className:"absolute inset-0 m-auto w-1/2"})]})]})]})},wee=()=>{const t=sx(),{user:e,updateUser:n}=jl(),[i,r]=ce.useState(""),[a,s]=ce.useState(""),[o,l]=ce.useState(""),[c,f]=ce.useState(""),[d,p]=ce.useState(!1),[v,_]=ce.useState(!1);ce.useEffect(()=>{e!=null&&e.phoneNumber&&r(e.phoneNumber)},[e]);const S=async()=>{var T,R;try{l(""),f(""),await Bn.post("/send-otp",{phoneNumber:i}),p(!0),_(!1),f("OTP sent successfully!")}catch(C){l(((R=(T=C.response)==null?void 0:T.data)==null?void 0:R.message)||"Failed to send OTP")}},b=async T=>{var R,C;T.preventDefault();try{l(""),f(""),(await Bn.post("/verify-otp",{phoneNumber:i,otp:a})).data.success&&(f("Phone number verified successfully"),n&&n({...e,phoneNumber:i,phoneVerified:!0}),e.cookieConsent?setTimeout(()=>t("/dashboard",{replace:!0}),1500):setTimeout(()=>t("/cookie-consent",{replace:!0}),1500))}catch(L){l(((C=(R=L.response)==null?void 0:R.data)==null?void 0:C.message)||"Invalid OTP")}},A=()=>{_(!0),p(!1),l(""),f("")};return B.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:B.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 bg-secondary rounded-lg shadow-md",children:[B.jsx("h2",{className:"text-3xl font-bold text-center text-text",children:"Phone Verification"}),o&&B.jsx("p",{className:"text-red-500 text-center",children:o}),c&&B.jsx("p",{className:"text-green-500 text-center",children:c}),B.jsxs("div",{className:"mt-8 space-y-6",children:[B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-medium text-text",children:"Phone Number"}),B.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[B.jsx("input",{type:"text",value:i,onChange:T=>r(T.target.value),placeholder:"+1234567890",disabled:!v,className:"flex-1 min-w-0 block w-full px-3 py-2 rounded-l-md border border-text/20 bg-secondary focus:outline-none focus:ring-primary focus:border-primary sm:text-sm disabled:bg-secondary/50 text-text placeholder-text/50"}),v?B.jsx("button",{onClick:S,disabled:d,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-r-md text-text bg-primary hover:bg-primary/80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50",children:"Send OTP"}):B.jsx("button",{type:"button",onClick:A,className:"inline-flex items-center px-4 py-2 border border-text/20 text-sm font-medium rounded-r-md text-text bg-secondary hover:bg-secondary/70 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Edit"})]})]}),d&&B.jsxs("form",{onSubmit:b,children:[B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-medium text-text",children:"Enter OTP"}),B.jsx("input",{type:"text",value:a,onChange:T=>s(T.target.value),placeholder:"Enter 6-digit OTP",className:"mt-1 block w-full px-3 py-2 border border-text/20 rounded-md shadow-sm bg-secondary focus:outline-none focus:ring-primary focus:border-primary sm:text-sm text-text placeholder-text/50"})]}),B.jsx("button",{type:"submit",className:"mt-4 w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-text bg-primary hover:bg-primary/80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Verify OTP"})]})]})]})})},Eee=()=>{const t=sx(),{user:e,updateUser:n}=jl(),[i,r]=ce.useState(""),[a,s]=ce.useState(""),o=async()=>{try{r(""),s(""),console.log(e),await n({cookieConsent:!0})&&(s("Cookie consent updated successfully"),setTimeout(()=>t("/dashboard",{replace:!0}),1500))}catch(c){r(c.message||"Failed to update cookie consent"),console.error("Cookie consent error details:",c)}},l=()=>{t("/login")};return B.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:B.jsxs("div",{className:"max-w-2xl w-full space-y-8 p-8 bg-secondary rounded-lg shadow-md",children:[B.jsx("h2",{className:"text-3xl font-bold text-center text-text",children:"Cookie Consent"}),i&&B.jsx("p",{className:"text-red-500 text-center",children:i}),a&&B.jsx("p",{className:"text-green-500 text-center",children:a}),B.jsxs("div",{className:"mt-4 space-y-4",children:[B.jsx("p",{className:"text-text/80",children:"We use cookies and similar technologies to help personalize content, tailor and measure ads, and provide a better experience. By clicking 'Accept', you agree to this use of cookies and data."}),B.jsxs("div",{className:"space-y-2",children:[B.jsx("h3",{className:"font-semibold text-text",children:"We use cookies to:"}),B.jsxs("ul",{className:"list-disc list-inside text-text/80 space-y-1",children:[B.jsx("li",{children:"Remember your login details"}),B.jsx("li",{children:"Understand how you use our website"}),B.jsx("li",{children:"Enhance site navigation"}),B.jsx("li",{children:"Improve our platform"})]})]}),B.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[B.jsx("button",{onClick:l,className:"px-4 py-2 border border-text/20 text-text rounded-md hover:bg-secondary/70",children:"Decline"}),B.jsx("button",{onClick:o,className:"px-4 py-2 bg-primary text-text rounded-md hover:bg-primary/80",children:"Accept All Cookies"})]})]})]})})},Cl={SUPER_ADMIN:"super_admin",ADMIN:"admin",USER:"user"},Tee=[{name:"Dashboard",path:"/dashboard",allowedRoles:[Cl.SUPER_ADMIN,Cl.ADMIN,Cl.USER]},{name:"Reports",path:"/reports",allowedRoles:[Cl.SUPER_ADMIN,Cl.ADMIN,Cl.USER]},{name:"Analytics",path:"/analytics",allowedRoles:[Cl.SUPER_ADMIN,Cl.ADMIN,Cl.USER]},{name:"Settings",path:"/settings",allowedRoles:[Cl.SUPER_ADMIN,Cl.ADMIN,Cl.USER]}],Cee={[Cl.SUPER_ADMIN]:[{name:"Activities",path:"/activities"},{name:"Change Password",path:"/change-password"}],[Cl.ADMIN]:[{name:"Change Password",path:"/change-password"}],[Cl.USER]:[{name:"Change Password",path:"/change-password"}]},Ree="/assets/xyma-DmSuxeot.webp";var Rk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},y8=Rd.createContext&&Rd.createContext(Rk),Nee=["attr","size","title"];function Dee(t,e){if(t==null)return{};var n=Bee(t,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function Bee(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function tT(){return tT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},tT.apply(this,arguments)}function x8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function nT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x8(Object(n),!0).forEach(function(i){Oee(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x8(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Oee(t,e,n){return e=Lee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lee(t){var e=Pee(t,"string");return typeof e=="symbol"?e:e+""}function Pee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nk(t){return t&&t.map((e,n)=>Rd.createElement(e.tag,nT({key:n},e.attr),Nk(e.child)))}function Hs(t){return e=>Rd.createElement(Uee,tT({attr:nT({},t.attr)},e),Nk(t.child))}function Uee(t){var e=n=>{var{attr:i,size:r,title:a}=t,s=Dee(t,Nee),o=r||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Rd.createElement("svg",tT({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:l,style:nT(nT({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&Rd.createElement("title",null,a),t.children)};return y8!==void 0?Rd.createElement(y8.Consumer,null,n=>e(n)):e(Rk)}function Dk(t){return Hs({attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6.2253 4.81108C5.83477 4.42056 5.20161 4.42056 4.81108 4.81108C4.42056 5.20161 4.42056 5.83477 4.81108 6.2253L10.5858 12L4.81114 17.7747C4.42062 18.1652 4.42062 18.7984 4.81114 19.1889C5.20167 19.5794 5.83483 19.5794 6.22535 19.1889L12 13.4142L17.7747 19.1889C18.1652 19.5794 18.7984 19.5794 19.1889 19.1889C19.5794 18.7984 19.5794 18.1652 19.1889 17.7747L13.4142 12L19.189 6.2253C19.5795 5.83477 19.5795 5.20161 19.189 4.81108C18.7985 4.42056 18.1653 4.42056 17.7748 4.81108L12 10.5858L6.2253 4.81108Z",fill:"currentColor"},child:[]}]})(t)}function Iee(t){return Hs({attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M2 5.99519C2 5.44556 2.44556 5 2.99519 5H11.0048C11.5544 5 12 5.44556 12 5.99519C12 6.54482 11.5544 6.99039 11.0048 6.99039H2.99519C2.44556 6.99039 2 6.54482 2 5.99519Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M2 11.9998C2 11.4501 2.44556 11.0046 2.99519 11.0046H21.0048C21.5544 11.0046 22 11.4501 22 11.9998C22 12.5494 21.5544 12.9949 21.0048 12.9949H2.99519C2.44556 12.9949 2 12.5494 2 11.9998Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M2.99519 17.0096C2.44556 17.0096 2 17.4552 2 18.0048C2 18.5544 2.44556 19 2.99519 19H15.0048C15.5544 19 16 18.5544 16 18.0048C16 17.4552 15.5544 17.0096 15.0048 17.0096H2.99519Z",fill:"currentColor"},child:[]}]})(t)}function Fee(t){return Hs({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},child:[]}]})(t)}function L4(t){return Hs({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(t)}function zee(t){return Hs({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.82 458.1l-90.62-70.05c.19-1.38.8-2.66.8-4.06.05-7.55-2.61-15.27-8.61-21.71-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84c-40.33 8.38-74.66 31.07-97.59 62.57L45.47 3.37C38.49-2.05 28.43-.8 23.01 6.18L3.37 31.45C-2.05 38.42-.8 48.47 6.18 53.9l588.35 454.73c6.98 5.43 17.03 4.17 22.46-2.81l19.64-25.27c5.42-6.97 4.17-17.02-2.81-22.45zM157.23 251.54c-8.61 67.96-36.41 93.33-52.62 110.75-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h241.92L157.23 251.54zM320 512c35.32 0 63.97-28.65 63.97-64H256.03c0 35.35 28.65 64 63.97 64z"},child:[]}]})(t)}function Hee(t){return Hs({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(t)}var kee=Symbol.for("preact-signals");function J5(){if(ab>1)ab--;else{for(var t,e=!1;JA!==void 0;){var n=JA;for(JA=void 0,P4++;n!==void 0;){var i=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&Ok(n))try{n.c()}catch(r){e||(t=r,e=!0)}n=i}}if(P4=0,ab--,e)throw t}}var Sr=void 0,JA=void 0,ab=0,P4=0,iT=0;function Bk(t){if(Sr!==void 0){var e=t.n;if(e===void 0||e.t!==Sr)return e={i:0,S:t,p:Sr.s,n:void 0,t:Sr,e:void 0,x:void 0,r:e},Sr.s!==void 0&&(Sr.s.n=e),Sr.s=e,t.n=e,32&Sr.f&&t.S(e),e;if(e.i===-1)return e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=Sr.s,e.n=void 0,Sr.s.n=e,Sr.s=e),e}}function qo(t){this.v=t,this.i=0,this.n=void 0,this.t=void 0}qo.prototype.brand=kee;qo.prototype.h=function(){return!0};qo.prototype.S=function(t){this.t!==t&&t.e===void 0&&(t.x=this.t,this.t!==void 0&&(this.t.e=t),this.t=t)};qo.prototype.U=function(t){if(this.t!==void 0){var e=t.e,n=t.x;e!==void 0&&(e.x=n,t.e=void 0),n!==void 0&&(n.e=e,t.x=void 0),t===this.t&&(this.t=n)}};qo.prototype.subscribe=function(t){var e=this;return Z5(function(){var n=e.value,i=Sr;Sr=void 0;try{t(n)}finally{Sr=i}})};qo.prototype.valueOf=function(){return this.value};qo.prototype.toString=function(){return this.value+""};qo.prototype.toJSON=function(){return this.value};qo.prototype.peek=function(){var t=Sr;Sr=void 0;try{return this.value}finally{Sr=t}};Object.defineProperty(qo.prototype,"value",{get:function(){var t=Bk(this);return t!==void 0&&(t.i=this.i),this.v},set:function(t){if(t!==this.v){if(P4>100)throw new Error("Cycle detected");this.v=t,this.i++,iT++,ab++;try{for(var e=this.t;e!==void 0;e=e.x)e.t.N()}finally{J5()}}}});function en(t){return new qo(t)}function Ok(t){for(var e=t.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function Lk(t){for(var e=t.s;e!==void 0;e=e.n){var n=e.S.n;if(n!==void 0&&(e.r=n),e.S.n=e,e.i=-1,e.n===void 0){t.s=e;break}}}function Pk(t){for(var e=t.s,n=void 0;e!==void 0;){var i=e.p;e.i===-1?(e.S.U(e),i!==void 0&&(i.n=e.n),e.n!==void 0&&(e.n.p=i)):n=e,e.S.n=e.r,e.r!==void 0&&(e.r=void 0),e=i}t.s=n}function a1(t){qo.call(this,void 0),this.x=t,this.s=void 0,this.g=iT-1,this.f=4}(a1.prototype=new qo).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===iT))return!0;if(this.g=iT,this.f|=1,this.i>0&&!Ok(this))return this.f&=-2,!0;var t=Sr;try{Lk(this),Sr=this;var e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(n){this.v=n,this.f|=16,this.i++}return Sr=t,Pk(this),this.f&=-2,!0};a1.prototype.S=function(t){if(this.t===void 0){this.f|=36;for(var e=this.s;e!==void 0;e=e.n)e.S.S(e)}qo.prototype.S.call(this,t)};a1.prototype.U=function(t){if(this.t!==void 0&&(qo.prototype.U.call(this,t),this.t===void 0)){this.f&=-33;for(var e=this.s;e!==void 0;e=e.n)e.S.U(e)}};a1.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;t!==void 0;t=t.x)t.t.N()}};Object.defineProperty(a1.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var t=Bk(this);if(this.h(),t!==void 0&&(t.i=this.i),16&this.f)throw this.v;return this.v}});function K5(t){return new a1(t)}function Uk(t){var e=t.u;if(t.u=void 0,typeof e=="function"){ab++;var n=Sr;Sr=void 0;try{e()}catch(i){throw t.f&=-2,t.f|=8,$5(t),i}finally{Sr=n,J5()}}}function $5(t){for(var e=t.s;e!==void 0;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,Uk(t)}function Gee(t){if(Sr!==this)throw new Error("Out-of-order effect");Pk(this),Sr=t,this.f&=-2,8&this.f&&$5(this),J5()}function pM(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}pM.prototype.c=function(){var t=this.S();try{if(8&this.f||this.x===void 0)return;var e=this.x();typeof e=="function"&&(this.u=e)}finally{t()}};pM.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,Uk(this),Lk(this),ab++;var t=Sr;return Sr=this,Gee.bind(this,t)};pM.prototype.N=function(){2&this.f||(this.f|=2,this.o=JA,JA=this)};pM.prototype.d=function(){this.f|=8,1&this.f||$5(this)};function Z5(t){var e=new pM(t);try{e.c()}catch(n){throw e.d(),n}return e.d.bind(e)}var VN={exports:{}},XN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _8;function jee(){if(_8)return XN;_8=1;var t=ax();function e(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,r=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function o(d,p){var v=p(),_=i({inst:{value:v,getSnapshot:p}}),S=_[0].inst,b=_[1];return a(function(){S.value=v,S.getSnapshot=p,l(S)&&b({inst:S})},[d,v,p]),r(function(){return l(S)&&b({inst:S}),d(function(){l(S)&&b({inst:S})})},[d]),s(v),v}function l(d){var p=d.getSnapshot;d=d.value;try{var v=p();return!n(d,v)}catch{return!0}}function c(d,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:o;return XN.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,XN}var b8;function Ik(){return b8||(b8=1,VN.exports=jee()),VN.exports}var Vee=Ik(),Xee=ce.version.split(".").map(Number)[0],Fk=[],qee=Symbol.for(Xee>=19?"react.transitional.element":"react.element"),hy,zk=Symbol.dispose||Symbol.for("Symbol.dispose");function qN(t,e){var n=e.effect.S();return hy=e,Yee.bind(e,t,n)}function Yee(t,e){e(),hy=t}var A8,U4,S8=function(){},Wee=((A8={o:0,effect:{s:void 0,c:function(){},S:function(){return S8},d:function(){}},subscribe:function(){return S8},getSnapshot:function(){return 0},S:function(){},f:function(){}})[zk]=function(){},A8),Jee=Promise.prototype.then.bind(Promise.resolve());function Kee(){U4||(U4=Jee(Hk))}function Hk(){var t;U4=void 0,(t=hy)==null||t.f()}var $ee=typeof window<"u"?ce.useLayoutEffect:ce.useEffect;function kk(t){t===void 0&&(t=0),Kee();var e=ce.useRef();e.current==null&&(typeof window>"u"?e.current=Wee:e.current=function(i){var r,a,s,o,l=0,c=Z5(function(){a=this});return a.c=function(){l=l+1|0,o&&o()},(r={o:i,effect:a,subscribe:function(f){return o=f,function(){l=l+1|0,o=void 0,c()}},getSnapshot:function(){return l},S:function(){if(hy!=null){var f=hy.o,d=this.o;f==0&&d==0||f==0&&d==1?(hy.f(),s=qN(void 0,this)):f==1&&d==0||f==2&&d==0||(s=qN(hy,this))}else s=qN(void 0,this)},f:function(){var f=s;s=void 0,f==null||f()}})[zk]=function(){this.f()},r}(t));var n=e.current;return Vee.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getSnapshot),n.S(),t===0&&$ee(Hk),n}Object.defineProperties(qo.prototype,{$$typeof:{configurable:!0,value:qee},type:{configurable:!0,value:function(t){var e=t.data,n=kk(1);try{return e.value}finally{n.f()}}},props:{configurable:!0,get:function(){return{data:this}}},ref:{configurable:!0,value:null}});function yr(t){return kk(t)}function Zee(t){return ce.useMemo(function(){return en(t)},Fk)}function Qee(t){var e=ce.useRef(t);e.current=t,ce.useEffect(function(){return Z5(function(){return e.current()})},Fk)}const Sa=en("date"),M8=en("dashboard"),_E=en(!1),MS=en([]),cf=en([]),dy=en([]),py=en(!1),Ki=en({group:"A",number:1}),sf=en({}),Gk=en(5),ete=en({voltages:{},timestamp:null}),Rl=en("5"),sh=en({loading:!1,error:null,success:!1}),Sd=en([]),SA=en({defaultFormat:"excel",autoExport:!1,includeCharts:!0}),YN=t=>{Sd.value.includes(t)?Sd.value=Sd.value.filter(e=>e!==t):Sd.value=[...Sd.value,t]},tte=async()=>{try{const t=await Bn.get("/report-config");t.data&&(SA.value={defaultFormat:t.data.defaultFormat||"excel",autoExport:t.data.autoExport||!1,includeCharts:t.data.includeCharts||!0,frequency:t.data.frequency||"daily"},t.data.users&&Array.isArray(t.data.users)&&(Sd.value=t.data.users.map(e=>typeof e=="object"?e._id:e)))}catch(t){console.error("Error fetching report configuration:",t)}},d_=en("profile"),Dv=en(!1),gc=en("Sort By"),vc=en("asc"),ly=en(15),nte=async()=>{try{const t=await Bn.get("/global-email-config");t.data&&(MS.value=t.data.emails||[],cf.value=t.data.users||[])}catch(t){console.error("Error fetching global email config:",t)}},ite=async()=>{var t,e;try{sh.value={...sh.value,loading:!0,error:null};const n=await Bn.get("/global-email-config");if(n.data){MS.value=n.data.emails||[],cf.value=((t=n.data.users)==null?void 0:t.map(r=>r._id))||[];const i=((e=n.data.alertDelay)==null?void 0:e.toString())||"5";["1","5","10"].includes(i)?Rl.value=i:(Rl.value="custom",ly.value=i),sh.value={loading:!1,error:null,success:!0}}}catch(n){console.error("Error fetching alert configuration:",n),sh.value={loading:!1,error:n.message,success:!1}}},jk=async()=>{try{const t=await Bn.get("/users");dy.value=t.data}catch(t){console.error("Error fetching users:",t)}},WN=(t,e)=>{const n=Ki.value.group==="A"?Ki.value.number:Ki.value.number+20,i=sf.value[n]||{low:3,high:7},r=e===""?"":parseFloat(parseFloat(e).toFixed(2));if(t==="low"){if(r!==""&&i.high!==""&&r>=i.high){alert("Low threshold must be less than high threshold");return}}else if(t==="high"&&r!==""&&i.low!==""&&r<=i.low){alert("High threshold must be greater than low threshold");return}sf.value={...sf.value,[n]:{...sf.value[n],[t]:r}},t==="high"&&(Gk.value=r)},rte=async()=>{var t,e;try{const n=Ki.value.group==="A"?Ki.value.number:Ki.value.number+20;let i=parseInt(Rl.value);Rl.value==="custom"&&(i=parseInt(ly.value)),await Bn.post("/alert-config",{sensorId:n,high:((t=sf.value[n])==null?void 0:t.high)||7,low:((e=sf.value[n])==null?void 0:e.low)||3,users:cf.value,alertDelay:i}),await Bn.post("/global-email-config",{emails:MS.value,users:cf.value,alertDelay:i}),alert("Configuration saved successfully")}catch(n){console.error("Error saving configuration:",n),alert("Error saving configuration. Please try again.")}},ate=t=>{cf.value.includes(t)?cf.value=cf.value.filter(e=>e!==t):cf.value=[...cf.value,t]};let ste={data:""},ote=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||ste,lte=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,cte=/\/\*[^]*?\*\/|  +/g,w8=/\n+/g,Jg=(t,e)=>{let n="",i="",r="";for(let a in t){let s=t[a];a[0]=="@"?a[1]=="i"?n=a+" "+s+";":i+=a[1]=="f"?Jg(s,a):a+"{"+Jg(s,a[1]=="k"?"":e)+"}":typeof s=="object"?i+=Jg(s,e?e.replace(/([^,])+/g,o=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):a):s!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Jg.p?Jg.p(a,s):a+":"+s+";")}return n+(e&&r?e+"{"+r+"}":r)+i},kp={},Vk=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Vk(t[n]);return e}return t},ute=(t,e,n,i,r)=>{let a=Vk(t),s=kp[a]||(kp[a]=(l=>{let c=0,f=11;for(;c<l.length;)f=101*f+l.charCodeAt(c++)>>>0;return"go"+f})(a));if(!kp[s]){let l=a!==t?t:(c=>{let f,d,p=[{}];for(;f=lte.exec(c.replace(cte,""));)f[4]?p.shift():f[3]?(d=f[3].replace(w8," ").trim(),p.unshift(p[0][d]=p[0][d]||{})):p[0][f[1]]=f[2].replace(w8," ").trim();return p[0]})(t);kp[s]=Jg(r?{["@keyframes "+s]:l}:l,n?"":"."+s)}let o=n&&kp.g?kp.g:null;return n&&(kp.g=kp[s]),((l,c,f,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=f?l+c.data:c.data+l)})(kp[s],e,i,o),s},fte=(t,e,n)=>t.reduce((i,r,a)=>{let s=e[a];if(s&&s.call){let o=s(n),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;s=l?"."+l:o&&typeof o=="object"?o.props?"":Jg(o,""):o===!1?"":o}return i+r+(s??"")},"");function ER(t){let e=this||{},n=t.call?t(e.p):t;return ute(n.unshift?n.raw?fte(n,[].slice.call(arguments,1),e.p):n.reduce((i,r)=>Object.assign(i,r&&r.call?r(e.p):r),{}):n,ote(e.target),e.g,e.o,e.k)}let Xk,I4,F4;ER.bind({g:1});let Cm=ER.bind({k:1});function hte(t,e,n,i){Jg.p=e,Xk=t,I4=n,F4=i}function x0(t,e){let n=this||{};return function(){let i=arguments;function r(a,s){let o=Object.assign({},a),l=o.className||r.className;n.p=Object.assign({theme:I4&&I4()},o),n.o=/ *go\d+/.test(l),o.className=ER.apply(n,i)+(l?" "+l:"");let c=t;return t[0]&&(c=o.as||t,delete o.as),F4&&c[0]&&F4(o),Xk(c,o)}return r}}var dte=t=>typeof t=="function",rT=(t,e)=>dte(t)?t(e):t,pte=(()=>{let t=0;return()=>(++t).toString()})(),qk=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),mte=20,Yk=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,mte)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:n}=e;return Yk(t,{type:t.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(a=>a.id===i||i===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let r=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+r}))}}},bE=[],my={toasts:[],pausedAt:void 0},ox=t=>{my=Yk(my,t),bE.forEach(e=>{e(my)})},gte={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},vte=(t={})=>{let[e,n]=ce.useState(my),i=ce.useRef(my);ce.useEffect(()=>(i.current!==my&&n(my),bE.push(n),()=>{let a=bE.indexOf(n);a>-1&&bE.splice(a,1)}),[]);let r=e.toasts.map(a=>{var s,o,l;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((s=t[a.type])==null?void 0:s.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((o=t[a.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||gte[a.type],style:{...t.style,...(l=t[a.type])==null?void 0:l.style,...a.style}}});return{...e,toasts:r}},yte=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||pte()}),mM=t=>(e,n)=>{let i=yte(e,t,n);return ox({type:2,toast:i}),i.id},Os=(t,e)=>mM("blank")(t,e);Os.error=mM("error");Os.success=mM("success");Os.loading=mM("loading");Os.custom=mM("custom");Os.dismiss=t=>{ox({type:3,toastId:t})};Os.remove=t=>ox({type:4,toastId:t});Os.promise=(t,e,n)=>{let i=Os.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(r=>{let a=e.success?rT(e.success,r):void 0;return a?Os.success(a,{id:i,...n,...n==null?void 0:n.success}):Os.dismiss(i),r}).catch(r=>{let a=e.error?rT(e.error,r):void 0;a?Os.error(a,{id:i,...n,...n==null?void 0:n.error}):Os.dismiss(i)}),t};var xte=(t,e)=>{ox({type:1,toast:{id:t,height:e}})},_te=()=>{ox({type:5,time:Date.now()})},KA=new Map,bte=1e3,Ate=(t,e=bte)=>{if(KA.has(t))return;let n=setTimeout(()=>{KA.delete(t),ox({type:4,toastId:t})},e);KA.set(t,n)},Ste=t=>{let{toasts:e,pausedAt:n}=vte(t);ce.useEffect(()=>{if(n)return;let a=Date.now(),s=e.map(o=>{if(o.duration===1/0)return;let l=(o.duration||0)+o.pauseDuration-(a-o.createdAt);if(l<0){o.visible&&Os.dismiss(o.id);return}return setTimeout(()=>Os.dismiss(o.id),l)});return()=>{s.forEach(o=>o&&clearTimeout(o))}},[e,n]);let i=ce.useCallback(()=>{n&&ox({type:6,time:Date.now()})},[n]),r=ce.useCallback((a,s)=>{let{reverseOrder:o=!1,gutter:l=8,defaultPosition:c}=s||{},f=e.filter(v=>(v.position||c)===(a.position||c)&&v.height),d=f.findIndex(v=>v.id===a.id),p=f.filter((v,_)=>_<d&&v.visible).length;return f.filter(v=>v.visible).slice(...o?[p+1]:[0,p]).reduce((v,_)=>v+(_.height||0)+l,0)},[e]);return ce.useEffect(()=>{e.forEach(a=>{if(a.dismissed)Ate(a.id,a.removeDelay);else{let s=KA.get(a.id);s&&(clearTimeout(s),KA.delete(a.id))}})},[e]),{toasts:e,handlers:{updateHeight:xte,startPause:_te,endPause:i,calculateOffset:r}}},Mte=Cm`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,wte=Cm`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ete=Cm`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Tte=x0("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Mte} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${wte} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Ete} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Cte=Cm`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Rte=x0("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Cte} 1s linear infinite;
`,Nte=Cm`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Dte=Cm`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Bte=x0("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Nte} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Dte} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Ote=x0("div")`
  position: absolute;
`,Lte=x0("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Pte=Cm`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ute=x0("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Pte} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Ite=({toast:t})=>{let{icon:e,type:n,iconTheme:i}=t;return e!==void 0?typeof e=="string"?ce.createElement(Ute,null,e):e:n==="blank"?null:ce.createElement(Lte,null,ce.createElement(Rte,{...i}),n!=="loading"&&ce.createElement(Ote,null,n==="error"?ce.createElement(Tte,{...i}):ce.createElement(Bte,{...i})))},Fte=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,zte=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Hte="0%{opacity:0;} 100%{opacity:1;}",kte="0%{opacity:1;} 100%{opacity:0;}",Gte=x0("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,jte=x0("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Vte=(t,e)=>{let n=t.includes("top")?1:-1,[i,r]=qk()?[Hte,kte]:[Fte(n),zte(n)];return{animation:e?`${Cm(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Cm(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Xte=ce.memo(({toast:t,position:e,style:n,children:i})=>{let r=t.height?Vte(t.position||e||"top-center",t.visible):{opacity:0},a=ce.createElement(Ite,{toast:t}),s=ce.createElement(jte,{...t.ariaProps},rT(t.message,t));return ce.createElement(Gte,{className:t.className,style:{...r,...n,...t.style}},typeof i=="function"?i({icon:a,message:s}):ce.createElement(ce.Fragment,null,a,s))});hte(ce.createElement);var qte=({id:t,className:e,style:n,onHeightUpdate:i,children:r})=>{let a=ce.useCallback(s=>{if(s){let o=()=>{let l=s.getBoundingClientRect().height;i(t,l)};o(),new MutationObserver(o).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,i]);return ce.createElement("div",{ref:a,className:e,style:n},r)},Yte=(t,e)=>{let n=t.includes("top"),i=n?{top:0}:{bottom:0},r=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:qk()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...i,...r}},Wte=ER`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ew=16,Jte=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:i,children:r,containerStyle:a,containerClassName:s})=>{let{toasts:o,handlers:l}=Ste(n);return ce.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Ew,left:Ew,right:Ew,bottom:Ew,pointerEvents:"none",...a},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},o.map(c=>{let f=c.position||e,d=l.calculateOffset(c,{reverseOrder:t,gutter:i,defaultPosition:e}),p=Yte(f,d);return ce.createElement(qte,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?Wte:"",style:p},c.type==="custom"?rT(c.message,c):r?r(c):ce.createElement(Xte,{toast:c,position:f}))}))},Kte=Os;const $te=()=>{yr();const{user:t,changePassword:e}=jl(),[n,i]=ce.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[r,a]=ce.useState(""),[s,o]=ce.useState(""),l=f=>{i({...n,[f.target.name]:f.target.value})},c=async f=>{var d,p;if(f.preventDefault(),a(""),o(""),n.newPassword!==n.confirmPassword){a("New passwords do not match");return}if(!t||!t._id){a("User not found. Please log in again.");return}try{const v=await e(t._id,n.currentPassword,n.newPassword);v.success?(o(v.message||"Password changed successfully!"),Os.success(v.message||"Password changed successfully!"),i({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{_E.value=!1},2e3)):(a(v.error||"Failed to change password."),Os.error(v.error||"Failed to change password."))}catch(v){const _=((p=(d=v.response)==null?void 0:d.data)==null?void 0:p.message)||v.message||"An unexpected error occurred.";a(_),Os.error(_),console.error("Handle submit error:",err)}};return B.jsxs("div",{className:"p-4 rounded-lg w-full",children:[B.jsx("h1",{className:"text-2xl font-semibold tracking-wider text-text mb-8",children:"Change Password"}),B.jsxs("form",{onSubmit:c,className:"space-y-6",children:[B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"Current Password"}),B.jsx("input",{type:"password",name:"currentPassword",value:n.currentPassword,onChange:l,className:"w-full p-2 border border-secondary rounded bg-background text-text",required:!0})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"New Password"}),B.jsx("input",{type:"password",name:"newPassword",value:n.newPassword,onChange:l,className:"w-full p-2 border border-secondary rounded bg-background text-text",required:!0})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"Confirm New Password"}),B.jsx("input",{type:"password",name:"confirmPassword",value:n.confirmPassword,onChange:l,className:"w-full p-2 border border-secondary rounded bg-background text-text",required:!0})]}),B.jsx("button",{type:"submit",className:"w-full bg-primary text-white py-2 px-4 rounded hover:bg-primary/80 transition-colors",children:"Change Password"})]})]})},Nd=({children:t,onClose:e})=>{yr();const n=i=>{i.target===i.currentTarget&&e()};return B.jsx("div",{className:"fixed inset-0 bg-background/55 flex items-center justify-center z-50",onClick:n,children:B.jsxs("div",{className:"bg-background rounded-lg shadow-lg p-6 max-w-xl w-full relative",children:[B.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",children:B.jsx(Dk,{className:"w-6 h-6"})}),t]})})},Zte=()=>{var k;yr();const[t,e]=ce.useState(!1),[n,i]=ce.useState(!1),{user:r,logout:a}=jl(),s=sx(),o=Lm(),l=ce.useRef(null),c=ce.useRef(null),[f,d]=ce.useState([]),[p,v]=ce.useState(!1),[_,S]=ce.useState(0),b=((k=r==null?void 0:r.Role)==null?void 0:k.toLowerCase())||"user",A=Cee[b]||[],T=async()=>{try{await a(),s("/login")}catch(G){console.error("Logout failed:",G)}};ce.useEffect(()=>{const G=z=>{t&&l.current&&!l.current.contains(z.target)&&c.current&&!c.current.contains(z.target)&&e(!1)};return document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}},[t]);const R=()=>{e(!1)},C=async()=>{try{const G=await Bn.get("/notifications");console.log("fetch notifications:",G),d(G.data),S(G.data.filter(z=>!z.read).length)}catch(G){console.error("Error fetching notifications:",G)}},L=async G=>{try{await Bn.patch(`/notifications/${G}/read`),console.log("mard id",G),d(f.map(z=>z._id===G?{...z,read:!0}:z)),S(z=>Math.max(0,z-1))}catch(z){console.error("Error marking notification as read:",z)}},P=async()=>{try{await Bn.patch("/notifications/read-all"),d(f.map(G=>({...G,read:!0}))),S(0)}catch(G){console.error("Error marking all as read:",G)}};return ce.useEffect(()=>{C();const G=setInterval(C,3e4);return()=>clearInterval(G)},[]),B.jsxs("header",{id:"header",className:`${o.pathname==="/"?"bg-transparent":"bg-background"} fixed w-full z-20 top-0 start-0 shadow-md`,children:[B.jsxs("div",{className:"max-w-screen flex flex-wrap items-center justify-between mx-4 md:mx-6 2xl:mx-8 px-2 md:px-2 2xl:px-4 py-3 md:py-2 2xl:py-3 rtl:space-x-reverse",children:[B.jsx(_d,{to:"https://www.xyma.in/",className:"flex items-center space-x-3 px-8 md:px-6 2xl:px-8 py-2 md:py-1.5 2xl:py-2",children:B.jsx("img",{src:Ree,className:"h-8 md:h-[30px] 2xl:h-8",alt:"xyma-logo"})}),B.jsxs("div",{className:"flex items-center justify-center space-x-4 md:space-x-2 2xl:space-x-4 order-2",children:[r?B.jsxs(B.Fragment,{children:[B.jsxs("div",{className:"relative",children:[B.jsxs("button",{ref:c,type:"button",className:"text-text bg-secondary px-4 py-2 text-center flex items-center justify-center rounded-lg",onClick:()=>{e(!t)},children:[B.jsx("span",{className:"sr-only",children:"Open user menu"}),B.jsx(Fee,{className:"h-6 md:h-8 2xl:h-10 w-5 md:w-5 2xl:w-6"})]}),B.jsxs("div",{ref:l,className:`z-50 absolute right-0 translate-x-1 mt-2 w-42 md:w-40 2xl:w-48 bg-text rounded-lg shadow-lg transition-all duration-300 ease-in-out ${t?"opacity-100 visible pointer-events-auto":"opacity-0 invisible pointer-events-none"}`,id:"user-dropdown",children:[B.jsxs("div",{className:"px-4 md:px-3 2xl:px-4 py-3 md:py-2 2xl:py-3 border-b border-secondary",children:[B.jsx("span",{className:"block text-sm text-primary ",children:r.UserName}),B.jsx("span",{className:"block text-sm md:text-xs 2xl:text-sm text-secondary/90 truncate",children:r.Email})]}),B.jsxs("ul",{className:"py-2 md:py-1.5 2xl:py-2","aria-labelledby":"user-menu-button",children:[A.map(G=>G.name==="Change Password"?B.jsxs("li",{children:[" ",B.jsx("button",{onClick:()=>{_E.value=!0,R()},className:"block w-full text-left px-4 md:px-3 2xl:px-4 py-2 md:py-1.5 2xl:py-2 text-sm md:text-xs 2xl:text-sm text-primary hover:bg-primary/10",children:"Change Password"})]},G.name):B.jsx("li",{children:B.jsx(_d,{to:G.path,className:"block px-4 md:px-3 2xl:px-4 py-2 md:py-1.5 2xl:py-2 text-sm md:text-xs 2xl:text-sm text-primary hover:bg-primary/10",onClick:R,children:G.name})},G.path)),B.jsx("li",{children:B.jsx("button",{onClick:()=>{R(),T()},className:"block w-full text-left px-4 md:px-3 2xl:px-4 py-2 md:py-1.5 2xl:py-2 text-sm md:text-xs 2xl:text-sm text-primary hover:bg-secondary/5 ",children:"Sign out"})})]})]})]}),B.jsxs("div",{className:"relative ml-4",children:[B.jsxs("button",{onClick:()=>v(!p),className:"text-text bg-secondary p-2 md:p-4 rounded-lg hover:bg-secondary/80 transition-colors relative",children:[_>0?B.jsx(Hee,{className:"h-5 w-5"}):B.jsx(zee,{className:"h-5 w-5"}),_>0&&B.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:_>9?"9+":_})]}),p&&B.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-secondary rounded-md shadow-lg overflow-hidden z-50",children:[B.jsxs("div",{className:"p-3 border-b border-background bg-background/30 flex justify-between items-center",children:[B.jsx("h3",{className:"text-sm font-medium text-text",children:"Notifications"}),B.jsx("button",{onClick:P,className:"text-xs text-primary hover:text-blue-800",children:"Mark all as read"})]}),B.jsx("div",{className:"max-h-96 overflow-y-auto",children:f.length>0?f.map(G=>{var z;return B.jsx("div",{className:`p-3 border-b border-background hover:bg-background/50 cursor-pointer ${G.read?"bg-background/35":"bg-background/20"}`,onClick:()=>{L(G._id)},children:B.jsxs("div",{className:"flex items-start",children:[B.jsx("div",{className:"flex-shrink-0 pt-0.5",children:B.jsx("div",{className:`h-2 w-2 rounded-full ${G.severity==="high"?"bg-red-500":G.severity==="medium"?"bg-yellow-500":"bg-blue-500"}`})}),B.jsxs("div",{className:"ml-3 w-0 flex-1",children:[B.jsx("p",{className:`  ${G.read?"font-normal text-text/75 text-xs":"font-medium text-text text-sm"}`,children:((z=G.sensorId)==null?void 0:z.name)||"Sensor Alert"}),B.jsx("p",{className:`mt-1  ${G.read?"font-normal text-text/65 text-xs":"text-sm text-text/80"}`,children:G.message}),B.jsx("p",{className:"mt-1 text-xs text-text/60",children:new Date(G.timestamp).toLocaleString()})]})]})},G._id)}):B.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:"No notifications"})})]})]})]}):B.jsx(B.Fragment,{children:B.jsx(_d,{to:"/login",className:"text-light bg-primary/90 hover:bg-primary px-4 md:px-3 2xl:px-4 py-2 md:py-1.5 2xl:py-2 rounded-lg",children:"Login"})}),B.jsxs("button",{"data-collapse-toggle":"navbar-sticky",type:"button",className:"inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-light bg-primary rounded-lg md:hidden hover:bg-primary/80 focus:outline-none focus:ring-2 focus:ring-secondary","aria-controls":"navbar-sticky","aria-expanded":n,onClick:()=>i(!n),children:[n?B.jsx(Dk,{className:"w-6 h-6"}):B.jsx(Iee,{className:"w-6 h-6"}),B.jsx("span",{className:"sr-only",children:"Open main menu"})]})]}),B.jsx("div",{className:`${n?"translate-y-0 opacity-100":"-translate-y-full opacity-0 hidden"} w-3/4 absolute top-full left-1/2 -translate-x-1/2 bg-primary/90 backdrop-blur-md shadow-xl transform transition-all duration-300 ease-in-out rounded-b-lg`,children:B.jsxs("ul",{className:"flex flex-col p-4 font-medium",children:[B.jsx("li",{children:B.jsx(_d,{to:"/",className:"block py-3 px-4 text-xl text-light hover:text-light/85",onClick:()=>i(!1),children:"Dashboard"})}),B.jsx("li",{children:B.jsx(_d,{to:"/reports",className:"block py-3 px-4 text-xl text-light hover:text-light/85",onClick:()=>i(!1),children:"Reports"})}),B.jsx("li",{children:B.jsx(_d,{to:"/analytics",className:"block py-3 px-4 text-xl text-light hover:text-light/85",onClick:()=>i(!1),children:"Analytics"})}),B.jsx("li",{children:B.jsx(_d,{to:"/settings",className:"block py-3 px-4 text-xl text-light hover:text-light/85",onClick:()=>i(!1),children:"Settings"})})]})}),B.jsx("nav",{className:"hidden w-7/12 md:w-6/12 2xl:w-7/12 md:flex justify-around space-x-8 md:space-x-6 2xl:space-x-8 bg-secondary p-4 md:p-3 2xl:p-4 px-6 md:px-4 2xl:px-6 rounded-lg",id:"navbar-sticky",children:Tee.map(G=>B.jsxs(_d,{to:G.path,className:`font-medium text-base md:text-xs 2xl:text-base tracking-wide hover:text-primary transition-colors duration-300 ease-in relative ${o.pathname===G.path?"text-primary":"text-text"}`,children:[G.name,o.pathname===G.path&&B.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 -bottom-4 md:-bottom-3 2xl:-bottom-4 w-3/4 h-[0.28rem] md:h-[0.2rem] 2xl:h-[0.28rem] rounded-2xl bg-primary"})]},G.path))})]}),_E.value&&B.jsx(Nd,{onClose:()=>_E.value=!1,children:B.jsx($te,{})})]})},o0=({data:t,columns:e,actions:n,expandableContent:i,isLoading:r=!1})=>{const[a,s]=Rd.useState([]),o=l=>{s(c=>({...c,[l]:!c[l]}))};return r?B.jsx("div",{className:"flex justify-center items-center h-64",children:B.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):t!=null&&t.length?B.jsx("div",{className:"w-full bg-background/70 shadow rounded-lg overflow-auto md:overflow-hidden",children:B.jsxs("table",{className:"w-full divide-y divide-secondary overflow-y-hidden",children:[B.jsx("thead",{className:"bg-primary/65",children:B.jsxs("tr",{children:[B.jsx("th",{className:"px-6 md:px-3 2xl:px-6 py-3 md:py-2.5 2xl:py-3 text-left text-sm md:text-xs 2xl:text-sm font-medium text-text uppercase tracking-wider",children:"S.No"}),e.map(l=>B.jsx("th",{className:"px-6 md:px-3 2xl:px-6 py-3 md:py-2.5 2xl:py-3 text-left text-sm md:text-xs 2xl:text-sm font-medium text-text uppercase tracking-wider",children:l.header},l.key)),n&&B.jsx("th",{className:"px-6 md:px-3 2xl:px-6 py-3 md:py-2.5 2xl:py-3 text-left text-sm md:text-xs 2xl:text-sm font-medium text-text uppercase tracking-wider",children:"Actions"})]})}),B.jsx("tbody",{className:"divide-y divide-secondary/45",children:t.map((l,c)=>{const f=l._id||`row-${c}-${JSON.stringify(l)}`;return B.jsxs(Rd.Fragment,{children:[B.jsxs("tr",{className:i?"cursor-pointer":"",onClick:i?()=>o(f):void 0,children:[B.jsx("td",{className:"px-6 md:px-3 2xl:px-6 py-3 md:py-2.5 2xl:py-3 text-sm md:text-xs 2xl:text-sm whitespace-nowrap text-text/75",children:c+1}),e.map(d=>B.jsx("td",{className:"px-6 md:px-3 2xl:px-6 py-3 md:py-2.5 2xl:py-3 text-sm md:text-xs 2xl:text-sm whitespace-nowrap text-text/75",children:d.render?d.render(l[d.key],l):l[d.key]},`${f}-${d.key}`)),n&&B.jsx("td",{className:"px-6 md:px-3 2xl:px-6 py-3 md:py-2.5 2xl:py-3 text-sm md:text-xs 2xl:text-sm whitespace-nowrap text-text/65",children:n(l)})]},`row-${f}`),i&&a[f]&&B.jsx("tr",{className:"bg-secondary/5",children:B.jsx("td",{colSpan:e.length+1,children:i(l)})})]},`fragment-${f}`)})})]})}):B.jsx("div",{className:"text-center py-12",children:B.jsx("p",{className:"text-background font-medium tracking-wider shadow-2xl shadow-primary",children:"No user data available"})})},Qte=()=>{const{user:t,logout:e}=jl(),[n,i]=ce.useState([]),[r,a]=ce.useState({}),[s,o]=ce.useState(!1),[l,c]=ce.useState("1h"),[f,d]=ce.useState(null),[p,v]=ce.useState("user-data"),_=(t==null?void 0:t.Role)==="admin"||(t==null?void 0:t.Role)==="super_admin";ce.useEffect(()=>{_&&S()},[_]);const S=async()=>{try{const C=await Bn.get("/users");i(C.data)}catch(C){console.error("Error fetching users:",C)}},b=C=>{d(C),o(!0)},A=C=>{c(C.target.value)},T=async()=>{try{await Bn.post(`/send-data/${f._id}`,{duration:l}),a(C=>({...C,[f._id]:!0})),o(!1)}catch(C){console.error("Error starting data sending:",C)}},R=async C=>{try{await Bn.post(`/stop-data/${C}`),a(L=>({...L,[C]:!1}))}catch(L){console.error("Error stopping data sending:",L)}};return B.jsxs("div",{className:"min-h-screen bg-background pt-28",children:[B.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[B.jsxs("div",{className:"mb-8",children:[B.jsx("h1",{className:"text-3xl font-bold text-text",children:"Dashboard"}),B.jsxs("p",{className:"text-text/75",children:["Welcome, ",t==null?void 0:t.UserName," (",t==null?void 0:t.Role,")"]}),B.jsxs("p",{className:"text-text/70",children:["Email: ",t==null?void 0:t.Email]})]}),B.jsx("div",{className:"bg-secondary/10 shadow rounded-lg overflow-hidden",children:B.jsx(o0,{data:n,columns:[{key:"UserName",header:"Username"},{key:"Email",header:"Email"},{key:"Role",header:"Role",render:C=>B.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${C==="admin"?"bg-purple-300 text-purple-800":"bg-blue-200 text-blue-800"}`,children:C||"User"})},{key:"phoneNumber",header:"Phone Number"}],actions:C=>B.jsx(B.Fragment,{children:r[C._id]?B.jsx("button",{onClick:L=>{L.stopPropagation(),R(C._id)},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",disabled:!r[C._id],children:"Stop"}):B.jsx("button",{onClick:L=>{L.stopPropagation(),b(C)},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Send Email"})}),expandableContent:C=>B.jsxs("div",{className:"px-8 py-6 bg-background/50",children:[B.jsx("h3",{className:"text-lg font-semibold text-primary mb-4",children:"Activity History"}),B.jsx("div",{className:"space-y-4",children:C.activities.map((L,P)=>{var k,G;return B.jsxs("div",{className:"grid grid-cols-4 gap-6 p-4 rounded-lg bg-secondary/5 border border-secondary/10",children:[B.jsxs("div",{className:"flex flex-col space-y-1",children:[B.jsx("span",{className:"font-medium text-text/75 text-sm",children:"Activity Type"}),B.jsx("span",{className:`px-3 py-1 rounded-full text-xs w-fit ${L.type==="login"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:L.type})]}),B.jsxs("div",{className:"flex flex-col space-y-1",children:[B.jsx("span",{className:"font-medium text-text/75 text-sm",children:"Timestamp"}),B.jsx("span",{className:"text-primary/80",children:new Date(L.timestamp).toLocaleString()})]}),B.jsxs("div",{className:"flex flex-col space-y-1",children:[B.jsx("span",{className:"font-medium text-text/75 text-sm",children:"IP Address"}),B.jsx("span",{className:"font-mono text-text/90",children:L.ipAddress})]}),B.jsxs("div",{className:"flex flex-col space-y-1",children:[B.jsx("span",{className:"font-medium text-text/75 text-sm",children:"Location"}),B.jsx("span",{className:"text-text/90",children:`${((k=L.location)==null?void 0:k.city)||"Unknown"}, ${((G=L.location)==null?void 0:G.country)||"Unknown"}`})]})]},P)})})]})})})]}),s&&B.jsxs(Nd,{onClose:()=>o(!1),children:[B.jsx("h2",{className:"text-xl font-semibold text-primary mb-4",children:"Select Duration"}),B.jsxs("div",{className:"flex items-center justify-evenly gap-4",children:[B.jsxs("select",{value:l,onChange:A,className:"w-full p-2 border border-secondary rounded bg-background text-text",children:[B.jsx("option",{value:"1d",children:"Last 1 Day"}),B.jsx("option",{value:"1w",children:"Last 1 Week"}),B.jsx("option",{value:"1m",children:"Last 1 Month"})]}),B.jsx("button",{onClick:T,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Send"})]})]})]})};/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const gM="175",Zv={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Qv={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Wk=0,z4=1,Jk=2,ene=3,Kk=0,TR=1,$A=2,ih=3,Ud=0,Fl=1,uf=2,Sm=0,Cy=1,H4=2,k4=3,G4=4,$k=5,Kg=100,Zk=101,Qk=102,eG=103,tG=104,nG=200,iG=201,rG=202,aG=203,aT=204,sT=205,sG=206,oG=207,lG=208,cG=209,uG=210,fG=211,hG=212,dG=213,pG=214,oT=0,lT=1,cT=2,zy=3,uT=4,fT=5,hT=6,dT=7,vM=0,mG=1,gG=2,Dd=0,vG=1,yG=2,xG=3,Q5=4,_G=5,bG=6,AG=7,j4="attached",SG="detached",CR=300,Rm=301,l0=302,wS=303,ES=304,s1=306,c0=1e3,_u=1001,yb=1002,Is=1003,RR=1004,tne=1004,gy=1005,nne=1005,Fa=1006,sb=1007,ine=1007,hf=1008,rne=1008,xh=1009,eL=1010,tL=1011,xb=1012,NR=1013,Nm=1014,Oc=1015,o1=1016,DR=1017,BR=1018,_b=1020,nL=35902,iL=1021,rL=1022,jo=1023,aL=1024,sL=1025,bb=1026,Ab=1027,OR=1028,yM=1029,oL=1030,LR=1031,ane=1032,PR=1033,ZA=33776,QA=33777,eS=33778,tS=33779,pT=35840,mT=35841,gT=35842,vT=35843,yT=36196,xT=37492,_T=37496,bT=37808,AT=37809,ST=37810,MT=37811,wT=37812,ET=37813,TT=37814,CT=37815,RT=37816,NT=37817,DT=37818,BT=37819,OT=37820,LT=37821,nS=36492,PT=36494,UT=36495,lL=36283,IT=36284,FT=36285,zT=36286,MG=2200,wG=2201,EG=2202,Sb=2300,Mb=2301,AE=2302,vy=2400,yy=2401,TS=2402,UR=2500,cL=2501,TG=0,uL=1,HT=2,CG=3200,RG=3201,sne=3202,one=3203,_0=0,NG=1,hm="",ko="srgb",u0="srgb-linear",CS="linear",ur="srgb",lne=0,ey=7680,cne=7681,une=7682,fne=7683,hne=34055,dne=34056,pne=5386,mne=512,gne=513,vne=514,yne=515,xne=516,_ne=517,bne=518,V4=519,DG=512,BG=513,OG=514,fL=515,LG=516,PG=517,UG=518,IG=519,RS=35044,Ane=35048,Sne=35040,Mne=35045,wne=35049,Ene=35041,Tne=35046,Cne=35050,Rne=35042,Nne="100",X4="300 es",ph=2e3,NS=2001,Dne={COMPUTE:"compute",RENDER:"render"};let Vd=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const a=r.indexOf(n);a!==-1&&r.splice(a,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const i=n[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,s=r.length;a<s;a++)r[a].call(this,e);e.target=null}}};const Do=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let E8=1234567;const Ry=Math.PI/180,wb=180/Math.PI;function Su(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Do[t&255]+Do[t>>8&255]+Do[t>>16&255]+Do[t>>24&255]+"-"+Do[e&255]+Do[e>>8&255]+"-"+Do[e>>16&15|64]+Do[e>>24&255]+"-"+Do[n&63|128]+Do[n>>8&255]+"-"+Do[n>>16&255]+Do[n>>24&255]+Do[i&255]+Do[i>>8&255]+Do[i>>16&255]+Do[i>>24&255]).toLowerCase()}function Dn(t,e,n){return Math.max(e,Math.min(n,t))}function hL(t,e){return(t%e+e)%e}function Bne(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)}function One(t,e,n){return t!==e?(n-t)/(e-t):0}function iS(t,e,n){return(1-n)*t+n*e}function Lne(t,e,n,i){return iS(t,e,1-Math.exp(-n*i))}function Pne(t,e=1){return e-Math.abs(hL(t,e*2)-e)}function Une(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Ine(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Fne(t,e){return t+Math.floor(Math.random()*(e-t+1))}function zne(t,e){return t+Math.random()*(e-t)}function Hne(t){return t*(.5-Math.random())}function kne(t){t!==void 0&&(E8=t);let e=E8+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Gne(t){return t*Ry}function jne(t){return t*wb}function Vne(t){return(t&t-1)===0&&t!==0}function Xne(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function qne(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Yne(t,e,n,i,r){const a=Math.cos,s=Math.sin,o=a(n/2),l=s(n/2),c=a((e+i)/2),f=s((e+i)/2),d=a((e-i)/2),p=s((e-i)/2),v=a((i-e)/2),_=s((i-e)/2);switch(r){case"XYX":t.set(o*f,l*d,l*p,o*c);break;case"YZY":t.set(l*p,o*f,l*d,o*c);break;case"ZXZ":t.set(l*d,l*p,o*f,o*c);break;case"XZX":t.set(o*f,l*_,l*v,o*c);break;case"YXY":t.set(l*v,o*f,l*_,o*c);break;case"ZYZ":t.set(l*_,l*v,o*f,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Pl(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function kn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const FG={DEG2RAD:Ry,RAD2DEG:wb,generateUUID:Su,clamp:Dn,euclideanModulo:hL,mapLinear:Bne,inverseLerp:One,lerp:iS,damp:Lne,pingpong:Pne,smoothstep:Une,smootherstep:Ine,randInt:Fne,randFloat:zne,randFloatSpread:Hne,seededRandom:kne,degToRad:Gne,radToDeg:jne,isPowerOfTwo:Vne,ceilPowerOfTwo:Xne,floorPowerOfTwo:qne,setQuaternionFromProperEuler:Yne,normalize:kn,denormalize:Pl};class ct{constructor(e=0,n=0){ct.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Dn(this.x,e.x,n.x),this.y=Dn(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=Dn(this.x,e,n),this.y=Dn(this.y,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Dn(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Dn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),a=this.x-e.x,s=this.y-e.y;return this.x=a*i-s*r+e.x,this.y=a*r+s*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Pn{constructor(e,n,i,r,a,s,o,l,c){Pn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,r,a,s,o,l,c)}set(e,n,i,r,a,s,o,l,c){const f=this.elements;return f[0]=e,f[1]=r,f[2]=o,f[3]=n,f[4]=a,f[5]=l,f[6]=i,f[7]=s,f[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,a=this.elements,s=i[0],o=i[3],l=i[6],c=i[1],f=i[4],d=i[7],p=i[2],v=i[5],_=i[8],S=r[0],b=r[3],A=r[6],T=r[1],R=r[4],C=r[7],L=r[2],P=r[5],k=r[8];return a[0]=s*S+o*T+l*L,a[3]=s*b+o*R+l*P,a[6]=s*A+o*C+l*k,a[1]=c*S+f*T+d*L,a[4]=c*b+f*R+d*P,a[7]=c*A+f*C+d*k,a[2]=p*S+v*T+_*L,a[5]=p*b+v*R+_*P,a[8]=p*A+v*C+_*k,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],f=e[8];return n*s*f-n*o*c-i*a*f+i*o*l+r*a*c-r*s*l}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],f=e[8],d=f*s-o*c,p=o*l-f*a,v=c*a-s*l,_=n*d+i*p+r*v;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/_;return e[0]=d*S,e[1]=(r*c-f*i)*S,e[2]=(o*i-r*s)*S,e[3]=p*S,e[4]=(f*n-r*l)*S,e[5]=(r*a-o*n)*S,e[6]=v*S,e[7]=(i*l-c*n)*S,e[8]=(s*n-i*a)*S,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,a,s,o){const l=Math.cos(a),c=Math.sin(a);return this.set(i*l,i*c,-i*(l*s+c*o)+s+e,-r*c,r*l,-r*(-c*s+l*o)+o+n,0,0,1),this}scale(e,n){return this.premultiply(JN.makeScale(e,n)),this}rotate(e){return this.premultiply(JN.makeRotation(-e)),this}translate(e,n){return this.premultiply(JN.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const JN=new Pn;function zG(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Wne={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function $_(t,e){return new Wne[t](e)}function DS(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function HG(){const t=DS("canvas");return t.style.display="block",t}const T8={};function SE(t){t in T8||(T8[t]=!0,console.warn(t))}function Jne(t,e,n){return new Promise(function(i,r){function a(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:r();break;case t.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:i()}}setTimeout(a,n)})}function Kne(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function $ne(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const C8=new Pn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),R8=new Pn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Zne(){const t={enabled:!0,workingColorSpace:u0,spaces:{},convert:function(r,a,s){return this.enabled===!1||a===s||!a||!s||(this.spaces[a].transfer===ur&&(r.r=Mm(r.r),r.g=Mm(r.g),r.b=Mm(r.b)),this.spaces[a].primaries!==this.spaces[s].primaries&&(r.applyMatrix3(this.spaces[a].toXYZ),r.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===ur&&(r.r=ob(r.r),r.g=ob(r.g),r.b=ob(r.b))),r},fromWorkingColorSpace:function(r,a){return this.convert(r,this.workingColorSpace,a)},toWorkingColorSpace:function(r,a){return this.convert(r,a,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===hm?CS:this.spaces[r].transfer},getLuminanceCoefficients:function(r,a=this.workingColorSpace){return r.fromArray(this.spaces[a].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,a,s){return r.copy(this.spaces[a].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],i=[.3127,.329];return t.define({[u0]:{primaries:e,whitePoint:i,transfer:CS,toXYZ:C8,fromXYZ:R8,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:ko},outputColorSpaceConfig:{drawingBufferColorSpace:ko}},[ko]:{primaries:e,whitePoint:i,transfer:ur,toXYZ:C8,fromXYZ:R8,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:ko}}}),t}const bi=Zne();function Mm(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function ob(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let p_;class kG{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{p_===void 0&&(p_=DS("canvas")),p_.width=e.width,p_.height=e.height;const r=p_.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=p_}return i.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=DS("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),a=r.data;for(let s=0;s<a.length;s++)a[s]=Mm(a[s]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(Mm(n[i]/255)*255):n[i]=Mm(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Qne=0;class e0{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Qne++}),this.uuid=Su(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let s=0,o=r.length;s<o;s++)r[s].isDataTexture?a.push(KN(r[s].image)):a.push(KN(r[s]))}else a=KN(r);i.url=a}return n||(e.images[this.uuid]=i),i}}function KN(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?kG.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let eie=0;class Kr extends Vd{constructor(e=Kr.DEFAULT_IMAGE,n=Kr.DEFAULT_MAPPING,i=_u,r=_u,a=Fa,s=hf,o=jo,l=xh,c=Kr.DEFAULT_ANISOTROPY,f=hm){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:eie++}),this.uuid=Su(),this.name="",this.source=new e0(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=a,this.minFilter=s,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new ct(0,0),this.repeat=new ct(1,1),this.center=new ct(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Pn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=f,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==CR)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case c0:e.x=e.x-Math.floor(e.x);break;case _u:e.x=e.x<0?0:1;break;case yb:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case c0:e.y=e.y-Math.floor(e.y);break;case _u:e.y=e.y<0?0:1;break;case yb:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Kr.DEFAULT_IMAGE=null;Kr.DEFAULT_MAPPING=CR;Kr.DEFAULT_ANISOTROPY=1;class Li{constructor(e=0,n=0,i=0,r=1){Li.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,a=this.w,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*r+s[12]*a,this.y=s[1]*n+s[5]*i+s[9]*r+s[13]*a,this.z=s[2]*n+s[6]*i+s[10]*r+s[14]*a,this.w=s[3]*n+s[7]*i+s[11]*r+s[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,a;const l=e.elements,c=l[0],f=l[4],d=l[8],p=l[1],v=l[5],_=l[9],S=l[2],b=l[6],A=l[10];if(Math.abs(f-p)<.01&&Math.abs(d-S)<.01&&Math.abs(_-b)<.01){if(Math.abs(f+p)<.1&&Math.abs(d+S)<.1&&Math.abs(_+b)<.1&&Math.abs(c+v+A-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const R=(c+1)/2,C=(v+1)/2,L=(A+1)/2,P=(f+p)/4,k=(d+S)/4,G=(_+b)/4;return R>C&&R>L?R<.01?(i=0,r=.707106781,a=.707106781):(i=Math.sqrt(R),r=P/i,a=k/i):C>L?C<.01?(i=.707106781,r=0,a=.707106781):(r=Math.sqrt(C),i=P/r,a=G/r):L<.01?(i=.707106781,r=.707106781,a=0):(a=Math.sqrt(L),i=k/a,r=G/a),this.set(i,r,a,n),this}let T=Math.sqrt((b-_)*(b-_)+(d-S)*(d-S)+(p-f)*(p-f));return Math.abs(T)<.001&&(T=1),this.x=(b-_)/T,this.y=(d-S)/T,this.z=(p-f)/T,this.w=Math.acos((c+v+A-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Dn(this.x,e.x,n.x),this.y=Dn(this.y,e.y,n.y),this.z=Dn(this.z,e.z,n.z),this.w=Dn(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=Dn(this.x,e,n),this.y=Dn(this.y,e,n),this.z=Dn(this.z,e,n),this.w=Dn(this.w,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Dn(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class IR extends Vd{constructor(e=1,n=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Li(0,0,e,n),this.scissorTest=!1,this.viewport=new Li(0,0,e,n);const r={width:e,height:n,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Fa,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const a=new Kr(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);a.flipY=!1,a.generateMipmaps=i.generateMipmaps,a.internalFormat=i.internalFormat,this.textures=[];const s=i.count;for(let o=0;o<s;o++)this.textures[o]=a.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let r=0,a=this.textures.length;r<a;r++)this.textures[r].image.width=e,this.textures[r].image.height=n,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,i=e.textures.length;n<i;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const r=Object.assign({},e.textures[n].image);this.textures[n].source=new e0(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Id extends IR{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class xM extends Kr{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=Is,this.minFilter=Is,this.wrapR=_u,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class tie extends Id{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new xM(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class FR extends Kr{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=Is,this.minFilter=Is,this.wrapR=_u,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class nie extends Id{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new FR(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class Fs{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,a,s,o){let l=i[r+0],c=i[r+1],f=i[r+2],d=i[r+3];const p=a[s+0],v=a[s+1],_=a[s+2],S=a[s+3];if(o===0){e[n+0]=l,e[n+1]=c,e[n+2]=f,e[n+3]=d;return}if(o===1){e[n+0]=p,e[n+1]=v,e[n+2]=_,e[n+3]=S;return}if(d!==S||l!==p||c!==v||f!==_){let b=1-o;const A=l*p+c*v+f*_+d*S,T=A>=0?1:-1,R=1-A*A;if(R>Number.EPSILON){const L=Math.sqrt(R),P=Math.atan2(L,A*T);b=Math.sin(b*P)/L,o=Math.sin(o*P)/L}const C=o*T;if(l=l*b+p*C,c=c*b+v*C,f=f*b+_*C,d=d*b+S*C,b===1-o){const L=1/Math.sqrt(l*l+c*c+f*f+d*d);l*=L,c*=L,f*=L,d*=L}}e[n]=l,e[n+1]=c,e[n+2]=f,e[n+3]=d}static multiplyQuaternionsFlat(e,n,i,r,a,s){const o=i[r],l=i[r+1],c=i[r+2],f=i[r+3],d=a[s],p=a[s+1],v=a[s+2],_=a[s+3];return e[n]=o*_+f*d+l*v-c*p,e[n+1]=l*_+f*p+c*d-o*v,e[n+2]=c*_+f*v+o*p-l*d,e[n+3]=f*_-o*d-l*p-c*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,r=e._y,a=e._z,s=e._order,o=Math.cos,l=Math.sin,c=o(i/2),f=o(r/2),d=o(a/2),p=l(i/2),v=l(r/2),_=l(a/2);switch(s){case"XYZ":this._x=p*f*d+c*v*_,this._y=c*v*d-p*f*_,this._z=c*f*_+p*v*d,this._w=c*f*d-p*v*_;break;case"YXZ":this._x=p*f*d+c*v*_,this._y=c*v*d-p*f*_,this._z=c*f*_-p*v*d,this._w=c*f*d+p*v*_;break;case"ZXY":this._x=p*f*d-c*v*_,this._y=c*v*d+p*f*_,this._z=c*f*_+p*v*d,this._w=c*f*d-p*v*_;break;case"ZYX":this._x=p*f*d-c*v*_,this._y=c*v*d+p*f*_,this._z=c*f*_-p*v*d,this._w=c*f*d+p*v*_;break;case"YZX":this._x=p*f*d+c*v*_,this._y=c*v*d+p*f*_,this._z=c*f*_-p*v*d,this._w=c*f*d-p*v*_;break;case"XZY":this._x=p*f*d-c*v*_,this._y=c*v*d-p*f*_,this._z=c*f*_+p*v*d,this._w=c*f*d+p*v*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],a=n[8],s=n[1],o=n[5],l=n[9],c=n[2],f=n[6],d=n[10],p=i+o+d;if(p>0){const v=.5/Math.sqrt(p+1);this._w=.25/v,this._x=(f-l)*v,this._y=(a-c)*v,this._z=(s-r)*v}else if(i>o&&i>d){const v=2*Math.sqrt(1+i-o-d);this._w=(f-l)/v,this._x=.25*v,this._y=(r+s)/v,this._z=(a+c)/v}else if(o>d){const v=2*Math.sqrt(1+o-i-d);this._w=(a-c)/v,this._x=(r+s)/v,this._y=.25*v,this._z=(l+f)/v}else{const v=2*Math.sqrt(1+d-i-o);this._w=(s-r)/v,this._x=(a+c)/v,this._y=(l+f)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Dn(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,a=e._z,s=e._w,o=n._x,l=n._y,c=n._z,f=n._w;return this._x=i*f+s*o+r*c-a*l,this._y=r*f+s*l+a*o-i*c,this._z=a*f+s*c+i*l-r*o,this._w=s*f-i*o-r*l-a*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,r=this._y,a=this._z,s=this._w;let o=s*e._w+i*e._x+r*e._y+a*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=i,this._y=r,this._z=a,this;const l=1-o*o;if(l<=Number.EPSILON){const v=1-n;return this._w=v*s+n*this._w,this._x=v*i+n*this._x,this._y=v*r+n*this._y,this._z=v*a+n*this._z,this.normalize(),this}const c=Math.sqrt(l),f=Math.atan2(c,o),d=Math.sin((1-n)*f)/c,p=Math.sin(n*f)/c;return this._w=s*d+this._w*p,this._x=i*d+this._x*p,this._y=r*d+this._y*p,this._z=a*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),a=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),a*Math.sin(n),a*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class me{constructor(e=0,n=0,i=0){me.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(N8.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(N8.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*n+a[3]*i+a[6]*r,this.y=a[1]*n+a[4]*i+a[7]*r,this.z=a[2]*n+a[5]*i+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,a=e.elements,s=1/(a[3]*n+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*n+a[4]*i+a[8]*r+a[12])*s,this.y=(a[1]*n+a[5]*i+a[9]*r+a[13])*s,this.z=(a[2]*n+a[6]*i+a[10]*r+a[14])*s,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,a=e.x,s=e.y,o=e.z,l=e.w,c=2*(s*r-o*i),f=2*(o*n-a*r),d=2*(a*i-s*n);return this.x=n+l*c+s*d-o*f,this.y=i+l*f+o*c-a*d,this.z=r+l*d+a*f-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*n+a[4]*i+a[8]*r,this.y=a[1]*n+a[5]*i+a[9]*r,this.z=a[2]*n+a[6]*i+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Dn(this.x,e.x,n.x),this.y=Dn(this.y,e.y,n.y),this.z=Dn(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=Dn(this.x,e,n),this.y=Dn(this.y,e,n),this.z=Dn(this.z,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Dn(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,a=e.z,s=n.x,o=n.y,l=n.z;return this.x=r*l-a*o,this.y=a*s-i*l,this.z=i*o-r*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return $N.copy(this).projectOnVector(e),this.sub($N)}reflect(e){return this.sub($N.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Dn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,i=Math.sqrt(1-n*n);return this.x=i*Math.cos(e),this.y=n,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const $N=new me,N8=new Fs;class Xo{constructor(e=new me(1/0,1/0,1/0),n=new me(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(Qf.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(Qf.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Qf.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const a=i.getAttribute("position");if(n===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,o=a.count;s<o;s++)e.isMesh===!0?e.getVertexPosition(s,Qf):Qf.fromBufferAttribute(a,s),Qf.applyMatrix4(e.matrixWorld),this.expandByPoint(Qf);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Tw.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Tw.copy(i.boundingBox)),Tw.applyMatrix4(e.matrixWorld),this.union(Tw)}const r=e.children;for(let a=0,s=r.length;a<s;a++)this.expandByObject(r[a],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Qf),Qf.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(q1),Cw.subVectors(this.max,q1),m_.subVectors(e.a,q1),g_.subVectors(e.b,q1),v_.subVectors(e.c,q1),Lg.subVectors(g_,m_),Pg.subVectors(v_,g_),Bv.subVectors(m_,v_);let n=[0,-Lg.z,Lg.y,0,-Pg.z,Pg.y,0,-Bv.z,Bv.y,Lg.z,0,-Lg.x,Pg.z,0,-Pg.x,Bv.z,0,-Bv.x,-Lg.y,Lg.x,0,-Pg.y,Pg.x,0,-Bv.y,Bv.x,0];return!ZN(n,m_,g_,v_,Cw)||(n=[1,0,0,0,1,0,0,0,1],!ZN(n,m_,g_,v_,Cw))?!1:(Rw.crossVectors(Lg,Pg),n=[Rw.x,Rw.y,Rw.z],ZN(n,m_,g_,v_,Cw))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Qf).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Qf).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Gp[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Gp[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Gp[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Gp[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Gp[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Gp[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Gp[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Gp[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Gp),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Gp=[new me,new me,new me,new me,new me,new me,new me,new me],Qf=new me,Tw=new Xo,m_=new me,g_=new me,v_=new me,Lg=new me,Pg=new me,Bv=new me,q1=new me,Cw=new me,Rw=new me,Ov=new me;function ZN(t,e,n,i,r){for(let a=0,s=t.length-3;a<=s;a+=3){Ov.fromArray(t,a);const o=r.x*Math.abs(Ov.x)+r.y*Math.abs(Ov.y)+r.z*Math.abs(Ov.z),l=e.dot(Ov),c=n.dot(Ov),f=i.dot(Ov);if(Math.max(-Math.max(l,c,f),Math.min(l,c,f))>o)return!1}return!0}const iie=new Xo,Y1=new me,QN=new me;class lo{constructor(e=new me,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):iie.setFromPoints(e).getCenter(i);let r=0;for(let a=0,s=e.length;a<s;a++)r=Math.max(r,i.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Y1.subVectors(e,this.center);const n=Y1.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(Y1,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(QN.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Y1.copy(e.center).add(QN)),this.expandByPoint(Y1.copy(e.center).sub(QN))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const jp=new me,eD=new me,Nw=new me,Ug=new me,tD=new me,Dw=new me,nD=new me;class lx{constructor(e=new me,n=new me(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,jp)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=jp.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(jp.copy(this.origin).addScaledVector(this.direction,n),jp.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){eD.copy(e).add(n).multiplyScalar(.5),Nw.copy(n).sub(e).normalize(),Ug.copy(this.origin).sub(eD);const a=e.distanceTo(n)*.5,s=-this.direction.dot(Nw),o=Ug.dot(this.direction),l=-Ug.dot(Nw),c=Ug.lengthSq(),f=Math.abs(1-s*s);let d,p,v,_;if(f>0)if(d=s*l-o,p=s*o-l,_=a*f,d>=0)if(p>=-_)if(p<=_){const S=1/f;d*=S,p*=S,v=d*(d+s*p+2*o)+p*(s*d+p+2*l)+c}else p=a,d=Math.max(0,-(s*p+o)),v=-d*d+p*(p+2*l)+c;else p=-a,d=Math.max(0,-(s*p+o)),v=-d*d+p*(p+2*l)+c;else p<=-_?(d=Math.max(0,-(-s*a+o)),p=d>0?-a:Math.min(Math.max(-a,-l),a),v=-d*d+p*(p+2*l)+c):p<=_?(d=0,p=Math.min(Math.max(-a,-l),a),v=p*(p+2*l)+c):(d=Math.max(0,-(s*a+o)),p=d>0?a:Math.min(Math.max(-a,-l),a),v=-d*d+p*(p+2*l)+c);else p=s>0?-a:a,d=Math.max(0,-(s*p+o)),v=-d*d+p*(p+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy(eD).addScaledVector(Nw,p),v}intersectSphere(e,n){jp.subVectors(e.center,this.origin);const i=jp.dot(this.direction),r=jp.dot(jp)-i*i,a=e.radius*e.radius;if(r>a)return null;const s=Math.sqrt(a-r),o=i-s,l=i+s;return l<0?null:o<0?this.at(l,n):this.at(o,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,a,s,o,l;const c=1/this.direction.x,f=1/this.direction.y,d=1/this.direction.z,p=this.origin;return c>=0?(i=(e.min.x-p.x)*c,r=(e.max.x-p.x)*c):(i=(e.max.x-p.x)*c,r=(e.min.x-p.x)*c),f>=0?(a=(e.min.y-p.y)*f,s=(e.max.y-p.y)*f):(a=(e.max.y-p.y)*f,s=(e.min.y-p.y)*f),i>s||a>r||((a>i||isNaN(i))&&(i=a),(s<r||isNaN(r))&&(r=s),d>=0?(o=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(o=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),i>l||o>r)||((o>i||i!==i)&&(i=o),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,jp)!==null}intersectTriangle(e,n,i,r,a){tD.subVectors(n,e),Dw.subVectors(i,e),nD.crossVectors(tD,Dw);let s=this.direction.dot(nD),o;if(s>0){if(r)return null;o=1}else if(s<0)o=-1,s=-s;else return null;Ug.subVectors(this.origin,e);const l=o*this.direction.dot(Dw.crossVectors(Ug,Dw));if(l<0)return null;const c=o*this.direction.dot(tD.cross(Ug));if(c<0||l+c>s)return null;const f=-o*Ug.dot(nD);return f<0?null:this.at(f/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class dn{constructor(e,n,i,r,a,s,o,l,c,f,d,p,v,_,S,b){dn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,r,a,s,o,l,c,f,d,p,v,_,S,b)}set(e,n,i,r,a,s,o,l,c,f,d,p,v,_,S,b){const A=this.elements;return A[0]=e,A[4]=n,A[8]=i,A[12]=r,A[1]=a,A[5]=s,A[9]=o,A[13]=l,A[2]=c,A[6]=f,A[10]=d,A[14]=p,A[3]=v,A[7]=_,A[11]=S,A[15]=b,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new dn().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,r=1/y_.setFromMatrixColumn(e,0).length(),a=1/y_.setFromMatrixColumn(e,1).length(),s=1/y_.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*a,n[5]=i[5]*a,n[6]=i[6]*a,n[7]=0,n[8]=i[8]*s,n[9]=i[9]*s,n[10]=i[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,a=e.z,s=Math.cos(i),o=Math.sin(i),l=Math.cos(r),c=Math.sin(r),f=Math.cos(a),d=Math.sin(a);if(e.order==="XYZ"){const p=s*f,v=s*d,_=o*f,S=o*d;n[0]=l*f,n[4]=-l*d,n[8]=c,n[1]=v+_*c,n[5]=p-S*c,n[9]=-o*l,n[2]=S-p*c,n[6]=_+v*c,n[10]=s*l}else if(e.order==="YXZ"){const p=l*f,v=l*d,_=c*f,S=c*d;n[0]=p+S*o,n[4]=_*o-v,n[8]=s*c,n[1]=s*d,n[5]=s*f,n[9]=-o,n[2]=v*o-_,n[6]=S+p*o,n[10]=s*l}else if(e.order==="ZXY"){const p=l*f,v=l*d,_=c*f,S=c*d;n[0]=p-S*o,n[4]=-s*d,n[8]=_+v*o,n[1]=v+_*o,n[5]=s*f,n[9]=S-p*o,n[2]=-s*c,n[6]=o,n[10]=s*l}else if(e.order==="ZYX"){const p=s*f,v=s*d,_=o*f,S=o*d;n[0]=l*f,n[4]=_*c-v,n[8]=p*c+S,n[1]=l*d,n[5]=S*c+p,n[9]=v*c-_,n[2]=-c,n[6]=o*l,n[10]=s*l}else if(e.order==="YZX"){const p=s*l,v=s*c,_=o*l,S=o*c;n[0]=l*f,n[4]=S-p*d,n[8]=_*d+v,n[1]=d,n[5]=s*f,n[9]=-o*f,n[2]=-c*f,n[6]=v*d+_,n[10]=p-S*d}else if(e.order==="XZY"){const p=s*l,v=s*c,_=o*l,S=o*c;n[0]=l*f,n[4]=-d,n[8]=c*f,n[1]=p*d+S,n[5]=s*f,n[9]=v*d-_,n[2]=_*d-v,n[6]=o*f,n[10]=S*d+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(rie,e,aie)}lookAt(e,n,i){const r=this.elements;return pu.subVectors(e,n),pu.lengthSq()===0&&(pu.z=1),pu.normalize(),Ig.crossVectors(i,pu),Ig.lengthSq()===0&&(Math.abs(i.z)===1?pu.x+=1e-4:pu.z+=1e-4,pu.normalize(),Ig.crossVectors(i,pu)),Ig.normalize(),Bw.crossVectors(pu,Ig),r[0]=Ig.x,r[4]=Bw.x,r[8]=pu.x,r[1]=Ig.y,r[5]=Bw.y,r[9]=pu.y,r[2]=Ig.z,r[6]=Bw.z,r[10]=pu.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,a=this.elements,s=i[0],o=i[4],l=i[8],c=i[12],f=i[1],d=i[5],p=i[9],v=i[13],_=i[2],S=i[6],b=i[10],A=i[14],T=i[3],R=i[7],C=i[11],L=i[15],P=r[0],k=r[4],G=r[8],z=r[12],F=r[1],j=r[5],ne=r[9],W=r[13],Y=r[2],K=r[6],H=r[10],J=r[14],Q=r[3],ie=r[7],V=r[11],$=r[15];return a[0]=s*P+o*F+l*Y+c*Q,a[4]=s*k+o*j+l*K+c*ie,a[8]=s*G+o*ne+l*H+c*V,a[12]=s*z+o*W+l*J+c*$,a[1]=f*P+d*F+p*Y+v*Q,a[5]=f*k+d*j+p*K+v*ie,a[9]=f*G+d*ne+p*H+v*V,a[13]=f*z+d*W+p*J+v*$,a[2]=_*P+S*F+b*Y+A*Q,a[6]=_*k+S*j+b*K+A*ie,a[10]=_*G+S*ne+b*H+A*V,a[14]=_*z+S*W+b*J+A*$,a[3]=T*P+R*F+C*Y+L*Q,a[7]=T*k+R*j+C*K+L*ie,a[11]=T*G+R*ne+C*H+L*V,a[15]=T*z+R*W+C*J+L*$,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],a=e[12],s=e[1],o=e[5],l=e[9],c=e[13],f=e[2],d=e[6],p=e[10],v=e[14],_=e[3],S=e[7],b=e[11],A=e[15];return _*(+a*l*d-r*c*d-a*o*p+i*c*p+r*o*v-i*l*v)+S*(+n*l*v-n*c*p+a*s*p-r*s*v+r*c*f-a*l*f)+b*(+n*c*d-n*o*v-a*s*d+i*s*v+a*o*f-i*c*f)+A*(-r*o*f-n*l*d+n*o*p+r*s*d-i*s*p+i*l*f)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],f=e[8],d=e[9],p=e[10],v=e[11],_=e[12],S=e[13],b=e[14],A=e[15],T=d*b*c-S*p*c+S*l*v-o*b*v-d*l*A+o*p*A,R=_*p*c-f*b*c-_*l*v+s*b*v+f*l*A-s*p*A,C=f*S*c-_*d*c+_*o*v-s*S*v-f*o*A+s*d*A,L=_*d*l-f*S*l-_*o*p+s*S*p+f*o*b-s*d*b,P=n*T+i*R+r*C+a*L;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const k=1/P;return e[0]=T*k,e[1]=(S*p*a-d*b*a-S*r*v+i*b*v+d*r*A-i*p*A)*k,e[2]=(o*b*a-S*l*a+S*r*c-i*b*c-o*r*A+i*l*A)*k,e[3]=(d*l*a-o*p*a-d*r*c+i*p*c+o*r*v-i*l*v)*k,e[4]=R*k,e[5]=(f*b*a-_*p*a+_*r*v-n*b*v-f*r*A+n*p*A)*k,e[6]=(_*l*a-s*b*a-_*r*c+n*b*c+s*r*A-n*l*A)*k,e[7]=(s*p*a-f*l*a+f*r*c-n*p*c-s*r*v+n*l*v)*k,e[8]=C*k,e[9]=(_*d*a-f*S*a-_*i*v+n*S*v+f*i*A-n*d*A)*k,e[10]=(s*S*a-_*o*a+_*i*c-n*S*c-s*i*A+n*o*A)*k,e[11]=(f*o*a-s*d*a-f*i*c+n*d*c+s*i*v-n*o*v)*k,e[12]=L*k,e[13]=(f*S*r-_*d*r+_*i*p-n*S*p-f*i*b+n*d*b)*k,e[14]=(_*o*r-s*S*r-_*i*l+n*S*l+s*i*b-n*o*b)*k,e[15]=(s*d*r-f*o*r+f*i*l-n*d*l-s*i*p+n*o*p)*k,this}scale(e){const n=this.elements,i=e.x,r=e.y,a=e.z;return n[0]*=i,n[4]*=r,n[8]*=a,n[1]*=i,n[5]*=r,n[9]*=a,n[2]*=i,n[6]*=r,n[10]*=a,n[3]*=i,n[7]*=r,n[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),a=1-i,s=e.x,o=e.y,l=e.z,c=a*s,f=a*o;return this.set(c*s+i,c*o-r*l,c*l+r*o,0,c*o+r*l,f*o+i,f*l-r*s,0,c*l-r*o,f*l+r*s,a*l*l+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,a,s){return this.set(1,i,a,0,e,1,s,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,a=n._x,s=n._y,o=n._z,l=n._w,c=a+a,f=s+s,d=o+o,p=a*c,v=a*f,_=a*d,S=s*f,b=s*d,A=o*d,T=l*c,R=l*f,C=l*d,L=i.x,P=i.y,k=i.z;return r[0]=(1-(S+A))*L,r[1]=(v+C)*L,r[2]=(_-R)*L,r[3]=0,r[4]=(v-C)*P,r[5]=(1-(p+A))*P,r[6]=(b+T)*P,r[7]=0,r[8]=(_+R)*k,r[9]=(b-T)*k,r[10]=(1-(p+S))*k,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;let a=y_.set(r[0],r[1],r[2]).length();const s=y_.set(r[4],r[5],r[6]).length(),o=y_.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],eh.copy(this);const c=1/a,f=1/s,d=1/o;return eh.elements[0]*=c,eh.elements[1]*=c,eh.elements[2]*=c,eh.elements[4]*=f,eh.elements[5]*=f,eh.elements[6]*=f,eh.elements[8]*=d,eh.elements[9]*=d,eh.elements[10]*=d,n.setFromRotationMatrix(eh),i.x=a,i.y=s,i.z=o,this}makePerspective(e,n,i,r,a,s,o=ph){const l=this.elements,c=2*a/(n-e),f=2*a/(i-r),d=(n+e)/(n-e),p=(i+r)/(i-r);let v,_;if(o===ph)v=-(s+a)/(s-a),_=-2*s*a/(s-a);else if(o===NS)v=-s/(s-a),_=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=f,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=v,l[14]=_,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,i,r,a,s,o=ph){const l=this.elements,c=1/(n-e),f=1/(i-r),d=1/(s-a),p=(n+e)*c,v=(i+r)*f;let _,S;if(o===ph)_=(s+a)*d,S=-2*d;else if(o===NS)_=a*d,S=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*f,l[9]=0,l[13]=-v,l[2]=0,l[6]=0,l[10]=S,l[14]=-_,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const y_=new me,eh=new dn,rie=new me(0,0,0),aie=new me(1,1,1),Ig=new me,Bw=new me,pu=new me,D8=new dn,B8=new Fs;class Mu{constructor(e=0,n=0,i=0,r=Mu.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,a=r[0],s=r[4],o=r[8],l=r[1],c=r[5],f=r[9],d=r[2],p=r[6],v=r[10];switch(n){case"XYZ":this._y=Math.asin(Dn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-f,v),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Dn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(o,v),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,a),this._z=0);break;case"ZXY":this._x=Math.asin(Dn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,v),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-Dn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,v),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(Dn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,c),this._y=Math.atan2(-d,a)):(this._x=0,this._y=Math.atan2(o,v));break;case"XZY":this._z=Math.asin(-Dn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-f,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return D8.makeRotationFromQuaternion(e),this.setFromRotationMatrix(D8,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return B8.setFromEuler(this),this.setFromQuaternion(B8,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Mu.DEFAULT_ORDER="XYZ";class Eb{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let sie=0;const O8=new me,x_=new Fs,Vp=new dn,Ow=new me,W1=new me,oie=new me,lie=new Fs,L8=new me(1,0,0),P8=new me(0,1,0),U8=new me(0,0,1),I8={type:"added"},cie={type:"removed"},__={type:"childadded",child:null},iD={type:"childremoved",child:null};class Si extends Vd{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:sie++}),this.uuid=Su(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Si.DEFAULT_UP.clone();const e=new me,n=new Mu,i=new Fs,r=new me(1,1,1);function a(){i.setFromEuler(n,!1)}function s(){n.setFromQuaternion(i,void 0,!1)}n._onChange(a),i._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new dn},normalMatrix:{value:new Pn}}),this.matrix=new dn,this.matrixWorld=new dn,this.matrixAutoUpdate=Si.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Si.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Eb,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return x_.setFromAxisAngle(e,n),this.quaternion.multiply(x_),this}rotateOnWorldAxis(e,n){return x_.setFromAxisAngle(e,n),this.quaternion.premultiply(x_),this}rotateX(e){return this.rotateOnAxis(L8,e)}rotateY(e){return this.rotateOnAxis(P8,e)}rotateZ(e){return this.rotateOnAxis(U8,e)}translateOnAxis(e,n){return O8.copy(e).applyQuaternion(this.quaternion),this.position.add(O8.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(L8,e)}translateY(e){return this.translateOnAxis(P8,e)}translateZ(e){return this.translateOnAxis(U8,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Vp.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?Ow.copy(e):Ow.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),W1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Vp.lookAt(W1,Ow,this.up):Vp.lookAt(Ow,W1,this.up),this.quaternion.setFromRotationMatrix(Vp),r&&(Vp.extractRotation(r.matrixWorld),x_.setFromRotationMatrix(Vp),this.quaternion.premultiply(x_.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(I8),__.child=e,this.dispatchEvent(__),__.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(cie),iD.child=e,this.dispatchEvent(iD),iD.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Vp.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Vp.multiply(e.parent.matrixWorld)),e.applyMatrix4(Vp),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(I8),__.child=e,this.dispatchEvent(__),__.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const s=this.children[i].getObjectByProperty(e,n);if(s!==void 0)return s}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(W1,e,oie),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(W1,lie,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].updateMatrixWorld(e)}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(o=>({boxInitialized:o.boxInitialized,boxMin:o.box.min.toArray(),boxMax:o.box.max.toArray(),sphereInitialized:o.sphereInitialized,sphereRadius:o.sphere.radius,sphereCenter:o.sphere.center.toArray()})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function a(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,f=l.length;c<f;c++){const d=l[c];a(e.shapes,d)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(a(e.materials,this.material[l]));r.material=o}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];r.animations.push(a(e.animations,l))}}if(n){const o=s(e.geometries),l=s(e.materials),c=s(e.textures),f=s(e.images),d=s(e.shapes),p=s(e.skeletons),v=s(e.animations),_=s(e.nodes);o.length>0&&(i.geometries=o),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),f.length>0&&(i.images=f),d.length>0&&(i.shapes=d),p.length>0&&(i.skeletons=p),v.length>0&&(i.animations=v),_.length>0&&(i.nodes=_)}return i.object=r,i;function s(o){const l=[];for(const c in o){const f=o[c];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Si.DEFAULT_UP=new me(0,1,0);Si.DEFAULT_MATRIX_AUTO_UPDATE=!0;Si.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const th=new me,Xp=new me,rD=new me,qp=new me,b_=new me,A_=new me,F8=new me,aD=new me,sD=new me,oD=new me,lD=new Li,cD=new Li,uD=new Li;class Nc{constructor(e=new me,n=new me,i=new me){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),th.subVectors(e,n),r.cross(th);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,n,i,r,a){th.subVectors(r,n),Xp.subVectors(i,n),rD.subVectors(e,n);const s=th.dot(th),o=th.dot(Xp),l=th.dot(rD),c=Xp.dot(Xp),f=Xp.dot(rD),d=s*c-o*o;if(d===0)return a.set(0,0,0),null;const p=1/d,v=(c*l-o*f)*p,_=(s*f-o*l)*p;return a.set(1-v-_,_,v)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,qp)===null?!1:qp.x>=0&&qp.y>=0&&qp.x+qp.y<=1}static getInterpolation(e,n,i,r,a,s,o,l){return this.getBarycoord(e,n,i,r,qp)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(a,qp.x),l.addScaledVector(s,qp.y),l.addScaledVector(o,qp.z),l)}static getInterpolatedAttribute(e,n,i,r,a,s){return lD.setScalar(0),cD.setScalar(0),uD.setScalar(0),lD.fromBufferAttribute(e,n),cD.fromBufferAttribute(e,i),uD.fromBufferAttribute(e,r),s.setScalar(0),s.addScaledVector(lD,a.x),s.addScaledVector(cD,a.y),s.addScaledVector(uD,a.z),s}static isFrontFacing(e,n,i,r){return th.subVectors(i,n),Xp.subVectors(e,n),th.cross(Xp).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return th.subVectors(this.c,this.b),Xp.subVectors(this.a,this.b),th.cross(Xp).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Nc.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Nc.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,i,r,a){return Nc.getInterpolation(e,this.a,this.b,this.c,n,i,r,a)}containsPoint(e){return Nc.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Nc.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,a=this.c;let s,o;b_.subVectors(r,i),A_.subVectors(a,i),aD.subVectors(e,i);const l=b_.dot(aD),c=A_.dot(aD);if(l<=0&&c<=0)return n.copy(i);sD.subVectors(e,r);const f=b_.dot(sD),d=A_.dot(sD);if(f>=0&&d<=f)return n.copy(r);const p=l*d-f*c;if(p<=0&&l>=0&&f<=0)return s=l/(l-f),n.copy(i).addScaledVector(b_,s);oD.subVectors(e,a);const v=b_.dot(oD),_=A_.dot(oD);if(_>=0&&v<=_)return n.copy(a);const S=v*c-l*_;if(S<=0&&c>=0&&_<=0)return o=c/(c-_),n.copy(i).addScaledVector(A_,o);const b=f*_-v*d;if(b<=0&&d-f>=0&&v-_>=0)return F8.subVectors(a,r),o=(d-f)/(d-f+(v-_)),n.copy(r).addScaledVector(F8,o);const A=1/(b+S+p);return s=S*A,o=p*A,n.copy(i).addScaledVector(b_,s).addScaledVector(A_,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const GG={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Fg={h:0,s:0,l:0},Lw={h:0,s:0,l:0};function fD(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let Lt=class{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=ko){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,bi.toWorkingColorSpace(this,n),this}setRGB(e,n,i,r=bi.workingColorSpace){return this.r=e,this.g=n,this.b=i,bi.toWorkingColorSpace(this,r),this}setHSL(e,n,i,r=bi.workingColorSpace){if(e=hL(e,1),n=Dn(n,0,1),i=Dn(i,0,1),n===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+n):i+n-i*n,s=2*i-a;this.r=fD(s,a,e+1/3),this.g=fD(s,a,e),this.b=fD(s,a,e-1/3)}return bi.toWorkingColorSpace(this,r),this}setStyle(e,n=ko){function i(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=r[1],o=r[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,n);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,n);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=r[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,n);if(s===6)return this.setHex(parseInt(a,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=ko){const i=GG[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Mm(e.r),this.g=Mm(e.g),this.b=Mm(e.b),this}copyLinearToSRGB(e){return this.r=ob(e.r),this.g=ob(e.g),this.b=ob(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ko){return bi.fromWorkingColorSpace(Bo.copy(this),e),Math.round(Dn(Bo.r*255,0,255))*65536+Math.round(Dn(Bo.g*255,0,255))*256+Math.round(Dn(Bo.b*255,0,255))}getHexString(e=ko){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=bi.workingColorSpace){bi.fromWorkingColorSpace(Bo.copy(this),n);const i=Bo.r,r=Bo.g,a=Bo.b,s=Math.max(i,r,a),o=Math.min(i,r,a);let l,c;const f=(o+s)/2;if(o===s)l=0,c=0;else{const d=s-o;switch(c=f<=.5?d/(s+o):d/(2-s-o),s){case i:l=(r-a)/d+(r<a?6:0);break;case r:l=(a-i)/d+2;break;case a:l=(i-r)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=f,e}getRGB(e,n=bi.workingColorSpace){return bi.fromWorkingColorSpace(Bo.copy(this),n),e.r=Bo.r,e.g=Bo.g,e.b=Bo.b,e}getStyle(e=ko){bi.fromWorkingColorSpace(Bo.copy(this),e);const n=Bo.r,i=Bo.g,r=Bo.b;return e!==ko?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,n,i){return this.getHSL(Fg),this.setHSL(Fg.h+e,Fg.s+n,Fg.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(Fg),e.getHSL(Lw);const i=iS(Fg.h,Lw.h,n),r=iS(Fg.s,Lw.s,n),a=iS(Fg.l,Lw.l,n);return this.setHSL(i,r,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,r=this.b,a=e.elements;return this.r=a[0]*n+a[3]*i+a[6]*r,this.g=a[1]*n+a[4]*i+a[7]*r,this.b=a[2]*n+a[5]*i+a[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Bo=new Lt;Lt.NAMES=GG;let uie=0;class ms extends Vd{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:uie++}),this.uuid=Su(),this.name="",this.type="Material",this.blending=Cy,this.side=Ud,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=aT,this.blendDst=sT,this.blendEquation=Kg,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Lt(0,0,0),this.blendAlpha=0,this.depthFunc=zy,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=V4,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ey,this.stencilZFail=ey,this.stencilZPass=ey,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Cy&&(i.blending=this.blending),this.side!==Ud&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==aT&&(i.blendSrc=this.blendSrc),this.blendDst!==sT&&(i.blendDst=this.blendDst),this.blendEquation!==Kg&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==zy&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==V4&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==ey&&(i.stencilFail=this.stencilFail),this.stencilZFail!==ey&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==ey&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(a){const s=[];for(const o in a){const l=a[o];delete l.metadata,s.push(l)}return s}if(n){const a=r(e.textures),s=r(e.images);a.length>0&&(i.textures=a),s.length>0&&(i.images=s)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let a=0;a!==r;++a)i[a]=n[a].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class bu extends ms{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Mu,this.combine=vM,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const dm=fie();function fie(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,f=0;for(;(c&8388608)===0;)c<<=1,f-=8388608;c&=-8388609,f+=947912704,a[l]=c|f}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:a,exponentTable:s,offsetTable:o}}function Sc(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Dn(t,-65504,65504),dm.floatView[0]=t;const e=dm.uint32View[0],n=e>>23&511;return dm.baseTable[n]+((e&8388607)>>dm.shiftTable[n])}function MA(t){const e=t>>10;return dm.uint32View[0]=dm.mantissaTable[dm.offsetTable[e]+(t&1023)]+dm.exponentTable[e],dm.floatView[0]}class hie{static toHalfFloat(e){return Sc(e)}static fromHalfFloat(e){return MA(e)}}const Qa=new me,Pw=new ct;let die=0;class Pi{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:die++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=RS,this.updateRanges=[],this.gpuType=Oc,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)Pw.fromBufferAttribute(this,n),Pw.applyMatrix3(e),this.setXY(n,Pw.x,Pw.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)Qa.fromBufferAttribute(this,n),Qa.applyMatrix3(e),this.setXYZ(n,Qa.x,Qa.y,Qa.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)Qa.fromBufferAttribute(this,n),Qa.applyMatrix4(e),this.setXYZ(n,Qa.x,Qa.y,Qa.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Qa.fromBufferAttribute(this,n),Qa.applyNormalMatrix(e),this.setXYZ(n,Qa.x,Qa.y,Qa.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Qa.fromBufferAttribute(this,n),Qa.transformDirection(e),this.setXYZ(n,Qa.x,Qa.y,Qa.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=Pl(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=kn(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Pl(n,this.array)),n}setX(e,n){return this.normalized&&(n=kn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Pl(n,this.array)),n}setY(e,n){return this.normalized&&(n=kn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Pl(n,this.array)),n}setZ(e,n){return this.normalized&&(n=kn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Pl(n,this.array)),n}setW(e,n){return this.normalized&&(n=kn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=kn(n,this.array),i=kn(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=kn(n,this.array),i=kn(i,this.array),r=kn(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,a){return e*=this.itemSize,this.normalized&&(n=kn(n,this.array),i=kn(i,this.array),r=kn(r,this.array),a=kn(a,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==RS&&(e.usage=this.usage),e}}class pie extends Pi{constructor(e,n,i){super(new Int8Array(e),n,i)}}class mie extends Pi{constructor(e,n,i){super(new Uint8Array(e),n,i)}}class gie extends Pi{constructor(e,n,i){super(new Uint8ClampedArray(e),n,i)}}class vie extends Pi{constructor(e,n,i){super(new Int16Array(e),n,i)}}class dL extends Pi{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class yie extends Pi{constructor(e,n,i){super(new Int32Array(e),n,i)}}class pL extends Pi{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class xie extends Pi{constructor(e,n,i){super(new Uint16Array(e),n,i),this.isFloat16BufferAttribute=!0}getX(e){let n=MA(this.array[e*this.itemSize]);return this.normalized&&(n=Pl(n,this.array)),n}setX(e,n){return this.normalized&&(n=kn(n,this.array)),this.array[e*this.itemSize]=Sc(n),this}getY(e){let n=MA(this.array[e*this.itemSize+1]);return this.normalized&&(n=Pl(n,this.array)),n}setY(e,n){return this.normalized&&(n=kn(n,this.array)),this.array[e*this.itemSize+1]=Sc(n),this}getZ(e){let n=MA(this.array[e*this.itemSize+2]);return this.normalized&&(n=Pl(n,this.array)),n}setZ(e,n){return this.normalized&&(n=kn(n,this.array)),this.array[e*this.itemSize+2]=Sc(n),this}getW(e){let n=MA(this.array[e*this.itemSize+3]);return this.normalized&&(n=Pl(n,this.array)),n}setW(e,n){return this.normalized&&(n=kn(n,this.array)),this.array[e*this.itemSize+3]=Sc(n),this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=kn(n,this.array),i=kn(i,this.array)),this.array[e+0]=Sc(n),this.array[e+1]=Sc(i),this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=kn(n,this.array),i=kn(i,this.array),r=kn(r,this.array)),this.array[e+0]=Sc(n),this.array[e+1]=Sc(i),this.array[e+2]=Sc(r),this}setXYZW(e,n,i,r,a){return e*=this.itemSize,this.normalized&&(n=kn(n,this.array),i=kn(i,this.array),r=kn(r,this.array),a=kn(a,this.array)),this.array[e+0]=Sc(n),this.array[e+1]=Sc(i),this.array[e+2]=Sc(r),this.array[e+3]=Sc(a),this}}class Xt extends Pi{constructor(e,n,i){super(new Float32Array(e),n,i)}}let _ie=0;const ef=new dn,hD=new Si,S_=new me,mu=new Xo,J1=new Xo,Ns=new me;class In extends Vd{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_ie++}),this.uuid=Su(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(zG(e)?pL:dL)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new Pn().getNormalMatrix(e);i.applyNormalMatrix(a),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ef.makeRotationFromQuaternion(e),this.applyMatrix4(ef),this}rotateX(e){return ef.makeRotationX(e),this.applyMatrix4(ef),this}rotateY(e){return ef.makeRotationY(e),this.applyMatrix4(ef),this}rotateZ(e){return ef.makeRotationZ(e),this.applyMatrix4(ef),this}translate(e,n,i){return ef.makeTranslation(e,n,i),this.applyMatrix4(ef),this}scale(e,n,i){return ef.makeScale(e,n,i),this.applyMatrix4(ef),this}lookAt(e){return hD.lookAt(e),hD.updateMatrix(),this.applyMatrix4(hD.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(S_).negate(),this.translate(S_.x,S_.y,S_.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const i=[];for(let r=0,a=e.length;r<a;r++){const s=e[r];i.push(s.x,s.y,s.z||0)}this.setAttribute("position",new Xt(i,3))}else{const i=Math.min(e.length,n.count);for(let r=0;r<i;r++){const a=e[r];n.setXYZ(r,a.x,a.y,a.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Xo);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new me(-1/0,-1/0,-1/0),new me(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const a=n[i];mu.setFromBufferAttribute(a),this.morphTargetsRelative?(Ns.addVectors(this.boundingBox.min,mu.min),this.boundingBox.expandByPoint(Ns),Ns.addVectors(this.boundingBox.max,mu.max),this.boundingBox.expandByPoint(Ns)):(this.boundingBox.expandByPoint(mu.min),this.boundingBox.expandByPoint(mu.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new lo);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new me,1/0);return}if(e){const i=this.boundingSphere.center;if(mu.setFromBufferAttribute(e),n)for(let a=0,s=n.length;a<s;a++){const o=n[a];J1.setFromBufferAttribute(o),this.morphTargetsRelative?(Ns.addVectors(mu.min,J1.min),mu.expandByPoint(Ns),Ns.addVectors(mu.max,J1.max),mu.expandByPoint(Ns)):(mu.expandByPoint(J1.min),mu.expandByPoint(J1.max))}mu.getCenter(i);let r=0;for(let a=0,s=e.count;a<s;a++)Ns.fromBufferAttribute(e,a),r=Math.max(r,i.distanceToSquared(Ns));if(n)for(let a=0,s=n.length;a<s;a++){const o=n[a],l=this.morphTargetsRelative;for(let c=0,f=o.count;c<f;c++)Ns.fromBufferAttribute(o,c),l&&(S_.fromBufferAttribute(e,c),Ns.add(S_)),r=Math.max(r,i.distanceToSquared(Ns))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=n.position,r=n.normal,a=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Pi(new Float32Array(4*i.count),4));const s=this.getAttribute("tangent"),o=[],l=[];for(let G=0;G<i.count;G++)o[G]=new me,l[G]=new me;const c=new me,f=new me,d=new me,p=new ct,v=new ct,_=new ct,S=new me,b=new me;function A(G,z,F){c.fromBufferAttribute(i,G),f.fromBufferAttribute(i,z),d.fromBufferAttribute(i,F),p.fromBufferAttribute(a,G),v.fromBufferAttribute(a,z),_.fromBufferAttribute(a,F),f.sub(c),d.sub(c),v.sub(p),_.sub(p);const j=1/(v.x*_.y-_.x*v.y);isFinite(j)&&(S.copy(f).multiplyScalar(_.y).addScaledVector(d,-v.y).multiplyScalar(j),b.copy(d).multiplyScalar(v.x).addScaledVector(f,-_.x).multiplyScalar(j),o[G].add(S),o[z].add(S),o[F].add(S),l[G].add(b),l[z].add(b),l[F].add(b))}let T=this.groups;T.length===0&&(T=[{start:0,count:e.count}]);for(let G=0,z=T.length;G<z;++G){const F=T[G],j=F.start,ne=F.count;for(let W=j,Y=j+ne;W<Y;W+=3)A(e.getX(W+0),e.getX(W+1),e.getX(W+2))}const R=new me,C=new me,L=new me,P=new me;function k(G){L.fromBufferAttribute(r,G),P.copy(L);const z=o[G];R.copy(z),R.sub(L.multiplyScalar(L.dot(z))).normalize(),C.crossVectors(P,z);const j=C.dot(l[G])<0?-1:1;s.setXYZW(G,R.x,R.y,R.z,j)}for(let G=0,z=T.length;G<z;++G){const F=T[G],j=F.start,ne=F.count;for(let W=j,Y=j+ne;W<Y;W+=3)k(e.getX(W+0)),k(e.getX(W+1)),k(e.getX(W+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Pi(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let p=0,v=i.count;p<v;p++)i.setXYZ(p,0,0,0);const r=new me,a=new me,s=new me,o=new me,l=new me,c=new me,f=new me,d=new me;if(e)for(let p=0,v=e.count;p<v;p+=3){const _=e.getX(p+0),S=e.getX(p+1),b=e.getX(p+2);r.fromBufferAttribute(n,_),a.fromBufferAttribute(n,S),s.fromBufferAttribute(n,b),f.subVectors(s,a),d.subVectors(r,a),f.cross(d),o.fromBufferAttribute(i,_),l.fromBufferAttribute(i,S),c.fromBufferAttribute(i,b),o.add(f),l.add(f),c.add(f),i.setXYZ(_,o.x,o.y,o.z),i.setXYZ(S,l.x,l.y,l.z),i.setXYZ(b,c.x,c.y,c.z)}else for(let p=0,v=n.count;p<v;p+=3)r.fromBufferAttribute(n,p+0),a.fromBufferAttribute(n,p+1),s.fromBufferAttribute(n,p+2),f.subVectors(s,a),d.subVectors(r,a),f.cross(d),i.setXYZ(p+0,f.x,f.y,f.z),i.setXYZ(p+1,f.x,f.y,f.z),i.setXYZ(p+2,f.x,f.y,f.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)Ns.fromBufferAttribute(e,n),Ns.normalize(),e.setXYZ(n,Ns.x,Ns.y,Ns.z)}toNonIndexed(){function e(o,l){const c=o.array,f=o.itemSize,d=o.normalized,p=new c.constructor(l.length*f);let v=0,_=0;for(let S=0,b=l.length;S<b;S++){o.isInterleavedBufferAttribute?v=l[S]*o.data.stride+o.offset:v=l[S]*f;for(let A=0;A<f;A++)p[_++]=c[v++]}return new Pi(p,f,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new In,i=this.index.array,r=this.attributes;for(const o in r){const l=r[o],c=e(l,i);n.setAttribute(o,c)}const a=this.morphAttributes;for(const o in a){const l=[],c=a[o];for(let f=0,d=c.length;f<d;f++){const p=c[f],v=e(p,i);l.push(v)}n.morphAttributes[o]=l}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,l=s.length;o<l;o++){const c=s[o];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let a=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],f=[];for(let d=0,p=c.length;d<p;d++){const v=c[d];f.push(v.toJSON(e.data))}f.length>0&&(r[l]=f,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const c in r){const f=r[c];this.setAttribute(c,f.clone(n))}const a=e.morphAttributes;for(const c in a){const f=[],d=a[c];for(let p=0,v=d.length;p<v;p++)f.push(d[p].clone(n));this.morphAttributes[c]=f}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,f=s.length;c<f;c++){const d=s[c];this.addGroup(d.start,d.count,d.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const z8=new dn,Lv=new lx,Uw=new lo,H8=new me,Iw=new me,Fw=new me,zw=new me,dD=new me,Hw=new me,k8=new me,kw=new me;class za extends Si{constructor(e=new In,n=new bu){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,a=i.morphAttributes.position,s=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(a&&o){Hw.set(0,0,0);for(let l=0,c=a.length;l<c;l++){const f=o[l],d=a[l];f!==0&&(dD.fromBufferAttribute(d,e),s?Hw.addScaledVector(dD,f):Hw.addScaledVector(dD.sub(n),f))}n.add(Hw)}return n}raycast(e,n){const i=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Uw.copy(i.boundingSphere),Uw.applyMatrix4(a),Lv.copy(e.ray).recast(e.near),!(Uw.containsPoint(Lv.origin)===!1&&(Lv.intersectSphere(Uw,H8)===null||Lv.origin.distanceToSquared(H8)>(e.far-e.near)**2))&&(z8.copy(a).invert(),Lv.copy(e.ray).applyMatrix4(z8),!(i.boundingBox!==null&&Lv.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,Lv)))}_computeIntersections(e,n,i){let r;const a=this.geometry,s=this.material,o=a.index,l=a.attributes.position,c=a.attributes.uv,f=a.attributes.uv1,d=a.attributes.normal,p=a.groups,v=a.drawRange;if(o!==null)if(Array.isArray(s))for(let _=0,S=p.length;_<S;_++){const b=p[_],A=s[b.materialIndex],T=Math.max(b.start,v.start),R=Math.min(o.count,Math.min(b.start+b.count,v.start+v.count));for(let C=T,L=R;C<L;C+=3){const P=o.getX(C),k=o.getX(C+1),G=o.getX(C+2);r=Gw(this,A,e,i,c,f,d,P,k,G),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=b.materialIndex,n.push(r))}}else{const _=Math.max(0,v.start),S=Math.min(o.count,v.start+v.count);for(let b=_,A=S;b<A;b+=3){const T=o.getX(b),R=o.getX(b+1),C=o.getX(b+2);r=Gw(this,s,e,i,c,f,d,T,R,C),r&&(r.faceIndex=Math.floor(b/3),n.push(r))}}else if(l!==void 0)if(Array.isArray(s))for(let _=0,S=p.length;_<S;_++){const b=p[_],A=s[b.materialIndex],T=Math.max(b.start,v.start),R=Math.min(l.count,Math.min(b.start+b.count,v.start+v.count));for(let C=T,L=R;C<L;C+=3){const P=C,k=C+1,G=C+2;r=Gw(this,A,e,i,c,f,d,P,k,G),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=b.materialIndex,n.push(r))}}else{const _=Math.max(0,v.start),S=Math.min(l.count,v.start+v.count);for(let b=_,A=S;b<A;b+=3){const T=b,R=b+1,C=b+2;r=Gw(this,s,e,i,c,f,d,T,R,C),r&&(r.faceIndex=Math.floor(b/3),n.push(r))}}}}function bie(t,e,n,i,r,a,s,o){let l;if(e.side===Fl?l=i.intersectTriangle(s,a,r,!0,o):l=i.intersectTriangle(r,a,s,e.side===Ud,o),l===null)return null;kw.copy(o),kw.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(kw);return c<n.near||c>n.far?null:{distance:c,point:kw.clone(),object:t}}function Gw(t,e,n,i,r,a,s,o,l,c){t.getVertexPosition(o,Iw),t.getVertexPosition(l,Fw),t.getVertexPosition(c,zw);const f=bie(t,e,n,i,Iw,Fw,zw,k8);if(f){const d=new me;Nc.getBarycoord(k8,Iw,Fw,zw,d),r&&(f.uv=Nc.getInterpolatedAttribute(r,o,l,c,d,new ct)),a&&(f.uv1=Nc.getInterpolatedAttribute(a,o,l,c,d,new ct)),s&&(f.normal=Nc.getInterpolatedAttribute(s,o,l,c,d,new me),f.normal.dot(i.direction)>0&&f.normal.multiplyScalar(-1));const p={a:o,b:l,c,normal:new me,materialIndex:0};Nc.getNormal(Iw,Fw,zw,p.normal),f.face=p,f.barycoord=d}return f}class cx extends In{constructor(e=1,n=1,i=1,r=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:a,depthSegments:s};const o=this;r=Math.floor(r),a=Math.floor(a),s=Math.floor(s);const l=[],c=[],f=[],d=[];let p=0,v=0;_("z","y","x",-1,-1,i,n,e,s,a,0),_("z","y","x",1,-1,i,n,-e,s,a,1),_("x","z","y",1,1,e,i,n,r,s,2),_("x","z","y",1,-1,e,i,-n,r,s,3),_("x","y","z",1,-1,e,n,i,r,a,4),_("x","y","z",-1,-1,e,n,-i,r,a,5),this.setIndex(l),this.setAttribute("position",new Xt(c,3)),this.setAttribute("normal",new Xt(f,3)),this.setAttribute("uv",new Xt(d,2));function _(S,b,A,T,R,C,L,P,k,G,z){const F=C/k,j=L/G,ne=C/2,W=L/2,Y=P/2,K=k+1,H=G+1;let J=0,Q=0;const ie=new me;for(let V=0;V<H;V++){const $=V*j-W;for(let oe=0;oe<K;oe++){const de=oe*F-ne;ie[S]=de*T,ie[b]=$*R,ie[A]=Y,c.push(ie.x,ie.y,ie.z),ie[S]=0,ie[b]=0,ie[A]=P>0?1:-1,f.push(ie.x,ie.y,ie.z),d.push(oe/k),d.push(1-V/G),J+=1}}for(let V=0;V<G;V++)for(let $=0;$<k;$++){const oe=p+$+K*V,de=p+$+K*(V+1),fe=p+($+1)+K*(V+1),ge=p+($+1)+K*V;l.push(oe,de,ge),l.push(de,fe,ge),Q+=6}o.addGroup(v,Q,z),v+=Q,p+=J}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cx(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Tb(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function Tl(t){const e={};for(let n=0;n<t.length;n++){const i=Tb(t[n]);for(const r in i)e[r]=i[r]}return e}function Aie(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function jG(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:bi.workingColorSpace}const VG={clone:Tb,merge:Tl};var Sie=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Mie=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class _h extends ms{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Sie,this.fragmentShader=Mie,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Tb(e.uniforms),this.uniformsGroups=Aie(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const s=this.uniforms[r].value;s&&s.isTexture?n.uniforms[r]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[r]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[r]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[r]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[r]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[r]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[r]={type:"m4",value:s.toArray()}:n.uniforms[r]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class zR extends Si{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new dn,this.projectionMatrix=new dn,this.projectionMatrixInverse=new dn,this.coordinateSystem=ph}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const zg=new me,G8=new ct,j8=new ct;class Wr extends zR{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=wb*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Ry*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return wb*2*Math.atan(Math.tan(Ry*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,i){zg.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(zg.x,zg.y).multiplyScalar(-e/zg.z),zg.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(zg.x,zg.y).multiplyScalar(-e/zg.z)}getViewSize(e,n){return this.getViewBounds(e,G8,j8),n.subVectors(j8,G8)}setViewOffset(e,n,i,r,a,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Ry*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,a=-.5*r;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,c=s.fullHeight;a+=s.offsetX*r/l,n-=s.offsetY*i/c,r*=s.width/l,i*=s.height/c}const o=this.filmOffset;o!==0&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,n,n-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const M_=-90,w_=1;class XG extends Si{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Wr(M_,w_,e,n);r.layers=this.layers,this.add(r);const a=new Wr(M_,w_,e,n);a.layers=this.layers,this.add(a);const s=new Wr(M_,w_,e,n);s.layers=this.layers,this.add(s);const o=new Wr(M_,w_,e,n);o.layers=this.layers,this.add(o);const l=new Wr(M_,w_,e,n);l.layers=this.layers,this.add(l);const c=new Wr(M_,w_,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,r,a,s,o,l]=n;for(const c of n)this.remove(c);if(e===ph)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===NS)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,o,l,c,f]=this.children,d=e.getRenderTarget(),p=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const S=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(n,a),e.setRenderTarget(i,1,r),e.render(n,s),e.setRenderTarget(i,2,r),e.render(n,o),e.setRenderTarget(i,3,r),e.render(n,l),e.setRenderTarget(i,4,r),e.render(n,c),i.texture.generateMipmaps=S,e.setRenderTarget(i,5,r),e.render(n,f),e.setRenderTarget(d,p,v),e.xr.enabled=_,i.texture.needsPMREMUpdate=!0}}class _M extends Kr{constructor(e=[],n=Rm,i,r,a,s,o,l,c,f){super(e,n,i,r,a,s,o,l,c,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class qG extends Id{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new _M(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Fa}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new cx(5,5,5),a=new _h({name:"CubemapFromEquirect",uniforms:Tb(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Fl,blending:Sm});a.uniforms.tEquirect.value=n;const s=new za(r,a),o=n.minFilter;return n.minFilter===hf&&(n.minFilter=Fa),new XG(1,10,this).update(e,s),n.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,n=!0,i=!0,r=!0){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,i,r);e.setRenderTarget(a)}}class mm extends Si{constructor(){super(),this.isGroup=!0,this.type="Group"}}const wie={type:"move"};class ME{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new mm,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new mm,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new me,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new me),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new mm,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new me,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new me),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,a=null,s=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const S of e.hand.values()){const b=n.getJointPose(S,i),A=this._getHandJoint(c,S);b!==null&&(A.matrix.fromArray(b.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),A.matrixWorldNeedsUpdate=!0,A.jointRadius=b.radius),A.visible=b!==null}const f=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],p=f.position.distanceTo(d.position),v=.02,_=.005;c.inputState.pinching&&p>v+_?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=v-_&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=n.getPose(e.gripSpace,i),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&a!==null&&(r=a),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(wie)))}return o!==null&&(o.visible=r!==null),l!==null&&(l.visible=a!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new mm;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}class HR{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Lt(e),this.density=n}clone(){return new HR(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class kR{constructor(e,n=1,i=1e3){this.isFog=!0,this.name="",this.color=new Lt(e),this.near=n,this.far=i}clone(){return new kR(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class mL extends Si{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Mu,this.environmentIntensity=1,this.environmentRotation=new Mu,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class bM{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=RS,this.updateRanges=[],this.version=0,this.uuid=Su()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let r=0,a=this.stride;r<a;r++)this.array[e+r]=n.array[i+r];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Su()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Su()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const wl=new me;class f0{constructor(e,n,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)wl.fromBufferAttribute(this,n),wl.applyMatrix4(e),this.setXYZ(n,wl.x,wl.y,wl.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)wl.fromBufferAttribute(this,n),wl.applyNormalMatrix(e),this.setXYZ(n,wl.x,wl.y,wl.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)wl.fromBufferAttribute(this,n),wl.transformDirection(e),this.setXYZ(n,wl.x,wl.y,wl.z);return this}getComponent(e,n){let i=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(i=Pl(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=kn(i,this.array)),this.data.array[e*this.data.stride+this.offset+n]=i,this}setX(e,n){return this.normalized&&(n=kn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=kn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=kn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=kn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Pl(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Pl(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Pl(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Pl(n,this.array)),n}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=kn(n,this.array),i=kn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=kn(n,this.array),i=kn(i,this.array),r=kn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,n,i,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(n=kn(n,this.array),i=kn(i,this.array),r=kn(r,this.array),a=kn(a,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[r+a])}return new Pi(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new f0(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class gL extends ms{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Lt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let E_;const K1=new me,T_=new me,C_=new me,R_=new ct,$1=new ct,YG=new dn,jw=new me,Z1=new me,Vw=new me,V8=new ct,pD=new ct,X8=new ct;class WG extends Si{constructor(e=new gL){if(super(),this.isSprite=!0,this.type="Sprite",E_===void 0){E_=new In;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new bM(n,5);E_.setIndex([0,1,2,0,2,3]),E_.setAttribute("position",new f0(i,3,0,!1)),E_.setAttribute("uv",new f0(i,2,3,!1))}this.geometry=E_,this.material=e,this.center=new ct(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),T_.setFromMatrixScale(this.matrixWorld),YG.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),C_.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&T_.multiplyScalar(-C_.z);const i=this.material.rotation;let r,a;i!==0&&(a=Math.cos(i),r=Math.sin(i));const s=this.center;Xw(jw.set(-.5,-.5,0),C_,s,T_,r,a),Xw(Z1.set(.5,-.5,0),C_,s,T_,r,a),Xw(Vw.set(.5,.5,0),C_,s,T_,r,a),V8.set(0,0),pD.set(1,0),X8.set(1,1);let o=e.ray.intersectTriangle(jw,Z1,Vw,!1,K1);if(o===null&&(Xw(Z1.set(-.5,.5,0),C_,s,T_,r,a),pD.set(0,1),o=e.ray.intersectTriangle(jw,Vw,Z1,!1,K1),o===null))return;const l=e.ray.origin.distanceTo(K1);l<e.near||l>e.far||n.push({distance:l,point:K1.clone(),uv:Nc.getInterpolation(K1,jw,Z1,Vw,V8,pD,X8,new ct),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Xw(t,e,n,i,r,a){R_.subVectors(t,n).addScalar(.5).multiply(i),r!==void 0?($1.x=a*R_.x-r*R_.y,$1.y=r*R_.x+a*R_.y):$1.copy(R_),t.copy(e),t.x+=$1.x,t.y+=$1.y,t.applyMatrix4(YG)}const qw=new me,q8=new me;class JG extends Si{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let i=0,r=n.length;i<r;i++){const a=n[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,i=0){n=Math.abs(n);const r=this.levels;let a;for(a=0;a<r.length&&!(n<r[a].distance);a++);return r.splice(a,0,{distance:n,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let i=0;i<n.length;i++)if(n[i].distance===e){const r=n.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let i,r;for(i=1,r=n.length;i<r;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),e<a)break}return n[i-1].object}return null}raycast(e,n){if(this.levels.length>0){qw.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(qw);this.getObjectForDistance(r).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){qw.setFromMatrixPosition(e.matrixWorld),q8.setFromMatrixPosition(this.matrixWorld);const i=qw.distanceTo(q8)/e.zoom;n[0].object.visible=!0;let r,a;for(r=1,a=n.length;r<a;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),i>=s)n[r-1].object.visible=!1,n[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)n[r].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const i=this.levels;for(let r=0,a=i.length;r<a;r++){const s=i[r];n.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return n}}const Y8=new me,W8=new Li,J8=new Li,Eie=new me,K8=new dn,Yw=new me,mD=new lo,$8=new dn,gD=new lx;class vL extends za{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=j4,this.bindMatrix=new dn,this.bindMatrixInverse=new dn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Xo),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,Yw),this.boundingBox.expandByPoint(Yw)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new lo),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,Yw),this.boundingSphere.expandByPoint(Yw)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),mD.copy(this.boundingSphere),mD.applyMatrix4(r),e.ray.intersectsSphere(mD)!==!1&&($8.copy(r).invert(),gD.copy(e.ray).applyMatrix4($8),!(this.boundingBox!==null&&gD.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,gD)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Li,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){e.fromBufferAttribute(n,i);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===j4?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===SG?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const i=this.skeleton,r=this.geometry;W8.fromBufferAttribute(r.attributes.skinIndex,e),J8.fromBufferAttribute(r.attributes.skinWeight,e),Y8.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let a=0;a<4;a++){const s=J8.getComponent(a);if(s!==0){const o=W8.getComponent(a);K8.multiplyMatrices(i.bones[o].matrixWorld,i.boneInverses[o]),n.addScaledVector(Eie.copy(Y8).applyMatrix4(K8),s)}}return n.applyMatrix4(this.bindMatrixInverse)}}class GR extends Si{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Bd extends Kr{constructor(e=null,n=1,i=1,r,a,s,o,l,c=Is,f=Is,d,p){super(null,s,o,l,c,f,r,a,d,p),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Z8=new dn,Tie=new dn;class AM{constructor(e=[],n=[]){this.uuid=Su(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new dn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new dn;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let a=0,s=e.length;a<s;a++){const o=e[a]?e[a].matrixWorld:Tie;Z8.multiplyMatrices(o,n[a]),Z8.toArray(i,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new AM(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new Bd(n,e,e,jo,Oc);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const r=this.bones[n];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const a=e.bones[i];let s=n[a];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),s=new GR),this.bones.push(s),this.boneInverses.push(new dn().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let r=0,a=n.length;r<a;r++){const s=n[r];e.bones.push(s.uuid);const o=i[r];e.boneInverses.push(o.toArray())}return e}}class Hy extends Pi{constructor(e,n,i,r=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const N_=new dn,Q8=new dn,Ww=[],e6=new Xo,Cie=new dn,Q1=new za,eA=new lo;class yL extends za{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Hy(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,Cie)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Xo),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,N_),e6.copy(e.boundingBox).applyMatrix4(N_),this.boundingBox.union(e6)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new lo),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,N_),eA.copy(e.boundingSphere).applyMatrix4(N_),this.boundingSphere.union(eA)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const i=n.morphTargetInfluences,r=this.morphTexture.source.data.data,a=i.length+1,s=e*a+1;for(let o=0;o<i.length;o++)i[o]=r[s+o]}raycast(e,n){const i=this.matrixWorld,r=this.count;if(Q1.geometry=this.geometry,Q1.material=this.material,Q1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),eA.copy(this.boundingSphere),eA.applyMatrix4(i),e.ray.intersectsSphere(eA)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,N_),Q8.multiplyMatrices(i,N_),Q1.matrixWorld=Q8,Q1.raycast(e,Ww);for(let s=0,o=Ww.length;s<o;s++){const l=Ww[s];l.instanceId=a,l.object=this,n.push(l)}Ww.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Hy(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const i=n.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Bd(new Float32Array(r*this.count),r,this.count,OR,Oc));const a=this.morphTexture.source.data.data;let s=0;for(let c=0;c<i.length;c++)s+=i[c];const o=this.geometry.morphTargetsRelative?1:1-s,l=r*e;a[l]=o,a.set(i,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const vD=new me,Rie=new me,Nie=new Pn;class cm{constructor(e=new me(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=vD.subVectors(i,n).cross(Rie.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(vD),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:n.copy(e.start).addScaledVector(i,a)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||Nie.getNormalMatrix(e),r=this.coplanarPoint(vD).applyMatrix4(e),a=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Pv=new lo,Jw=new me;class SM{constructor(e=new cm,n=new cm,i=new cm,r=new cm,a=new cm,s=new cm){this.planes=[e,n,i,r,a,s]}set(e,n,i,r,a,s){const o=this.planes;return o[0].copy(e),o[1].copy(n),o[2].copy(i),o[3].copy(r),o[4].copy(a),o[5].copy(s),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=ph){const i=this.planes,r=e.elements,a=r[0],s=r[1],o=r[2],l=r[3],c=r[4],f=r[5],d=r[6],p=r[7],v=r[8],_=r[9],S=r[10],b=r[11],A=r[12],T=r[13],R=r[14],C=r[15];if(i[0].setComponents(l-a,p-c,b-v,C-A).normalize(),i[1].setComponents(l+a,p+c,b+v,C+A).normalize(),i[2].setComponents(l+s,p+f,b+_,C+T).normalize(),i[3].setComponents(l-s,p-f,b-_,C-T).normalize(),i[4].setComponents(l-o,p-d,b-S,C-R).normalize(),n===ph)i[5].setComponents(l+o,p+d,b+S,C+R).normalize();else if(n===NS)i[5].setComponents(o,d,S,R).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Pv.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Pv.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Pv)}intersectsSprite(e){return Pv.center.set(0,0,0),Pv.radius=.7071067811865476,Pv.applyMatrix4(e.matrixWorld),this.intersectsSphere(Pv)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let a=0;a<6;a++)if(n[a].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(Jw.x=r.normal.x>0?e.max.x:e.min.x,Jw.y=r.normal.y>0?e.max.y:e.min.y,Jw.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Jw)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function yD(t,e){return t-e}function Die(t,e){return t.z-e.z}function Bie(t,e){return e.z-t.z}class Oie{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,i,r){const a=this.pool,s=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const o=a[this.index];s.push(o),this.index++,o.start=e,o.count=n,o.z=i,o.index=r}reset(){this.list.length=0,this.index=0}}const yc=new dn,Lie=new Lt(1,1,1),xD=new SM,Kw=new Xo,Uv=new lo,tA=new me,t6=new me,Pie=new me,_D=new Oie,Oo=new za,$w=[];function Uie(t,e,n=0){const i=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const r=t.count;for(let a=0;a<r;a++)for(let s=0;s<i;s++)e.setComponent(a+n,s,t.getComponent(a,s))}else e.array.set(t.array,n*i);e.needsUpdate=!0}function Iv(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++)e[i]=t[i]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class KG extends za{constructor(e,n,i=n*2,r){super(new In,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),i=new Bd(n,e,e,jo,Oc);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),i=new Bd(n,e,e,yM,Nm);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),i=new Bd(n,e,e,jo,Oc);i.colorSpace=bi.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const n=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const s=e.getAttribute(a),{array:o,itemSize:l,normalized:c}=s,f=new o.constructor(i*l),d=new Pi(f,l,c);n.setAttribute(a,d)}if(e.getIndex()!==null){const a=i>65535?new Uint32Array(r):new Uint16Array(r);n.setIndex(new Pi(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in n.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),a=n.getAttribute(i);if(r.itemSize!==a.itemSize||r.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Xo);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const a=n[i].geometryIndex;this.getMatrixAt(i,yc),this.getBoundingBoxAt(a,Kw).applyMatrix4(yc),e.union(Kw)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new lo);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const a=n[i].geometryIndex;this.getMatrixAt(i,yc),this.getBoundingSphereAt(a,Uv).applyMatrix4(yc),e.union(Uv)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(yD),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const a=this._matricesTexture;yc.identity().toArray(a.image.data,r*16),a.needsUpdate=!0;const s=this._colorsTexture;return s&&(Lie.toArray(s.image.data,r*4),s.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,n=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const s=e.getIndex();if(s!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?s.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(yD),l=this._availableGeometryIds.shift(),a[l]=r):(l=this._geometryCount,this._geometryCount++,a.push(r)),this.setGeometryAt(l,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,l}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const i=this.geometry,r=i.getIndex()!==null,a=i.getIndex(),s=n.getIndex(),o=this._geometryInfo[e];if(r&&s.count>o.reservedIndexCount||n.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,c=o.reservedVertexCount;o.vertexCount=n.getAttribute("position").count;for(const f in i.attributes){const d=n.getAttribute(f),p=i.getAttribute(f);Uie(d,p,l);const v=d.itemSize;for(let _=d.count,S=c;_<S;_++){const b=l+_;for(let A=0;A<v;A++)p.setComponent(b,A,0)}p.needsUpdate=!0,p.addUpdateRange(l*v,c*v)}if(r){const f=o.indexStart,d=o.reservedIndexCount;o.indexCount=n.getIndex().count;for(let p=0;p<s.count;p++)a.setX(f+p,l+s.getX(p));for(let p=s.count,v=d;p<v;p++)a.setX(f+p,l);a.needsUpdate=!0,a.addUpdateRange(f,o.reservedIndexCount)}return o.start=r?o.indexStart:o.vertexStart,o.count=r?o.indexCount:o.vertexCount,o.boundingBox=null,n.boundingBox!==null&&(o.boundingBox=n.boundingBox.clone()),o.boundingSphere=null,n.boundingSphere!==null&&(o.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,a=i.length;r<a;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const i=this._geometryInfo,r=i.map((s,o)=>o).sort((s,o)=>i[s].vertexStart-i[o].vertexStart),a=this.geometry;for(let s=0,o=i.length;s<o;s++){const l=r[s],c=i[l];if(c.active!==!1){if(a.index!==null){if(c.indexStart!==n){const{indexStart:f,vertexStart:d,reservedIndexCount:p}=c,v=a.index,_=v.array,S=e-d;for(let b=f;b<f+p;b++)_[b]=_[b]+S;v.array.copyWithin(n,f,f+p),v.addUpdateRange(n,p),c.indexStart=n}n+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:f,reservedVertexCount:d}=c,p=a.attributes;for(const v in p){const _=p[v],{array:S,itemSize:b}=_;S.copyWithin(e*b,f*b,(f+d)*b),_.addUpdateRange(e*b,d*b)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=a.index?c.indexStart:c.vertexStart,this._nextIndexStart=a.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const a=new Xo,s=i.index,o=i.attributes.position;for(let l=r.start,c=r.start+r.count;l<c;l++){let f=l;s&&(f=s.getX(f)),a.expandByPoint(tA.fromBufferAttribute(o,f))}r.boundingBox=a}return n.copy(r.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const a=new lo;this.getBoundingBoxAt(e,Kw),Kw.getCenter(a.center);const s=i.index,o=i.attributes.position;let l=0;for(let c=r.start,f=r.start+r.count;c<f;c++){let d=c;s&&(d=s.getX(d)),tA.fromBufferAttribute(o,d),l=Math.max(l,a.center.distanceToSquared(tA))}a.radius=Math.sqrt(l),r.boundingSphere=a}return n.copy(r.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return n.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return n.vertexStart=i.vertexStart,n.vertexCount=i.vertexCount,n.reservedVertexCount=i.reservedVertexCount,n.indexStart=i.indexStart,n.indexCount=i.indexCount,n.reservedIndexCount=i.reservedIndexCount,n.start=i.start,n.count=i.count,n}setInstanceCount(e){const n=this._availableInstanceIds,i=this._instanceInfo;for(n.sort(yD);n[n.length-1]===i.length;)i.pop(),n.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),a=new Int32Array(e);Iv(this._multiDrawCounts,r),Iv(this._multiDrawStarts,a),this._multiDrawCounts=r,this._multiDrawStarts=a,this._maxInstanceCount=e;const s=this._indirectTexture,o=this._matricesTexture,l=this._colorsTexture;s.dispose(),this._initIndirectTexture(),Iv(s.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),Iv(o.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),Iv(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const i=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...i.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(l=>l.indexStart+l.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new In,this._initializeGeometry(a));const s=this.geometry;a.index&&Iv(a.index.array,s.index.array);for(const o in a.attributes)Iv(a.attributes[o].array,s.attributes[o].array)}raycast(e,n){const i=this._instanceInfo,r=this._geometryInfo,a=this.matrixWorld,s=this.geometry;Oo.material=this.material,Oo.geometry.index=s.index,Oo.geometry.attributes=s.attributes,Oo.geometry.boundingBox===null&&(Oo.geometry.boundingBox=new Xo),Oo.geometry.boundingSphere===null&&(Oo.geometry.boundingSphere=new lo);for(let o=0,l=i.length;o<l;o++){if(!i[o].visible||!i[o].active)continue;const c=i[o].geometryIndex,f=r[c];Oo.geometry.setDrawRange(f.start,f.count),this.getMatrixAt(o,Oo.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,Oo.geometry.boundingBox),this.getBoundingSphereAt(c,Oo.geometry.boundingSphere),Oo.raycast(e,$w);for(let d=0,p=$w.length;d<p;d++){const v=$w[d];v.object=this,v.batchId=o,n.push(v)}$w.length=0}Oo.material=null,Oo.geometry.index=null,Oo.geometry.attributes={},Oo.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,i,r,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=r.getIndex(),o=s===null?1:s.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,f=this._multiDrawCounts,d=this._geometryInfo,p=this.perObjectFrustumCulled,v=this._indirectTexture,_=v.image.data;p&&(yc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),xD.setFromProjectionMatrix(yc,e.coordinateSystem));let S=0;if(this.sortObjects){yc.copy(this.matrixWorld).invert(),tA.setFromMatrixPosition(i.matrixWorld).applyMatrix4(yc),t6.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(yc);for(let T=0,R=l.length;T<R;T++)if(l[T].visible&&l[T].active){const C=l[T].geometryIndex;this.getMatrixAt(T,yc),this.getBoundingSphereAt(C,Uv).applyMatrix4(yc);let L=!1;if(p&&(L=!xD.intersectsSphere(Uv)),!L){const P=d[C],k=Pie.subVectors(Uv.center,tA).dot(t6);_D.push(P.start,P.count,k,T)}}const b=_D.list,A=this.customSort;A===null?b.sort(a.transparent?Bie:Die):A.call(this,b,i);for(let T=0,R=b.length;T<R;T++){const C=b[T];c[S]=C.start*o,f[S]=C.count,_[S]=C.index,S++}_D.reset()}else for(let b=0,A=l.length;b<A;b++)if(l[b].visible&&l[b].active){const T=l[b].geometryIndex;let R=!1;if(p&&(this.getMatrixAt(b,yc),this.getBoundingSphereAt(T,Uv).applyMatrix4(yc),R=!xD.intersectsSphere(Uv)),!R){const C=d[T];c[S]=C.start*o,f[S]=C.count,_[S]=b,S++}}v.needsUpdate=!0,this._multiDrawCount=S,this._visibilityChanged=!1}onBeforeShadow(e,n,i,r,a,s){this.onBeforeRender(e,null,r,a,s)}}class Yo extends ms{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Lt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const kT=new me,GT=new me,n6=new dn,nA=new lx,Zw=new lo,bD=new me,i6=new me;class Dm extends Si{constructor(e=new In,n=new Yo){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,a=n.count;r<a;r++)kT.fromBufferAttribute(n,r-1),GT.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=kT.distanceTo(GT);e.setAttribute("lineDistance",new Xt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Zw.copy(i.boundingSphere),Zw.applyMatrix4(r),Zw.radius+=a,e.ray.intersectsSphere(Zw)===!1)return;n6.copy(r).invert(),nA.copy(e.ray).applyMatrix4(n6);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=this.isLineSegments?2:1,f=i.index,p=i.attributes.position;if(f!==null){const v=Math.max(0,s.start),_=Math.min(f.count,s.start+s.count);for(let S=v,b=_-1;S<b;S+=c){const A=f.getX(S),T=f.getX(S+1),R=Qw(this,e,nA,l,A,T,S);R&&n.push(R)}if(this.isLineLoop){const S=f.getX(_-1),b=f.getX(v),A=Qw(this,e,nA,l,S,b,_-1);A&&n.push(A)}}else{const v=Math.max(0,s.start),_=Math.min(p.count,s.start+s.count);for(let S=v,b=_-1;S<b;S+=c){const A=Qw(this,e,nA,l,S,S+1,S);A&&n.push(A)}if(this.isLineLoop){const S=Qw(this,e,nA,l,_-1,v,_-1);S&&n.push(S)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function Qw(t,e,n,i,r,a,s){const o=t.geometry.attributes.position;if(kT.fromBufferAttribute(o,r),GT.fromBufferAttribute(o,a),n.distanceSqToSegment(kT,GT,bD,i6)>i)return;bD.applyMatrix4(t.matrixWorld);const c=e.ray.origin.distanceTo(bD);if(!(c<e.near||c>e.far))return{distance:c,point:i6.clone().applyMatrix4(t.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:t}}const r6=new me,a6=new me;class Mh extends Dm{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let r=0,a=n.count;r<a;r+=2)r6.fromBufferAttribute(n,r),a6.fromBufferAttribute(n,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+r6.distanceTo(a6);e.setAttribute("lineDistance",new Xt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class xL extends Dm{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class jR extends ms{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Lt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const s6=new dn,q4=new lx,e2=new lo,t2=new me;class _L extends Si{constructor(e=new In,n=new jR){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),e2.copy(i.boundingSphere),e2.applyMatrix4(r),e2.radius+=a,e.ray.intersectsSphere(e2)===!1)return;s6.copy(r).invert(),q4.copy(e.ray).applyMatrix4(s6);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=i.index,d=i.attributes.position;if(c!==null){const p=Math.max(0,s.start),v=Math.min(c.count,s.start+s.count);for(let _=p,S=v;_<S;_++){const b=c.getX(_);t2.fromBufferAttribute(d,b),o6(t2,b,l,r,e,n,this)}}else{const p=Math.max(0,s.start),v=Math.min(d.count,s.start+s.count);for(let _=p,S=v;_<S;_++)t2.fromBufferAttribute(d,_),o6(t2,_,l,r,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function o6(t,e,n,i,r,a,s){const o=q4.distanceSqToPoint(t);if(o<n){const l=new me;q4.closestPointToPoint(t,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;a.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:s})}}class $G extends Kr{constructor(e,n,i,r,a=Fa,s=Fa,o,l,c){super(e,n,i,r,a,s,o,l,c),this.isVideoTexture=!0,this.generateMipmaps=!1;const f=this;function d(){f.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Iie extends $G{constructor(e,n,i,r,a,s,o,l){super({},e,n,i,r,a,s,o,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Fie extends Kr{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Is,this.minFilter=Is,this.generateMipmaps=!1,this.needsUpdate=!0}}class VR extends Kr{constructor(e,n,i,r,a,s,o,l,c,f,d,p){super(null,s,o,l,c,f,r,a,d,p),this.isCompressedTexture=!0,this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class zie extends VR{constructor(e,n,i,r,a,s){super(e,n,i,a,s),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=_u,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Hie extends VR{constructor(e,n,i){super(void 0,e[0].width,e[0].height,n,i,Rm),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class kie extends Kr{constructor(e,n,i,r,a,s,o,l,c){super(e,n,i,r,a,s,o,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class bL extends Kr{constructor(e,n,i=Nm,r,a,s,o=Is,l=Is,c,f=bb){if(f!==bb&&f!==Ab)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,r,a,s,o,l,f,i,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new e0(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class wh{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,r=this.getPoint(0),a=0;n.push(0);for(let s=1;s<=e;s++)i=this.getPoint(s/e),a+=i.distanceTo(r),n.push(a),r=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const i=this.getLengths();let r=0;const a=i.length;let s;n?s=n:s=e*i[a-1];let o=0,l=a-1,c;for(;o<=l;)if(r=Math.floor(o+(l-o)/2),c=i[r]-s,c<0)o=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===s)return r/(a-1);const f=i[r],p=i[r+1]-f,v=(s-f)/p;return(r+v)/(a-1)}getTangent(e,n){let r=e-1e-4,a=e+1e-4;r<0&&(r=0),a>1&&(a=1);const s=this.getPoint(r),o=this.getPoint(a),l=n||(s.isVector2?new ct:new me);return l.copy(o).sub(s).normalize(),l}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n=!1){const i=new me,r=[],a=[],s=[],o=new me,l=new dn;for(let v=0;v<=e;v++){const _=v/e;r[v]=this.getTangentAt(_,new me)}a[0]=new me,s[0]=new me;let c=Number.MAX_VALUE;const f=Math.abs(r[0].x),d=Math.abs(r[0].y),p=Math.abs(r[0].z);f<=c&&(c=f,i.set(1,0,0)),d<=c&&(c=d,i.set(0,1,0)),p<=c&&i.set(0,0,1),o.crossVectors(r[0],i).normalize(),a[0].crossVectors(r[0],o),s[0].crossVectors(r[0],a[0]);for(let v=1;v<=e;v++){if(a[v]=a[v-1].clone(),s[v]=s[v-1].clone(),o.crossVectors(r[v-1],r[v]),o.length()>Number.EPSILON){o.normalize();const _=Math.acos(Dn(r[v-1].dot(r[v]),-1,1));a[v].applyMatrix4(l.makeRotationAxis(o,_))}s[v].crossVectors(r[v],a[v])}if(n===!0){let v=Math.acos(Dn(a[0].dot(a[e]),-1,1));v/=e,r[0].dot(o.crossVectors(a[0],a[e]))>0&&(v=-v);for(let _=1;_<=e;_++)a[_].applyMatrix4(l.makeRotationAxis(r[_],v*_)),s[_].crossVectors(r[_],a[_])}return{tangents:r,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class XR extends wh{constructor(e=0,n=0,i=1,r=1,a=0,s=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=o,this.aRotation=l}getPoint(e,n=new ct){const i=n,r=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(s?a=0:a=r),this.aClockwise===!0&&!s&&(a===r?a=-r:a=a-r);const o=this.aStartAngle+e*a;let l=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const f=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,v=c-this.aY;l=p*f-v*d+this.aX,c=p*d+v*f+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class ZG extends XR{constructor(e,n,i,r,a,s){super(e,n,i,i,r,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function AL(){let t=0,e=0,n=0,i=0;function r(a,s,o,l){t=a,e=o,n=-3*a+3*s-2*o-l,i=2*a-2*s+o+l}return{initCatmullRom:function(a,s,o,l,c){r(s,o,c*(o-a),c*(l-s))},initNonuniformCatmullRom:function(a,s,o,l,c,f,d){let p=(s-a)/c-(o-a)/(c+f)+(o-s)/f,v=(o-s)/f-(l-s)/(f+d)+(l-o)/d;p*=f,v*=f,r(s,o,p,v)},calc:function(a){const s=a*a,o=s*a;return t+e*a+n*s+i*o}}}const n2=new me,AD=new AL,SD=new AL,MD=new AL;class QG extends wh{constructor(e=[],n=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=r}getPoint(e,n=new me){const i=n,r=this.points,a=r.length,s=(a-(this.closed?0:1))*e;let o=Math.floor(s),l=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/a)+1)*a:l===0&&o===a-1&&(o=a-2,l=1);let c,f;this.closed||o>0?c=r[(o-1)%a]:(n2.subVectors(r[0],r[1]).add(r[0]),c=n2);const d=r[o%a],p=r[(o+1)%a];if(this.closed||o+2<a?f=r[(o+2)%a]:(n2.subVectors(r[a-1],r[a-2]).add(r[a-1]),f=n2),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let _=Math.pow(c.distanceToSquared(d),v),S=Math.pow(d.distanceToSquared(p),v),b=Math.pow(p.distanceToSquared(f),v);S<1e-4&&(S=1),_<1e-4&&(_=S),b<1e-4&&(b=S),AD.initNonuniformCatmullRom(c.x,d.x,p.x,f.x,_,S,b),SD.initNonuniformCatmullRom(c.y,d.y,p.y,f.y,_,S,b),MD.initNonuniformCatmullRom(c.z,d.z,p.z,f.z,_,S,b)}else this.curveType==="catmullrom"&&(AD.initCatmullRom(c.x,d.x,p.x,f.x,this.tension),SD.initCatmullRom(c.y,d.y,p.y,f.y,this.tension),MD.initCatmullRom(c.z,d.z,p.z,f.z,this.tension));return i.set(AD.calc(l),SD.calc(l),MD.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new me().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function l6(t,e,n,i,r){const a=(i-e)*.5,s=(r-n)*.5,o=t*t,l=t*o;return(2*n-2*i+a+s)*l+(-3*n+3*i-2*a-s)*o+a*t+n}function Gie(t,e){const n=1-t;return n*n*e}function jie(t,e){return 2*(1-t)*t*e}function Vie(t,e){return t*t*e}function rS(t,e,n,i){return Gie(t,e)+jie(t,n)+Vie(t,i)}function Xie(t,e){const n=1-t;return n*n*n*e}function qie(t,e){const n=1-t;return 3*n*n*t*e}function Yie(t,e){return 3*(1-t)*t*t*e}function Wie(t,e){return t*t*t*e}function aS(t,e,n,i,r){return Xie(t,e)+qie(t,n)+Yie(t,i)+Wie(t,r)}class SL extends wh{constructor(e=new ct,n=new ct,i=new ct,r=new ct){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new ct){const i=n,r=this.v0,a=this.v1,s=this.v2,o=this.v3;return i.set(aS(e,r.x,a.x,s.x,o.x),aS(e,r.y,a.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ej extends wh{constructor(e=new me,n=new me,i=new me,r=new me){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new me){const i=n,r=this.v0,a=this.v1,s=this.v2,o=this.v3;return i.set(aS(e,r.x,a.x,s.x,o.x),aS(e,r.y,a.y,s.y,o.y),aS(e,r.z,a.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ML extends wh{constructor(e=new ct,n=new ct){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new ct){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ct){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class tj extends wh{constructor(e=new me,n=new me){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new me){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new me){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class wL extends wh{constructor(e=new ct,n=new ct,i=new ct){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new ct){const i=n,r=this.v0,a=this.v1,s=this.v2;return i.set(rS(e,r.x,a.x,s.x),rS(e,r.y,a.y,s.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class EL extends wh{constructor(e=new me,n=new me,i=new me){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new me){const i=n,r=this.v0,a=this.v1,s=this.v2;return i.set(rS(e,r.x,a.x,s.x),rS(e,r.y,a.y,s.y),rS(e,r.z,a.z,s.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class TL extends wh{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new ct){const i=n,r=this.points,a=(r.length-1)*e,s=Math.floor(a),o=a-s,l=r[s===0?s:s-1],c=r[s],f=r[s>r.length-2?r.length-1:s+1],d=r[s>r.length-3?r.length-1:s+2];return i.set(l6(o,l.x,c.x,f.x,d.x),l6(o,l.y,c.y,f.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new ct().fromArray(r))}return this}}var jT=Object.freeze({__proto__:null,ArcCurve:ZG,CatmullRomCurve3:QG,CubicBezierCurve:SL,CubicBezierCurve3:ej,EllipseCurve:XR,LineCurve:ML,LineCurve3:tj,QuadraticBezierCurve:wL,QuadraticBezierCurve3:EL,SplineCurve:TL});class nj extends wh{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new jT[i](n,e))}return this}getPoint(e,n){const i=e*this.getLength(),r=this.getCurveLengths();let a=0;for(;a<r.length;){if(r[a]>=i){const s=r[a]-i,o=this.curves[a],l=o.getLength(),c=l===0?0:1-s/l;return o.getPointAt(c,n)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,r=this.curves.length;i<r;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let r=0,a=this.curves;r<a.length;r++){const s=a[r],o=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,l=s.getPoints(o);for(let c=0;c<l.length;c++){const f=l[c];i&&i.equals(f)||(n.push(f),i=f)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const r=this.curves[n];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(new jT[r.type]().fromJSON(r))}return this}}let BS=class extends nj{constructor(e){super(),this.type="Path",this.currentPoint=new ct,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new ML(this.currentPoint.clone(),new ct(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,r){const a=new wL(this.currentPoint.clone(),new ct(e,n),new ct(i,r));return this.curves.push(a),this.currentPoint.set(i,r),this}bezierCurveTo(e,n,i,r,a,s){const o=new SL(this.currentPoint.clone(),new ct(e,n),new ct(i,r),new ct(a,s));return this.curves.push(o),this.currentPoint.set(a,s),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new TL(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,r,a,s){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,n+l,i,r,a,s),this}absarc(e,n,i,r,a,s){return this.absellipse(e,n,i,i,r,a,s),this}ellipse(e,n,i,r,a,s,o,l){const c=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+c,n+f,i,r,a,s,o,l),this}absellipse(e,n,i,r,a,s,o,l){const c=new XR(e,n,i,r,a,s,o,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const f=c.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class MM extends In{constructor(e=[new ct(0,-.5),new ct(.5,0),new ct(0,.5)],n=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:r},n=Math.floor(n),r=Dn(r,0,Math.PI*2);const a=[],s=[],o=[],l=[],c=[],f=1/n,d=new me,p=new ct,v=new me,_=new me,S=new me;let b=0,A=0;for(let T=0;T<=e.length-1;T++)switch(T){case 0:b=e[T+1].x-e[T].x,A=e[T+1].y-e[T].y,v.x=A*1,v.y=-b,v.z=A*0,S.copy(v),v.normalize(),l.push(v.x,v.y,v.z);break;case e.length-1:l.push(S.x,S.y,S.z);break;default:b=e[T+1].x-e[T].x,A=e[T+1].y-e[T].y,v.x=A*1,v.y=-b,v.z=A*0,_.copy(v),v.x+=S.x,v.y+=S.y,v.z+=S.z,v.normalize(),l.push(v.x,v.y,v.z),S.copy(_)}for(let T=0;T<=n;T++){const R=i+T*f*r,C=Math.sin(R),L=Math.cos(R);for(let P=0;P<=e.length-1;P++){d.x=e[P].x*C,d.y=e[P].y,d.z=e[P].x*L,s.push(d.x,d.y,d.z),p.x=T/n,p.y=P/(e.length-1),o.push(p.x,p.y);const k=l[3*P+0]*C,G=l[3*P+1],z=l[3*P+0]*L;c.push(k,G,z)}}for(let T=0;T<n;T++)for(let R=0;R<e.length-1;R++){const C=R+T*e.length,L=C,P=C+e.length,k=C+e.length+1,G=C+1;a.push(L,P,G),a.push(k,G,P)}this.setIndex(a),this.setAttribute("position",new Xt(s,3)),this.setAttribute("uv",new Xt(o,2)),this.setAttribute("normal",new Xt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new MM(e.points,e.segments,e.phiStart,e.phiLength)}}class qR extends MM{constructor(e=1,n=1,i=4,r=8){const a=new BS;a.absarc(0,-n/2,e,Math.PI*1.5,0),a.absarc(0,n/2,e,0,Math.PI*.5),super(a.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:i,radialSegments:r}}static fromJSON(e){return new qR(e.radius,e.length,e.capSegments,e.radialSegments)}}class YR extends In{constructor(e=1,n=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:r},n=Math.max(3,n);const a=[],s=[],o=[],l=[],c=new me,f=new ct;s.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=n;d++,p+=3){const v=i+d/n*r;c.x=e*Math.cos(v),c.y=e*Math.sin(v),s.push(c.x,c.y,c.z),o.push(0,0,1),f.x=(s[p]/e+1)/2,f.y=(s[p+1]/e+1)/2,l.push(f.x,f.y)}for(let d=1;d<=n;d++)a.push(d,d+1,0);this.setIndex(a),this.setAttribute("position",new Xt(s,3)),this.setAttribute("normal",new Xt(o,3)),this.setAttribute("uv",new Xt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new YR(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class l1 extends In{constructor(e=1,n=1,i=1,r=32,a=1,s=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:r,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:l};const c=this;r=Math.floor(r),a=Math.floor(a);const f=[],d=[],p=[],v=[];let _=0;const S=[],b=i/2;let A=0;T(),s===!1&&(e>0&&R(!0),n>0&&R(!1)),this.setIndex(f),this.setAttribute("position",new Xt(d,3)),this.setAttribute("normal",new Xt(p,3)),this.setAttribute("uv",new Xt(v,2));function T(){const C=new me,L=new me;let P=0;const k=(n-e)/i;for(let G=0;G<=a;G++){const z=[],F=G/a,j=F*(n-e)+e;for(let ne=0;ne<=r;ne++){const W=ne/r,Y=W*l+o,K=Math.sin(Y),H=Math.cos(Y);L.x=j*K,L.y=-F*i+b,L.z=j*H,d.push(L.x,L.y,L.z),C.set(K,k,H).normalize(),p.push(C.x,C.y,C.z),v.push(W,1-F),z.push(_++)}S.push(z)}for(let G=0;G<r;G++)for(let z=0;z<a;z++){const F=S[z][G],j=S[z+1][G],ne=S[z+1][G+1],W=S[z][G+1];(e>0||z!==0)&&(f.push(F,j,W),P+=3),(n>0||z!==a-1)&&(f.push(j,ne,W),P+=3)}c.addGroup(A,P,0),A+=P}function R(C){const L=_,P=new ct,k=new me;let G=0;const z=C===!0?e:n,F=C===!0?1:-1;for(let ne=1;ne<=r;ne++)d.push(0,b*F,0),p.push(0,F,0),v.push(.5,.5),_++;const j=_;for(let ne=0;ne<=r;ne++){const Y=ne/r*l+o,K=Math.cos(Y),H=Math.sin(Y);k.x=z*H,k.y=b*F,k.z=z*K,d.push(k.x,k.y,k.z),p.push(0,F,0),P.x=K*.5+.5,P.y=H*.5*F+.5,v.push(P.x,P.y),_++}for(let ne=0;ne<r;ne++){const W=L+ne,Y=j+ne;C===!0?f.push(Y,Y+1,W):f.push(Y+1,Y,W),G+=3}c.addGroup(A,G,C===!0?1:2),A+=G}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new l1(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class WR extends l1{constructor(e=1,n=1,i=32,r=1,a=!1,s=0,o=Math.PI*2){super(0,e,n,i,r,a,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:s,thetaLength:o}}static fromJSON(e){return new WR(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class b0 extends In{constructor(e=[],n=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:r};const a=[],s=[];o(r),c(i),f(),this.setAttribute("position",new Xt(a,3)),this.setAttribute("normal",new Xt(a.slice(),3)),this.setAttribute("uv",new Xt(s,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function o(T){const R=new me,C=new me,L=new me;for(let P=0;P<n.length;P+=3)v(n[P+0],R),v(n[P+1],C),v(n[P+2],L),l(R,C,L,T)}function l(T,R,C,L){const P=L+1,k=[];for(let G=0;G<=P;G++){k[G]=[];const z=T.clone().lerp(C,G/P),F=R.clone().lerp(C,G/P),j=P-G;for(let ne=0;ne<=j;ne++)ne===0&&G===P?k[G][ne]=z:k[G][ne]=z.clone().lerp(F,ne/j)}for(let G=0;G<P;G++)for(let z=0;z<2*(P-G)-1;z++){const F=Math.floor(z/2);z%2===0?(p(k[G][F+1]),p(k[G+1][F]),p(k[G][F])):(p(k[G][F+1]),p(k[G+1][F+1]),p(k[G+1][F]))}}function c(T){const R=new me;for(let C=0;C<a.length;C+=3)R.x=a[C+0],R.y=a[C+1],R.z=a[C+2],R.normalize().multiplyScalar(T),a[C+0]=R.x,a[C+1]=R.y,a[C+2]=R.z}function f(){const T=new me;for(let R=0;R<a.length;R+=3){T.x=a[R+0],T.y=a[R+1],T.z=a[R+2];const C=b(T)/2/Math.PI+.5,L=A(T)/Math.PI+.5;s.push(C,1-L)}_(),d()}function d(){for(let T=0;T<s.length;T+=6){const R=s[T+0],C=s[T+2],L=s[T+4],P=Math.max(R,C,L),k=Math.min(R,C,L);P>.9&&k<.1&&(R<.2&&(s[T+0]+=1),C<.2&&(s[T+2]+=1),L<.2&&(s[T+4]+=1))}}function p(T){a.push(T.x,T.y,T.z)}function v(T,R){const C=T*3;R.x=e[C+0],R.y=e[C+1],R.z=e[C+2]}function _(){const T=new me,R=new me,C=new me,L=new me,P=new ct,k=new ct,G=new ct;for(let z=0,F=0;z<a.length;z+=9,F+=6){T.set(a[z+0],a[z+1],a[z+2]),R.set(a[z+3],a[z+4],a[z+5]),C.set(a[z+6],a[z+7],a[z+8]),P.set(s[F+0],s[F+1]),k.set(s[F+2],s[F+3]),G.set(s[F+4],s[F+5]),L.copy(T).add(R).add(C).divideScalar(3);const j=b(L);S(P,F+0,T,j),S(k,F+2,R,j),S(G,F+4,C,j)}}function S(T,R,C,L){L<0&&T.x===1&&(s[R]=T.x-1),C.x===0&&C.z===0&&(s[R]=L/2/Math.PI+.5)}function b(T){return Math.atan2(T.z,-T.x)}function A(T){return Math.atan2(-T.y,Math.sqrt(T.x*T.x+T.z*T.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new b0(e.vertices,e.indices,e.radius,e.details)}}class JR extends b0{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new JR(e.radius,e.detail)}}const i2=new me,r2=new me,wD=new me,a2=new Nc;class ij extends In{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const r=Math.pow(10,4),a=Math.cos(Ry*n),s=e.getIndex(),o=e.getAttribute("position"),l=s?s.count:o.count,c=[0,0,0],f=["a","b","c"],d=new Array(3),p={},v=[];for(let _=0;_<l;_+=3){s?(c[0]=s.getX(_),c[1]=s.getX(_+1),c[2]=s.getX(_+2)):(c[0]=_,c[1]=_+1,c[2]=_+2);const{a:S,b,c:A}=a2;if(S.fromBufferAttribute(o,c[0]),b.fromBufferAttribute(o,c[1]),A.fromBufferAttribute(o,c[2]),a2.getNormal(wD),d[0]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,d[1]=`${Math.round(b.x*r)},${Math.round(b.y*r)},${Math.round(b.z*r)}`,d[2]=`${Math.round(A.x*r)},${Math.round(A.y*r)},${Math.round(A.z*r)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let T=0;T<3;T++){const R=(T+1)%3,C=d[T],L=d[R],P=a2[f[T]],k=a2[f[R]],G=`${C}_${L}`,z=`${L}_${C}`;z in p&&p[z]?(wD.dot(p[z].normal)<=a&&(v.push(P.x,P.y,P.z),v.push(k.x,k.y,k.z)),p[z]=null):G in p||(p[G]={index0:c[T],index1:c[R],normal:wD.clone()})}}for(const _ in p)if(p[_]){const{index0:S,index1:b}=p[_];i2.fromBufferAttribute(o,S),r2.fromBufferAttribute(o,b),v.push(i2.x,i2.y,i2.z),v.push(r2.x,r2.y,r2.z)}this.setAttribute("position",new Xt(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Ny extends BS{constructor(e){super(e),this.uuid=Su(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,r=this.holes.length;i<r;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const r=this.holes[n];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(new BS().fromJSON(r))}return this}}function Jie(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let a=rj(t,0,r,n,!0);const s=[];if(!a||a.next===a.prev)return s;let o,l,c;if(i&&(a=ere(t,e,a,n)),t.length>80*n){o=1/0,l=1/0;let f=-1/0,d=-1/0;for(let p=n;p<r;p+=n){const v=t[p],_=t[p+1];v<o&&(o=v),_<l&&(l=_),v>f&&(f=v),_>d&&(d=_)}c=Math.max(f-o,d-l),c=c!==0?32767/c:0}return OS(a,s,n,o,l,c,0),s}function rj(t,e,n,i,r){let a;if(r===fre(t,e,n,i)>0)for(let s=e;s<n;s+=i)a=c6(s/i|0,t[s],t[s+1],a);else for(let s=n-i;s>=e;s-=i)a=c6(s/i|0,t[s],t[s+1],a);return a&&Cb(a,a.next)&&(PS(a),a=a.next),a}function ky(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(Cb(n,n.next)||aa(n.prev,n,n.next)===0)){if(PS(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function OS(t,e,n,i,r,a,s){if(!t)return;!s&&a&&are(t,i,r,a);let o=t;for(;t.prev!==t.next;){const l=t.prev,c=t.next;if(a?$ie(t,i,r,a):Kie(t)){e.push(l.i,t.i,c.i),PS(t),t=c.next,o=c.next;continue}if(t=c,t===o){s?s===1?(t=Zie(ky(t),e),OS(t,e,n,i,r,a,2)):s===2&&Qie(t,e,n,i,r,a):OS(ky(t),e,n,i,r,a,1);break}}}function Kie(t){const e=t.prev,n=t,i=t.next;if(aa(e,n,i)>=0)return!1;const r=e.x,a=n.x,s=i.x,o=e.y,l=n.y,c=i.y,f=Math.min(r,a,s),d=Math.min(o,l,c),p=Math.max(r,a,s),v=Math.max(o,l,c);let _=i.next;for(;_!==e;){if(_.x>=f&&_.x<=p&&_.y>=d&&_.y<=v&&wA(r,o,a,l,s,c,_.x,_.y)&&aa(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function $ie(t,e,n,i){const r=t.prev,a=t,s=t.next;if(aa(r,a,s)>=0)return!1;const o=r.x,l=a.x,c=s.x,f=r.y,d=a.y,p=s.y,v=Math.min(o,l,c),_=Math.min(f,d,p),S=Math.max(o,l,c),b=Math.max(f,d,p),A=Y4(v,_,e,n,i),T=Y4(S,b,e,n,i);let R=t.prevZ,C=t.nextZ;for(;R&&R.z>=A&&C&&C.z<=T;){if(R.x>=v&&R.x<=S&&R.y>=_&&R.y<=b&&R!==r&&R!==s&&wA(o,f,l,d,c,p,R.x,R.y)&&aa(R.prev,R,R.next)>=0||(R=R.prevZ,C.x>=v&&C.x<=S&&C.y>=_&&C.y<=b&&C!==r&&C!==s&&wA(o,f,l,d,c,p,C.x,C.y)&&aa(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;R&&R.z>=A;){if(R.x>=v&&R.x<=S&&R.y>=_&&R.y<=b&&R!==r&&R!==s&&wA(o,f,l,d,c,p,R.x,R.y)&&aa(R.prev,R,R.next)>=0)return!1;R=R.prevZ}for(;C&&C.z<=T;){if(C.x>=v&&C.x<=S&&C.y>=_&&C.y<=b&&C!==r&&C!==s&&wA(o,f,l,d,c,p,C.x,C.y)&&aa(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function Zie(t,e){let n=t;do{const i=n.prev,r=n.next.next;!Cb(i,r)&&sj(i,n,n.next,r)&&LS(i,r)&&LS(r,i)&&(e.push(i.i,n.i,r.i),PS(n),PS(n.next),n=t=r),n=n.next}while(n!==t);return ky(n)}function Qie(t,e,n,i,r,a){let s=t;do{let o=s.next.next;for(;o!==s.prev;){if(s.i!==o.i&&lre(s,o)){let l=oj(s,o);s=ky(s,s.next),l=ky(l,l.next),OS(s,e,n,i,r,a,0),OS(l,e,n,i,r,a,0);return}o=o.next}s=s.next}while(s!==t)}function ere(t,e,n,i){const r=[];for(let a=0,s=e.length;a<s;a++){const o=e[a]*i,l=a<s-1?e[a+1]*i:t.length,c=rj(t,o,l,i,!1);c===c.next&&(c.steiner=!0),r.push(ore(c))}r.sort(tre);for(let a=0;a<r.length;a++)n=nre(r[a],n);return n}function tre(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const i=(t.next.y-t.y)/(t.next.x-t.x),r=(e.next.y-e.y)/(e.next.x-e.x);n=i-r}return n}function nre(t,e){const n=ire(t,e);if(!n)return e;const i=oj(n,t);return ky(i,i.next),ky(n,n.next)}function ire(t,e){let n=e;const i=t.x,r=t.y;let a=-1/0,s;if(Cb(t,n))return n;do{if(Cb(t,n.next))return n.next;if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const d=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(d<=i&&d>a&&(a=d,s=n.x<n.next.x?n:n.next,d===i))return s}n=n.next}while(n!==e);if(!s)return null;const o=s,l=s.x,c=s.y;let f=1/0;n=s;do{if(i>=n.x&&n.x>=l&&i!==n.x&&aj(r<c?i:a,r,l,c,r<c?a:i,r,n.x,n.y)){const d=Math.abs(r-n.y)/(i-n.x);LS(n,t)&&(d<f||d===f&&(n.x>s.x||n.x===s.x&&rre(s,n)))&&(s=n,f=d)}n=n.next}while(n!==o);return s}function rre(t,e){return aa(t.prev,t,e.prev)<0&&aa(e.next,t,t.next)<0}function are(t,e,n,i){let r=t;do r.z===0&&(r.z=Y4(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,sre(r)}function sre(t){let e,n=1;do{let i=t,r;t=null;let a=null;for(e=0;i;){e++;let s=i,o=0;for(let c=0;c<n&&(o++,s=s.nextZ,!!s);c++);let l=n;for(;o>0||l>0&&s;)o!==0&&(l===0||!s||i.z<=s.z)?(r=i,i=i.nextZ,o--):(r=s,s=s.nextZ,l--),a?a.nextZ=r:t=r,r.prevZ=a,a=r;i=s}a.nextZ=null,n*=2}while(e>1);return t}function Y4(t,e,n,i,r){return t=(t-n)*r|0,e=(e-i)*r|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function ore(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function aj(t,e,n,i,r,a,s,o){return(r-s)*(e-o)>=(t-s)*(a-o)&&(t-s)*(i-o)>=(n-s)*(e-o)&&(n-s)*(a-o)>=(r-s)*(i-o)}function wA(t,e,n,i,r,a,s,o){return!(t===s&&e===o)&&aj(t,e,n,i,r,a,s,o)}function lre(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!cre(t,e)&&(LS(t,e)&&LS(e,t)&&ure(t,e)&&(aa(t.prev,t,e.prev)||aa(t,e.prev,e))||Cb(t,e)&&aa(t.prev,t,t.next)>0&&aa(e.prev,e,e.next)>0)}function aa(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Cb(t,e){return t.x===e.x&&t.y===e.y}function sj(t,e,n,i){const r=o2(aa(t,e,n)),a=o2(aa(t,e,i)),s=o2(aa(n,i,t)),o=o2(aa(n,i,e));return!!(r!==a&&s!==o||r===0&&s2(t,n,e)||a===0&&s2(t,i,e)||s===0&&s2(n,t,i)||o===0&&s2(n,e,i))}function s2(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function o2(t){return t>0?1:t<0?-1:0}function cre(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&sj(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function LS(t,e){return aa(t.prev,t,t.next)<0?aa(t,e,t.next)>=0&&aa(t,t.prev,e)>=0:aa(t,e,t.prev)<0||aa(t,t.next,e)<0}function ure(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,a=(t.y+e.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function oj(t,e){const n=W4(t.i,t.x,t.y),i=W4(e.i,e.x,e.y),r=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,a.next=i,i.prev=a,i}function c6(t,e,n,i){const r=W4(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function PS(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function W4(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function fre(t,e,n,i){let r=0;for(let a=e,s=n-i;a<n;a+=i)r+=(t[s]-t[a])*(t[a+1]+t[s+1]),s=a;return r}class hre{static triangulate(e,n,i=2){return Jie(e,n,i)}}class Od{static area(e){const n=e.length;let i=0;for(let r=n-1,a=0;a<n;r=a++)i+=e[r].x*e[a].y-e[a].x*e[r].y;return i*.5}static isClockWise(e){return Od.area(e)<0}static triangulateShape(e,n){const i=[],r=[],a=[];u6(e),f6(i,e);let s=e.length;n.forEach(u6);for(let l=0;l<n.length;l++)r.push(s),s+=n[l].length,f6(i,n[l]);const o=hre.triangulate(i,r);for(let l=0;l<o.length;l+=3)a.push(o.slice(l,l+3));return a}}function u6(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function f6(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class KR extends In{constructor(e=new Ny([new ct(.5,.5),new ct(-.5,.5),new ct(-.5,-.5),new ct(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,r=[],a=[];for(let o=0,l=e.length;o<l;o++){const c=e[o];s(c)}this.setAttribute("position",new Xt(r,3)),this.setAttribute("uv",new Xt(a,2)),this.computeVertexNormals();function s(o){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,f=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,v=n.bevelThickness!==void 0?n.bevelThickness:.2,_=n.bevelSize!==void 0?n.bevelSize:v-.1,S=n.bevelOffset!==void 0?n.bevelOffset:0,b=n.bevelSegments!==void 0?n.bevelSegments:3;const A=n.extrudePath,T=n.UVGenerator!==void 0?n.UVGenerator:dre;let R,C=!1,L,P,k,G;A&&(R=A.getSpacedPoints(f),C=!0,p=!1,L=A.computeFrenetFrames(f,!1),P=new me,k=new me,G=new me),p||(b=0,v=0,_=0,S=0);const z=o.extractPoints(c);let F=z.shape;const j=z.holes;if(!Od.isClockWise(F)){F=F.reverse();for(let Ie=0,_e=j.length;Ie<_e;Ie++){const Le=j[Ie];Od.isClockWise(Le)&&(j[Ie]=Le.reverse())}}function W(Ie){const Le=10000000000000001e-36;let pt=Ie[0];for(let ze=1;ze<=Ie.length;ze++){const le=ze%Ie.length,te=Ie[le],Ee=te.x-pt.x,Xe=te.y-pt.y,et=Ee*Ee+Xe*Xe,tt=Math.max(Math.abs(te.x),Math.abs(te.y),Math.abs(pt.x),Math.abs(pt.y)),_t=Le*tt*tt;if(et<=_t){Ie.splice(le,1),ze--;continue}pt=te}}W(F),j.forEach(W);const Y=j.length,K=F;for(let Ie=0;Ie<Y;Ie++){const _e=j[Ie];F=F.concat(_e)}function H(Ie,_e,Le){return _e||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ie.clone().addScaledVector(_e,Le)}const J=F.length;function Q(Ie,_e,Le){let pt,ze,le;const te=Ie.x-_e.x,Ee=Ie.y-_e.y,Xe=Le.x-Ie.x,et=Le.y-Ie.y,tt=te*te+Ee*Ee,_t=te*et-Ee*Xe;if(Math.abs(_t)>Number.EPSILON){const gt=Math.sqrt(tt),Mt=Math.sqrt(Xe*Xe+et*et),An=_e.x-Ee/gt,yt=_e.y+te/gt,Ot=Le.x-et/Mt,zt=Le.y+Xe/Mt,Ht=((Ot-An)*et-(zt-yt)*Xe)/(te*et-Ee*Xe);pt=An+te*Ht-Ie.x,ze=yt+Ee*Ht-Ie.y;const wt=pt*pt+ze*ze;if(wt<=2)return new ct(pt,ze);le=Math.sqrt(wt/2)}else{let gt=!1;te>Number.EPSILON?Xe>Number.EPSILON&&(gt=!0):te<-Number.EPSILON?Xe<-Number.EPSILON&&(gt=!0):Math.sign(Ee)===Math.sign(et)&&(gt=!0),gt?(pt=-Ee,ze=te,le=Math.sqrt(tt)):(pt=te,ze=Ee,le=Math.sqrt(tt/2))}return new ct(pt/le,ze/le)}const ie=[];for(let Ie=0,_e=K.length,Le=_e-1,pt=Ie+1;Ie<_e;Ie++,Le++,pt++)Le===_e&&(Le=0),pt===_e&&(pt=0),ie[Ie]=Q(K[Ie],K[Le],K[pt]);const V=[];let $,oe=ie.concat();for(let Ie=0,_e=Y;Ie<_e;Ie++){const Le=j[Ie];$=[];for(let pt=0,ze=Le.length,le=ze-1,te=pt+1;pt<ze;pt++,le++,te++)le===ze&&(le=0),te===ze&&(te=0),$[pt]=Q(Le[pt],Le[le],Le[te]);V.push($),oe=oe.concat($)}const de=[],fe=[];for(let Ie=0;Ie<b;Ie++){const _e=Ie/b,Le=v*Math.cos(_e*Math.PI/2),pt=_*Math.sin(_e*Math.PI/2)+S;for(let ze=0,le=K.length;ze<le;ze++){const te=H(K[ze],ie[ze],pt);Qe(te.x,te.y,-Le),_e==0&&de.push(te)}for(let ze=0,le=Y;ze<le;ze++){const te=j[ze];$=V[ze];const Ee=[];for(let Xe=0,et=te.length;Xe<et;Xe++){const tt=H(te[Xe],$[Xe],pt);Qe(tt.x,tt.y,-Le),_e==0&&Ee.push(tt)}_e==0&&fe.push(Ee)}}const ge=Od.triangulateShape(de,fe),Se=ge.length,De=_+S;for(let Ie=0;Ie<J;Ie++){const _e=p?H(F[Ie],oe[Ie],De):F[Ie];C?(k.copy(L.normals[0]).multiplyScalar(_e.x),P.copy(L.binormals[0]).multiplyScalar(_e.y),G.copy(R[0]).add(k).add(P),Qe(G.x,G.y,G.z)):Qe(_e.x,_e.y,0)}for(let Ie=1;Ie<=f;Ie++)for(let _e=0;_e<J;_e++){const Le=p?H(F[_e],oe[_e],De):F[_e];C?(k.copy(L.normals[Ie]).multiplyScalar(Le.x),P.copy(L.binormals[Ie]).multiplyScalar(Le.y),G.copy(R[Ie]).add(k).add(P),Qe(G.x,G.y,G.z)):Qe(Le.x,Le.y,d/f*Ie)}for(let Ie=b-1;Ie>=0;Ie--){const _e=Ie/b,Le=v*Math.cos(_e*Math.PI/2),pt=_*Math.sin(_e*Math.PI/2)+S;for(let ze=0,le=K.length;ze<le;ze++){const te=H(K[ze],ie[ze],pt);Qe(te.x,te.y,d+Le)}for(let ze=0,le=j.length;ze<le;ze++){const te=j[ze];$=V[ze];for(let Ee=0,Xe=te.length;Ee<Xe;Ee++){const et=H(te[Ee],$[Ee],pt);C?Qe(et.x,et.y+R[f-1].y,R[f-1].x+Le):Qe(et.x,et.y,d+Le)}}}He(),Fe();function He(){const Ie=r.length/3;if(p){let _e=0,Le=J*_e;for(let pt=0;pt<Se;pt++){const ze=ge[pt];Re(ze[2]+Le,ze[1]+Le,ze[0]+Le)}_e=f+b*2,Le=J*_e;for(let pt=0;pt<Se;pt++){const ze=ge[pt];Re(ze[0]+Le,ze[1]+Le,ze[2]+Le)}}else{for(let _e=0;_e<Se;_e++){const Le=ge[_e];Re(Le[2],Le[1],Le[0])}for(let _e=0;_e<Se;_e++){const Le=ge[_e];Re(Le[0]+J*f,Le[1]+J*f,Le[2]+J*f)}}i.addGroup(Ie,r.length/3-Ie,0)}function Fe(){const Ie=r.length/3;let _e=0;ke(K,_e),_e+=K.length;for(let Le=0,pt=j.length;Le<pt;Le++){const ze=j[Le];ke(ze,_e),_e+=ze.length}i.addGroup(Ie,r.length/3-Ie,1)}function ke(Ie,_e){let Le=Ie.length;for(;--Le>=0;){const pt=Le;let ze=Le-1;ze<0&&(ze=Ie.length-1);for(let le=0,te=f+b*2;le<te;le++){const Ee=J*le,Xe=J*(le+1),et=_e+pt+Ee,tt=_e+ze+Ee,_t=_e+ze+Xe,gt=_e+pt+Xe;st(et,tt,_t,gt)}}}function Qe(Ie,_e,Le){l.push(Ie),l.push(_e),l.push(Le)}function Re(Ie,_e,Le){pe(Ie),pe(_e),pe(Le);const pt=r.length/3,ze=T.generateTopUV(i,r,pt-3,pt-2,pt-1);St(ze[0]),St(ze[1]),St(ze[2])}function st(Ie,_e,Le,pt){pe(Ie),pe(_e),pe(pt),pe(_e),pe(Le),pe(pt);const ze=r.length/3,le=T.generateSideWallUV(i,r,ze-6,ze-3,ze-2,ze-1);St(le[0]),St(le[1]),St(le[3]),St(le[1]),St(le[2]),St(le[3])}function pe(Ie){r.push(l[Ie*3+0]),r.push(l[Ie*3+1]),r.push(l[Ie*3+2])}function St(Ie){a.push(Ie.x),a.push(Ie.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return pre(n,i,e)}static fromJSON(e,n){const i=[];for(let a=0,s=e.shapes.length;a<s;a++){const o=n[e.shapes[a]];i.push(o)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new jT[r.type]().fromJSON(r)),new KR(i,e.options)}}const dre={generateTopUV:function(t,e,n,i,r){const a=e[n*3],s=e[n*3+1],o=e[i*3],l=e[i*3+1],c=e[r*3],f=e[r*3+1];return[new ct(a,s),new ct(o,l),new ct(c,f)]},generateSideWallUV:function(t,e,n,i,r,a){const s=e[n*3],o=e[n*3+1],l=e[n*3+2],c=e[i*3],f=e[i*3+1],d=e[i*3+2],p=e[r*3],v=e[r*3+1],_=e[r*3+2],S=e[a*3],b=e[a*3+1],A=e[a*3+2];return Math.abs(o-f)<Math.abs(s-c)?[new ct(s,1-l),new ct(c,1-d),new ct(p,1-_),new ct(S,1-A)]:[new ct(o,1-l),new ct(f,1-d),new ct(v,1-_),new ct(b,1-A)]}};function pre(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const a=t[i];n.shapes.push(a.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class $R extends b0{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new $R(e.radius,e.detail)}}class wM extends b0{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new wM(e.radius,e.detail)}}class c1 extends In{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const a=e/2,s=n/2,o=Math.floor(i),l=Math.floor(r),c=o+1,f=l+1,d=e/o,p=n/l,v=[],_=[],S=[],b=[];for(let A=0;A<f;A++){const T=A*p-s;for(let R=0;R<c;R++){const C=R*d-a;_.push(C,-T,0),S.push(0,0,1),b.push(R/o),b.push(1-A/l)}}for(let A=0;A<l;A++)for(let T=0;T<o;T++){const R=T+c*A,C=T+c*(A+1),L=T+1+c*(A+1),P=T+1+c*A;v.push(R,C,P),v.push(C,L,P)}this.setIndex(v),this.setAttribute("position",new Xt(_,3)),this.setAttribute("normal",new Xt(S,3)),this.setAttribute("uv",new Xt(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new c1(e.width,e.height,e.widthSegments,e.heightSegments)}}class ZR extends In{constructor(e=.5,n=1,i=32,r=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:r,thetaStart:a,thetaLength:s},i=Math.max(3,i),r=Math.max(1,r);const o=[],l=[],c=[],f=[];let d=e;const p=(n-e)/r,v=new me,_=new ct;for(let S=0;S<=r;S++){for(let b=0;b<=i;b++){const A=a+b/i*s;v.x=d*Math.cos(A),v.y=d*Math.sin(A),l.push(v.x,v.y,v.z),c.push(0,0,1),_.x=(v.x/n+1)/2,_.y=(v.y/n+1)/2,f.push(_.x,_.y)}d+=p}for(let S=0;S<r;S++){const b=S*(i+1);for(let A=0;A<i;A++){const T=A+b,R=T,C=T+i+1,L=T+i+2,P=T+1;o.push(R,C,P),o.push(C,L,P)}}this.setIndex(o),this.setAttribute("position",new Xt(l,3)),this.setAttribute("normal",new Xt(c,3)),this.setAttribute("uv",new Xt(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ZR(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class QR extends In{constructor(e=new Ny([new ct(0,.5),new ct(-.5,-.5),new ct(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],r=[],a=[],s=[];let o=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let f=0;f<e.length;f++)c(e[f]),this.addGroup(o,l,f),o+=l,l=0;this.setIndex(i),this.setAttribute("position",new Xt(r,3)),this.setAttribute("normal",new Xt(a,3)),this.setAttribute("uv",new Xt(s,2));function c(f){const d=r.length/3,p=f.extractPoints(n);let v=p.shape;const _=p.holes;Od.isClockWise(v)===!1&&(v=v.reverse());for(let b=0,A=_.length;b<A;b++){const T=_[b];Od.isClockWise(T)===!0&&(_[b]=T.reverse())}const S=Od.triangulateShape(v,_);for(let b=0,A=_.length;b<A;b++){const T=_[b];v=v.concat(T)}for(let b=0,A=v.length;b<A;b++){const T=v[b];r.push(T.x,T.y,0),a.push(0,0,1),s.push(T.x,T.y)}for(let b=0,A=S.length;b<A;b++){const T=S[b],R=T[0]+d,C=T[1]+d,L=T[2]+d;i.push(R,C,L),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return mre(n,e)}static fromJSON(e,n){const i=[];for(let r=0,a=e.shapes.length;r<a;r++){const s=n[e.shapes[r]];i.push(s)}return new QR(i,e.curveSegments)}}function mre(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}class EM extends In{constructor(e=1,n=32,i=16,r=0,a=Math.PI*2,s=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:a,thetaStart:s,thetaLength:o},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const l=Math.min(s+o,Math.PI);let c=0;const f=[],d=new me,p=new me,v=[],_=[],S=[],b=[];for(let A=0;A<=i;A++){const T=[],R=A/i;let C=0;A===0&&s===0?C=.5/n:A===i&&l===Math.PI&&(C=-.5/n);for(let L=0;L<=n;L++){const P=L/n;d.x=-e*Math.cos(r+P*a)*Math.sin(s+R*o),d.y=e*Math.cos(s+R*o),d.z=e*Math.sin(r+P*a)*Math.sin(s+R*o),_.push(d.x,d.y,d.z),p.copy(d).normalize(),S.push(p.x,p.y,p.z),b.push(P+C,1-R),T.push(c++)}f.push(T)}for(let A=0;A<i;A++)for(let T=0;T<n;T++){const R=f[A][T+1],C=f[A][T],L=f[A+1][T],P=f[A+1][T+1];(A!==0||s>0)&&v.push(R,C,P),(A!==i-1||l<Math.PI)&&v.push(C,L,P)}this.setIndex(v),this.setAttribute("position",new Xt(_,3)),this.setAttribute("normal",new Xt(S,3)),this.setAttribute("uv",new Xt(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new EM(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class e3 extends b0{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new e3(e.radius,e.detail)}}class t3 extends In{constructor(e=1,n=.4,i=12,r=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:r,arc:a},i=Math.floor(i),r=Math.floor(r);const s=[],o=[],l=[],c=[],f=new me,d=new me,p=new me;for(let v=0;v<=i;v++)for(let _=0;_<=r;_++){const S=_/r*a,b=v/i*Math.PI*2;d.x=(e+n*Math.cos(b))*Math.cos(S),d.y=(e+n*Math.cos(b))*Math.sin(S),d.z=n*Math.sin(b),o.push(d.x,d.y,d.z),f.x=e*Math.cos(S),f.y=e*Math.sin(S),p.subVectors(d,f).normalize(),l.push(p.x,p.y,p.z),c.push(_/r),c.push(v/i)}for(let v=1;v<=i;v++)for(let _=1;_<=r;_++){const S=(r+1)*v+_-1,b=(r+1)*(v-1)+_-1,A=(r+1)*(v-1)+_,T=(r+1)*v+_;s.push(S,b,T),s.push(b,A,T)}this.setIndex(s),this.setAttribute("position",new Xt(o,3)),this.setAttribute("normal",new Xt(l,3)),this.setAttribute("uv",new Xt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new t3(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class n3 extends In{constructor(e=1,n=.4,i=64,r=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:r,p:a,q:s},i=Math.floor(i),r=Math.floor(r);const o=[],l=[],c=[],f=[],d=new me,p=new me,v=new me,_=new me,S=new me,b=new me,A=new me;for(let R=0;R<=i;++R){const C=R/i*a*Math.PI*2;T(C,a,s,e,v),T(C+.01,a,s,e,_),b.subVectors(_,v),A.addVectors(_,v),S.crossVectors(b,A),A.crossVectors(S,b),S.normalize(),A.normalize();for(let L=0;L<=r;++L){const P=L/r*Math.PI*2,k=-n*Math.cos(P),G=n*Math.sin(P);d.x=v.x+(k*A.x+G*S.x),d.y=v.y+(k*A.y+G*S.y),d.z=v.z+(k*A.z+G*S.z),l.push(d.x,d.y,d.z),p.subVectors(d,v).normalize(),c.push(p.x,p.y,p.z),f.push(R/i),f.push(L/r)}}for(let R=1;R<=i;R++)for(let C=1;C<=r;C++){const L=(r+1)*(R-1)+(C-1),P=(r+1)*R+(C-1),k=(r+1)*R+C,G=(r+1)*(R-1)+C;o.push(L,P,G),o.push(P,k,G)}this.setIndex(o),this.setAttribute("position",new Xt(l,3)),this.setAttribute("normal",new Xt(c,3)),this.setAttribute("uv",new Xt(f,2));function T(R,C,L,P,k){const G=Math.cos(R),z=Math.sin(R),F=L/C*R,j=Math.cos(F);k.x=P*(2+j)*.5*G,k.y=P*(2+j)*z*.5,k.z=P*Math.sin(F)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new n3(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class i3 extends In{constructor(e=new EL(new me(-1,-1,0),new me(-1,1,0),new me(1,1,0)),n=64,i=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:r,closed:a};const s=e.computeFrenetFrames(n,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const o=new me,l=new me,c=new ct;let f=new me;const d=[],p=[],v=[],_=[];S(),this.setIndex(_),this.setAttribute("position",new Xt(d,3)),this.setAttribute("normal",new Xt(p,3)),this.setAttribute("uv",new Xt(v,2));function S(){for(let R=0;R<n;R++)b(R);b(a===!1?n:0),T(),A()}function b(R){f=e.getPointAt(R/n,f);const C=s.normals[R],L=s.binormals[R];for(let P=0;P<=r;P++){const k=P/r*Math.PI*2,G=Math.sin(k),z=-Math.cos(k);l.x=z*C.x+G*L.x,l.y=z*C.y+G*L.y,l.z=z*C.z+G*L.z,l.normalize(),p.push(l.x,l.y,l.z),o.x=f.x+i*l.x,o.y=f.y+i*l.y,o.z=f.z+i*l.z,d.push(o.x,o.y,o.z)}}function A(){for(let R=1;R<=n;R++)for(let C=1;C<=r;C++){const L=(r+1)*(R-1)+(C-1),P=(r+1)*R+(C-1),k=(r+1)*R+C,G=(r+1)*(R-1)+C;_.push(L,P,G),_.push(P,k,G)}}function T(){for(let R=0;R<=n;R++)for(let C=0;C<=r;C++)c.x=R/n,c.y=C/r,v.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new i3(new jT[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class lj extends In{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],i=new Set,r=new me,a=new me;if(e.index!==null){const s=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,f=l.length;c<f;++c){const d=l[c],p=d.start,v=d.count;for(let _=p,S=p+v;_<S;_+=3)for(let b=0;b<3;b++){const A=o.getX(_+b),T=o.getX(_+(b+1)%3);r.fromBufferAttribute(s,A),a.fromBufferAttribute(s,T),h6(r,a,i)===!0&&(n.push(r.x,r.y,r.z),n.push(a.x,a.y,a.z))}}}else{const s=e.attributes.position;for(let o=0,l=s.count/3;o<l;o++)for(let c=0;c<3;c++){const f=3*o+c,d=3*o+(c+1)%3;r.fromBufferAttribute(s,f),a.fromBufferAttribute(s,d),h6(r,a,i)===!0&&(n.push(r.x,r.y,r.z),n.push(a.x,a.y,a.z))}}this.setAttribute("position",new Xt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function h6(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(i)===!0||n.has(r)===!0?!1:(n.add(i),n.add(r),!0)}var d6=Object.freeze({__proto__:null,BoxGeometry:cx,CapsuleGeometry:qR,CircleGeometry:YR,ConeGeometry:WR,CylinderGeometry:l1,DodecahedronGeometry:JR,EdgesGeometry:ij,ExtrudeGeometry:KR,IcosahedronGeometry:$R,LatheGeometry:MM,OctahedronGeometry:wM,PlaneGeometry:c1,PolyhedronGeometry:b0,RingGeometry:ZR,ShapeGeometry:QR,SphereGeometry:EM,TetrahedronGeometry:e3,TorusGeometry:t3,TorusKnotGeometry:n3,TubeGeometry:i3,WireframeGeometry:lj});class cj extends ms{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Lt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class uj extends _h{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class TM extends ms{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Lt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_0,this.normalScale=new ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Mu,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class yf extends TM{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ct(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Dn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Lt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Lt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Lt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class fj extends ms{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Lt(16777215),this.specular=new Lt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_0,this.normalScale=new ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Mu,this.combine=vM,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class hj extends ms{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Lt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_0,this.normalScale=new ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class dj extends ms{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_0,this.normalScale=new ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class pj extends ms{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_0,this.normalScale=new ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Mu,this.combine=vM,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class CL extends ms{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=CG,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class RL extends ms{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class mj extends ms{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Lt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_0,this.normalScale=new ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class gj extends Yo{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function xy(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function vj(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function yj(t){function e(r,a){return t[r]-t[a]}const n=t.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(e),i}function J4(t,e,n){const i=t.length,r=new t.constructor(i);for(let a=0,s=0;s!==i;++a){const o=n[a]*e;for(let l=0;l!==e;++l)r[s++]=t[o+l]}return r}function NL(t,e,n,i){let r=1,a=t[0];for(;a!==void 0&&a[i]===void 0;)a=t[r++];if(a===void 0)return;let s=a[i];if(s!==void 0)if(Array.isArray(s))do s=a[i],s!==void 0&&(e.push(a.time),n.push(...s)),a=t[r++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[i],s!==void 0&&(e.push(a.time),s.toArray(n,n.length)),a=t[r++];while(a!==void 0);else do s=a[i],s!==void 0&&(e.push(a.time),n.push(s)),a=t[r++];while(a!==void 0)}function gre(t,e,n,i,r=30){const a=t.clone();a.name=e;const s=[];for(let l=0;l<a.tracks.length;++l){const c=a.tracks[l],f=c.getValueSize(),d=[],p=[];for(let v=0;v<c.times.length;++v){const _=c.times[v]*r;if(!(_<n||_>=i)){d.push(c.times[v]);for(let S=0;S<f;++S)p.push(c.values[v*f+S])}}d.length!==0&&(c.times=xy(d,c.times.constructor),c.values=xy(p,c.values.constructor),s.push(c))}a.tracks=s;let o=1/0;for(let l=0;l<a.tracks.length;++l)o>a.tracks[l].times[0]&&(o=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*o);return a.resetDuration(),a}function vre(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,a=e/i;for(let s=0;s<r;++s){const o=n.tracks[s],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(A){return A.name===o.name&&A.ValueTypeName===l});if(c===void 0)continue;let f=0;const d=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=d/3);let p=0;const v=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=v/3);const _=o.times.length-1;let S;if(a<=o.times[0]){const A=f,T=d-f;S=o.values.slice(A,T)}else if(a>=o.times[_]){const A=_*d+f,T=A+d-f;S=o.values.slice(A,T)}else{const A=o.createInterpolant(),T=f,R=d-f;A.evaluate(a),S=A.resultBuffer.slice(T,R)}l==="quaternion"&&new Fs().fromArray(S).normalize().conjugate().toArray(S);const b=c.times.length;for(let A=0;A<b;++A){const T=A*v+p;if(l==="quaternion")Fs.multiplyQuaternionsFlat(c.values,T,S,0,c.values,T);else{const R=v-p*2;for(let C=0;C<R;++C)c.values[T+C]-=S[C]}}}return t.blendMode=cL,t}class yre{static convertArray(e,n){return xy(e,n)}static isTypedArray(e){return vj(e)}static getKeyframeOrder(e){return yj(e)}static sortedArray(e,n,i){return J4(e,n,i)}static flattenJSON(e,n,i,r){NL(e,n,i,r)}static subclip(e,n,i,r,a=30){return gre(e,n,i,r,a)}static makeClipAdditive(e,n=0,i=e,r=30){return vre(e,n,i,r)}}class u1{constructor(e,n,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,r=n[i],a=n[i-1];e:{t:{let s;n:{i:if(!(e<r)){for(let o=i+2;;){if(r===void 0){if(e<a)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(a=r,r=n[++i],e<r)break t}s=n.length;break n}if(!(e>=a)){const o=n[1];e<o&&(i=2,a=o);for(let l=i-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=a,a=n[--i-1],e>=a)break t}s=i,i=0;break n}break e}for(;i<s;){const o=i+s>>>1;e<n[o]?s=o:i=o+1}if(r=n[i],a=n[i-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r;for(let s=0;s!==r;++s)n[s]=i[a+s];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class xj extends u1{constructor(e,n,i,r){super(e,n,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:vy,endingEnd:vy}}intervalChanged_(e,n,i){const r=this.parameterPositions;let a=e-2,s=e+1,o=r[a],l=r[s];if(o===void 0)switch(this.getSettings_().endingStart){case yy:a=e,o=2*n-i;break;case TS:a=r.length-2,o=n+r[a]-r[a+1];break;default:a=e,o=i}if(l===void 0)switch(this.getSettings_().endingEnd){case yy:s=e,l=2*i-n;break;case TS:s=1,l=i+r[1]-r[0];break;default:s=e-1,l=n}const c=(i-n)*.5,f=this.valueSize;this._weightPrev=c/(n-o),this._weightNext=c/(l-i),this._offsetPrev=a*f,this._offsetNext=s*f}interpolate_(e,n,i,r){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,f=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,v=this._weightNext,_=(i-n)/(r-n),S=_*_,b=S*_,A=-p*b+2*p*S-p*_,T=(1+p)*b+(-1.5-2*p)*S+(-.5+p)*_+1,R=(-1-v)*b+(1.5+v)*S+.5*_,C=v*b-v*S;for(let L=0;L!==o;++L)a[L]=A*s[f+L]+T*s[c+L]+R*s[l+L]+C*s[d+L];return a}}class DL extends u1{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,f=(i-n)/(r-n),d=1-f;for(let p=0;p!==o;++p)a[p]=s[c+p]*d+s[l+p]*f;return a}}class _j extends u1{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class xf{constructor(e,n,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=xy(n,this.TimeBufferType),this.values=xy(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:xy(e.times,Array),values:xy(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new _j(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new DL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new xj(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Sb:n=this.InterpolantFactoryMethodDiscrete;break;case Mb:n=this.InterpolantFactoryMethodLinear;break;case AE:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Sb;case this.InterpolantFactoryMethodLinear:return Mb;case this.InterpolantFactoryMethodSmooth:return AE}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]*=e}return this}trim(e,n){const i=this.times,r=i.length;let a=0,s=r-1;for(;a!==r&&i[a]<e;)++a;for(;s!==-1&&i[s]>n;)--s;if(++s,a!==0||s!==r){a>=s&&(s=Math.max(s,1),a=s-1);const o=this.getValueSize();this.times=i.slice(a,s),this.values=this.values.slice(a*o,s*o)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,a=i.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let o=0;o!==a;o++){const l=i[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(s!==null&&s>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,s),e=!1;break}s=l}if(r!==void 0&&vj(r))for(let o=0,l=r.length;o!==l;++o){const c=r[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===AE,a=e.length-1;let s=1;for(let o=1;o<a;++o){let l=!1;const c=e[o],f=e[o+1];if(c!==f&&(o!==1||c!==e[0]))if(r)l=!0;else{const d=o*i,p=d-i,v=d+i;for(let _=0;_!==i;++_){const S=n[d+_];if(S!==n[p+_]||S!==n[v+_]){l=!0;break}}}if(l){if(o!==s){e[s]=e[o];const d=o*i,p=s*i;for(let v=0;v!==i;++v)n[p+v]=n[d+v]}++s}}if(a>0){e[s]=e[a];for(let o=a*i,l=s*i,c=0;c!==i;++c)n[l+c]=n[o+c];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=n.slice(0,s*i)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),i=this.constructor,r=new i(this.name,e,n);return r.createInterpolant=this.createInterpolant,r}}xf.prototype.ValueTypeName="";xf.prototype.TimeBufferType=Float32Array;xf.prototype.ValueBufferType=Float32Array;xf.prototype.DefaultInterpolation=Mb;class ux extends xf{constructor(e,n,i){super(e,n,i)}}ux.prototype.ValueTypeName="bool";ux.prototype.ValueBufferType=Array;ux.prototype.DefaultInterpolation=Sb;ux.prototype.InterpolantFactoryMethodLinear=void 0;ux.prototype.InterpolantFactoryMethodSmooth=void 0;class BL extends xf{constructor(e,n,i,r){super(e,n,i,r)}}BL.prototype.ValueTypeName="color";class Gy extends xf{constructor(e,n,i,r){super(e,n,i,r)}}Gy.prototype.ValueTypeName="number";class bj extends u1{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=(i-n)/(r-n);let c=e*o;for(let f=c+o;c!==f;c+=4)Fs.slerpFlat(a,0,s,c-o,s,c,l);return a}}class jy extends xf{constructor(e,n,i,r){super(e,n,i,r)}InterpolantFactoryMethodLinear(e){return new bj(this.times,this.values,this.getValueSize(),e)}}jy.prototype.ValueTypeName="quaternion";jy.prototype.InterpolantFactoryMethodSmooth=void 0;class fx extends xf{constructor(e,n,i){super(e,n,i)}}fx.prototype.ValueTypeName="string";fx.prototype.ValueBufferType=Array;fx.prototype.DefaultInterpolation=Sb;fx.prototype.InterpolantFactoryMethodLinear=void 0;fx.prototype.InterpolantFactoryMethodSmooth=void 0;class Vy extends xf{constructor(e,n,i,r){super(e,n,i,r)}}Vy.prototype.ValueTypeName="vector";class Rb{constructor(e="",n=-1,i=[],r=UR){this.name=e,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=Su(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,r=1/(e.fps||1);for(let s=0,o=i.length;s!==o;++s)n.push(_re(i[s]).scale(r));const a=new this(e.name,e.duration,n,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const n=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,s=i.length;a!==s;++a)n.push(xf.toJSON(i[a]));return r}static CreateFromMorphTargetSequence(e,n,i,r){const a=n.length,s=[];for(let o=0;o<a;o++){let l=[],c=[];l.push((o+a-1)%a,o,(o+1)%a),c.push(0,1,0);const f=yj(l);l=J4(l,1,f),c=J4(c,1,f),!r&&l[0]===0&&(l.push(a),c.push(c[0])),s.push(new Gy(".morphTargetInfluences["+n[o].name+"]",l,c).scale(1/i))}return new this(e,-1,s)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===n)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const r={},a=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const c=e[o],f=c.name.match(a);if(f&&f.length>1){const d=f[1];let p=r[d];p||(r[d]=p=[]),p.push(c)}}const s=[];for(const o in r)s.push(this.CreateFromMorphTargetSequence(o,r[o],n,i));return s}static parseAnimation(e,n){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,p,v,_,S){if(v.length!==0){const b=[],A=[];NL(v,b,A,_),b.length!==0&&S.push(new d(p,b,A))}},r=[],a=e.name||"default",s=e.fps||30,o=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const p=c[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const v={};let _;for(_=0;_<p.length;_++)if(p[_].morphTargets)for(let S=0;S<p[_].morphTargets.length;S++)v[p[_].morphTargets[S]]=-1;for(const S in v){const b=[],A=[];for(let T=0;T!==p[_].morphTargets.length;++T){const R=p[_];b.push(R.time),A.push(R.morphTarget===S?1:0)}r.push(new Gy(".morphTargetInfluence["+S+"]",b,A))}l=v.length*s}else{const v=".bones["+n[d].name+"]";i(Vy,v+".position",p,"pos",r),i(jy,v+".quaternion",p,"rot",r),i(Vy,v+".scale",p,"scl",r)}}return r.length===0?null:new this(a,l,r,o)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,r=e.length;i!==r;++i){const a=this.tracks[i];n=Math.max(n,a.times[a.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function xre(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Gy;case"vector":case"vector2":case"vector3":case"vector4":return Vy;case"color":return BL;case"quaternion":return jy;case"bool":case"boolean":return ux;case"string":return fx}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function _re(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=xre(t.type);if(t.times===void 0){const n=[],i=[];NL(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const gm={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class OL{constructor(e,n,i){const r=this;let a=!1,s=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(f){o++,a===!1&&r.onStart!==void 0&&r.onStart(f,s,o),a=!0},this.itemEnd=function(f){s++,r.onProgress!==void 0&&r.onProgress(f,s,o),s===o&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(f){r.onError!==void 0&&r.onError(f)},this.resolveURL=function(f){return l?l(f):f},this.setURLModifier=function(f){return l=f,this},this.addHandler=function(f,d){return c.push(f,d),this},this.removeHandler=function(f){const d=c.indexOf(f);return d!==-1&&c.splice(d,2),this},this.getHandler=function(f){for(let d=0,p=c.length;d<p;d+=2){const v=c[d],_=c[d+1];if(v.global&&(v.lastIndex=0),v.test(f))return _}return null}}}const Aj=new OL;class Wo{constructor(e){this.manager=e!==void 0?e:Aj,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(r,a){i.load(e,r,n,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Wo.DEFAULT_MATERIAL_NAME="__DEFAULT";const Yp={};class bre extends Error{constructor(e,n){super(e),this.response=n}}class wu extends Wo{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=gm.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(a),this.manager.itemEnd(e)},0),a;if(Yp[e]!==void 0){Yp[e].push({onLoad:n,onProgress:i,onError:r});return}Yp[e]=[],Yp[e].push({onLoad:n,onProgress:i,onError:r});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(s).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const f=Yp[e],d=c.body.getReader(),p=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),v=p?parseInt(p):0,_=v!==0;let S=0;const b=new ReadableStream({start(A){T();function T(){d.read().then(({done:R,value:C})=>{if(R)A.close();else{S+=C.byteLength;const L=new ProgressEvent("progress",{lengthComputable:_,loaded:S,total:v});for(let P=0,k=f.length;P<k;P++){const G=f[P];G.onProgress&&G.onProgress(L)}A.enqueue(C),T()}},R=>{A.error(R)})}}});return new Response(b)}else throw new bre(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(f=>new DOMParser().parseFromString(f,o));case"json":return c.json();default:if(o==="")return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(o),p=d&&d[1]?d[1].toLowerCase():void 0,v=new TextDecoder(p);return c.arrayBuffer().then(_=>v.decode(_))}}}).then(c=>{gm.add(e,c);const f=Yp[e];delete Yp[e];for(let d=0,p=f.length;d<p;d++){const v=f[d];v.onLoad&&v.onLoad(c)}}).catch(c=>{const f=Yp[e];if(f===void 0)throw this.manager.itemError(e),c;delete Yp[e];for(let d=0,p=f.length;d<p;d++){const v=f[d];v.onError&&v.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Are extends Wo{constructor(e){super(e)}load(e,n,i,r){const a=this,s=new wu(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{n(a.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),a.manager.itemError(e)}},i,r)}parse(e){const n=[];for(let i=0;i<e.length;i++){const r=Rb.parse(e[i]);n.push(r)}return n}}class Sre extends Wo{constructor(e){super(e)}load(e,n,i,r){const a=this,s=[],o=new VR,l=new wu(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(a.withCredentials);let c=0;function f(d){l.load(e[d],function(p){const v=a.parse(p,!0);s[d]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},c+=1,c===6&&(v.mipmapCount===1&&(o.minFilter=Fa),o.image=s,o.format=v.format,o.needsUpdate=!0,n&&n(o))},i,r)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)f(d);else l.load(e,function(d){const p=a.parse(d,!0);if(p.isCubemap){const v=p.mipmaps.length/p.mipmapCount;for(let _=0;_<v;_++){s[_]={mipmaps:[]};for(let S=0;S<p.mipmapCount;S++)s[_].mipmaps.push(p.mipmaps[_*p.mipmapCount+S]),s[_].format=p.format,s[_].width=p.width,s[_].height=p.height}o.image=s}else o.image.width=p.width,o.image.height=p.height,o.mipmaps=p.mipmaps;p.mipmapCount===1&&(o.minFilter=Fa),o.format=p.format,o.needsUpdate=!0,n&&n(o)},i,r);return o}}class US extends Wo{constructor(e){super(e)}load(e,n,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=gm.get(e);if(s!==void 0)return a.manager.itemStart(e),setTimeout(function(){n&&n(s),a.manager.itemEnd(e)},0),s;const o=DS("img");function l(){f(),gm.add(e,this),n&&n(this),a.manager.itemEnd(e)}function c(d){f(),r&&r(d),a.manager.itemError(e),a.manager.itemEnd(e)}function f(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),a.manager.itemStart(e),o.src=e,o}}class Mre extends Wo{constructor(e){super(e)}load(e,n,i,r){const a=new _M;a.colorSpace=ko;const s=new US(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let o=0;function l(c){s.load(e[c],function(f){a.images[c]=f,o++,o===6&&(a.needsUpdate=!0,n&&n(a))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return a}}class wre extends Wo{constructor(e){super(e)}load(e,n,i,r){const a=this,s=new Bd,o=new wu(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(a.withCredentials),o.load(e,function(l){let c;try{c=a.parse(l)}catch(f){if(r!==void 0)r(f);else{console.error(f);return}}c.image!==void 0?s.image=c.image:c.data!==void 0&&(s.image.width=c.width,s.image.height=c.height,s.image.data=c.data),s.wrapS=c.wrapS!==void 0?c.wrapS:_u,s.wrapT=c.wrapT!==void 0?c.wrapT:_u,s.magFilter=c.magFilter!==void 0?c.magFilter:Fa,s.minFilter=c.minFilter!==void 0?c.minFilter:Fa,s.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(s.colorSpace=c.colorSpace),c.flipY!==void 0&&(s.flipY=c.flipY),c.format!==void 0&&(s.format=c.format),c.type!==void 0&&(s.type=c.type),c.mipmaps!==void 0&&(s.mipmaps=c.mipmaps,s.minFilter=hf),c.mipmapCount===1&&(s.minFilter=Fa),c.generateMipmaps!==void 0&&(s.generateMipmaps=c.generateMipmaps),s.needsUpdate=!0,n&&n(s,c)},i,r),s}}class Sj extends Wo{constructor(e){super(e)}load(e,n,i,r){const a=new Kr,s=new US(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(o){a.image=o,a.needsUpdate=!0,n!==void 0&&n(a)},i,r),a}}class A0 extends Si{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Lt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class Mj extends A0{constructor(e,n,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Si.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Lt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const ED=new dn,p6=new me,m6=new me;class LL{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ct(512,512),this.map=null,this.mapPass=null,this.matrix=new dn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new SM,this._frameExtents=new ct(1,1),this._viewportCount=1,this._viewports=[new Li(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;p6.setFromMatrixPosition(e.matrixWorld),n.position.copy(p6),m6.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(m6),n.updateMatrixWorld(),ED.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ED),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(ED)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Ere extends LL{constructor(){super(new Wr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,i=wb*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,a=e.distance||n.far;(i!==n.fov||r!==n.aspect||a!==n.far)&&(n.fov=i,n.aspect=r,n.far=a,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class PL extends A0{constructor(e,n,i=0,r=Math.PI/3,a=0,s=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Si.DEFAULT_UP),this.updateMatrix(),this.target=new Si,this.distance=i,this.angle=r,this.penumbra=a,this.decay=s,this.map=null,this.shadow=new Ere}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const g6=new dn,iA=new me,TD=new me;class Tre extends LL{constructor(){super(new Wr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ct(4,2),this._viewportCount=6,this._viewports=[new Li(2,1,1,1),new Li(0,1,1,1),new Li(3,1,1,1),new Li(1,1,1,1),new Li(3,0,1,1),new Li(1,0,1,1)],this._cubeDirections=[new me(1,0,0),new me(-1,0,0),new me(0,0,1),new me(0,0,-1),new me(0,1,0),new me(0,-1,0)],this._cubeUps=[new me(0,1,0),new me(0,1,0),new me(0,1,0),new me(0,1,0),new me(0,0,1),new me(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,r=this.matrix,a=e.distance||i.far;a!==i.far&&(i.far=a,i.updateProjectionMatrix()),iA.setFromMatrixPosition(e.matrixWorld),i.position.copy(iA),TD.copy(i.position),TD.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(TD),i.updateMatrixWorld(),r.makeTranslation(-iA.x,-iA.y,-iA.z),g6.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(g6)}}class UL extends A0{constructor(e,n,i=0,r=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new Tre}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class gh extends zR{constructor(e=-1,n=1,i=1,r=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=i-e,s=i+e,o=r+n,l=r-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=c*this.view.offsetX,s=a+c*this.view.width,o-=f*this.view.offsetY,l=o-f*this.view.height}this.projectionMatrix.makeOrthographic(a,s,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class Cre extends LL{constructor(){super(new gh(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class IL extends A0{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Si.DEFAULT_UP),this.updateMatrix(),this.target=new Si,this.shadow=new Cre}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class wj extends A0{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Ej extends A0{constructor(e,n,i=10,r=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class Tj{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new me)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,r=e.y,a=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.282095),n.addScaledVector(s[1],.488603*r),n.addScaledVector(s[2],.488603*a),n.addScaledVector(s[3],.488603*i),n.addScaledVector(s[4],1.092548*(i*r)),n.addScaledVector(s[5],1.092548*(r*a)),n.addScaledVector(s[6],.315392*(3*a*a-1)),n.addScaledVector(s[7],1.092548*(i*a)),n.addScaledVector(s[8],.546274*(i*i-r*r)),n}getIrradianceAt(e,n){const i=e.x,r=e.y,a=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.886227),n.addScaledVector(s[1],2*.511664*r),n.addScaledVector(s[2],2*.511664*a),n.addScaledVector(s[3],2*.511664*i),n.addScaledVector(s[4],2*.429043*i*r),n.addScaledVector(s[5],2*.429043*r*a),n.addScaledVector(s[6],.743125*a*a-.247708),n.addScaledVector(s[7],2*.429043*i*a),n.addScaledVector(s[8],.429043*(i*i-r*r)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,n+r*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,n+r*3);return e}static getBasisAt(e,n){const i=e.x,r=e.y,a=e.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*a,n[3]=.488603*i,n[4]=1.092548*i*r,n[5]=1.092548*r*a,n[6]=.315392*(3*a*a-1),n[7]=1.092548*i*a,n[8]=.546274*(i*i-r*r)}}class Cj extends A0{constructor(e=new Tj,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class r3 extends Wo{constructor(e){super(e),this.textures={}}load(e,n,i,r){const a=this,s=new wu(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{n(a.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),a.manager.itemError(e)}},i,r)}parse(e){const n=this.textures;function i(a){return n[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),n[a]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Lt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const s=e.uniforms[a];switch(r.uniforms[a]={},s.type){case"t":r.uniforms[a].value=i(s.value);break;case"c":r.uniforms[a].value=new Lt().setHex(s.value);break;case"v2":r.uniforms[a].value=new ct().fromArray(s.value);break;case"v3":r.uniforms[a].value=new me().fromArray(s.value);break;case"v4":r.uniforms[a].value=new Li().fromArray(s.value);break;case"m3":r.uniforms[a].value=new Pn().fromArray(s.value);break;case"m4":r.uniforms[a].value=new dn().fromArray(s.value);break;default:r.uniforms[a].value=s.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)r.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new ct().fromArray(a)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new ct().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return r3.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:cj,SpriteMaterial:gL,RawShaderMaterial:uj,ShaderMaterial:_h,PointsMaterial:jR,MeshPhysicalMaterial:yf,MeshStandardMaterial:TM,MeshPhongMaterial:fj,MeshToonMaterial:hj,MeshNormalMaterial:dj,MeshLambertMaterial:pj,MeshDepthMaterial:CL,MeshDistanceMaterial:RL,MeshBasicMaterial:bu,MeshMatcapMaterial:mj,LineDashedMaterial:gj,LineBasicMaterial:Yo,Material:ms};return new n[e]}}class r0{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Rj extends In{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Nj extends Wo{constructor(e){super(e)}load(e,n,i,r){const a=this,s=new wu(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{n(a.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),a.manager.itemError(e)}},i,r)}parse(e){const n={},i={};function r(v,_){if(n[_]!==void 0)return n[_];const b=v.interleavedBuffers[_],A=a(v,b.buffer),T=$_(b.type,A),R=new bM(T,b.stride);return R.uuid=b.uuid,n[_]=R,R}function a(v,_){if(i[_]!==void 0)return i[_];const b=v.arrayBuffers[_],A=new Uint32Array(b).buffer;return i[_]=A,A}const s=e.isInstancedBufferGeometry?new Rj:new In,o=e.data.index;if(o!==void 0){const v=$_(o.type,o.array);s.setIndex(new Pi(v,1))}const l=e.data.attributes;for(const v in l){const _=l[v];let S;if(_.isInterleavedBufferAttribute){const b=r(e.data,_.data);S=new f0(b,_.itemSize,_.offset,_.normalized)}else{const b=$_(_.type,_.array),A=_.isInstancedBufferAttribute?Hy:Pi;S=new A(b,_.itemSize,_.normalized)}_.name!==void 0&&(S.name=_.name),_.usage!==void 0&&S.setUsage(_.usage),s.setAttribute(v,S)}const c=e.data.morphAttributes;if(c)for(const v in c){const _=c[v],S=[];for(let b=0,A=_.length;b<A;b++){const T=_[b];let R;if(T.isInterleavedBufferAttribute){const C=r(e.data,T.data);R=new f0(C,T.itemSize,T.offset,T.normalized)}else{const C=$_(T.type,T.array);R=new Pi(C,T.itemSize,T.normalized)}T.name!==void 0&&(R.name=T.name),S.push(R)}s.morphAttributes[v]=S}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let v=0,_=d.length;v!==_;++v){const S=d[v];s.addGroup(S.start,S.count,S.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const v=new me;p.center!==void 0&&v.fromArray(p.center),s.boundingSphere=new lo(v,p.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class Rre extends Wo{constructor(e){super(e)}load(e,n,i,r){const a=this,s=this.path===""?r0.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const o=new wu(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const f=c.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(c,n)},i,r)}async loadAsync(e,n){const i=this,r=this.path===""?r0.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const a=new wu(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const s=await a.loadAsync(e,n),o=JSON.parse(s),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(o)}parse(e,n){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),s=this.parseImages(e.images,function(){n!==void 0&&n(c)}),o=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,a,l,o,i),f=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,f),this.bindLightTargets(c),n!==void 0){let d=!1;for(const p in s)if(s[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,r,o,s,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const a=new Ny().fromJSON(e[i]);n[a.uuid]=a}return n}parseSkeletons(e,n){const i={},r={};if(n.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=new AM().fromJSON(e[a],r);i[o.uuid]=o}return i}parseGeometries(e,n){const i={};if(e!==void 0){const r=new Nj;for(let a=0,s=e.length;a<s;a++){let o;const l=e[a];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(l);break;default:l.type in d6?o=d6[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),i[l.uuid]=o}}return i}parseMaterials(e,n){const i={},r={};if(e!==void 0){const a=new r3;a.setTextures(n);for(let s=0,o=e.length;s<o;s++){const l=e[s];i[l.uuid]===void 0&&(i[l.uuid]=a.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],a=Rb.parse(r);n[a.uuid]=a}return n}parseImages(e,n){const i=this,r={};let a;function s(l){return i.manager.itemStart(l),a.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const c=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return s(f)}else return l.data?{data:$_(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new OL(n);a=new US(l),a.setCrossOrigin(this.crossOrigin);for(let c=0,f=e.length;c<f;c++){const d=e[c],p=d.url;if(Array.isArray(p)){const v=[];for(let _=0,S=p.length;_<S;_++){const b=p[_],A=o(b);A!==null&&(A instanceof HTMLImageElement?v.push(A):v.push(new Bd(A.data,A.width,A.height)))}r[d.uuid]=new e0(v)}else{const v=o(d.url);r[d.uuid]=new e0(v)}}}return r}async parseImagesAsync(e){const n=this,i={};let r;async function a(s){if(typeof s=="string"){const o=s,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:n.resourcePath+o;return await r.loadAsync(l)}else return s.data?{data:$_(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){r=new US(this.manager),r.setCrossOrigin(this.crossOrigin);for(let s=0,o=e.length;s<o;s++){const l=e[s],c=l.url;if(Array.isArray(c)){const f=[];for(let d=0,p=c.length;d<p;d++){const v=c[d],_=await a(v);_!==null&&(_ instanceof HTMLImageElement?f.push(_):f.push(new Bd(_.data,_.width,_.height)))}i[l.uuid]=new e0(f)}else{const f=await a(l.url);i[l.uuid]=new e0(f)}}}return i}parseTextures(e,n){function i(a,s){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}const r={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=e[a];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),n[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=n[o.image],c=l.data;let f;Array.isArray(c)?(f=new _M,c.length===6&&(f.needsUpdate=!0)):(c&&c.data?f=new Bd:f=new Kr,c&&(f.needsUpdate=!0)),f.source=l,f.uuid=o.uuid,o.name!==void 0&&(f.name=o.name),o.mapping!==void 0&&(f.mapping=i(o.mapping,Nre)),o.channel!==void 0&&(f.channel=o.channel),o.offset!==void 0&&f.offset.fromArray(o.offset),o.repeat!==void 0&&f.repeat.fromArray(o.repeat),o.center!==void 0&&f.center.fromArray(o.center),o.rotation!==void 0&&(f.rotation=o.rotation),o.wrap!==void 0&&(f.wrapS=i(o.wrap[0],v6),f.wrapT=i(o.wrap[1],v6)),o.format!==void 0&&(f.format=o.format),o.internalFormat!==void 0&&(f.internalFormat=o.internalFormat),o.type!==void 0&&(f.type=o.type),o.colorSpace!==void 0&&(f.colorSpace=o.colorSpace),o.minFilter!==void 0&&(f.minFilter=i(o.minFilter,y6)),o.magFilter!==void 0&&(f.magFilter=i(o.magFilter,y6)),o.anisotropy!==void 0&&(f.anisotropy=o.anisotropy),o.flipY!==void 0&&(f.flipY=o.flipY),o.generateMipmaps!==void 0&&(f.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(f.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(f.compareFunction=o.compareFunction),o.userData!==void 0&&(f.userData=o.userData),r[o.uuid]=f}return r}parseObject(e,n,i,r,a){let s;function o(p){return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const v=[];for(let _=0,S=p.length;_<S;_++){const b=p[_];i[b]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",b),v.push(i[b])}return v}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function c(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let f,d;switch(e.type){case"Scene":s=new mL,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new Lt(e.background):s.background=c(e.background)),e.environment!==void 0&&(s.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new kR(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new HR(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new Wr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new gh(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new wj(e.color,e.intensity);break;case"DirectionalLight":s=new IL(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new UL(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new Ej(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new PL(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new Mj(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new Cj().fromJSON(e);break;case"SkinnedMesh":f=o(e.geometry),d=l(e.material),s=new vL(f,d),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":f=o(e.geometry),d=l(e.material),s=new za(f,d);break;case"InstancedMesh":f=o(e.geometry),d=l(e.material);const p=e.count,v=e.instanceMatrix,_=e.instanceColor;s=new yL(f,d,p),s.instanceMatrix=new Hy(new Float32Array(v.array),16),_!==void 0&&(s.instanceColor=new Hy(new Float32Array(_.array),_.itemSize));break;case"BatchedMesh":f=o(e.geometry),d=l(e.material),s=new KG(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,d),s.geometry=f,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._visibility=e.visibility,s._active=e.active,s._bounds=e.bounds.map(S=>{const b=new Xo;b.min.fromArray(S.boxMin),b.max.fromArray(S.boxMax);const A=new lo;return A.radius=S.sphereRadius,A.center.fromArray(S.sphereCenter),{boxInitialized:S.boxInitialized,box:b,sphereInitialized:S.sphereInitialized,sphere:A}}),s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._geometryCount=e.geometryCount,s._matricesTexture=c(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=c(e.colorsTexture.uuid));break;case"LOD":s=new JG;break;case"Line":s=new Dm(o(e.geometry),l(e.material));break;case"LineLoop":s=new xL(o(e.geometry),l(e.material));break;case"LineSegments":s=new Mh(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":s=new _L(o(e.geometry),l(e.material));break;case"Sprite":s=new WG(l(e.material));break;case"Group":s=new mm;break;case"Bone":s=new GR;break;default:s=new Si}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(s.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let v=0;v<p.length;v++)s.add(this.parseObject(p[v],n,i,r,a))}if(e.animations!==void 0){const p=e.animations;for(let v=0;v<p.length;v++){const _=p[v];s.animations.push(a[_])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const p=e.levels;for(let v=0;v<p.length;v++){const _=p[v],S=s.getObjectByProperty("uuid",_.object);S!==void 0&&s.addLevel(S,_.distance,_.hysteresis)}}return s}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=n[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const i=n.target,r=e.getObjectByProperty("uuid",i);r!==void 0?n.target=r:n.target=new Si}})}}const Nre={UVMapping:CR,CubeReflectionMapping:Rm,CubeRefractionMapping:l0,EquirectangularReflectionMapping:wS,EquirectangularRefractionMapping:ES,CubeUVReflectionMapping:s1},v6={RepeatWrapping:c0,ClampToEdgeWrapping:_u,MirroredRepeatWrapping:yb},y6={NearestFilter:Is,NearestMipmapNearestFilter:RR,NearestMipmapLinearFilter:gy,LinearFilter:Fa,LinearMipmapNearestFilter:sb,LinearMipmapLinearFilter:hf};class Dj extends Wo{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=gm.get(e);if(s!==void 0){if(a.manager.itemStart(e),s.then){s.then(c=>{n&&n(c),a.manager.itemEnd(e)}).catch(c=>{r&&r(c)});return}return setTimeout(function(){n&&n(s),a.manager.itemEnd(e)},0),s}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader;const l=fetch(e,o).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(c){return gm.add(e,c),n&&n(c),a.manager.itemEnd(e),c}).catch(function(c){r&&r(c),gm.remove(e),a.manager.itemError(e),a.manager.itemEnd(e)});gm.add(e,l),a.manager.itemStart(e)}}let l2;class FL{static getContext(){return l2===void 0&&(l2=new(window.AudioContext||window.webkitAudioContext)),l2}static setContext(e){l2=e}}class Dre extends Wo{constructor(e){super(e)}load(e,n,i,r){const a=this,s=new wu(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{const c=l.slice(0);FL.getContext().decodeAudioData(c,function(d){n(d)}).catch(o)}catch(c){o(c)}},i,r);function o(l){r?r(l):console.error(l),a.manager.itemError(e)}}}const x6=new dn,_6=new dn,Fv=new dn;class Bre{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Wr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Wr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Fv.copy(e.projectionMatrix);const r=n.eyeSep/2,a=r*n.near/n.focus,s=n.near*Math.tan(Ry*n.fov*.5)/n.zoom;let o,l;_6.elements[12]=-r,x6.elements[12]=r,o=-s*n.aspect+a,l=s*n.aspect+a,Fv.elements[0]=2*n.near/(l-o),Fv.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(Fv),o=-s*n.aspect-a,l=s*n.aspect-a,Fv.elements[0]=2*n.near/(l-o),Fv.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(Fv)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(_6),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(x6)}}class Bj extends Wr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e,this.index=0}}class zL{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=b6(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=b6();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function b6(){return performance.now()}const zv=new me,A6=new Fs,Ore=new me,Hv=new me;class Lre extends Si{constructor(){super(),this.type="AudioListener",this.context=FL.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new zL}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(zv,A6,Ore),Hv.set(0,0,-1).applyQuaternion(A6),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(zv.x,r),n.positionY.linearRampToValueAtTime(zv.y,r),n.positionZ.linearRampToValueAtTime(zv.z,r),n.forwardX.linearRampToValueAtTime(Hv.x,r),n.forwardY.linearRampToValueAtTime(Hv.y,r),n.forwardZ.linearRampToValueAtTime(Hv.z,r),n.upX.linearRampToValueAtTime(i.x,r),n.upY.linearRampToValueAtTime(i.y,r),n.upZ.linearRampToValueAtTime(i.z,r)}else n.setPosition(zv.x,zv.y,zv.z),n.setOrientation(Hv.x,Hv.y,Hv.z,i.x,i.y,i.z)}}class Oj extends Si{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const kv=new me,S6=new Fs,Pre=new me,Gv=new me;class Ure extends Oj{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(kv,S6,Pre),Gv.set(0,0,1).applyQuaternion(S6);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(kv.x,i),n.positionY.linearRampToValueAtTime(kv.y,i),n.positionZ.linearRampToValueAtTime(kv.z,i),n.orientationX.linearRampToValueAtTime(Gv.x,i),n.orientationY.linearRampToValueAtTime(Gv.y,i),n.orientationZ.linearRampToValueAtTime(Gv.z,i)}else n.setPosition(kv.x,kv.y,kv.z),n.setOrientation(Gv.x,Gv.y,Gv.z)}}class Ire{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}class Lj{constructor(e,n,i){this.binding=e,this.valueSize=i;let r,a,s;switch(n){case"quaternion":r=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,r=this.valueSize,a=e*r+r;let s=this.cumulativeWeight;if(s===0){for(let o=0;o!==r;++o)i[a+o]=i[o];s=n}else{s+=n;const o=n/s;this._mixBufferRegion(i,a,0,o,r)}this.cumulativeWeight=s}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,r=e*n+n,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const l=n*this._origIndex;this._mixBufferRegion(i,r,l,1-a,n)}s>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(i[l]!==i[l+n]){o.setValue(i,r);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(n,r);for(let a=i,s=r;a!==s;++a)n[a]=n[r+a%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,r,a){if(r>=.5)for(let s=0;s!==a;++s)e[n+s]=e[i+s]}_slerp(e,n,i,r){Fs.slerpFlat(e,n,e,n,e,i,r)}_slerpAdditive(e,n,i,r,a){const s=this._workIndex*a;Fs.multiplyQuaternionsFlat(e,s,e,n,e,i),Fs.slerpFlat(e,n,e,n,e,s,r)}_lerp(e,n,i,r,a){const s=1-r;for(let o=0;o!==a;++o){const l=n+o;e[l]=e[l]*s+e[i+o]*r}}_lerpAdditive(e,n,i,r,a){for(let s=0;s!==a;++s){const o=n+s;e[o]=e[o]+e[i+s]*r}}}const HL="\\[\\]\\.:\\/",Fre=new RegExp("["+HL+"]","g"),kL="[^"+HL+"]",zre="[^"+HL.replace("\\.","")+"]",Hre=/((?:WC+[\/:])*)/.source.replace("WC",kL),kre=/(WCOD+)?/.source.replace("WCOD",zre),Gre=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",kL),jre=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",kL),Vre=new RegExp("^"+Hre+kre+Gre+jre+"$"),Xre=["material","materials","bones","map"];class qre{constructor(e,n,i){const r=i||Ri.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,r)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=i.length;r!==a;++r)i[r].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class Ri{constructor(e,n,i){this.path=n,this.parsedPath=i||Ri.parseTrackName(n),this.node=Ri.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new Ri.Composite(e,n,i):new Ri(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Fre,"")}static parseTrackName(e){const n=Vre.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const a=i.nodeName.substring(r+1);Xre.indexOf(a)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=a)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(a){for(let s=0;s<a.length;s++){const o=a[s];if(o.name===n||o.uuid===n)return o;const l=i(o.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)e[n++]=i[r]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,r=n.propertyName;let a=n.propertyIndex;if(e||(e=Ri.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=n.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===c){c=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const s=e[r];if(s===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ri.Composite=qre;Ri.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ri.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ri.prototype.GetterByBindingType=[Ri.prototype._getValue_direct,Ri.prototype._getValue_array,Ri.prototype._getValue_arrayElement,Ri.prototype._getValue_toArray];Ri.prototype.SetterByBindingTypeAndVersioning=[[Ri.prototype._setValue_direct,Ri.prototype._setValue_direct_setNeedsUpdate,Ri.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ri.prototype._setValue_array,Ri.prototype._setValue_array_setNeedsUpdate,Ri.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ri.prototype._setValue_arrayElement,Ri.prototype._setValue_arrayElement_setNeedsUpdate,Ri.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ri.prototype._setValue_fromArray,Ri.prototype._setValue_fromArray_setNeedsUpdate,Ri.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Yre{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Su(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,i=this._paths,r=this._parsedPaths,a=this._bindings,s=a.length;let o,l=e.length,c=this.nCachedObjects_;for(let f=0,d=arguments.length;f!==d;++f){const p=arguments[f],v=p.uuid;let _=n[v];if(_===void 0){_=l++,n[v]=_,e.push(p);for(let S=0,b=s;S!==b;++S)a[S].push(new Ri(p,i[S],r[S]))}else if(_<c){o=e[_];const S=--c,b=e[S];n[b.uuid]=_,e[_]=b,n[v]=S,e[S]=p;for(let A=0,T=s;A!==T;++A){const R=a[A],C=R[S];let L=R[_];R[_]=C,L===void 0&&(L=new Ri(p,i[A],r[A])),R[S]=L}}else e[_]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_;for(let s=0,o=arguments.length;s!==o;++s){const l=arguments[s],c=l.uuid,f=n[c];if(f!==void 0&&f>=a){const d=a++,p=e[d];n[p.uuid]=f,e[f]=p,n[c]=d,e[d]=l;for(let v=0,_=r;v!==_;++v){const S=i[v],b=S[d],A=S[f];S[f]=b,S[d]=A}}}this.nCachedObjects_=a}uncache(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_,s=e.length;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],f=c.uuid,d=n[f];if(d!==void 0)if(delete n[f],d<a){const p=--a,v=e[p],_=--s,S=e[_];n[v.uuid]=d,e[d]=v,n[S.uuid]=p,e[p]=S,e.pop();for(let b=0,A=r;b!==A;++b){const T=i[b],R=T[p],C=T[_];T[d]=R,T[p]=C,T.pop()}}else{const p=--s,v=e[p];p>0&&(n[v.uuid]=d),e[d]=v,e.pop();for(let _=0,S=r;_!==S;++_){const b=i[_];b[d]=b[p],b.pop()}}}this.nCachedObjects_=a}subscribe_(e,n){const i=this._bindingsIndicesByPath;let r=i[e];const a=this._bindings;if(r!==void 0)return a[r];const s=this._paths,o=this._parsedPaths,l=this._objects,c=l.length,f=this.nCachedObjects_,d=new Array(c);r=a.length,i[e]=r,s.push(e),o.push(n),a.push(d);for(let p=f,v=l.length;p!==v;++p){const _=l[p];d[p]=new Ri(_,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,i=n[e];if(i!==void 0){const r=this._paths,a=this._parsedPaths,s=this._bindings,o=s.length-1,l=s[o],c=e[o];n[c]=i,s[i]=l,s.pop(),a[i]=a[o],a.pop(),r[i]=r[o],r.pop()}}}class Pj{constructor(e,n,i=null,r=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=r;const a=n.tracks,s=a.length,o=new Array(s),l={endingStart:vy,endingEnd:vy};for(let c=0;c!==s;++c){const f=a[c].createInterpolant(null);o[c]=f,f.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=wG,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i=!1){if(e.fadeOut(n),this.fadeIn(n),i===!0){const r=this._clip.duration,a=e._clip.duration,s=a/r,o=r/a;e.warp(1,s,n),this.warp(o,1,n)}return this}crossFadeTo(e,n,i=!1){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const r=this._mixer,a=r.time,s=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=a,l[1]=a+i,c[0]=e/s,c[1]=n/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,r){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const l=(e-a)*i;l<0||i===0?n=0:(this._startTime=null,n=i*l)}n*=this._updateTimeScale(e);const s=this._updateTime(n),o=this._updateWeight(e);if(o>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case cL:for(let f=0,d=l.length;f!==d;++f)l[f].evaluate(s),c[f].accumulateAdditive(o);break;case UR:default:for(let f=0,d=l.length;f!==d;++f)l[f].evaluate(s),c[f].accumulate(r,o)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let r=this.time+e,a=this._loopCount;const s=i===EG;if(e===0)return a===-1?r:s&&(a&1)===1?n-r:r;if(i===MG){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=n)r=n;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),r>=n||r<0){const o=Math.floor(r/n);r-=n*o,a+=Math.abs(o);const l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(s&&(a&1)===1)return n-r}return r}_setEndings(e,n,i){const r=this._interpolantSettings;i?(r.endingStart=yy,r.endingEnd=yy):(e?r.endingStart=this.zeroSlopeAtStart?yy:vy:r.endingStart=TS,n?r.endingEnd=this.zeroSlopeAtEnd?yy:vy:r.endingEnd=TS)}_scheduleFading(e,n,i){const r=this._mixer,a=r.time;let s=this._weightInterpolant;s===null&&(s=r._lendControlInterpolant(),this._weightInterpolant=s);const o=s.parameterPositions,l=s.sampleValues;return o[0]=a,l[0]=n,o[1]=a+e,l[1]=i,this}}const Wre=new Float32Array(1);class Jre extends Vd{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,r=e._clip.tracks,a=r.length,s=e._propertyBindings,o=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let f=c[l];f===void 0&&(f={},c[l]=f);for(let d=0;d!==a;++d){const p=r[d],v=p.name;let _=f[v];if(_!==void 0)++_.referenceCount,s[d]=_;else{if(_=s[d],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,l,v));continue}const S=n&&n._propertyBindings[d].binding.parsedPath;_=new Lj(Ri.create(i,v,S),p.ValueTypeName,p.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,l,v),s[d]=_}o[d].resultBuffer=_.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,a=this._actionsByClip[r];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,r,i)}const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const a=n[i];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const a=n[i];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const r=this._actions,a=this._actionsByClip;let s=a[n];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[n]=s;else{const o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),s.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],r=e._cacheIndex;i._cacheIndex=r,n[r]=i,n.pop(),e._cacheIndex=null;const a=e._clip.uuid,s=this._actionsByClip,o=s[a],l=o.knownActions,c=l[l.length-1],f=e._byClipCacheIndex;c._byClipCacheIndex=f,l[f]=c,l.pop(),e._byClipCacheIndex=null;const d=o.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const a=n[i];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,r=this._nActiveActions++,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,r=--this._nActiveActions,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_addInactiveBinding(e,n,i){const r=this._bindingsByRootAndName,a=this._bindings;let s=r[n];s===void 0&&(s={},r[n]=s),s[i]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,r=i.rootNode.uuid,a=i.path,s=this._bindingsByRootAndName,o=s[r],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete o[a],Object.keys(o).length===0&&delete s[r]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new DL(new Float32Array(2),new Float32Array(2),1,Wre),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=n[r];e.__cacheIndex=r,n[r]=e,a.__cacheIndex=i,n[i]=a}clipAction(e,n,i){const r=n||this._root,a=r.uuid;let s=typeof e=="string"?Rb.findByName(r,e):e;const o=s!==null?s.uuid:e,l=this._actionsByClip[o];let c=null;if(i===void 0&&(s!==null?i=s.blendMode:i=UR),l!==void 0){const d=l.actionByRoot[a];if(d!==void 0&&d.blendMode===i)return d;c=l.knownActions[0],s===null&&(s=c._clip)}if(s===null)return null;const f=new Pj(this,s,n,i);return this._bindAction(f,c),this._addInactiveAction(f,o,a),f}existingAction(e,n){const i=n||this._root,r=i.uuid,a=typeof e=="string"?Rb.findByName(i,e):e,s=a?a.uuid:e,o=this._actionsByClip[s];return o!==void 0&&o.actionByRoot[r]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,r=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let c=0;c!==i;++c)n[c]._update(r,e,a,s);const o=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)o[c].apply(s);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,r=this._actionsByClip,a=r[i];if(a!==void 0){const s=a.knownActions;for(let o=0,l=s.length;o!==l;++o){const c=s[o];this._deactivateAction(c);const f=c._cacheIndex,d=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=f,n[f]=d,n.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const s in i){const o=i[s].actionByRoot,l=o[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,a=r[n];if(a!==void 0)for(const s in a){const o=a[s];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class Kre extends IR{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new FR(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class $re extends IR{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isRenderTargetArray=!0,this.depth=i,this.texture=new xM(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class GL{constructor(e){this.value=e}clone(){return new GL(this.value.clone===void 0?this.value:this.value.clone())}}let Zre=0;class Qre extends Vd{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Zre++}),this.name="",this.usage=RS,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let i=0,r=n.length;i<r;i++){const a=Array.isArray(n[i])?n[i]:[n[i]];for(let s=0;s<a.length;s++)this.uniforms.push(a[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class eae extends bM{constructor(e,n,i=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class tae{constructor(e,n,i,r,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=i,this.elementSize=r,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const M6=new dn;class Uj{constructor(e,n,i=0,r=1/0){this.ray=new lx(e,n),this.near=i,this.far=r,this.camera=null,this.layers=new Eb,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return M6.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(M6),this}intersectObject(e,n=!0,i=[]){return K4(e,this,i,n),i.sort(w6),i}intersectObjects(e,n=!0,i=[]){for(let r=0,a=e.length;r<a;r++)K4(e[r],this,i,n);return i.sort(w6),i}}function w6(t,e){return t.distance-e.distance}function K4(t,e,n,i){let r=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(r=!1),r===!0&&i===!0){const a=t.children;for(let s=0,o=a.length;s<o;s++)K4(a[s],e,n,!0)}}class $4{constructor(e=1,n=0,i=0){this.radius=e,this.phi=n,this.theta=i}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Dn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Dn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class nae{constructor(e=1,n=0,i=0){this.radius=e,this.theta=n,this.y=i}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}clone(){return new this.constructor().copy(this)}}class jL{constructor(e,n,i,r){jL.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let i=0;i<4;i++)this.elements[i]=e[i+n];return this}set(e,n,i,r){const a=this.elements;return a[0]=e,a[2]=n,a[1]=i,a[3]=r,this}}const E6=new ct;class iae{constructor(e=new ct(1/0,1/0),n=new ct(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=E6.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,E6).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const T6=new me,c2=new me;class rae{constructor(e=new me,n=new me){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){T6.subVectors(e,this.start),c2.subVectors(this.end,this.start);const i=c2.dot(c2);let a=c2.dot(T6)/i;return n&&(a=Dn(a,0,1)),a}closestPointToPoint(e,n,i){const r=this.closestPointToPointParameter(e,n);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const C6=new me;class aae extends Si{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const i=new In,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,o=1,l=32;s<l;s++,o++){const c=s/l*Math.PI*2,f=o/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(f),Math.sin(f),1)}i.setAttribute("position",new Xt(r,3));const a=new Yo({fog:!1,toneMapped:!1});this.cone=new Mh(i,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),C6.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(C6),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Hg=new me,u2=new dn,CD=new dn;class sae extends Mh{constructor(e){const n=Ij(e),i=new In,r=[],a=[],s=new Lt(0,0,1),o=new Lt(0,1,0);for(let c=0;c<n.length;c++){const f=n[c];f.parent&&f.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(s.r,s.g,s.b),a.push(o.r,o.g,o.b))}i.setAttribute("position",new Xt(r,3)),i.setAttribute("color",new Xt(a,3));const l=new Yo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,i=this.geometry,r=i.getAttribute("position");CD.copy(this.root.matrixWorld).invert();for(let a=0,s=0;a<n.length;a++){const o=n[a];o.parent&&o.parent.isBone&&(u2.multiplyMatrices(CD,o.matrixWorld),Hg.setFromMatrixPosition(u2),r.setXYZ(s,Hg.x,Hg.y,Hg.z),u2.multiplyMatrices(CD,o.parent.matrixWorld),Hg.setFromMatrixPosition(u2),r.setXYZ(s+1,Hg.x,Hg.y,Hg.z),s+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ij(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...Ij(t.children[n]));return e}class oae extends za{constructor(e,n,i){const r=new EM(n,4,2),a=new bu({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const lae=new me,R6=new Lt,N6=new Lt;class cae extends Si{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new wM(n);r.rotateY(Math.PI*.5),this.material=new bu({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=r.getAttribute("position"),s=new Float32Array(a.count*3);r.setAttribute("color",new Pi(s,3)),this.add(new za(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");R6.copy(this.light.color),N6.copy(this.light.groundColor);for(let i=0,r=n.count;i<r;i++){const a=i<r/2?R6:N6;n.setXYZ(i,a.r,a.g,a.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(lae.setFromMatrixPosition(this.light.matrixWorld).negate())}}class uae extends Mh{constructor(e=10,n=10,i=4473924,r=8947848){i=new Lt(i),r=new Lt(r);const a=n/2,s=e/n,o=e/2,l=[],c=[];for(let p=0,v=0,_=-o;p<=n;p++,_+=s){l.push(-o,0,_,o,0,_),l.push(_,0,-o,_,0,o);const S=p===a?i:r;S.toArray(c,v),v+=3,S.toArray(c,v),v+=3,S.toArray(c,v),v+=3,S.toArray(c,v),v+=3}const f=new In;f.setAttribute("position",new Xt(l,3)),f.setAttribute("color",new Xt(c,3));const d=new Yo({vertexColors:!0,toneMapped:!1});super(f,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class fae extends Mh{constructor(e=10,n=16,i=8,r=64,a=4473924,s=8947848){a=new Lt(a),s=new Lt(s);const o=[],l=[];if(n>1)for(let d=0;d<n;d++){const p=d/n*(Math.PI*2),v=Math.sin(p)*e,_=Math.cos(p)*e;o.push(0,0,0),o.push(v,0,_);const S=d&1?a:s;l.push(S.r,S.g,S.b),l.push(S.r,S.g,S.b)}for(let d=0;d<i;d++){const p=d&1?a:s,v=e-e/i*d;for(let _=0;_<r;_++){let S=_/r*(Math.PI*2),b=Math.sin(S)*v,A=Math.cos(S)*v;o.push(b,0,A),l.push(p.r,p.g,p.b),S=(_+1)/r*(Math.PI*2),b=Math.sin(S)*v,A=Math.cos(S)*v,o.push(b,0,A),l.push(p.r,p.g,p.b)}}const c=new In;c.setAttribute("position",new Xt(o,3)),c.setAttribute("color",new Xt(l,3));const f=new Yo({vertexColors:!0,toneMapped:!1});super(c,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const D6=new me,f2=new me,B6=new me;class hae extends Si{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",n===void 0&&(n=1);let r=new In;r.setAttribute("position",new Xt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const a=new Yo({fog:!1,toneMapped:!1});this.lightPlane=new Dm(r,a),this.add(this.lightPlane),r=new In,r.setAttribute("position",new Xt([0,0,0,0,0,1],3)),this.targetLine=new Dm(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),D6.setFromMatrixPosition(this.light.matrixWorld),f2.setFromMatrixPosition(this.light.target.matrixWorld),B6.subVectors(f2,D6),this.lightPlane.lookAt(f2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(f2),this.targetLine.scale.z=B6.length()}}const h2=new me,_a=new zR;class dae extends Mh{constructor(e){const n=new In,i=new Yo({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],s={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(_,S){l(_),l(S)}function l(_){r.push(0,0,0),a.push(0,0,0),s[_]===void 0&&(s[_]=[]),s[_].push(r.length/3-1)}n.setAttribute("position",new Xt(r,3)),n.setAttribute("color",new Xt(a,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const c=new Lt(16755200),f=new Lt(16711680),d=new Lt(43775),p=new Lt(16777215),v=new Lt(3355443);this.setColors(c,f,d,p,v)}setColors(e,n,i,r,a){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,n.r,n.g,n.b),o.setXYZ(25,n.r,n.g,n.b),o.setXYZ(26,n.r,n.g,n.b),o.setXYZ(27,n.r,n.g,n.b),o.setXYZ(28,n.r,n.g,n.b),o.setXYZ(29,n.r,n.g,n.b),o.setXYZ(30,n.r,n.g,n.b),o.setXYZ(31,n.r,n.g,n.b),o.setXYZ(32,i.r,i.g,i.b),o.setXYZ(33,i.r,i.g,i.b),o.setXYZ(34,i.r,i.g,i.b),o.setXYZ(35,i.r,i.g,i.b),o.setXYZ(36,i.r,i.g,i.b),o.setXYZ(37,i.r,i.g,i.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,a.r,a.g,a.b),o.setXYZ(41,a.r,a.g,a.b),o.setXYZ(42,a.r,a.g,a.b),o.setXYZ(43,a.r,a.g,a.b),o.setXYZ(44,a.r,a.g,a.b),o.setXYZ(45,a.r,a.g,a.b),o.setXYZ(46,a.r,a.g,a.b),o.setXYZ(47,a.r,a.g,a.b),o.setXYZ(48,a.r,a.g,a.b),o.setXYZ(49,a.r,a.g,a.b),o.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,i=1,r=1;_a.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const a=this.camera.coordinateSystem===ph?-1:0;Ua("c",n,e,_a,0,0,a),Ua("t",n,e,_a,0,0,1),Ua("n1",n,e,_a,-1,-1,a),Ua("n2",n,e,_a,i,-1,a),Ua("n3",n,e,_a,-1,r,a),Ua("n4",n,e,_a,i,r,a),Ua("f1",n,e,_a,-1,-1,1),Ua("f2",n,e,_a,i,-1,1),Ua("f3",n,e,_a,-1,r,1),Ua("f4",n,e,_a,i,r,1),Ua("u1",n,e,_a,i*.7,r*1.1,a),Ua("u2",n,e,_a,-1*.7,r*1.1,a),Ua("u3",n,e,_a,0,r*2,a),Ua("cf1",n,e,_a,-1,0,1),Ua("cf2",n,e,_a,i,0,1),Ua("cf3",n,e,_a,0,-1,1),Ua("cf4",n,e,_a,0,r,1),Ua("cn1",n,e,_a,-1,0,a),Ua("cn2",n,e,_a,i,0,a),Ua("cn3",n,e,_a,0,-1,a),Ua("cn4",n,e,_a,0,r,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ua(t,e,n,i,r,a,s){h2.set(r,a,s).unproject(i);const o=e[t];if(o!==void 0){const l=n.getAttribute("position");for(let c=0,f=o.length;c<f;c++)l.setXYZ(o[c],h2.x,h2.y,h2.z)}}const d2=new Xo;class pae extends Mh{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),a=new In;a.setIndex(new Pi(i,1)),a.setAttribute("position",new Pi(r,3)),super(a,new Yo({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&d2.setFromObject(this.object),d2.isEmpty())return;const e=d2.min,n=d2.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=e.x,r[4]=n.y,r[5]=n.z,r[6]=e.x,r[7]=e.y,r[8]=n.z,r[9]=n.x,r[10]=e.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=e.z,r[15]=e.x,r[16]=n.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=n.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class mae extends Mh{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new In;a.setIndex(new Pi(i,1)),a.setAttribute("position",new Xt(r,3)),super(a,new Yo({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class gae extends Dm{constructor(e,n=1,i=16776960){const r=i,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new In;s.setAttribute("position",new Xt(a,3)),s.computeBoundingSphere(),super(s,new Yo({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new In;l.setAttribute("position",new Xt(o,3)),l.computeBoundingSphere(),this.add(new za(l,new bu({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const O6=new me;let p2,RD;class vae extends Si{constructor(e=new me(0,0,1),n=new me(0,0,0),i=1,r=16776960,a=i*.2,s=a*.2){super(),this.type="ArrowHelper",p2===void 0&&(p2=new In,p2.setAttribute("position",new Xt([0,0,0,0,1,0],3)),RD=new l1(0,.5,1,5,1),RD.translate(0,-.5,0)),this.position.copy(n),this.line=new Dm(p2,new Yo({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new za(RD,new bu({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,a,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{O6.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(O6,n)}}setLength(e,n=e*.2,i=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class yae extends Mh{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new In;r.setAttribute("position",new Xt(n,3)),r.setAttribute("color",new Xt(i,3));const a=new Yo({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(e,n,i){const r=new Lt,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(n),r.toArray(a,6),r.toArray(a,9),r.set(i),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class xae{constructor(){this.type="ShapePath",this.color=new Lt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new BS,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,r){return this.currentPath.quadraticCurveTo(e,n,i,r),this}bezierCurveTo(e,n,i,r,a,s){return this.currentPath.bezierCurveTo(e,n,i,r,a,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(A){const T=[];for(let R=0,C=A.length;R<C;R++){const L=A[R],P=new Ny;P.curves=L.curves,T.push(P)}return T}function i(A,T){const R=T.length;let C=!1;for(let L=R-1,P=0;P<R;L=P++){let k=T[L],G=T[P],z=G.x-k.x,F=G.y-k.y;if(Math.abs(F)>Number.EPSILON){if(F<0&&(k=T[P],z=-z,G=T[L],F=-F),A.y<k.y||A.y>G.y)continue;if(A.y===k.y){if(A.x===k.x)return!0}else{const j=F*(A.x-k.x)-z*(A.y-k.y);if(j===0)return!0;if(j<0)continue;C=!C}}else{if(A.y!==k.y)continue;if(G.x<=A.x&&A.x<=k.x||k.x<=A.x&&A.x<=G.x)return!0}}return C}const r=Od.isClockWise,a=this.subPaths;if(a.length===0)return[];let s,o,l;const c=[];if(a.length===1)return o=a[0],l=new Ny,l.curves=o.curves,c.push(l),c;let f=!r(a[0].getPoints());f=e?!f:f;const d=[],p=[];let v=[],_=0,S;p[_]=void 0,v[_]=[];for(let A=0,T=a.length;A<T;A++)o=a[A],S=o.getPoints(),s=r(S),s=e?!s:s,s?(!f&&p[_]&&_++,p[_]={s:new Ny,p:S},p[_].s.curves=o.curves,f&&_++,v[_]=[]):v[_].push({h:o,p:S[0]});if(!p[0])return n(a);if(p.length>1){let A=!1,T=0;for(let R=0,C=p.length;R<C;R++)d[R]=[];for(let R=0,C=p.length;R<C;R++){const L=v[R];for(let P=0;P<L.length;P++){const k=L[P];let G=!0;for(let z=0;z<p.length;z++)i(k.p,p[z].p)&&(R!==z&&T++,G?(G=!1,d[z].push(k)):A=!0);G&&d[R].push(k)}}T>0&&A===!1&&(v=d)}let b;for(let A=0,T=p.length;A<T;A++){l=p[A].s,c.push(l),b=v[A];for(let R=0,C=b.length;R<C;R++)l.holes.push(b[R].h)}return c}}class _ae extends Vd{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function bae(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function Aae(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function Sae(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function Z4(t,e,n,i){const r=Mae(i);switch(n){case iL:return t*e;case aL:return t*e;case sL:return t*e*2;case OR:return t*e/r.components*r.byteLength;case yM:return t*e/r.components*r.byteLength;case oL:return t*e*2/r.components*r.byteLength;case LR:return t*e*2/r.components*r.byteLength;case rL:return t*e*3/r.components*r.byteLength;case jo:return t*e*4/r.components*r.byteLength;case PR:return t*e*4/r.components*r.byteLength;case ZA:case QA:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case eS:case tS:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case mT:case vT:return Math.max(t,16)*Math.max(e,8)/4;case pT:case gT:return Math.max(t,8)*Math.max(e,8)/2;case yT:case xT:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case _T:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case bT:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case AT:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case ST:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case MT:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case wT:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case ET:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case TT:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case CT:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case RT:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case NT:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case DT:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case BT:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case OT:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case LT:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case nS:case PT:case UT:return Math.ceil(t/4)*Math.ceil(e/4)*16;case lL:case IT:return Math.ceil(t/4)*Math.ceil(e/4)*8;case FT:case zT:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function Mae(t){switch(t){case xh:case eL:return{byteLength:1,components:1};case xb:case tL:case o1:return{byteLength:2,components:1};case DR:case BR:return{byteLength:2,components:4};case Nm:case NR:case Oc:return{byteLength:4,components:1};case nL:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class wae{static contain(e,n){return bae(e,n)}static cover(e,n){return Aae(e,n)}static fill(e){return Sae(e)}static getByteLength(e,n,i,r){return Z4(e,n,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:gM}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=gM);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function Fj(){let t=null,e=!1,n=null,i=null;function r(a,s){n(a,s),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(a){n=a},setContext:function(a){t=a}}}function Eae(t){const e=new WeakMap;function n(o,l){const c=o.array,f=o.usage,d=c.byteLength,p=t.createBuffer();t.bindBuffer(l,p),t.bufferData(l,c,f),o.onUploadCallback();let v;if(c instanceof Float32Array)v=t.FLOAT;else if(c instanceof Uint16Array)o.isFloat16BufferAttribute?v=t.HALF_FLOAT:v=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)v=t.SHORT;else if(c instanceof Uint32Array)v=t.UNSIGNED_INT;else if(c instanceof Int32Array)v=t.INT;else if(c instanceof Int8Array)v=t.BYTE;else if(c instanceof Uint8Array)v=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)v=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:p,type:v,bytesPerElement:c.BYTES_PER_ELEMENT,version:o.version,size:d}}function i(o,l,c){const f=l.array,d=l.updateRanges;if(t.bindBuffer(c,o),d.length===0)t.bufferSubData(c,0,f);else{d.sort((v,_)=>v.start-_.start);let p=0;for(let v=1;v<d.length;v++){const _=d[p],S=d[v];S.start<=_.start+_.count+1?_.count=Math.max(_.count,S.start+S.count-_.start):(++p,d[p]=S)}d.length=p+1;for(let v=0,_=d.length;v<_;v++){const S=d[v];t.bufferSubData(c,S.start*f.BYTES_PER_ELEMENT,f,S.start,S.count)}l.clearUpdateRanges()}l.onUploadCallback()}function r(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function a(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(t.deleteBuffer(l.buffer),e.delete(o))}function s(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const f=e.get(o);(!f||f.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const c=e.get(o);if(c===void 0)e.set(o,n(o,l));else if(c.version<o.version){if(c.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(c.buffer,o,l),c.version=o.version}}return{get:r,remove:a,update:s}}var Tae=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Cae=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Rae=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Nae=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Dae=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Bae=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Oae=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Lae=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Pae=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Uae=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Iae=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Fae=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,zae=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Hae=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,kae=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Gae=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,jae=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Vae=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Xae=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,qae=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Yae=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Wae=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Jae=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Kae=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,$ae=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Zae=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Qae=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,ese=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,tse=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,nse=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,ise="gl_FragColor = linearToOutputTexel( gl_FragColor );",rse=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,ase=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,sse=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,ose=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,lse=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,cse=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,use=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fse=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,hse=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,dse=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,pse=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,mse=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,gse=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,vse=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,yse=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,xse=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,_se=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,bse=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Ase=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Sse=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Mse=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,wse=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Ese=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Tse=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Cse=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Rse=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Nse=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Dse=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Bse=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Ose=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Lse=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Pse=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Use=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Ise=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Fse=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,zse=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Hse=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,kse=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Gse=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,jse=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Vse=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Xse=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,qse=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Yse=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Wse=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Jse=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Kse=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,$se=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Zse=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Qse=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,eoe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,toe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,noe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,ioe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,roe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,aoe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,soe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,ooe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,loe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,coe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,uoe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,foe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,hoe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,doe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,poe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,moe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,goe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,voe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,yoe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,xoe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,_oe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,boe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Aoe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Soe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Moe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,woe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Eoe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Toe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Coe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Roe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Noe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Doe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Boe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Ooe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Loe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Poe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Uoe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Ioe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Foe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,zoe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Hoe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,koe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Goe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,joe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Voe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Xoe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qoe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Yoe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Woe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Joe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Koe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,$oe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Zoe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Qoe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ele=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,tle=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,nle=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ile=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,rle=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ale=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Yn={alphahash_fragment:Tae,alphahash_pars_fragment:Cae,alphamap_fragment:Rae,alphamap_pars_fragment:Nae,alphatest_fragment:Dae,alphatest_pars_fragment:Bae,aomap_fragment:Oae,aomap_pars_fragment:Lae,batching_pars_vertex:Pae,batching_vertex:Uae,begin_vertex:Iae,beginnormal_vertex:Fae,bsdfs:zae,iridescence_fragment:Hae,bumpmap_pars_fragment:kae,clipping_planes_fragment:Gae,clipping_planes_pars_fragment:jae,clipping_planes_pars_vertex:Vae,clipping_planes_vertex:Xae,color_fragment:qae,color_pars_fragment:Yae,color_pars_vertex:Wae,color_vertex:Jae,common:Kae,cube_uv_reflection_fragment:$ae,defaultnormal_vertex:Zae,displacementmap_pars_vertex:Qae,displacementmap_vertex:ese,emissivemap_fragment:tse,emissivemap_pars_fragment:nse,colorspace_fragment:ise,colorspace_pars_fragment:rse,envmap_fragment:ase,envmap_common_pars_fragment:sse,envmap_pars_fragment:ose,envmap_pars_vertex:lse,envmap_physical_pars_fragment:xse,envmap_vertex:cse,fog_vertex:use,fog_pars_vertex:fse,fog_fragment:hse,fog_pars_fragment:dse,gradientmap_pars_fragment:pse,lightmap_pars_fragment:mse,lights_lambert_fragment:gse,lights_lambert_pars_fragment:vse,lights_pars_begin:yse,lights_toon_fragment:_se,lights_toon_pars_fragment:bse,lights_phong_fragment:Ase,lights_phong_pars_fragment:Sse,lights_physical_fragment:Mse,lights_physical_pars_fragment:wse,lights_fragment_begin:Ese,lights_fragment_maps:Tse,lights_fragment_end:Cse,logdepthbuf_fragment:Rse,logdepthbuf_pars_fragment:Nse,logdepthbuf_pars_vertex:Dse,logdepthbuf_vertex:Bse,map_fragment:Ose,map_pars_fragment:Lse,map_particle_fragment:Pse,map_particle_pars_fragment:Use,metalnessmap_fragment:Ise,metalnessmap_pars_fragment:Fse,morphinstance_vertex:zse,morphcolor_vertex:Hse,morphnormal_vertex:kse,morphtarget_pars_vertex:Gse,morphtarget_vertex:jse,normal_fragment_begin:Vse,normal_fragment_maps:Xse,normal_pars_fragment:qse,normal_pars_vertex:Yse,normal_vertex:Wse,normalmap_pars_fragment:Jse,clearcoat_normal_fragment_begin:Kse,clearcoat_normal_fragment_maps:$se,clearcoat_pars_fragment:Zse,iridescence_pars_fragment:Qse,opaque_fragment:eoe,packing:toe,premultiplied_alpha_fragment:noe,project_vertex:ioe,dithering_fragment:roe,dithering_pars_fragment:aoe,roughnessmap_fragment:soe,roughnessmap_pars_fragment:ooe,shadowmap_pars_fragment:loe,shadowmap_pars_vertex:coe,shadowmap_vertex:uoe,shadowmask_pars_fragment:foe,skinbase_vertex:hoe,skinning_pars_vertex:doe,skinning_vertex:poe,skinnormal_vertex:moe,specularmap_fragment:goe,specularmap_pars_fragment:voe,tonemapping_fragment:yoe,tonemapping_pars_fragment:xoe,transmission_fragment:_oe,transmission_pars_fragment:boe,uv_pars_fragment:Aoe,uv_pars_vertex:Soe,uv_vertex:Moe,worldpos_vertex:woe,background_vert:Eoe,background_frag:Toe,backgroundCube_vert:Coe,backgroundCube_frag:Roe,cube_vert:Noe,cube_frag:Doe,depth_vert:Boe,depth_frag:Ooe,distanceRGBA_vert:Loe,distanceRGBA_frag:Poe,equirect_vert:Uoe,equirect_frag:Ioe,linedashed_vert:Foe,linedashed_frag:zoe,meshbasic_vert:Hoe,meshbasic_frag:koe,meshlambert_vert:Goe,meshlambert_frag:joe,meshmatcap_vert:Voe,meshmatcap_frag:Xoe,meshnormal_vert:qoe,meshnormal_frag:Yoe,meshphong_vert:Woe,meshphong_frag:Joe,meshphysical_vert:Koe,meshphysical_frag:$oe,meshtoon_vert:Zoe,meshtoon_frag:Qoe,points_vert:ele,points_frag:tle,shadow_vert:nle,shadow_frag:ile,sprite_vert:rle,sprite_frag:ale},Pt={common:{diffuse:{value:new Lt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Pn},alphaMap:{value:null},alphaMapTransform:{value:new Pn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Pn}},envmap:{envMap:{value:null},envMapRotation:{value:new Pn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Pn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Pn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Pn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Pn},normalScale:{value:new ct(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Pn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Pn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Pn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Pn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Lt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Lt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Pn},alphaTest:{value:0},uvTransform:{value:new Pn}},sprite:{diffuse:{value:new Lt(16777215)},opacity:{value:1},center:{value:new ct(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Pn},alphaMap:{value:null},alphaMapTransform:{value:new Pn},alphaTest:{value:0}}},oh={basic:{uniforms:Tl([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.fog]),vertexShader:Yn.meshbasic_vert,fragmentShader:Yn.meshbasic_frag},lambert:{uniforms:Tl([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,Pt.lights,{emissive:{value:new Lt(0)}}]),vertexShader:Yn.meshlambert_vert,fragmentShader:Yn.meshlambert_frag},phong:{uniforms:Tl([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,Pt.lights,{emissive:{value:new Lt(0)},specular:{value:new Lt(1118481)},shininess:{value:30}}]),vertexShader:Yn.meshphong_vert,fragmentShader:Yn.meshphong_frag},standard:{uniforms:Tl([Pt.common,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.roughnessmap,Pt.metalnessmap,Pt.fog,Pt.lights,{emissive:{value:new Lt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Yn.meshphysical_vert,fragmentShader:Yn.meshphysical_frag},toon:{uniforms:Tl([Pt.common,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.gradientmap,Pt.fog,Pt.lights,{emissive:{value:new Lt(0)}}]),vertexShader:Yn.meshtoon_vert,fragmentShader:Yn.meshtoon_frag},matcap:{uniforms:Tl([Pt.common,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,{matcap:{value:null}}]),vertexShader:Yn.meshmatcap_vert,fragmentShader:Yn.meshmatcap_frag},points:{uniforms:Tl([Pt.points,Pt.fog]),vertexShader:Yn.points_vert,fragmentShader:Yn.points_frag},dashed:{uniforms:Tl([Pt.common,Pt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Yn.linedashed_vert,fragmentShader:Yn.linedashed_frag},depth:{uniforms:Tl([Pt.common,Pt.displacementmap]),vertexShader:Yn.depth_vert,fragmentShader:Yn.depth_frag},normal:{uniforms:Tl([Pt.common,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,{opacity:{value:1}}]),vertexShader:Yn.meshnormal_vert,fragmentShader:Yn.meshnormal_frag},sprite:{uniforms:Tl([Pt.sprite,Pt.fog]),vertexShader:Yn.sprite_vert,fragmentShader:Yn.sprite_frag},background:{uniforms:{uvTransform:{value:new Pn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Yn.background_vert,fragmentShader:Yn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Pn}},vertexShader:Yn.backgroundCube_vert,fragmentShader:Yn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Yn.cube_vert,fragmentShader:Yn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Yn.equirect_vert,fragmentShader:Yn.equirect_frag},distanceRGBA:{uniforms:Tl([Pt.common,Pt.displacementmap,{referencePosition:{value:new me},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Yn.distanceRGBA_vert,fragmentShader:Yn.distanceRGBA_frag},shadow:{uniforms:Tl([Pt.lights,Pt.fog,{color:{value:new Lt(0)},opacity:{value:1}}]),vertexShader:Yn.shadow_vert,fragmentShader:Yn.shadow_frag}};oh.physical={uniforms:Tl([oh.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Pn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Pn},clearcoatNormalScale:{value:new ct(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Pn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Pn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Pn},sheen:{value:0},sheenColor:{value:new Lt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Pn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Pn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Pn},transmissionSamplerSize:{value:new ct},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Pn},attenuationDistance:{value:0},attenuationColor:{value:new Lt(0)},specularColor:{value:new Lt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Pn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Pn},anisotropyVector:{value:new ct},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Pn}}]),vertexShader:Yn.meshphysical_vert,fragmentShader:Yn.meshphysical_frag};const m2={r:0,b:0,g:0},jv=new Mu,sle=new dn;function ole(t,e,n,i,r,a,s){const o=new Lt(0);let l=a===!0?0:1,c,f,d=null,p=0,v=null;function _(R){let C=R.isScene===!0?R.background:null;return C&&C.isTexture&&(C=(R.backgroundBlurriness>0?n:e).get(C)),C}function S(R){let C=!1;const L=_(R);L===null?A(o,l):L&&L.isColor&&(A(L,1),C=!0);const P=t.xr.getEnvironmentBlendMode();P==="additive"?i.buffers.color.setClear(0,0,0,1,s):P==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,s),(t.autoClear||C)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function b(R,C){const L=_(C);L&&(L.isCubeTexture||L.mapping===s1)?(f===void 0&&(f=new za(new cx(1,1,1),new _h({name:"BackgroundCubeMaterial",uniforms:Tb(oh.backgroundCube.uniforms),vertexShader:oh.backgroundCube.vertexShader,fragmentShader:oh.backgroundCube.fragmentShader,side:Fl,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(P,k,G){this.matrixWorld.copyPosition(G.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(f)),jv.copy(C.backgroundRotation),jv.x*=-1,jv.y*=-1,jv.z*=-1,L.isCubeTexture&&L.isRenderTargetTexture===!1&&(jv.y*=-1,jv.z*=-1),f.material.uniforms.envMap.value=L,f.material.uniforms.flipEnvMap.value=L.isCubeTexture&&L.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=C.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,f.material.uniforms.backgroundRotation.value.setFromMatrix4(sle.makeRotationFromEuler(jv)),f.material.toneMapped=bi.getTransfer(L.colorSpace)!==ur,(d!==L||p!==L.version||v!==t.toneMapping)&&(f.material.needsUpdate=!0,d=L,p=L.version,v=t.toneMapping),f.layers.enableAll(),R.unshift(f,f.geometry,f.material,0,0,null)):L&&L.isTexture&&(c===void 0&&(c=new za(new c1(2,2),new _h({name:"BackgroundMaterial",uniforms:Tb(oh.background.uniforms),vertexShader:oh.background.vertexShader,fragmentShader:oh.background.fragmentShader,side:Ud,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=L,c.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,c.material.toneMapped=bi.getTransfer(L.colorSpace)!==ur,L.matrixAutoUpdate===!0&&L.updateMatrix(),c.material.uniforms.uvTransform.value.copy(L.matrix),(d!==L||p!==L.version||v!==t.toneMapping)&&(c.material.needsUpdate=!0,d=L,p=L.version,v=t.toneMapping),c.layers.enableAll(),R.unshift(c,c.geometry,c.material,0,0,null))}function A(R,C){R.getRGB(m2,jG(t)),i.buffers.color.setClear(m2.r,m2.g,m2.b,C,s)}function T(){f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return o},setClearColor:function(R,C=1){o.set(R),l=C,A(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(R){l=R,A(o,l)},render:S,addToRenderList:b,dispose:T}}function lle(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),i={},r=p(null);let a=r,s=!1;function o(F,j,ne,W,Y){let K=!1;const H=d(W,ne,j);a!==H&&(a=H,c(a.object)),K=v(F,W,ne,Y),K&&_(F,W,ne,Y),Y!==null&&e.update(Y,t.ELEMENT_ARRAY_BUFFER),(K||s)&&(s=!1,C(F,j,ne,W),Y!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(Y).buffer))}function l(){return t.createVertexArray()}function c(F){return t.bindVertexArray(F)}function f(F){return t.deleteVertexArray(F)}function d(F,j,ne){const W=ne.wireframe===!0;let Y=i[F.id];Y===void 0&&(Y={},i[F.id]=Y);let K=Y[j.id];K===void 0&&(K={},Y[j.id]=K);let H=K[W];return H===void 0&&(H=p(l()),K[W]=H),H}function p(F){const j=[],ne=[],W=[];for(let Y=0;Y<n;Y++)j[Y]=0,ne[Y]=0,W[Y]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:j,enabledAttributes:ne,attributeDivisors:W,object:F,attributes:{},index:null}}function v(F,j,ne,W){const Y=a.attributes,K=j.attributes;let H=0;const J=ne.getAttributes();for(const Q in J)if(J[Q].location>=0){const V=Y[Q];let $=K[Q];if($===void 0&&(Q==="instanceMatrix"&&F.instanceMatrix&&($=F.instanceMatrix),Q==="instanceColor"&&F.instanceColor&&($=F.instanceColor)),V===void 0||V.attribute!==$||$&&V.data!==$.data)return!0;H++}return a.attributesNum!==H||a.index!==W}function _(F,j,ne,W){const Y={},K=j.attributes;let H=0;const J=ne.getAttributes();for(const Q in J)if(J[Q].location>=0){let V=K[Q];V===void 0&&(Q==="instanceMatrix"&&F.instanceMatrix&&(V=F.instanceMatrix),Q==="instanceColor"&&F.instanceColor&&(V=F.instanceColor));const $={};$.attribute=V,V&&V.data&&($.data=V.data),Y[Q]=$,H++}a.attributes=Y,a.attributesNum=H,a.index=W}function S(){const F=a.newAttributes;for(let j=0,ne=F.length;j<ne;j++)F[j]=0}function b(F){A(F,0)}function A(F,j){const ne=a.newAttributes,W=a.enabledAttributes,Y=a.attributeDivisors;ne[F]=1,W[F]===0&&(t.enableVertexAttribArray(F),W[F]=1),Y[F]!==j&&(t.vertexAttribDivisor(F,j),Y[F]=j)}function T(){const F=a.newAttributes,j=a.enabledAttributes;for(let ne=0,W=j.length;ne<W;ne++)j[ne]!==F[ne]&&(t.disableVertexAttribArray(ne),j[ne]=0)}function R(F,j,ne,W,Y,K,H){H===!0?t.vertexAttribIPointer(F,j,ne,Y,K):t.vertexAttribPointer(F,j,ne,W,Y,K)}function C(F,j,ne,W){S();const Y=W.attributes,K=ne.getAttributes(),H=j.defaultAttributeValues;for(const J in K){const Q=K[J];if(Q.location>=0){let ie=Y[J];if(ie===void 0&&(J==="instanceMatrix"&&F.instanceMatrix&&(ie=F.instanceMatrix),J==="instanceColor"&&F.instanceColor&&(ie=F.instanceColor)),ie!==void 0){const V=ie.normalized,$=ie.itemSize,oe=e.get(ie);if(oe===void 0)continue;const de=oe.buffer,fe=oe.type,ge=oe.bytesPerElement,Se=fe===t.INT||fe===t.UNSIGNED_INT||ie.gpuType===NR;if(ie.isInterleavedBufferAttribute){const De=ie.data,He=De.stride,Fe=ie.offset;if(De.isInstancedInterleavedBuffer){for(let ke=0;ke<Q.locationSize;ke++)A(Q.location+ke,De.meshPerAttribute);F.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=De.meshPerAttribute*De.count)}else for(let ke=0;ke<Q.locationSize;ke++)b(Q.location+ke);t.bindBuffer(t.ARRAY_BUFFER,de);for(let ke=0;ke<Q.locationSize;ke++)R(Q.location+ke,$/Q.locationSize,fe,V,He*ge,(Fe+$/Q.locationSize*ke)*ge,Se)}else{if(ie.isInstancedBufferAttribute){for(let De=0;De<Q.locationSize;De++)A(Q.location+De,ie.meshPerAttribute);F.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=ie.meshPerAttribute*ie.count)}else for(let De=0;De<Q.locationSize;De++)b(Q.location+De);t.bindBuffer(t.ARRAY_BUFFER,de);for(let De=0;De<Q.locationSize;De++)R(Q.location+De,$/Q.locationSize,fe,V,$*ge,$/Q.locationSize*De*ge,Se)}}else if(H!==void 0){const V=H[J];if(V!==void 0)switch(V.length){case 2:t.vertexAttrib2fv(Q.location,V);break;case 3:t.vertexAttrib3fv(Q.location,V);break;case 4:t.vertexAttrib4fv(Q.location,V);break;default:t.vertexAttrib1fv(Q.location,V)}}}}T()}function L(){G();for(const F in i){const j=i[F];for(const ne in j){const W=j[ne];for(const Y in W)f(W[Y].object),delete W[Y];delete j[ne]}delete i[F]}}function P(F){if(i[F.id]===void 0)return;const j=i[F.id];for(const ne in j){const W=j[ne];for(const Y in W)f(W[Y].object),delete W[Y];delete j[ne]}delete i[F.id]}function k(F){for(const j in i){const ne=i[j];if(ne[F.id]===void 0)continue;const W=ne[F.id];for(const Y in W)f(W[Y].object),delete W[Y];delete ne[F.id]}}function G(){z(),s=!0,a!==r&&(a=r,c(a.object))}function z(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:o,reset:G,resetDefaultState:z,dispose:L,releaseStatesOfGeometry:P,releaseStatesOfProgram:k,initAttributes:S,enableAttribute:b,disableUnusedAttributes:T}}function cle(t,e,n){let i;function r(c){i=c}function a(c,f){t.drawArrays(i,c,f),n.update(f,i,1)}function s(c,f,d){d!==0&&(t.drawArraysInstanced(i,c,f,d),n.update(f,i,d))}function o(c,f,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,c,0,f,0,d);let v=0;for(let _=0;_<d;_++)v+=f[_];n.update(v,i,1)}function l(c,f,d,p){if(d===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let _=0;_<c.length;_++)s(c[_],f[_],p[_]);else{v.multiDrawArraysInstancedWEBGL(i,c,0,f,0,p,0,d);let _=0;for(let S=0;S<d;S++)_+=f[S]*p[S];n.update(_,i,1)}}this.setMode=r,this.render=a,this.renderInstances=s,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function ule(t,e,n,i){let r;function a(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const k=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(k.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(k){return!(k!==jo&&i.convert(k)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(k){const G=k===o1&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(k!==xh&&i.convert(k)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&k!==Oc&&!G)}function l(k){if(k==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";k="mediump"}return k==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const f=l(c);f!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",f,"instead."),c=f);const d=n.logarithmicDepthBuffer===!0,p=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),v=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),_=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),S=t.getParameter(t.MAX_TEXTURE_SIZE),b=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),A=t.getParameter(t.MAX_VERTEX_ATTRIBS),T=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),R=t.getParameter(t.MAX_VARYING_VECTORS),C=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),L=_>0,P=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:l,textureFormatReadable:s,textureTypeReadable:o,precision:c,logarithmicDepthBuffer:d,reverseDepthBuffer:p,maxTextures:v,maxVertexTextures:_,maxTextureSize:S,maxCubemapSize:b,maxAttributes:A,maxVertexUniforms:T,maxVaryings:R,maxFragmentUniforms:C,vertexTextures:L,maxSamples:P}}function fle(t){const e=this;let n=null,i=0,r=!1,a=!1;const s=new cm,o=new Pn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const v=d.length!==0||p||i!==0||r;return r=p,i=d.length,v},this.beginShadows=function(){a=!0,f(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(d,p){n=f(d,p,0)},this.setState=function(d,p,v){const _=d.clippingPlanes,S=d.clipIntersection,b=d.clipShadows,A=t.get(d);if(!r||_===null||_.length===0||a&&!b)a?f(null):c();else{const T=a?0:i,R=T*4;let C=A.clippingState||null;l.value=C,C=f(_,p,R,v);for(let L=0;L!==R;++L)C[L]=n[L];A.clippingState=C,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=T}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function f(d,p,v,_){const S=d!==null?d.length:0;let b=null;if(S!==0){if(b=l.value,_!==!0||b===null){const A=v+S*4,T=p.matrixWorldInverse;o.getNormalMatrix(T),(b===null||b.length<A)&&(b=new Float32Array(A));for(let R=0,C=v;R!==S;++R,C+=4)s.copy(d[R]).applyMatrix4(T,o),s.normal.toArray(b,C),b[C+3]=s.constant}l.value=b,l.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,b}}function hle(t){let e=new WeakMap;function n(s,o){return o===wS?s.mapping=Rm:o===ES&&(s.mapping=l0),s}function i(s){if(s&&s.isTexture){const o=s.mapping;if(o===wS||o===ES)if(e.has(s)){const l=e.get(s).texture;return n(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const c=new qG(l.height);return c.fromEquirectangularTexture(t,s),e.set(s,c),s.addEventListener("dispose",r),n(c.texture,s.mapping)}else return null}}return s}function r(s){const o=s.target;o.removeEventListener("dispose",r);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function a(){e=new WeakMap}return{get:i,dispose:a}}const Z_=4,L6=[.125,.215,.35,.446,.526,.582],cy=20,ND=new gh,P6=new Lt;let DD=null,BD=0,OD=0,LD=!1;const ty=(1+Math.sqrt(5))/2,D_=1/ty,U6=[new me(-ty,D_,0),new me(ty,D_,0),new me(-D_,0,ty),new me(D_,0,ty),new me(0,ty,-D_),new me(0,ty,D_),new me(-1,1,-1),new me(1,1,-1),new me(-1,1,1),new me(1,1,1)],dle=new me;class Q4{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,r=100,a={}){const{size:s=256,position:o=dle}=a;DD=this._renderer.getRenderTarget(),BD=this._renderer.getActiveCubeFace(),OD=this._renderer.getActiveMipmapLevel(),LD=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(s);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,i,r,l,o),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=z6(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=F6(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(DD,BD,OD),this._renderer.xr.enabled=LD,e.scissorTest=!1,g2(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Rm||e.mapping===l0?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),DD=this._renderer.getRenderTarget(),BD=this._renderer.getActiveCubeFace(),OD=this._renderer.getActiveMipmapLevel(),LD=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:Fa,minFilter:Fa,generateMipmaps:!1,type:o1,format:jo,colorSpace:u0,depthBuffer:!1},r=I6(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=I6(e,n,i);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=ple(a)),this._blurMaterial=mle(a,e,n)}return r}_compileMaterial(e){const n=new za(this._lodPlanes[0],e);this._renderer.compile(n,ND)}_sceneToCubeUV(e,n,i,r,a){const l=new Wr(90,1,n,i),c=[1,-1,1,1,1,1],f=[1,1,1,-1,-1,-1],d=this._renderer,p=d.autoClear,v=d.toneMapping;d.getClearColor(P6),d.toneMapping=Dd,d.autoClear=!1;const _=new bu({name:"PMREM.Background",side:Fl,depthWrite:!1,depthTest:!1}),S=new za(new cx,_);let b=!1;const A=e.background;A?A.isColor&&(_.color.copy(A),e.background=null,b=!0):(_.color.copy(P6),b=!0);for(let T=0;T<6;T++){const R=T%3;R===0?(l.up.set(0,c[T],0),l.position.set(a.x,a.y,a.z),l.lookAt(a.x+f[T],a.y,a.z)):R===1?(l.up.set(0,0,c[T]),l.position.set(a.x,a.y,a.z),l.lookAt(a.x,a.y+f[T],a.z)):(l.up.set(0,c[T],0),l.position.set(a.x,a.y,a.z),l.lookAt(a.x,a.y,a.z+f[T]));const C=this._cubeSize;g2(r,R*C,T>2?C:0,C,C),d.setRenderTarget(r),b&&d.render(S,l),d.render(e,l)}S.geometry.dispose(),S.material.dispose(),d.toneMapping=v,d.autoClear=p,e.background=A}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===Rm||e.mapping===l0;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=z6()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=F6());const a=r?this._cubemapMaterial:this._equirectMaterial,s=new za(this._lodPlanes[0],a),o=a.uniforms;o.envMap.value=e;const l=this._cubeSize;g2(n,0,0,3*l,2*l),i.setRenderTarget(n),i.render(s,ND)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;const r=this._lodPlanes.length;for(let a=1;a<r;a++){const s=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),o=U6[(r-a-1)%U6.length];this._blur(e,a-1,a,s,o)}n.autoClear=i}_blur(e,n,i,r,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,n,i,r,"latitudinal",a),this._halfBlur(s,e,i,i,r,"longitudinal",a)}_halfBlur(e,n,i,r,a,s,o){const l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,d=new za(this._lodPlanes[r],c),p=c.uniforms,v=this._sizeLods[i]-1,_=isFinite(a)?Math.PI/(2*v):2*Math.PI/(2*cy-1),S=a/_,b=isFinite(a)?1+Math.floor(f*S):cy;b>cy&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${b} samples when the maximum is set to ${cy}`);const A=[];let T=0;for(let k=0;k<cy;++k){const G=k/S,z=Math.exp(-G*G/2);A.push(z),k===0?T+=z:k<b&&(T+=2*z)}for(let k=0;k<A.length;k++)A[k]=A[k]/T;p.envMap.value=e.texture,p.samples.value=b,p.weights.value=A,p.latitudinal.value=s==="latitudinal",o&&(p.poleAxis.value=o);const{_lodMax:R}=this;p.dTheta.value=_,p.mipInt.value=R-i;const C=this._sizeLods[r],L=3*C*(r>R-Z_?r-R+Z_:0),P=4*(this._cubeSize-C);g2(n,L,P,3*C,2*C),l.setRenderTarget(n),l.render(d,ND)}}function ple(t){const e=[],n=[],i=[];let r=t;const a=t-Z_+1+L6.length;for(let s=0;s<a;s++){const o=Math.pow(2,r);n.push(o);let l=1/o;s>t-Z_?l=L6[s-t+Z_-1]:s===0&&(l=0),i.push(l);const c=1/(o-2),f=-c,d=1+c,p=[f,f,d,f,d,d,f,f,d,d,f,d],v=6,_=6,S=3,b=2,A=1,T=new Float32Array(S*_*v),R=new Float32Array(b*_*v),C=new Float32Array(A*_*v);for(let P=0;P<v;P++){const k=P%3*2/3-1,G=P>2?0:-1,z=[k,G,0,k+2/3,G,0,k+2/3,G+1,0,k,G,0,k+2/3,G+1,0,k,G+1,0];T.set(z,S*_*P),R.set(p,b*_*P);const F=[P,P,P,P,P,P];C.set(F,A*_*P)}const L=new In;L.setAttribute("position",new Pi(T,S)),L.setAttribute("uv",new Pi(R,b)),L.setAttribute("faceIndex",new Pi(C,A)),e.push(L),r>Z_&&r--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function I6(t,e,n){const i=new Id(t,e,n);return i.texture.mapping=s1,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function g2(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function mle(t,e,n){const i=new Float32Array(cy),r=new me(0,1,0);return new _h({name:"SphericalGaussianBlur",defines:{n:cy,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:VL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Sm,depthTest:!1,depthWrite:!1})}function F6(){return new _h({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:VL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Sm,depthTest:!1,depthWrite:!1})}function z6(){return new _h({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:VL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Sm,depthTest:!1,depthWrite:!1})}function VL(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function gle(t){let e=new WeakMap,n=null;function i(o){if(o&&o.isTexture){const l=o.mapping,c=l===wS||l===ES,f=l===Rm||l===l0;if(c||f){let d=e.get(o);const p=d!==void 0?d.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==p)return n===null&&(n=new Q4(t)),d=c?n.fromEquirectangular(o,d):n.fromCubemap(o,d),d.texture.pmremVersion=o.pmremVersion,e.set(o,d),d.texture;if(d!==void 0)return d.texture;{const v=o.image;return c&&v&&v.height>0||f&&v&&r(v)?(n===null&&(n=new Q4(t)),d=c?n.fromEquirectangular(o):n.fromCubemap(o),d.texture.pmremVersion=o.pmremVersion,e.set(o,d),o.addEventListener("dispose",a),d.texture):null}}}return o}function r(o){let l=0;const c=6;for(let f=0;f<c;f++)o[f]!==void 0&&l++;return l===c}function a(o){const l=o.target;l.removeEventListener("dispose",a);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:s}}function vle(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(i){const r=n(i);return r===null&&SE("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function yle(t,e,n,i){const r={},a=new WeakMap;function s(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const _ in p.attributes)e.remove(p.attributes[_]);p.removeEventListener("dispose",s),delete r[p.id];const v=a.get(p);v&&(e.remove(v),a.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function o(d,p){return r[p.id]===!0||(p.addEventListener("dispose",s),r[p.id]=!0,n.memory.geometries++),p}function l(d){const p=d.attributes;for(const v in p)e.update(p[v],t.ARRAY_BUFFER)}function c(d){const p=[],v=d.index,_=d.attributes.position;let S=0;if(v!==null){const T=v.array;S=v.version;for(let R=0,C=T.length;R<C;R+=3){const L=T[R+0],P=T[R+1],k=T[R+2];p.push(L,P,P,k,k,L)}}else if(_!==void 0){const T=_.array;S=_.version;for(let R=0,C=T.length/3-1;R<C;R+=3){const L=R+0,P=R+1,k=R+2;p.push(L,P,P,k,k,L)}}else return;const b=new(zG(p)?pL:dL)(p,1);b.version=S;const A=a.get(d);A&&e.remove(A),a.set(d,b)}function f(d){const p=a.get(d);if(p){const v=d.index;v!==null&&p.version<v.version&&c(d)}else c(d);return a.get(d)}return{get:o,update:l,getWireframeAttribute:f}}function xle(t,e,n){let i;function r(p){i=p}let a,s;function o(p){a=p.type,s=p.bytesPerElement}function l(p,v){t.drawElements(i,v,a,p*s),n.update(v,i,1)}function c(p,v,_){_!==0&&(t.drawElementsInstanced(i,v,a,p*s,_),n.update(v,i,_))}function f(p,v,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,v,0,a,p,0,_);let b=0;for(let A=0;A<_;A++)b+=v[A];n.update(b,i,1)}function d(p,v,_,S){if(_===0)return;const b=e.get("WEBGL_multi_draw");if(b===null)for(let A=0;A<p.length;A++)c(p[A]/s,v[A],S[A]);else{b.multiDrawElementsInstancedWEBGL(i,v,0,a,p,0,S,0,_);let A=0;for(let T=0;T<_;T++)A+=v[T]*S[T];n.update(A,i,1)}}this.setMode=r,this.setIndex=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=f,this.renderMultiDrawInstances=d}function _le(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,s,o){switch(n.calls++,s){case t.TRIANGLES:n.triangles+=o*(a/3);break;case t.LINES:n.lines+=o*(a/2);break;case t.LINE_STRIP:n.lines+=o*(a-1);break;case t.LINE_LOOP:n.lines+=o*a;break;case t.POINTS:n.points+=o*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function r(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function ble(t,e,n){const i=new WeakMap,r=new Li;function a(s,o,l){const c=s.morphTargetInfluences,f=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,d=f!==void 0?f.length:0;let p=i.get(o);if(p===void 0||p.count!==d){let F=function(){G.dispose(),i.delete(o),o.removeEventListener("dispose",F)};var v=F;p!==void 0&&p.texture.dispose();const _=o.morphAttributes.position!==void 0,S=o.morphAttributes.normal!==void 0,b=o.morphAttributes.color!==void 0,A=o.morphAttributes.position||[],T=o.morphAttributes.normal||[],R=o.morphAttributes.color||[];let C=0;_===!0&&(C=1),S===!0&&(C=2),b===!0&&(C=3);let L=o.attributes.position.count*C,P=1;L>e.maxTextureSize&&(P=Math.ceil(L/e.maxTextureSize),L=e.maxTextureSize);const k=new Float32Array(L*P*4*d),G=new xM(k,L,P,d);G.type=Oc,G.needsUpdate=!0;const z=C*4;for(let j=0;j<d;j++){const ne=A[j],W=T[j],Y=R[j],K=L*P*4*j;for(let H=0;H<ne.count;H++){const J=H*z;_===!0&&(r.fromBufferAttribute(ne,H),k[K+J+0]=r.x,k[K+J+1]=r.y,k[K+J+2]=r.z,k[K+J+3]=0),S===!0&&(r.fromBufferAttribute(W,H),k[K+J+4]=r.x,k[K+J+5]=r.y,k[K+J+6]=r.z,k[K+J+7]=0),b===!0&&(r.fromBufferAttribute(Y,H),k[K+J+8]=r.x,k[K+J+9]=r.y,k[K+J+10]=r.z,k[K+J+11]=Y.itemSize===4?r.w:1)}}p={count:d,texture:G,size:new ct(L,P)},i.set(o,p),o.addEventListener("dispose",F)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",s.morphTexture,n);else{let _=0;for(let b=0;b<c.length;b++)_+=c[b];const S=o.morphTargetsRelative?1:1-_;l.getUniforms().setValue(t,"morphTargetBaseInfluence",S),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",p.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",p.size)}return{update:a}}function Ale(t,e,n,i){let r=new WeakMap;function a(l){const c=i.render.frame,f=l.geometry,d=e.get(l,f);if(r.get(d)!==c&&(e.update(d),r.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),r.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;r.get(p)!==c&&(p.update(),r.set(p,c))}return d}function s(){r=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:a,dispose:s}}const zj=new Kr,H6=new bL(1,1),Hj=new xM,kj=new FR,Gj=new _M,k6=[],G6=[],j6=new Float32Array(16),V6=new Float32Array(9),X6=new Float32Array(4);function f1(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let a=k6[r];if(a===void 0&&(a=new Float32Array(r),k6[r]=a),e!==0){i.toArray(a,0);for(let s=1,o=0;s!==e;++s)o+=n,t[s].toArray(a,o)}return a}function vs(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function ys(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function a3(t,e){let n=G6[e];n===void 0&&(n=new Int32Array(e),G6[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function Sle(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Mle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(vs(n,e))return;t.uniform2fv(this.addr,e),ys(n,e)}}function wle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(vs(n,e))return;t.uniform3fv(this.addr,e),ys(n,e)}}function Ele(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(vs(n,e))return;t.uniform4fv(this.addr,e),ys(n,e)}}function Tle(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(vs(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ys(n,e)}else{if(vs(n,i))return;X6.set(i),t.uniformMatrix2fv(this.addr,!1,X6),ys(n,i)}}function Cle(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(vs(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ys(n,e)}else{if(vs(n,i))return;V6.set(i),t.uniformMatrix3fv(this.addr,!1,V6),ys(n,i)}}function Rle(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(vs(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ys(n,e)}else{if(vs(n,i))return;j6.set(i),t.uniformMatrix4fv(this.addr,!1,j6),ys(n,i)}}function Nle(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Dle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(vs(n,e))return;t.uniform2iv(this.addr,e),ys(n,e)}}function Ble(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(vs(n,e))return;t.uniform3iv(this.addr,e),ys(n,e)}}function Ole(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(vs(n,e))return;t.uniform4iv(this.addr,e),ys(n,e)}}function Lle(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Ple(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(vs(n,e))return;t.uniform2uiv(this.addr,e),ys(n,e)}}function Ule(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(vs(n,e))return;t.uniform3uiv(this.addr,e),ys(n,e)}}function Ile(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(vs(n,e))return;t.uniform4uiv(this.addr,e),ys(n,e)}}function Fle(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r);let a;this.type===t.SAMPLER_2D_SHADOW?(H6.compareFunction=fL,a=H6):a=zj,n.setTexture2D(e||a,r)}function zle(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||kj,r)}function Hle(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||Gj,r)}function kle(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||Hj,r)}function Gle(t){switch(t){case 5126:return Sle;case 35664:return Mle;case 35665:return wle;case 35666:return Ele;case 35674:return Tle;case 35675:return Cle;case 35676:return Rle;case 5124:case 35670:return Nle;case 35667:case 35671:return Dle;case 35668:case 35672:return Ble;case 35669:case 35673:return Ole;case 5125:return Lle;case 36294:return Ple;case 36295:return Ule;case 36296:return Ile;case 35678:case 36198:case 36298:case 36306:case 35682:return Fle;case 35679:case 36299:case 36307:return zle;case 35680:case 36300:case 36308:case 36293:return Hle;case 36289:case 36303:case 36311:case 36292:return kle}}function jle(t,e){t.uniform1fv(this.addr,e)}function Vle(t,e){const n=f1(e,this.size,2);t.uniform2fv(this.addr,n)}function Xle(t,e){const n=f1(e,this.size,3);t.uniform3fv(this.addr,n)}function qle(t,e){const n=f1(e,this.size,4);t.uniform4fv(this.addr,n)}function Yle(t,e){const n=f1(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Wle(t,e){const n=f1(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Jle(t,e){const n=f1(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Kle(t,e){t.uniform1iv(this.addr,e)}function $le(t,e){t.uniform2iv(this.addr,e)}function Zle(t,e){t.uniform3iv(this.addr,e)}function Qle(t,e){t.uniform4iv(this.addr,e)}function ece(t,e){t.uniform1uiv(this.addr,e)}function tce(t,e){t.uniform2uiv(this.addr,e)}function nce(t,e){t.uniform3uiv(this.addr,e)}function ice(t,e){t.uniform4uiv(this.addr,e)}function rce(t,e,n){const i=this.cache,r=e.length,a=a3(n,r);vs(i,a)||(t.uniform1iv(this.addr,a),ys(i,a));for(let s=0;s!==r;++s)n.setTexture2D(e[s]||zj,a[s])}function ace(t,e,n){const i=this.cache,r=e.length,a=a3(n,r);vs(i,a)||(t.uniform1iv(this.addr,a),ys(i,a));for(let s=0;s!==r;++s)n.setTexture3D(e[s]||kj,a[s])}function sce(t,e,n){const i=this.cache,r=e.length,a=a3(n,r);vs(i,a)||(t.uniform1iv(this.addr,a),ys(i,a));for(let s=0;s!==r;++s)n.setTextureCube(e[s]||Gj,a[s])}function oce(t,e,n){const i=this.cache,r=e.length,a=a3(n,r);vs(i,a)||(t.uniform1iv(this.addr,a),ys(i,a));for(let s=0;s!==r;++s)n.setTexture2DArray(e[s]||Hj,a[s])}function lce(t){switch(t){case 5126:return jle;case 35664:return Vle;case 35665:return Xle;case 35666:return qle;case 35674:return Yle;case 35675:return Wle;case 35676:return Jle;case 5124:case 35670:return Kle;case 35667:case 35671:return $le;case 35668:case 35672:return Zle;case 35669:case 35673:return Qle;case 5125:return ece;case 36294:return tce;case 36295:return nce;case 36296:return ice;case 35678:case 36198:case 36298:case 36306:case 35682:return rce;case 35679:case 36299:case 36307:return ace;case 35680:case 36300:case 36308:case 36293:return sce;case 36289:case 36303:case 36311:case 36292:return oce}}class cce{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=Gle(n.type)}}class uce{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=lce(n.type)}}class fce{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let a=0,s=r.length;a!==s;++a){const o=r[a];o.setValue(e,n[o.id],i)}}}const PD=/(\w+)(\])?(\[|\.)?/g;function q6(t,e){t.seq.push(e),t.map[e.id]=e}function hce(t,e,n){const i=t.name,r=i.length;for(PD.lastIndex=0;;){const a=PD.exec(i),s=PD.lastIndex;let o=a[1];const l=a[2]==="]",c=a[3];if(l&&(o=o|0),c===void 0||c==="["&&s+2===r){q6(n,c===void 0?new cce(o,t,e):new uce(o,t,e));break}else{let d=n.map[o];d===void 0&&(d=new fce(o),q6(n,d)),n=d}}}class wE{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const a=e.getActiveUniform(n,r),s=e.getUniformLocation(n,a.name);hce(a,s,this)}}setValue(e,n,i,r){const a=this.map[n];a!==void 0&&a.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let a=0,s=n.length;a!==s;++a){const o=n[a],l=i[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,a=e.length;r!==a;++r){const s=e[r];s.id in n&&i.push(s)}return i}}function Y6(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const dce=37297;let pce=0;function mce(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),a=Math.min(e+6,n.length);for(let s=r;s<a;s++){const o=s+1;i.push(`${o===e?">":" "} ${o}: ${n[s]}`)}return i.join(`
`)}const W6=new Pn;function gce(t){bi._getMatrix(W6,bi.workingColorSpace,t);const e=`mat3( ${W6.elements.map(n=>n.toFixed(4))} )`;switch(bi.getTransfer(t)){case CS:return[e,"LinearTransferOETF"];case ur:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function J6(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),r=t.getShaderInfoLog(e).trim();if(i&&r==="")return"";const a=/ERROR: 0:(\d+)/.exec(r);if(a){const s=parseInt(a[1]);return n.toUpperCase()+`

`+r+`

`+mce(t.getShaderSource(e),s)}else return r}function vce(t,e){const n=gce(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function yce(t,e){let n;switch(e){case vG:n="Linear";break;case yG:n="Reinhard";break;case xG:n="Cineon";break;case Q5:n="ACESFilmic";break;case bG:n="AgX";break;case AG:n="Neutral";break;case _G:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const v2=new me;function xce(){bi.getLuminanceCoefficients(v2);const t=v2.x.toFixed(4),e=v2.y.toFixed(4),n=v2.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function _ce(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(EA).join(`
`)}function bce(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function Ace(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const a=t.getActiveAttrib(e,r),s=a.name;let o=1;a.type===t.FLOAT_MAT2&&(o=2),a.type===t.FLOAT_MAT3&&(o=3),a.type===t.FLOAT_MAT4&&(o=4),n[s]={type:a.type,location:t.getAttribLocation(e,s),locationSize:o}}return n}function EA(t){return t!==""}function K6(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function $6(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Sce=/^[ \t]*#include +<([\w\d./]+)>/gm;function eO(t){return t.replace(Sce,wce)}const Mce=new Map;function wce(t,e){let n=Yn[e];if(n===void 0){const i=Mce.get(e);if(i!==void 0)n=Yn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return eO(n)}const Ece=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Z6(t){return t.replace(Ece,Tce)}function Tce(t,e,n,i){let r="";for(let a=parseInt(e);a<parseInt(n);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function Q6(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Cce(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===TR?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===$A?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===ih&&(e="SHADOWMAP_TYPE_VSM"),e}function Rce(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Rm:case l0:e="ENVMAP_TYPE_CUBE";break;case s1:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Nce(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case l0:e="ENVMAP_MODE_REFRACTION";break}return e}function Dce(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case vM:e="ENVMAP_BLENDING_MULTIPLY";break;case mG:e="ENVMAP_BLENDING_MIX";break;case gG:e="ENVMAP_BLENDING_ADD";break}return e}function Bce(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}}function Oce(t,e,n,i){const r=t.getContext(),a=n.defines;let s=n.vertexShader,o=n.fragmentShader;const l=Cce(n),c=Rce(n),f=Nce(n),d=Dce(n),p=Bce(n),v=_ce(n),_=bce(a),S=r.createProgram();let b,A,T=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(b=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(EA).join(`
`),b.length>0&&(b+=`
`),A=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(EA).join(`
`),A.length>0&&(A+=`
`)):(b=[Q6(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(EA).join(`
`),A=[Q6(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",n.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Dd?"#define TONE_MAPPING":"",n.toneMapping!==Dd?Yn.tonemapping_pars_fragment:"",n.toneMapping!==Dd?yce("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Yn.colorspace_pars_fragment,vce("linearToOutputTexel",n.outputColorSpace),xce(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(EA).join(`
`)),s=eO(s),s=K6(s,n),s=$6(s,n),o=eO(o),o=K6(o,n),o=$6(o,n),s=Z6(s),o=Z6(o),n.isRawShaderMaterial!==!0&&(T=`#version 300 es
`,b=[v,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+b,A=["#define varying in",n.glslVersion===X4?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===X4?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+A);const R=T+b+s,C=T+A+o,L=Y6(r,r.VERTEX_SHADER,R),P=Y6(r,r.FRAGMENT_SHADER,C);r.attachShader(S,L),r.attachShader(S,P),n.index0AttributeName!==void 0?r.bindAttribLocation(S,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(S,0,"position"),r.linkProgram(S);function k(j){if(t.debug.checkShaderErrors){const ne=r.getProgramInfoLog(S).trim(),W=r.getShaderInfoLog(L).trim(),Y=r.getShaderInfoLog(P).trim();let K=!0,H=!0;if(r.getProgramParameter(S,r.LINK_STATUS)===!1)if(K=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(r,S,L,P);else{const J=J6(r,L,"vertex"),Q=J6(r,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(S,r.VALIDATE_STATUS)+`

Material Name: `+j.name+`
Material Type: `+j.type+`

Program Info Log: `+ne+`
`+J+`
`+Q)}else ne!==""?console.warn("THREE.WebGLProgram: Program Info Log:",ne):(W===""||Y==="")&&(H=!1);H&&(j.diagnostics={runnable:K,programLog:ne,vertexShader:{log:W,prefix:b},fragmentShader:{log:Y,prefix:A}})}r.deleteShader(L),r.deleteShader(P),G=new wE(r,S),z=Ace(r,S)}let G;this.getUniforms=function(){return G===void 0&&k(this),G};let z;this.getAttributes=function(){return z===void 0&&k(this),z};let F=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return F===!1&&(F=r.getProgramParameter(S,dce)),F},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(S),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=pce++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=L,this.fragmentShader=P,this}let Lce=0;class Pce{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),a=this._getShaderStage(i),s=this._getShaderCacheForMaterial(e);return s.has(r)===!1&&(s.add(r),r.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new Uce(e),n.set(e,i)),i}}class Uce{constructor(e){this.id=Lce++,this.code=e,this.usedTimes=0}}function Ice(t,e,n,i,r,a,s){const o=new Eb,l=new Pce,c=new Set,f=[],d=r.logarithmicDepthBuffer,p=r.vertexTextures;let v=r.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(z){return c.add(z),z===0?"uv":`uv${z}`}function b(z,F,j,ne,W){const Y=ne.fog,K=W.geometry,H=z.isMeshStandardMaterial?ne.environment:null,J=(z.isMeshStandardMaterial?n:e).get(z.envMap||H),Q=J&&J.mapping===s1?J.image.height:null,ie=_[z.type];z.precision!==null&&(v=r.getMaxPrecision(z.precision),v!==z.precision&&console.warn("THREE.WebGLProgram.getParameters:",z.precision,"not supported, using",v,"instead."));const V=K.morphAttributes.position||K.morphAttributes.normal||K.morphAttributes.color,$=V!==void 0?V.length:0;let oe=0;K.morphAttributes.position!==void 0&&(oe=1),K.morphAttributes.normal!==void 0&&(oe=2),K.morphAttributes.color!==void 0&&(oe=3);let de,fe,ge,Se;if(ie){const En=oh[ie];de=En.vertexShader,fe=En.fragmentShader}else de=z.vertexShader,fe=z.fragmentShader,l.update(z),ge=l.getVertexShaderID(z),Se=l.getFragmentShaderID(z);const De=t.getRenderTarget(),He=t.state.buffers.depth.getReversed(),Fe=W.isInstancedMesh===!0,ke=W.isBatchedMesh===!0,Qe=!!z.map,Re=!!z.matcap,st=!!J,pe=!!z.aoMap,St=!!z.lightMap,Ie=!!z.bumpMap,_e=!!z.normalMap,Le=!!z.displacementMap,pt=!!z.emissiveMap,ze=!!z.metalnessMap,le=!!z.roughnessMap,te=z.anisotropy>0,Ee=z.clearcoat>0,Xe=z.dispersion>0,et=z.iridescence>0,tt=z.sheen>0,_t=z.transmission>0,gt=te&&!!z.anisotropyMap,Mt=Ee&&!!z.clearcoatMap,An=Ee&&!!z.clearcoatNormalMap,yt=Ee&&!!z.clearcoatRoughnessMap,Ot=et&&!!z.iridescenceMap,zt=et&&!!z.iridescenceThicknessMap,Ht=tt&&!!z.sheenColorMap,wt=tt&&!!z.sheenRoughnessMap,Ae=!!z.specularMap,it=!!z.specularColorMap,Ct=!!z.specularIntensityMap,be=_t&&!!z.transmissionMap,xt=_t&&!!z.thicknessMap,$e=!!z.gradientMap,at=!!z.alphaMap,Dt=z.alphaTest>0,Rt=!!z.alphaHash,Jt=!!z.extensions;let On=Dd;z.toneMapped&&(De===null||De.isXRRenderTarget===!0)&&(On=t.toneMapping);const vi={shaderID:ie,shaderType:z.type,shaderName:z.name,vertexShader:de,fragmentShader:fe,defines:z.defines,customVertexShaderID:ge,customFragmentShaderID:Se,isRawShaderMaterial:z.isRawShaderMaterial===!0,glslVersion:z.glslVersion,precision:v,batching:ke,batchingColor:ke&&W._colorsTexture!==null,instancing:Fe,instancingColor:Fe&&W.instanceColor!==null,instancingMorph:Fe&&W.morphTexture!==null,supportsVertexTextures:p,outputColorSpace:De===null?t.outputColorSpace:De.isXRRenderTarget===!0?De.texture.colorSpace:u0,alphaToCoverage:!!z.alphaToCoverage,map:Qe,matcap:Re,envMap:st,envMapMode:st&&J.mapping,envMapCubeUVHeight:Q,aoMap:pe,lightMap:St,bumpMap:Ie,normalMap:_e,displacementMap:p&&Le,emissiveMap:pt,normalMapObjectSpace:_e&&z.normalMapType===NG,normalMapTangentSpace:_e&&z.normalMapType===_0,metalnessMap:ze,roughnessMap:le,anisotropy:te,anisotropyMap:gt,clearcoat:Ee,clearcoatMap:Mt,clearcoatNormalMap:An,clearcoatRoughnessMap:yt,dispersion:Xe,iridescence:et,iridescenceMap:Ot,iridescenceThicknessMap:zt,sheen:tt,sheenColorMap:Ht,sheenRoughnessMap:wt,specularMap:Ae,specularColorMap:it,specularIntensityMap:Ct,transmission:_t,transmissionMap:be,thicknessMap:xt,gradientMap:$e,opaque:z.transparent===!1&&z.blending===Cy&&z.alphaToCoverage===!1,alphaMap:at,alphaTest:Dt,alphaHash:Rt,combine:z.combine,mapUv:Qe&&S(z.map.channel),aoMapUv:pe&&S(z.aoMap.channel),lightMapUv:St&&S(z.lightMap.channel),bumpMapUv:Ie&&S(z.bumpMap.channel),normalMapUv:_e&&S(z.normalMap.channel),displacementMapUv:Le&&S(z.displacementMap.channel),emissiveMapUv:pt&&S(z.emissiveMap.channel),metalnessMapUv:ze&&S(z.metalnessMap.channel),roughnessMapUv:le&&S(z.roughnessMap.channel),anisotropyMapUv:gt&&S(z.anisotropyMap.channel),clearcoatMapUv:Mt&&S(z.clearcoatMap.channel),clearcoatNormalMapUv:An&&S(z.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:yt&&S(z.clearcoatRoughnessMap.channel),iridescenceMapUv:Ot&&S(z.iridescenceMap.channel),iridescenceThicknessMapUv:zt&&S(z.iridescenceThicknessMap.channel),sheenColorMapUv:Ht&&S(z.sheenColorMap.channel),sheenRoughnessMapUv:wt&&S(z.sheenRoughnessMap.channel),specularMapUv:Ae&&S(z.specularMap.channel),specularColorMapUv:it&&S(z.specularColorMap.channel),specularIntensityMapUv:Ct&&S(z.specularIntensityMap.channel),transmissionMapUv:be&&S(z.transmissionMap.channel),thicknessMapUv:xt&&S(z.thicknessMap.channel),alphaMapUv:at&&S(z.alphaMap.channel),vertexTangents:!!K.attributes.tangent&&(_e||te),vertexColors:z.vertexColors,vertexAlphas:z.vertexColors===!0&&!!K.attributes.color&&K.attributes.color.itemSize===4,pointsUvs:W.isPoints===!0&&!!K.attributes.uv&&(Qe||at),fog:!!Y,useFog:z.fog===!0,fogExp2:!!Y&&Y.isFogExp2,flatShading:z.flatShading===!0,sizeAttenuation:z.sizeAttenuation===!0,logarithmicDepthBuffer:d,reverseDepthBuffer:He,skinning:W.isSkinnedMesh===!0,morphTargets:K.morphAttributes.position!==void 0,morphNormals:K.morphAttributes.normal!==void 0,morphColors:K.morphAttributes.color!==void 0,morphTargetsCount:$,morphTextureStride:oe,numDirLights:F.directional.length,numPointLights:F.point.length,numSpotLights:F.spot.length,numSpotLightMaps:F.spotLightMap.length,numRectAreaLights:F.rectArea.length,numHemiLights:F.hemi.length,numDirLightShadows:F.directionalShadowMap.length,numPointLightShadows:F.pointShadowMap.length,numSpotLightShadows:F.spotShadowMap.length,numSpotLightShadowsWithMaps:F.numSpotLightShadowsWithMaps,numLightProbes:F.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:z.dithering,shadowMapEnabled:t.shadowMap.enabled&&j.length>0,shadowMapType:t.shadowMap.type,toneMapping:On,decodeVideoTexture:Qe&&z.map.isVideoTexture===!0&&bi.getTransfer(z.map.colorSpace)===ur,decodeVideoTextureEmissive:pt&&z.emissiveMap.isVideoTexture===!0&&bi.getTransfer(z.emissiveMap.colorSpace)===ur,premultipliedAlpha:z.premultipliedAlpha,doubleSided:z.side===uf,flipSided:z.side===Fl,useDepthPacking:z.depthPacking>=0,depthPacking:z.depthPacking||0,index0AttributeName:z.index0AttributeName,extensionClipCullDistance:Jt&&z.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Jt&&z.extensions.multiDraw===!0||ke)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:z.customProgramCacheKey()};return vi.vertexUv1s=c.has(1),vi.vertexUv2s=c.has(2),vi.vertexUv3s=c.has(3),c.clear(),vi}function A(z){const F=[];if(z.shaderID?F.push(z.shaderID):(F.push(z.customVertexShaderID),F.push(z.customFragmentShaderID)),z.defines!==void 0)for(const j in z.defines)F.push(j),F.push(z.defines[j]);return z.isRawShaderMaterial===!1&&(T(F,z),R(F,z),F.push(t.outputColorSpace)),F.push(z.customProgramCacheKey),F.join()}function T(z,F){z.push(F.precision),z.push(F.outputColorSpace),z.push(F.envMapMode),z.push(F.envMapCubeUVHeight),z.push(F.mapUv),z.push(F.alphaMapUv),z.push(F.lightMapUv),z.push(F.aoMapUv),z.push(F.bumpMapUv),z.push(F.normalMapUv),z.push(F.displacementMapUv),z.push(F.emissiveMapUv),z.push(F.metalnessMapUv),z.push(F.roughnessMapUv),z.push(F.anisotropyMapUv),z.push(F.clearcoatMapUv),z.push(F.clearcoatNormalMapUv),z.push(F.clearcoatRoughnessMapUv),z.push(F.iridescenceMapUv),z.push(F.iridescenceThicknessMapUv),z.push(F.sheenColorMapUv),z.push(F.sheenRoughnessMapUv),z.push(F.specularMapUv),z.push(F.specularColorMapUv),z.push(F.specularIntensityMapUv),z.push(F.transmissionMapUv),z.push(F.thicknessMapUv),z.push(F.combine),z.push(F.fogExp2),z.push(F.sizeAttenuation),z.push(F.morphTargetsCount),z.push(F.morphAttributeCount),z.push(F.numDirLights),z.push(F.numPointLights),z.push(F.numSpotLights),z.push(F.numSpotLightMaps),z.push(F.numHemiLights),z.push(F.numRectAreaLights),z.push(F.numDirLightShadows),z.push(F.numPointLightShadows),z.push(F.numSpotLightShadows),z.push(F.numSpotLightShadowsWithMaps),z.push(F.numLightProbes),z.push(F.shadowMapType),z.push(F.toneMapping),z.push(F.numClippingPlanes),z.push(F.numClipIntersection),z.push(F.depthPacking)}function R(z,F){o.disableAll(),F.supportsVertexTextures&&o.enable(0),F.instancing&&o.enable(1),F.instancingColor&&o.enable(2),F.instancingMorph&&o.enable(3),F.matcap&&o.enable(4),F.envMap&&o.enable(5),F.normalMapObjectSpace&&o.enable(6),F.normalMapTangentSpace&&o.enable(7),F.clearcoat&&o.enable(8),F.iridescence&&o.enable(9),F.alphaTest&&o.enable(10),F.vertexColors&&o.enable(11),F.vertexAlphas&&o.enable(12),F.vertexUv1s&&o.enable(13),F.vertexUv2s&&o.enable(14),F.vertexUv3s&&o.enable(15),F.vertexTangents&&o.enable(16),F.anisotropy&&o.enable(17),F.alphaHash&&o.enable(18),F.batching&&o.enable(19),F.dispersion&&o.enable(20),F.batchingColor&&o.enable(21),z.push(o.mask),o.disableAll(),F.fog&&o.enable(0),F.useFog&&o.enable(1),F.flatShading&&o.enable(2),F.logarithmicDepthBuffer&&o.enable(3),F.reverseDepthBuffer&&o.enable(4),F.skinning&&o.enable(5),F.morphTargets&&o.enable(6),F.morphNormals&&o.enable(7),F.morphColors&&o.enable(8),F.premultipliedAlpha&&o.enable(9),F.shadowMapEnabled&&o.enable(10),F.doubleSided&&o.enable(11),F.flipSided&&o.enable(12),F.useDepthPacking&&o.enable(13),F.dithering&&o.enable(14),F.transmission&&o.enable(15),F.sheen&&o.enable(16),F.opaque&&o.enable(17),F.pointsUvs&&o.enable(18),F.decodeVideoTexture&&o.enable(19),F.decodeVideoTextureEmissive&&o.enable(20),F.alphaToCoverage&&o.enable(21),z.push(o.mask)}function C(z){const F=_[z.type];let j;if(F){const ne=oh[F];j=VG.clone(ne.uniforms)}else j=z.uniforms;return j}function L(z,F){let j;for(let ne=0,W=f.length;ne<W;ne++){const Y=f[ne];if(Y.cacheKey===F){j=Y,++j.usedTimes;break}}return j===void 0&&(j=new Oce(t,F,z,a),f.push(j)),j}function P(z){if(--z.usedTimes===0){const F=f.indexOf(z);f[F]=f[f.length-1],f.pop(),z.destroy()}}function k(z){l.remove(z)}function G(){l.dispose()}return{getParameters:b,getProgramCacheKey:A,getUniforms:C,acquireProgram:L,releaseProgram:P,releaseShaderCache:k,programs:f,dispose:G}}function Fce(){let t=new WeakMap;function e(s){return t.has(s)}function n(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function i(s){t.delete(s)}function r(s,o,l){t.get(s)[o]=l}function a(){t=new WeakMap}return{has:e,get:n,remove:i,update:r,dispose:a}}function zce(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function eI(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function tI(){const t=[];let e=0;const n=[],i=[],r=[];function a(){e=0,n.length=0,i.length=0,r.length=0}function s(d,p,v,_,S,b){let A=t[e];return A===void 0?(A={id:d.id,object:d,geometry:p,material:v,groupOrder:_,renderOrder:d.renderOrder,z:S,group:b},t[e]=A):(A.id=d.id,A.object=d,A.geometry=p,A.material=v,A.groupOrder=_,A.renderOrder=d.renderOrder,A.z=S,A.group=b),e++,A}function o(d,p,v,_,S,b){const A=s(d,p,v,_,S,b);v.transmission>0?i.push(A):v.transparent===!0?r.push(A):n.push(A)}function l(d,p,v,_,S,b){const A=s(d,p,v,_,S,b);v.transmission>0?i.unshift(A):v.transparent===!0?r.unshift(A):n.unshift(A)}function c(d,p){n.length>1&&n.sort(d||zce),i.length>1&&i.sort(p||eI),r.length>1&&r.sort(p||eI)}function f(){for(let d=e,p=t.length;d<p;d++){const v=t[d];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:n,transmissive:i,transparent:r,init:a,push:o,unshift:l,finish:f,sort:c}}function Hce(){let t=new WeakMap;function e(i,r){const a=t.get(i);let s;return a===void 0?(s=new tI,t.set(i,[s])):r>=a.length?(s=new tI,a.push(s)):s=a[r],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function kce(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new me,color:new Lt};break;case"SpotLight":n={position:new me,direction:new me,color:new Lt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new me,color:new Lt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new me,skyColor:new Lt,groundColor:new Lt};break;case"RectAreaLight":n={color:new Lt,position:new me,halfWidth:new me,halfHeight:new me};break}return t[e.id]=n,n}}}function Gce(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ct};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ct};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ct,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let jce=0;function Vce(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function Xce(t){const e=new kce,n=Gce(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new me);const r=new me,a=new dn,s=new dn;function o(c){let f=0,d=0,p=0;for(let z=0;z<9;z++)i.probe[z].set(0,0,0);let v=0,_=0,S=0,b=0,A=0,T=0,R=0,C=0,L=0,P=0,k=0;c.sort(Vce);for(let z=0,F=c.length;z<F;z++){const j=c[z],ne=j.color,W=j.intensity,Y=j.distance,K=j.shadow&&j.shadow.map?j.shadow.map.texture:null;if(j.isAmbientLight)f+=ne.r*W,d+=ne.g*W,p+=ne.b*W;else if(j.isLightProbe){for(let H=0;H<9;H++)i.probe[H].addScaledVector(j.sh.coefficients[H],W);k++}else if(j.isDirectionalLight){const H=e.get(j);if(H.color.copy(j.color).multiplyScalar(j.intensity),j.castShadow){const J=j.shadow,Q=n.get(j);Q.shadowIntensity=J.intensity,Q.shadowBias=J.bias,Q.shadowNormalBias=J.normalBias,Q.shadowRadius=J.radius,Q.shadowMapSize=J.mapSize,i.directionalShadow[v]=Q,i.directionalShadowMap[v]=K,i.directionalShadowMatrix[v]=j.shadow.matrix,T++}i.directional[v]=H,v++}else if(j.isSpotLight){const H=e.get(j);H.position.setFromMatrixPosition(j.matrixWorld),H.color.copy(ne).multiplyScalar(W),H.distance=Y,H.coneCos=Math.cos(j.angle),H.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),H.decay=j.decay,i.spot[S]=H;const J=j.shadow;if(j.map&&(i.spotLightMap[L]=j.map,L++,J.updateMatrices(j),j.castShadow&&P++),i.spotLightMatrix[S]=J.matrix,j.castShadow){const Q=n.get(j);Q.shadowIntensity=J.intensity,Q.shadowBias=J.bias,Q.shadowNormalBias=J.normalBias,Q.shadowRadius=J.radius,Q.shadowMapSize=J.mapSize,i.spotShadow[S]=Q,i.spotShadowMap[S]=K,C++}S++}else if(j.isRectAreaLight){const H=e.get(j);H.color.copy(ne).multiplyScalar(W),H.halfWidth.set(j.width*.5,0,0),H.halfHeight.set(0,j.height*.5,0),i.rectArea[b]=H,b++}else if(j.isPointLight){const H=e.get(j);if(H.color.copy(j.color).multiplyScalar(j.intensity),H.distance=j.distance,H.decay=j.decay,j.castShadow){const J=j.shadow,Q=n.get(j);Q.shadowIntensity=J.intensity,Q.shadowBias=J.bias,Q.shadowNormalBias=J.normalBias,Q.shadowRadius=J.radius,Q.shadowMapSize=J.mapSize,Q.shadowCameraNear=J.camera.near,Q.shadowCameraFar=J.camera.far,i.pointShadow[_]=Q,i.pointShadowMap[_]=K,i.pointShadowMatrix[_]=j.shadow.matrix,R++}i.point[_]=H,_++}else if(j.isHemisphereLight){const H=e.get(j);H.skyColor.copy(j.color).multiplyScalar(W),H.groundColor.copy(j.groundColor).multiplyScalar(W),i.hemi[A]=H,A++}}b>0&&(t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Pt.LTC_FLOAT_1,i.rectAreaLTC2=Pt.LTC_FLOAT_2):(i.rectAreaLTC1=Pt.LTC_HALF_1,i.rectAreaLTC2=Pt.LTC_HALF_2)),i.ambient[0]=f,i.ambient[1]=d,i.ambient[2]=p;const G=i.hash;(G.directionalLength!==v||G.pointLength!==_||G.spotLength!==S||G.rectAreaLength!==b||G.hemiLength!==A||G.numDirectionalShadows!==T||G.numPointShadows!==R||G.numSpotShadows!==C||G.numSpotMaps!==L||G.numLightProbes!==k)&&(i.directional.length=v,i.spot.length=S,i.rectArea.length=b,i.point.length=_,i.hemi.length=A,i.directionalShadow.length=T,i.directionalShadowMap.length=T,i.pointShadow.length=R,i.pointShadowMap.length=R,i.spotShadow.length=C,i.spotShadowMap.length=C,i.directionalShadowMatrix.length=T,i.pointShadowMatrix.length=R,i.spotLightMatrix.length=C+L-P,i.spotLightMap.length=L,i.numSpotLightShadowsWithMaps=P,i.numLightProbes=k,G.directionalLength=v,G.pointLength=_,G.spotLength=S,G.rectAreaLength=b,G.hemiLength=A,G.numDirectionalShadows=T,G.numPointShadows=R,G.numSpotShadows=C,G.numSpotMaps=L,G.numLightProbes=k,i.version=jce++)}function l(c,f){let d=0,p=0,v=0,_=0,S=0;const b=f.matrixWorldInverse;for(let A=0,T=c.length;A<T;A++){const R=c[A];if(R.isDirectionalLight){const C=i.directional[d];C.direction.setFromMatrixPosition(R.matrixWorld),r.setFromMatrixPosition(R.target.matrixWorld),C.direction.sub(r),C.direction.transformDirection(b),d++}else if(R.isSpotLight){const C=i.spot[v];C.position.setFromMatrixPosition(R.matrixWorld),C.position.applyMatrix4(b),C.direction.setFromMatrixPosition(R.matrixWorld),r.setFromMatrixPosition(R.target.matrixWorld),C.direction.sub(r),C.direction.transformDirection(b),v++}else if(R.isRectAreaLight){const C=i.rectArea[_];C.position.setFromMatrixPosition(R.matrixWorld),C.position.applyMatrix4(b),s.identity(),a.copy(R.matrixWorld),a.premultiply(b),s.extractRotation(a),C.halfWidth.set(R.width*.5,0,0),C.halfHeight.set(0,R.height*.5,0),C.halfWidth.applyMatrix4(s),C.halfHeight.applyMatrix4(s),_++}else if(R.isPointLight){const C=i.point[p];C.position.setFromMatrixPosition(R.matrixWorld),C.position.applyMatrix4(b),p++}else if(R.isHemisphereLight){const C=i.hemi[S];C.direction.setFromMatrixPosition(R.matrixWorld),C.direction.transformDirection(b),S++}}}return{setup:o,setupView:l,state:i}}function nI(t){const e=new Xce(t),n=[],i=[];function r(f){c.camera=f,n.length=0,i.length=0}function a(f){n.push(f)}function s(f){i.push(f)}function o(){e.setup(n)}function l(f){e.setupView(n,f)}const c={lightsArray:n,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:o,setupLightsView:l,pushLight:a,pushShadow:s}}function qce(t){let e=new WeakMap;function n(r,a=0){const s=e.get(r);let o;return s===void 0?(o=new nI(t),e.set(r,[o])):a>=s.length?(o=new nI(t),s.push(o)):o=s[a],o}function i(){e=new WeakMap}return{get:n,dispose:i}}const Yce=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Wce=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Jce(t,e,n){let i=new SM;const r=new ct,a=new ct,s=new Li,o=new CL({depthPacking:RG}),l=new RL,c={},f=n.maxTextureSize,d={[Ud]:Fl,[Fl]:Ud,[uf]:uf},p=new _h({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ct},radius:{value:4}},vertexShader:Yce,fragmentShader:Wce}),v=p.clone();v.defines.HORIZONTAL_PASS=1;const _=new In;_.setAttribute("position",new Pi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new za(_,p),b=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=TR;let A=this.type;this.render=function(P,k,G){if(b.enabled===!1||b.autoUpdate===!1&&b.needsUpdate===!1||P.length===0)return;const z=t.getRenderTarget(),F=t.getActiveCubeFace(),j=t.getActiveMipmapLevel(),ne=t.state;ne.setBlending(Sm),ne.buffers.color.setClear(1,1,1,1),ne.buffers.depth.setTest(!0),ne.setScissorTest(!1);const W=A!==ih&&this.type===ih,Y=A===ih&&this.type!==ih;for(let K=0,H=P.length;K<H;K++){const J=P[K],Q=J.shadow;if(Q===void 0){console.warn("THREE.WebGLShadowMap:",J,"has no shadow.");continue}if(Q.autoUpdate===!1&&Q.needsUpdate===!1)continue;r.copy(Q.mapSize);const ie=Q.getFrameExtents();if(r.multiply(ie),a.copy(Q.mapSize),(r.x>f||r.y>f)&&(r.x>f&&(a.x=Math.floor(f/ie.x),r.x=a.x*ie.x,Q.mapSize.x=a.x),r.y>f&&(a.y=Math.floor(f/ie.y),r.y=a.y*ie.y,Q.mapSize.y=a.y)),Q.map===null||W===!0||Y===!0){const $=this.type!==ih?{minFilter:Is,magFilter:Is}:{};Q.map!==null&&Q.map.dispose(),Q.map=new Id(r.x,r.y,$),Q.map.texture.name=J.name+".shadowMap",Q.camera.updateProjectionMatrix()}t.setRenderTarget(Q.map),t.clear();const V=Q.getViewportCount();for(let $=0;$<V;$++){const oe=Q.getViewport($);s.set(a.x*oe.x,a.y*oe.y,a.x*oe.z,a.y*oe.w),ne.viewport(s),Q.updateMatrices(J,$),i=Q.getFrustum(),C(k,G,Q.camera,J,this.type)}Q.isPointLightShadow!==!0&&this.type===ih&&T(Q,G),Q.needsUpdate=!1}A=this.type,b.needsUpdate=!1,t.setRenderTarget(z,F,j)};function T(P,k){const G=e.update(S);p.defines.VSM_SAMPLES!==P.blurSamples&&(p.defines.VSM_SAMPLES=P.blurSamples,v.defines.VSM_SAMPLES=P.blurSamples,p.needsUpdate=!0,v.needsUpdate=!0),P.mapPass===null&&(P.mapPass=new Id(r.x,r.y)),p.uniforms.shadow_pass.value=P.map.texture,p.uniforms.resolution.value=P.mapSize,p.uniforms.radius.value=P.radius,t.setRenderTarget(P.mapPass),t.clear(),t.renderBufferDirect(k,null,G,p,S,null),v.uniforms.shadow_pass.value=P.mapPass.texture,v.uniforms.resolution.value=P.mapSize,v.uniforms.radius.value=P.radius,t.setRenderTarget(P.map),t.clear(),t.renderBufferDirect(k,null,G,v,S,null)}function R(P,k,G,z){let F=null;const j=G.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(j!==void 0)F=j;else if(F=G.isPointLight===!0?l:o,t.localClippingEnabled&&k.clipShadows===!0&&Array.isArray(k.clippingPlanes)&&k.clippingPlanes.length!==0||k.displacementMap&&k.displacementScale!==0||k.alphaMap&&k.alphaTest>0||k.map&&k.alphaTest>0){const ne=F.uuid,W=k.uuid;let Y=c[ne];Y===void 0&&(Y={},c[ne]=Y);let K=Y[W];K===void 0&&(K=F.clone(),Y[W]=K,k.addEventListener("dispose",L)),F=K}if(F.visible=k.visible,F.wireframe=k.wireframe,z===ih?F.side=k.shadowSide!==null?k.shadowSide:k.side:F.side=k.shadowSide!==null?k.shadowSide:d[k.side],F.alphaMap=k.alphaMap,F.alphaTest=k.alphaTest,F.map=k.map,F.clipShadows=k.clipShadows,F.clippingPlanes=k.clippingPlanes,F.clipIntersection=k.clipIntersection,F.displacementMap=k.displacementMap,F.displacementScale=k.displacementScale,F.displacementBias=k.displacementBias,F.wireframeLinewidth=k.wireframeLinewidth,F.linewidth=k.linewidth,G.isPointLight===!0&&F.isMeshDistanceMaterial===!0){const ne=t.properties.get(F);ne.light=G}return F}function C(P,k,G,z,F){if(P.visible===!1)return;if(P.layers.test(k.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&F===ih)&&(!P.frustumCulled||i.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(G.matrixWorldInverse,P.matrixWorld);const W=e.update(P),Y=P.material;if(Array.isArray(Y)){const K=W.groups;for(let H=0,J=K.length;H<J;H++){const Q=K[H],ie=Y[Q.materialIndex];if(ie&&ie.visible){const V=R(P,ie,z,F);P.onBeforeShadow(t,P,k,G,W,V,Q),t.renderBufferDirect(G,null,W,V,P,Q),P.onAfterShadow(t,P,k,G,W,V,Q)}}}else if(Y.visible){const K=R(P,Y,z,F);P.onBeforeShadow(t,P,k,G,W,K,null),t.renderBufferDirect(G,null,W,K,P,null),P.onAfterShadow(t,P,k,G,W,K,null)}}const ne=P.children;for(let W=0,Y=ne.length;W<Y;W++)C(ne[W],k,G,z,F)}function L(P){P.target.removeEventListener("dispose",L);for(const G in c){const z=c[G],F=P.target.uuid;F in z&&(z[F].dispose(),delete z[F])}}}const Kce={[oT]:lT,[cT]:hT,[uT]:dT,[zy]:fT,[lT]:oT,[hT]:cT,[dT]:uT,[fT]:zy};function $ce(t,e){function n(){let be=!1;const xt=new Li;let $e=null;const at=new Li(0,0,0,0);return{setMask:function(Dt){$e!==Dt&&!be&&(t.colorMask(Dt,Dt,Dt,Dt),$e=Dt)},setLocked:function(Dt){be=Dt},setClear:function(Dt,Rt,Jt,On,vi){vi===!0&&(Dt*=On,Rt*=On,Jt*=On),xt.set(Dt,Rt,Jt,On),at.equals(xt)===!1&&(t.clearColor(Dt,Rt,Jt,On),at.copy(xt))},reset:function(){be=!1,$e=null,at.set(-1,0,0,0)}}}function i(){let be=!1,xt=!1,$e=null,at=null,Dt=null;return{setReversed:function(Rt){if(xt!==Rt){const Jt=e.get("EXT_clip_control");Rt?Jt.clipControlEXT(Jt.LOWER_LEFT_EXT,Jt.ZERO_TO_ONE_EXT):Jt.clipControlEXT(Jt.LOWER_LEFT_EXT,Jt.NEGATIVE_ONE_TO_ONE_EXT),xt=Rt;const On=Dt;Dt=null,this.setClear(On)}},getReversed:function(){return xt},setTest:function(Rt){Rt?De(t.DEPTH_TEST):He(t.DEPTH_TEST)},setMask:function(Rt){$e!==Rt&&!be&&(t.depthMask(Rt),$e=Rt)},setFunc:function(Rt){if(xt&&(Rt=Kce[Rt]),at!==Rt){switch(Rt){case oT:t.depthFunc(t.NEVER);break;case lT:t.depthFunc(t.ALWAYS);break;case cT:t.depthFunc(t.LESS);break;case zy:t.depthFunc(t.LEQUAL);break;case uT:t.depthFunc(t.EQUAL);break;case fT:t.depthFunc(t.GEQUAL);break;case hT:t.depthFunc(t.GREATER);break;case dT:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}at=Rt}},setLocked:function(Rt){be=Rt},setClear:function(Rt){Dt!==Rt&&(xt&&(Rt=1-Rt),t.clearDepth(Rt),Dt=Rt)},reset:function(){be=!1,$e=null,at=null,Dt=null,xt=!1}}}function r(){let be=!1,xt=null,$e=null,at=null,Dt=null,Rt=null,Jt=null,On=null,vi=null;return{setTest:function(En){be||(En?De(t.STENCIL_TEST):He(t.STENCIL_TEST))},setMask:function(En){xt!==En&&!be&&(t.stencilMask(En),xt=En)},setFunc:function(En,Ur,hr){($e!==En||at!==Ur||Dt!==hr)&&(t.stencilFunc(En,Ur,hr),$e=En,at=Ur,Dt=hr)},setOp:function(En,Ur,hr){(Rt!==En||Jt!==Ur||On!==hr)&&(t.stencilOp(En,Ur,hr),Rt=En,Jt=Ur,On=hr)},setLocked:function(En){be=En},setClear:function(En){vi!==En&&(t.clearStencil(En),vi=En)},reset:function(){be=!1,xt=null,$e=null,at=null,Dt=null,Rt=null,Jt=null,On=null,vi=null}}}const a=new n,s=new i,o=new r,l=new WeakMap,c=new WeakMap;let f={},d={},p=new WeakMap,v=[],_=null,S=!1,b=null,A=null,T=null,R=null,C=null,L=null,P=null,k=new Lt(0,0,0),G=0,z=!1,F=null,j=null,ne=null,W=null,Y=null;const K=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let H=!1,J=0;const Q=t.getParameter(t.VERSION);Q.indexOf("WebGL")!==-1?(J=parseFloat(/^WebGL (\d)/.exec(Q)[1]),H=J>=1):Q.indexOf("OpenGL ES")!==-1&&(J=parseFloat(/^OpenGL ES (\d)/.exec(Q)[1]),H=J>=2);let ie=null,V={};const $=t.getParameter(t.SCISSOR_BOX),oe=t.getParameter(t.VIEWPORT),de=new Li().fromArray($),fe=new Li().fromArray(oe);function ge(be,xt,$e,at){const Dt=new Uint8Array(4),Rt=t.createTexture();t.bindTexture(be,Rt),t.texParameteri(be,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(be,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Jt=0;Jt<$e;Jt++)be===t.TEXTURE_3D||be===t.TEXTURE_2D_ARRAY?t.texImage3D(xt,0,t.RGBA,1,1,at,0,t.RGBA,t.UNSIGNED_BYTE,Dt):t.texImage2D(xt+Jt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Dt);return Rt}const Se={};Se[t.TEXTURE_2D]=ge(t.TEXTURE_2D,t.TEXTURE_2D,1),Se[t.TEXTURE_CUBE_MAP]=ge(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),Se[t.TEXTURE_2D_ARRAY]=ge(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),Se[t.TEXTURE_3D]=ge(t.TEXTURE_3D,t.TEXTURE_3D,1,1),a.setClear(0,0,0,1),s.setClear(1),o.setClear(0),De(t.DEPTH_TEST),s.setFunc(zy),Ie(!1),_e(z4),De(t.CULL_FACE),pe(Sm);function De(be){f[be]!==!0&&(t.enable(be),f[be]=!0)}function He(be){f[be]!==!1&&(t.disable(be),f[be]=!1)}function Fe(be,xt){return d[be]!==xt?(t.bindFramebuffer(be,xt),d[be]=xt,be===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=xt),be===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=xt),!0):!1}function ke(be,xt){let $e=v,at=!1;if(be){$e=p.get(xt),$e===void 0&&($e=[],p.set(xt,$e));const Dt=be.textures;if($e.length!==Dt.length||$e[0]!==t.COLOR_ATTACHMENT0){for(let Rt=0,Jt=Dt.length;Rt<Jt;Rt++)$e[Rt]=t.COLOR_ATTACHMENT0+Rt;$e.length=Dt.length,at=!0}}else $e[0]!==t.BACK&&($e[0]=t.BACK,at=!0);at&&t.drawBuffers($e)}function Qe(be){return _!==be?(t.useProgram(be),_=be,!0):!1}const Re={[Kg]:t.FUNC_ADD,[Zk]:t.FUNC_SUBTRACT,[Qk]:t.FUNC_REVERSE_SUBTRACT};Re[eG]=t.MIN,Re[tG]=t.MAX;const st={[nG]:t.ZERO,[iG]:t.ONE,[rG]:t.SRC_COLOR,[aT]:t.SRC_ALPHA,[uG]:t.SRC_ALPHA_SATURATE,[lG]:t.DST_COLOR,[sG]:t.DST_ALPHA,[aG]:t.ONE_MINUS_SRC_COLOR,[sT]:t.ONE_MINUS_SRC_ALPHA,[cG]:t.ONE_MINUS_DST_COLOR,[oG]:t.ONE_MINUS_DST_ALPHA,[fG]:t.CONSTANT_COLOR,[hG]:t.ONE_MINUS_CONSTANT_COLOR,[dG]:t.CONSTANT_ALPHA,[pG]:t.ONE_MINUS_CONSTANT_ALPHA};function pe(be,xt,$e,at,Dt,Rt,Jt,On,vi,En){if(be===Sm){S===!0&&(He(t.BLEND),S=!1);return}if(S===!1&&(De(t.BLEND),S=!0),be!==$k){if(be!==b||En!==z){if((A!==Kg||C!==Kg)&&(t.blendEquation(t.FUNC_ADD),A=Kg,C=Kg),En)switch(be){case Cy:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case H4:t.blendFunc(t.ONE,t.ONE);break;case k4:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case G4:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",be);break}else switch(be){case Cy:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case H4:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case k4:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case G4:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",be);break}T=null,R=null,L=null,P=null,k.set(0,0,0),G=0,b=be,z=En}return}Dt=Dt||xt,Rt=Rt||$e,Jt=Jt||at,(xt!==A||Dt!==C)&&(t.blendEquationSeparate(Re[xt],Re[Dt]),A=xt,C=Dt),($e!==T||at!==R||Rt!==L||Jt!==P)&&(t.blendFuncSeparate(st[$e],st[at],st[Rt],st[Jt]),T=$e,R=at,L=Rt,P=Jt),(On.equals(k)===!1||vi!==G)&&(t.blendColor(On.r,On.g,On.b,vi),k.copy(On),G=vi),b=be,z=!1}function St(be,xt){be.side===uf?He(t.CULL_FACE):De(t.CULL_FACE);let $e=be.side===Fl;xt&&($e=!$e),Ie($e),be.blending===Cy&&be.transparent===!1?pe(Sm):pe(be.blending,be.blendEquation,be.blendSrc,be.blendDst,be.blendEquationAlpha,be.blendSrcAlpha,be.blendDstAlpha,be.blendColor,be.blendAlpha,be.premultipliedAlpha),s.setFunc(be.depthFunc),s.setTest(be.depthTest),s.setMask(be.depthWrite),a.setMask(be.colorWrite);const at=be.stencilWrite;o.setTest(at),at&&(o.setMask(be.stencilWriteMask),o.setFunc(be.stencilFunc,be.stencilRef,be.stencilFuncMask),o.setOp(be.stencilFail,be.stencilZFail,be.stencilZPass)),pt(be.polygonOffset,be.polygonOffsetFactor,be.polygonOffsetUnits),be.alphaToCoverage===!0?De(t.SAMPLE_ALPHA_TO_COVERAGE):He(t.SAMPLE_ALPHA_TO_COVERAGE)}function Ie(be){F!==be&&(be?t.frontFace(t.CW):t.frontFace(t.CCW),F=be)}function _e(be){be!==Wk?(De(t.CULL_FACE),be!==j&&(be===z4?t.cullFace(t.BACK):be===Jk?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):He(t.CULL_FACE),j=be}function Le(be){be!==ne&&(H&&t.lineWidth(be),ne=be)}function pt(be,xt,$e){be?(De(t.POLYGON_OFFSET_FILL),(W!==xt||Y!==$e)&&(t.polygonOffset(xt,$e),W=xt,Y=$e)):He(t.POLYGON_OFFSET_FILL)}function ze(be){be?De(t.SCISSOR_TEST):He(t.SCISSOR_TEST)}function le(be){be===void 0&&(be=t.TEXTURE0+K-1),ie!==be&&(t.activeTexture(be),ie=be)}function te(be,xt,$e){$e===void 0&&(ie===null?$e=t.TEXTURE0+K-1:$e=ie);let at=V[$e];at===void 0&&(at={type:void 0,texture:void 0},V[$e]=at),(at.type!==be||at.texture!==xt)&&(ie!==$e&&(t.activeTexture($e),ie=$e),t.bindTexture(be,xt||Se[be]),at.type=be,at.texture=xt)}function Ee(){const be=V[ie];be!==void 0&&be.type!==void 0&&(t.bindTexture(be.type,null),be.type=void 0,be.texture=void 0)}function Xe(){try{t.compressedTexImage2D(...arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function et(){try{t.compressedTexImage3D(...arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function tt(){try{t.texSubImage2D(...arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function _t(){try{t.texSubImage3D(...arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function gt(){try{t.compressedTexSubImage2D(...arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function Mt(){try{t.compressedTexSubImage3D(...arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function An(){try{t.texStorage2D(...arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function yt(){try{t.texStorage3D(...arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function Ot(){try{t.texImage2D(...arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function zt(){try{t.texImage3D(...arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function Ht(be){de.equals(be)===!1&&(t.scissor(be.x,be.y,be.z,be.w),de.copy(be))}function wt(be){fe.equals(be)===!1&&(t.viewport(be.x,be.y,be.z,be.w),fe.copy(be))}function Ae(be,xt){let $e=c.get(xt);$e===void 0&&($e=new WeakMap,c.set(xt,$e));let at=$e.get(be);at===void 0&&(at=t.getUniformBlockIndex(xt,be.name),$e.set(be,at))}function it(be,xt){const at=c.get(xt).get(be);l.get(xt)!==at&&(t.uniformBlockBinding(xt,at,be.__bindingPointIndex),l.set(xt,at))}function Ct(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),s.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),f={},ie=null,V={},d={},p=new WeakMap,v=[],_=null,S=!1,b=null,A=null,T=null,R=null,C=null,L=null,P=null,k=new Lt(0,0,0),G=0,z=!1,F=null,j=null,ne=null,W=null,Y=null,de.set(0,0,t.canvas.width,t.canvas.height),fe.set(0,0,t.canvas.width,t.canvas.height),a.reset(),s.reset(),o.reset()}return{buffers:{color:a,depth:s,stencil:o},enable:De,disable:He,bindFramebuffer:Fe,drawBuffers:ke,useProgram:Qe,setBlending:pe,setMaterial:St,setFlipSided:Ie,setCullFace:_e,setLineWidth:Le,setPolygonOffset:pt,setScissorTest:ze,activeTexture:le,bindTexture:te,unbindTexture:Ee,compressedTexImage2D:Xe,compressedTexImage3D:et,texImage2D:Ot,texImage3D:zt,updateUBOMapping:Ae,uniformBlockBinding:it,texStorage2D:An,texStorage3D:yt,texSubImage2D:tt,texSubImage3D:_t,compressedTexSubImage2D:gt,compressedTexSubImage3D:Mt,scissor:Ht,viewport:wt,reset:Ct}}function Zce(t,e,n,i,r,a,s){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new ct,f=new WeakMap;let d;const p=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(le,te){return v?new OffscreenCanvas(le,te):DS("canvas")}function S(le,te,Ee){let Xe=1;const et=ze(le);if((et.width>Ee||et.height>Ee)&&(Xe=Ee/Math.max(et.width,et.height)),Xe<1)if(typeof HTMLImageElement<"u"&&le instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&le instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&le instanceof ImageBitmap||typeof VideoFrame<"u"&&le instanceof VideoFrame){const tt=Math.floor(Xe*et.width),_t=Math.floor(Xe*et.height);d===void 0&&(d=_(tt,_t));const gt=te?_(tt,_t):d;return gt.width=tt,gt.height=_t,gt.getContext("2d").drawImage(le,0,0,tt,_t),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+et.width+"x"+et.height+") to ("+tt+"x"+_t+")."),gt}else return"data"in le&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+et.width+"x"+et.height+")."),le;return le}function b(le){return le.generateMipmaps}function A(le){t.generateMipmap(le)}function T(le){return le.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:le.isWebGL3DRenderTarget?t.TEXTURE_3D:le.isWebGLArrayRenderTarget||le.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function R(le,te,Ee,Xe,et=!1){if(le!==null){if(t[le]!==void 0)return t[le];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+le+"'")}let tt=te;if(te===t.RED&&(Ee===t.FLOAT&&(tt=t.R32F),Ee===t.HALF_FLOAT&&(tt=t.R16F),Ee===t.UNSIGNED_BYTE&&(tt=t.R8)),te===t.RED_INTEGER&&(Ee===t.UNSIGNED_BYTE&&(tt=t.R8UI),Ee===t.UNSIGNED_SHORT&&(tt=t.R16UI),Ee===t.UNSIGNED_INT&&(tt=t.R32UI),Ee===t.BYTE&&(tt=t.R8I),Ee===t.SHORT&&(tt=t.R16I),Ee===t.INT&&(tt=t.R32I)),te===t.RG&&(Ee===t.FLOAT&&(tt=t.RG32F),Ee===t.HALF_FLOAT&&(tt=t.RG16F),Ee===t.UNSIGNED_BYTE&&(tt=t.RG8)),te===t.RG_INTEGER&&(Ee===t.UNSIGNED_BYTE&&(tt=t.RG8UI),Ee===t.UNSIGNED_SHORT&&(tt=t.RG16UI),Ee===t.UNSIGNED_INT&&(tt=t.RG32UI),Ee===t.BYTE&&(tt=t.RG8I),Ee===t.SHORT&&(tt=t.RG16I),Ee===t.INT&&(tt=t.RG32I)),te===t.RGB_INTEGER&&(Ee===t.UNSIGNED_BYTE&&(tt=t.RGB8UI),Ee===t.UNSIGNED_SHORT&&(tt=t.RGB16UI),Ee===t.UNSIGNED_INT&&(tt=t.RGB32UI),Ee===t.BYTE&&(tt=t.RGB8I),Ee===t.SHORT&&(tt=t.RGB16I),Ee===t.INT&&(tt=t.RGB32I)),te===t.RGBA_INTEGER&&(Ee===t.UNSIGNED_BYTE&&(tt=t.RGBA8UI),Ee===t.UNSIGNED_SHORT&&(tt=t.RGBA16UI),Ee===t.UNSIGNED_INT&&(tt=t.RGBA32UI),Ee===t.BYTE&&(tt=t.RGBA8I),Ee===t.SHORT&&(tt=t.RGBA16I),Ee===t.INT&&(tt=t.RGBA32I)),te===t.RGB&&Ee===t.UNSIGNED_INT_5_9_9_9_REV&&(tt=t.RGB9_E5),te===t.RGBA){const _t=et?CS:bi.getTransfer(Xe);Ee===t.FLOAT&&(tt=t.RGBA32F),Ee===t.HALF_FLOAT&&(tt=t.RGBA16F),Ee===t.UNSIGNED_BYTE&&(tt=_t===ur?t.SRGB8_ALPHA8:t.RGBA8),Ee===t.UNSIGNED_SHORT_4_4_4_4&&(tt=t.RGBA4),Ee===t.UNSIGNED_SHORT_5_5_5_1&&(tt=t.RGB5_A1)}return(tt===t.R16F||tt===t.R32F||tt===t.RG16F||tt===t.RG32F||tt===t.RGBA16F||tt===t.RGBA32F)&&e.get("EXT_color_buffer_float"),tt}function C(le,te){let Ee;return le?te===null||te===Nm||te===_b?Ee=t.DEPTH24_STENCIL8:te===Oc?Ee=t.DEPTH32F_STENCIL8:te===xb&&(Ee=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):te===null||te===Nm||te===_b?Ee=t.DEPTH_COMPONENT24:te===Oc?Ee=t.DEPTH_COMPONENT32F:te===xb&&(Ee=t.DEPTH_COMPONENT16),Ee}function L(le,te){return b(le)===!0||le.isFramebufferTexture&&le.minFilter!==Is&&le.minFilter!==Fa?Math.log2(Math.max(te.width,te.height))+1:le.mipmaps!==void 0&&le.mipmaps.length>0?le.mipmaps.length:le.isCompressedTexture&&Array.isArray(le.image)?te.mipmaps.length:1}function P(le){const te=le.target;te.removeEventListener("dispose",P),G(te),te.isVideoTexture&&f.delete(te)}function k(le){const te=le.target;te.removeEventListener("dispose",k),F(te)}function G(le){const te=i.get(le);if(te.__webglInit===void 0)return;const Ee=le.source,Xe=p.get(Ee);if(Xe){const et=Xe[te.__cacheKey];et.usedTimes--,et.usedTimes===0&&z(le),Object.keys(Xe).length===0&&p.delete(Ee)}i.remove(le)}function z(le){const te=i.get(le);t.deleteTexture(te.__webglTexture);const Ee=le.source,Xe=p.get(Ee);delete Xe[te.__cacheKey],s.memory.textures--}function F(le){const te=i.get(le);if(le.depthTexture&&(le.depthTexture.dispose(),i.remove(le.depthTexture)),le.isWebGLCubeRenderTarget)for(let Xe=0;Xe<6;Xe++){if(Array.isArray(te.__webglFramebuffer[Xe]))for(let et=0;et<te.__webglFramebuffer[Xe].length;et++)t.deleteFramebuffer(te.__webglFramebuffer[Xe][et]);else t.deleteFramebuffer(te.__webglFramebuffer[Xe]);te.__webglDepthbuffer&&t.deleteRenderbuffer(te.__webglDepthbuffer[Xe])}else{if(Array.isArray(te.__webglFramebuffer))for(let Xe=0;Xe<te.__webglFramebuffer.length;Xe++)t.deleteFramebuffer(te.__webglFramebuffer[Xe]);else t.deleteFramebuffer(te.__webglFramebuffer);if(te.__webglDepthbuffer&&t.deleteRenderbuffer(te.__webglDepthbuffer),te.__webglMultisampledFramebuffer&&t.deleteFramebuffer(te.__webglMultisampledFramebuffer),te.__webglColorRenderbuffer)for(let Xe=0;Xe<te.__webglColorRenderbuffer.length;Xe++)te.__webglColorRenderbuffer[Xe]&&t.deleteRenderbuffer(te.__webglColorRenderbuffer[Xe]);te.__webglDepthRenderbuffer&&t.deleteRenderbuffer(te.__webglDepthRenderbuffer)}const Ee=le.textures;for(let Xe=0,et=Ee.length;Xe<et;Xe++){const tt=i.get(Ee[Xe]);tt.__webglTexture&&(t.deleteTexture(tt.__webglTexture),s.memory.textures--),i.remove(Ee[Xe])}i.remove(le)}let j=0;function ne(){j=0}function W(){const le=j;return le>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+le+" texture units while this GPU supports only "+r.maxTextures),j+=1,le}function Y(le){const te=[];return te.push(le.wrapS),te.push(le.wrapT),te.push(le.wrapR||0),te.push(le.magFilter),te.push(le.minFilter),te.push(le.anisotropy),te.push(le.internalFormat),te.push(le.format),te.push(le.type),te.push(le.generateMipmaps),te.push(le.premultiplyAlpha),te.push(le.flipY),te.push(le.unpackAlignment),te.push(le.colorSpace),te.join()}function K(le,te){const Ee=i.get(le);if(le.isVideoTexture&&Le(le),le.isRenderTargetTexture===!1&&le.version>0&&Ee.__version!==le.version){const Xe=le.image;if(Xe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Xe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{fe(Ee,le,te);return}}n.bindTexture(t.TEXTURE_2D,Ee.__webglTexture,t.TEXTURE0+te)}function H(le,te){const Ee=i.get(le);if(le.version>0&&Ee.__version!==le.version){fe(Ee,le,te);return}n.bindTexture(t.TEXTURE_2D_ARRAY,Ee.__webglTexture,t.TEXTURE0+te)}function J(le,te){const Ee=i.get(le);if(le.version>0&&Ee.__version!==le.version){fe(Ee,le,te);return}n.bindTexture(t.TEXTURE_3D,Ee.__webglTexture,t.TEXTURE0+te)}function Q(le,te){const Ee=i.get(le);if(le.version>0&&Ee.__version!==le.version){ge(Ee,le,te);return}n.bindTexture(t.TEXTURE_CUBE_MAP,Ee.__webglTexture,t.TEXTURE0+te)}const ie={[c0]:t.REPEAT,[_u]:t.CLAMP_TO_EDGE,[yb]:t.MIRRORED_REPEAT},V={[Is]:t.NEAREST,[RR]:t.NEAREST_MIPMAP_NEAREST,[gy]:t.NEAREST_MIPMAP_LINEAR,[Fa]:t.LINEAR,[sb]:t.LINEAR_MIPMAP_NEAREST,[hf]:t.LINEAR_MIPMAP_LINEAR},$={[DG]:t.NEVER,[IG]:t.ALWAYS,[BG]:t.LESS,[fL]:t.LEQUAL,[OG]:t.EQUAL,[UG]:t.GEQUAL,[LG]:t.GREATER,[PG]:t.NOTEQUAL};function oe(le,te){if(te.type===Oc&&e.has("OES_texture_float_linear")===!1&&(te.magFilter===Fa||te.magFilter===sb||te.magFilter===gy||te.magFilter===hf||te.minFilter===Fa||te.minFilter===sb||te.minFilter===gy||te.minFilter===hf)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(le,t.TEXTURE_WRAP_S,ie[te.wrapS]),t.texParameteri(le,t.TEXTURE_WRAP_T,ie[te.wrapT]),(le===t.TEXTURE_3D||le===t.TEXTURE_2D_ARRAY)&&t.texParameteri(le,t.TEXTURE_WRAP_R,ie[te.wrapR]),t.texParameteri(le,t.TEXTURE_MAG_FILTER,V[te.magFilter]),t.texParameteri(le,t.TEXTURE_MIN_FILTER,V[te.minFilter]),te.compareFunction&&(t.texParameteri(le,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(le,t.TEXTURE_COMPARE_FUNC,$[te.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(te.magFilter===Is||te.minFilter!==gy&&te.minFilter!==hf||te.type===Oc&&e.has("OES_texture_float_linear")===!1)return;if(te.anisotropy>1||i.get(te).__currentAnisotropy){const Ee=e.get("EXT_texture_filter_anisotropic");t.texParameterf(le,Ee.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(te.anisotropy,r.getMaxAnisotropy())),i.get(te).__currentAnisotropy=te.anisotropy}}}function de(le,te){let Ee=!1;le.__webglInit===void 0&&(le.__webglInit=!0,te.addEventListener("dispose",P));const Xe=te.source;let et=p.get(Xe);et===void 0&&(et={},p.set(Xe,et));const tt=Y(te);if(tt!==le.__cacheKey){et[tt]===void 0&&(et[tt]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,Ee=!0),et[tt].usedTimes++;const _t=et[le.__cacheKey];_t!==void 0&&(et[le.__cacheKey].usedTimes--,_t.usedTimes===0&&z(te)),le.__cacheKey=tt,le.__webglTexture=et[tt].texture}return Ee}function fe(le,te,Ee){let Xe=t.TEXTURE_2D;(te.isDataArrayTexture||te.isCompressedArrayTexture)&&(Xe=t.TEXTURE_2D_ARRAY),te.isData3DTexture&&(Xe=t.TEXTURE_3D);const et=de(le,te),tt=te.source;n.bindTexture(Xe,le.__webglTexture,t.TEXTURE0+Ee);const _t=i.get(tt);if(tt.version!==_t.__version||et===!0){n.activeTexture(t.TEXTURE0+Ee);const gt=bi.getPrimaries(bi.workingColorSpace),Mt=te.colorSpace===hm?null:bi.getPrimaries(te.colorSpace),An=te.colorSpace===hm||gt===Mt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,te.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,te.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,te.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,An);let yt=S(te.image,!1,r.maxTextureSize);yt=pt(te,yt);const Ot=a.convert(te.format,te.colorSpace),zt=a.convert(te.type);let Ht=R(te.internalFormat,Ot,zt,te.colorSpace,te.isVideoTexture);oe(Xe,te);let wt;const Ae=te.mipmaps,it=te.isVideoTexture!==!0,Ct=_t.__version===void 0||et===!0,be=tt.dataReady,xt=L(te,yt);if(te.isDepthTexture)Ht=C(te.format===Ab,te.type),Ct&&(it?n.texStorage2D(t.TEXTURE_2D,1,Ht,yt.width,yt.height):n.texImage2D(t.TEXTURE_2D,0,Ht,yt.width,yt.height,0,Ot,zt,null));else if(te.isDataTexture)if(Ae.length>0){it&&Ct&&n.texStorage2D(t.TEXTURE_2D,xt,Ht,Ae[0].width,Ae[0].height);for(let $e=0,at=Ae.length;$e<at;$e++)wt=Ae[$e],it?be&&n.texSubImage2D(t.TEXTURE_2D,$e,0,0,wt.width,wt.height,Ot,zt,wt.data):n.texImage2D(t.TEXTURE_2D,$e,Ht,wt.width,wt.height,0,Ot,zt,wt.data);te.generateMipmaps=!1}else it?(Ct&&n.texStorage2D(t.TEXTURE_2D,xt,Ht,yt.width,yt.height),be&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,yt.width,yt.height,Ot,zt,yt.data)):n.texImage2D(t.TEXTURE_2D,0,Ht,yt.width,yt.height,0,Ot,zt,yt.data);else if(te.isCompressedTexture)if(te.isCompressedArrayTexture){it&&Ct&&n.texStorage3D(t.TEXTURE_2D_ARRAY,xt,Ht,Ae[0].width,Ae[0].height,yt.depth);for(let $e=0,at=Ae.length;$e<at;$e++)if(wt=Ae[$e],te.format!==jo)if(Ot!==null)if(it){if(be)if(te.layerUpdates.size>0){const Dt=Z4(wt.width,wt.height,te.format,te.type);for(const Rt of te.layerUpdates){const Jt=wt.data.subarray(Rt*Dt/wt.data.BYTES_PER_ELEMENT,(Rt+1)*Dt/wt.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,$e,0,0,Rt,wt.width,wt.height,1,Ot,Jt)}te.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,$e,0,0,0,wt.width,wt.height,yt.depth,Ot,wt.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,$e,Ht,wt.width,wt.height,yt.depth,0,wt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else it?be&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,$e,0,0,0,wt.width,wt.height,yt.depth,Ot,zt,wt.data):n.texImage3D(t.TEXTURE_2D_ARRAY,$e,Ht,wt.width,wt.height,yt.depth,0,Ot,zt,wt.data)}else{it&&Ct&&n.texStorage2D(t.TEXTURE_2D,xt,Ht,Ae[0].width,Ae[0].height);for(let $e=0,at=Ae.length;$e<at;$e++)wt=Ae[$e],te.format!==jo?Ot!==null?it?be&&n.compressedTexSubImage2D(t.TEXTURE_2D,$e,0,0,wt.width,wt.height,Ot,wt.data):n.compressedTexImage2D(t.TEXTURE_2D,$e,Ht,wt.width,wt.height,0,wt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):it?be&&n.texSubImage2D(t.TEXTURE_2D,$e,0,0,wt.width,wt.height,Ot,zt,wt.data):n.texImage2D(t.TEXTURE_2D,$e,Ht,wt.width,wt.height,0,Ot,zt,wt.data)}else if(te.isDataArrayTexture)if(it){if(Ct&&n.texStorage3D(t.TEXTURE_2D_ARRAY,xt,Ht,yt.width,yt.height,yt.depth),be)if(te.layerUpdates.size>0){const $e=Z4(yt.width,yt.height,te.format,te.type);for(const at of te.layerUpdates){const Dt=yt.data.subarray(at*$e/yt.data.BYTES_PER_ELEMENT,(at+1)*$e/yt.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,at,yt.width,yt.height,1,Ot,zt,Dt)}te.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,yt.width,yt.height,yt.depth,Ot,zt,yt.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,Ht,yt.width,yt.height,yt.depth,0,Ot,zt,yt.data);else if(te.isData3DTexture)it?(Ct&&n.texStorage3D(t.TEXTURE_3D,xt,Ht,yt.width,yt.height,yt.depth),be&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,yt.width,yt.height,yt.depth,Ot,zt,yt.data)):n.texImage3D(t.TEXTURE_3D,0,Ht,yt.width,yt.height,yt.depth,0,Ot,zt,yt.data);else if(te.isFramebufferTexture){if(Ct)if(it)n.texStorage2D(t.TEXTURE_2D,xt,Ht,yt.width,yt.height);else{let $e=yt.width,at=yt.height;for(let Dt=0;Dt<xt;Dt++)n.texImage2D(t.TEXTURE_2D,Dt,Ht,$e,at,0,Ot,zt,null),$e>>=1,at>>=1}}else if(Ae.length>0){if(it&&Ct){const $e=ze(Ae[0]);n.texStorage2D(t.TEXTURE_2D,xt,Ht,$e.width,$e.height)}for(let $e=0,at=Ae.length;$e<at;$e++)wt=Ae[$e],it?be&&n.texSubImage2D(t.TEXTURE_2D,$e,0,0,Ot,zt,wt):n.texImage2D(t.TEXTURE_2D,$e,Ht,Ot,zt,wt);te.generateMipmaps=!1}else if(it){if(Ct){const $e=ze(yt);n.texStorage2D(t.TEXTURE_2D,xt,Ht,$e.width,$e.height)}be&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ot,zt,yt)}else n.texImage2D(t.TEXTURE_2D,0,Ht,Ot,zt,yt);b(te)&&A(Xe),_t.__version=tt.version,te.onUpdate&&te.onUpdate(te)}le.__version=te.version}function ge(le,te,Ee){if(te.image.length!==6)return;const Xe=de(le,te),et=te.source;n.bindTexture(t.TEXTURE_CUBE_MAP,le.__webglTexture,t.TEXTURE0+Ee);const tt=i.get(et);if(et.version!==tt.__version||Xe===!0){n.activeTexture(t.TEXTURE0+Ee);const _t=bi.getPrimaries(bi.workingColorSpace),gt=te.colorSpace===hm?null:bi.getPrimaries(te.colorSpace),Mt=te.colorSpace===hm||_t===gt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,te.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,te.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,te.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Mt);const An=te.isCompressedTexture||te.image[0].isCompressedTexture,yt=te.image[0]&&te.image[0].isDataTexture,Ot=[];for(let at=0;at<6;at++)!An&&!yt?Ot[at]=S(te.image[at],!0,r.maxCubemapSize):Ot[at]=yt?te.image[at].image:te.image[at],Ot[at]=pt(te,Ot[at]);const zt=Ot[0],Ht=a.convert(te.format,te.colorSpace),wt=a.convert(te.type),Ae=R(te.internalFormat,Ht,wt,te.colorSpace),it=te.isVideoTexture!==!0,Ct=tt.__version===void 0||Xe===!0,be=et.dataReady;let xt=L(te,zt);oe(t.TEXTURE_CUBE_MAP,te);let $e;if(An){it&&Ct&&n.texStorage2D(t.TEXTURE_CUBE_MAP,xt,Ae,zt.width,zt.height);for(let at=0;at<6;at++){$e=Ot[at].mipmaps;for(let Dt=0;Dt<$e.length;Dt++){const Rt=$e[Dt];te.format!==jo?Ht!==null?it?be&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+at,Dt,0,0,Rt.width,Rt.height,Ht,Rt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+at,Dt,Ae,Rt.width,Rt.height,0,Rt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):it?be&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+at,Dt,0,0,Rt.width,Rt.height,Ht,wt,Rt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+at,Dt,Ae,Rt.width,Rt.height,0,Ht,wt,Rt.data)}}}else{if($e=te.mipmaps,it&&Ct){$e.length>0&&xt++;const at=ze(Ot[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,xt,Ae,at.width,at.height)}for(let at=0;at<6;at++)if(yt){it?be&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+at,0,0,0,Ot[at].width,Ot[at].height,Ht,wt,Ot[at].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+at,0,Ae,Ot[at].width,Ot[at].height,0,Ht,wt,Ot[at].data);for(let Dt=0;Dt<$e.length;Dt++){const Jt=$e[Dt].image[at].image;it?be&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+at,Dt+1,0,0,Jt.width,Jt.height,Ht,wt,Jt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+at,Dt+1,Ae,Jt.width,Jt.height,0,Ht,wt,Jt.data)}}else{it?be&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+at,0,0,0,Ht,wt,Ot[at]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+at,0,Ae,Ht,wt,Ot[at]);for(let Dt=0;Dt<$e.length;Dt++){const Rt=$e[Dt];it?be&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+at,Dt+1,0,0,Ht,wt,Rt.image[at]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+at,Dt+1,Ae,Ht,wt,Rt.image[at])}}}b(te)&&A(t.TEXTURE_CUBE_MAP),tt.__version=et.version,te.onUpdate&&te.onUpdate(te)}le.__version=te.version}function Se(le,te,Ee,Xe,et,tt){const _t=a.convert(Ee.format,Ee.colorSpace),gt=a.convert(Ee.type),Mt=R(Ee.internalFormat,_t,gt,Ee.colorSpace),An=i.get(te),yt=i.get(Ee);if(yt.__renderTarget=te,!An.__hasExternalTextures){const Ot=Math.max(1,te.width>>tt),zt=Math.max(1,te.height>>tt);et===t.TEXTURE_3D||et===t.TEXTURE_2D_ARRAY?n.texImage3D(et,tt,Mt,Ot,zt,te.depth,0,_t,gt,null):n.texImage2D(et,tt,Mt,Ot,zt,0,_t,gt,null)}n.bindFramebuffer(t.FRAMEBUFFER,le),_e(te)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Xe,et,yt.__webglTexture,0,Ie(te)):(et===t.TEXTURE_2D||et>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&et<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Xe,et,yt.__webglTexture,tt),n.bindFramebuffer(t.FRAMEBUFFER,null)}function De(le,te,Ee){if(t.bindRenderbuffer(t.RENDERBUFFER,le),te.depthBuffer){const Xe=te.depthTexture,et=Xe&&Xe.isDepthTexture?Xe.type:null,tt=C(te.stencilBuffer,et),_t=te.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,gt=Ie(te);_e(te)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,gt,tt,te.width,te.height):Ee?t.renderbufferStorageMultisample(t.RENDERBUFFER,gt,tt,te.width,te.height):t.renderbufferStorage(t.RENDERBUFFER,tt,te.width,te.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,_t,t.RENDERBUFFER,le)}else{const Xe=te.textures;for(let et=0;et<Xe.length;et++){const tt=Xe[et],_t=a.convert(tt.format,tt.colorSpace),gt=a.convert(tt.type),Mt=R(tt.internalFormat,_t,gt,tt.colorSpace),An=Ie(te);Ee&&_e(te)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,An,Mt,te.width,te.height):_e(te)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,An,Mt,te.width,te.height):t.renderbufferStorage(t.RENDERBUFFER,Mt,te.width,te.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function He(le,te){if(te&&te.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,le),!(te.depthTexture&&te.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Xe=i.get(te.depthTexture);Xe.__renderTarget=te,(!Xe.__webglTexture||te.depthTexture.image.width!==te.width||te.depthTexture.image.height!==te.height)&&(te.depthTexture.image.width=te.width,te.depthTexture.image.height=te.height,te.depthTexture.needsUpdate=!0),K(te.depthTexture,0);const et=Xe.__webglTexture,tt=Ie(te);if(te.depthTexture.format===bb)_e(te)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,et,0,tt):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,et,0);else if(te.depthTexture.format===Ab)_e(te)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,et,0,tt):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,et,0);else throw new Error("Unknown depthTexture format")}function Fe(le){const te=i.get(le),Ee=le.isWebGLCubeRenderTarget===!0;if(te.__boundDepthTexture!==le.depthTexture){const Xe=le.depthTexture;if(te.__depthDisposeCallback&&te.__depthDisposeCallback(),Xe){const et=()=>{delete te.__boundDepthTexture,delete te.__depthDisposeCallback,Xe.removeEventListener("dispose",et)};Xe.addEventListener("dispose",et),te.__depthDisposeCallback=et}te.__boundDepthTexture=Xe}if(le.depthTexture&&!te.__autoAllocateDepthBuffer){if(Ee)throw new Error("target.depthTexture not supported in Cube render targets");He(te.__webglFramebuffer,le)}else if(Ee){te.__webglDepthbuffer=[];for(let Xe=0;Xe<6;Xe++)if(n.bindFramebuffer(t.FRAMEBUFFER,te.__webglFramebuffer[Xe]),te.__webglDepthbuffer[Xe]===void 0)te.__webglDepthbuffer[Xe]=t.createRenderbuffer(),De(te.__webglDepthbuffer[Xe],le,!1);else{const et=le.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,tt=te.__webglDepthbuffer[Xe];t.bindRenderbuffer(t.RENDERBUFFER,tt),t.framebufferRenderbuffer(t.FRAMEBUFFER,et,t.RENDERBUFFER,tt)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,te.__webglFramebuffer),te.__webglDepthbuffer===void 0)te.__webglDepthbuffer=t.createRenderbuffer(),De(te.__webglDepthbuffer,le,!1);else{const Xe=le.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,et=te.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,et),t.framebufferRenderbuffer(t.FRAMEBUFFER,Xe,t.RENDERBUFFER,et)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function ke(le,te,Ee){const Xe=i.get(le);te!==void 0&&Se(Xe.__webglFramebuffer,le,le.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),Ee!==void 0&&Fe(le)}function Qe(le){const te=le.texture,Ee=i.get(le),Xe=i.get(te);le.addEventListener("dispose",k);const et=le.textures,tt=le.isWebGLCubeRenderTarget===!0,_t=et.length>1;if(_t||(Xe.__webglTexture===void 0&&(Xe.__webglTexture=t.createTexture()),Xe.__version=te.version,s.memory.textures++),tt){Ee.__webglFramebuffer=[];for(let gt=0;gt<6;gt++)if(te.mipmaps&&te.mipmaps.length>0){Ee.__webglFramebuffer[gt]=[];for(let Mt=0;Mt<te.mipmaps.length;Mt++)Ee.__webglFramebuffer[gt][Mt]=t.createFramebuffer()}else Ee.__webglFramebuffer[gt]=t.createFramebuffer()}else{if(te.mipmaps&&te.mipmaps.length>0){Ee.__webglFramebuffer=[];for(let gt=0;gt<te.mipmaps.length;gt++)Ee.__webglFramebuffer[gt]=t.createFramebuffer()}else Ee.__webglFramebuffer=t.createFramebuffer();if(_t)for(let gt=0,Mt=et.length;gt<Mt;gt++){const An=i.get(et[gt]);An.__webglTexture===void 0&&(An.__webglTexture=t.createTexture(),s.memory.textures++)}if(le.samples>0&&_e(le)===!1){Ee.__webglMultisampledFramebuffer=t.createFramebuffer(),Ee.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,Ee.__webglMultisampledFramebuffer);for(let gt=0;gt<et.length;gt++){const Mt=et[gt];Ee.__webglColorRenderbuffer[gt]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,Ee.__webglColorRenderbuffer[gt]);const An=a.convert(Mt.format,Mt.colorSpace),yt=a.convert(Mt.type),Ot=R(Mt.internalFormat,An,yt,Mt.colorSpace,le.isXRRenderTarget===!0),zt=Ie(le);t.renderbufferStorageMultisample(t.RENDERBUFFER,zt,Ot,le.width,le.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+gt,t.RENDERBUFFER,Ee.__webglColorRenderbuffer[gt])}t.bindRenderbuffer(t.RENDERBUFFER,null),le.depthBuffer&&(Ee.__webglDepthRenderbuffer=t.createRenderbuffer(),De(Ee.__webglDepthRenderbuffer,le,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(tt){n.bindTexture(t.TEXTURE_CUBE_MAP,Xe.__webglTexture),oe(t.TEXTURE_CUBE_MAP,te);for(let gt=0;gt<6;gt++)if(te.mipmaps&&te.mipmaps.length>0)for(let Mt=0;Mt<te.mipmaps.length;Mt++)Se(Ee.__webglFramebuffer[gt][Mt],le,te,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+gt,Mt);else Se(Ee.__webglFramebuffer[gt],le,te,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+gt,0);b(te)&&A(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(_t){for(let gt=0,Mt=et.length;gt<Mt;gt++){const An=et[gt],yt=i.get(An);n.bindTexture(t.TEXTURE_2D,yt.__webglTexture),oe(t.TEXTURE_2D,An),Se(Ee.__webglFramebuffer,le,An,t.COLOR_ATTACHMENT0+gt,t.TEXTURE_2D,0),b(An)&&A(t.TEXTURE_2D)}n.unbindTexture()}else{let gt=t.TEXTURE_2D;if((le.isWebGL3DRenderTarget||le.isWebGLArrayRenderTarget)&&(gt=le.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(gt,Xe.__webglTexture),oe(gt,te),te.mipmaps&&te.mipmaps.length>0)for(let Mt=0;Mt<te.mipmaps.length;Mt++)Se(Ee.__webglFramebuffer[Mt],le,te,t.COLOR_ATTACHMENT0,gt,Mt);else Se(Ee.__webglFramebuffer,le,te,t.COLOR_ATTACHMENT0,gt,0);b(te)&&A(gt),n.unbindTexture()}le.depthBuffer&&Fe(le)}function Re(le){const te=le.textures;for(let Ee=0,Xe=te.length;Ee<Xe;Ee++){const et=te[Ee];if(b(et)){const tt=T(le),_t=i.get(et).__webglTexture;n.bindTexture(tt,_t),A(tt),n.unbindTexture()}}}const st=[],pe=[];function St(le){if(le.samples>0){if(_e(le)===!1){const te=le.textures,Ee=le.width,Xe=le.height;let et=t.COLOR_BUFFER_BIT;const tt=le.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,_t=i.get(le),gt=te.length>1;if(gt)for(let Mt=0;Mt<te.length;Mt++)n.bindFramebuffer(t.FRAMEBUFFER,_t.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Mt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,_t.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Mt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,_t.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,_t.__webglFramebuffer);for(let Mt=0;Mt<te.length;Mt++){if(le.resolveDepthBuffer&&(le.depthBuffer&&(et|=t.DEPTH_BUFFER_BIT),le.stencilBuffer&&le.resolveStencilBuffer&&(et|=t.STENCIL_BUFFER_BIT)),gt){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,_t.__webglColorRenderbuffer[Mt]);const An=i.get(te[Mt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,An,0)}t.blitFramebuffer(0,0,Ee,Xe,0,0,Ee,Xe,et,t.NEAREST),l===!0&&(st.length=0,pe.length=0,st.push(t.COLOR_ATTACHMENT0+Mt),le.depthBuffer&&le.resolveDepthBuffer===!1&&(st.push(tt),pe.push(tt),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,pe)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,st))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),gt)for(let Mt=0;Mt<te.length;Mt++){n.bindFramebuffer(t.FRAMEBUFFER,_t.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Mt,t.RENDERBUFFER,_t.__webglColorRenderbuffer[Mt]);const An=i.get(te[Mt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,_t.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Mt,t.TEXTURE_2D,An,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,_t.__webglMultisampledFramebuffer)}else if(le.depthBuffer&&le.resolveDepthBuffer===!1&&l){const te=le.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[te])}}}function Ie(le){return Math.min(r.maxSamples,le.samples)}function _e(le){const te=i.get(le);return le.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&te.__useRenderToTexture!==!1}function Le(le){const te=s.render.frame;f.get(le)!==te&&(f.set(le,te),le.update())}function pt(le,te){const Ee=le.colorSpace,Xe=le.format,et=le.type;return le.isCompressedTexture===!0||le.isVideoTexture===!0||Ee!==u0&&Ee!==hm&&(bi.getTransfer(Ee)===ur?(Xe!==jo||et!==xh)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ee)),te}function ze(le){return typeof HTMLImageElement<"u"&&le instanceof HTMLImageElement?(c.width=le.naturalWidth||le.width,c.height=le.naturalHeight||le.height):typeof VideoFrame<"u"&&le instanceof VideoFrame?(c.width=le.displayWidth,c.height=le.displayHeight):(c.width=le.width,c.height=le.height),c}this.allocateTextureUnit=W,this.resetTextureUnits=ne,this.setTexture2D=K,this.setTexture2DArray=H,this.setTexture3D=J,this.setTextureCube=Q,this.rebindTextures=ke,this.setupRenderTarget=Qe,this.updateRenderTargetMipmap=Re,this.updateMultisampleRenderTarget=St,this.setupDepthRenderbuffer=Fe,this.setupFrameBufferTexture=Se,this.useMultisampledRTT=_e}function jj(t,e){function n(i,r=hm){let a;const s=bi.getTransfer(r);if(i===xh)return t.UNSIGNED_BYTE;if(i===DR)return t.UNSIGNED_SHORT_4_4_4_4;if(i===BR)return t.UNSIGNED_SHORT_5_5_5_1;if(i===nL)return t.UNSIGNED_INT_5_9_9_9_REV;if(i===eL)return t.BYTE;if(i===tL)return t.SHORT;if(i===xb)return t.UNSIGNED_SHORT;if(i===NR)return t.INT;if(i===Nm)return t.UNSIGNED_INT;if(i===Oc)return t.FLOAT;if(i===o1)return t.HALF_FLOAT;if(i===iL)return t.ALPHA;if(i===rL)return t.RGB;if(i===jo)return t.RGBA;if(i===aL)return t.LUMINANCE;if(i===sL)return t.LUMINANCE_ALPHA;if(i===bb)return t.DEPTH_COMPONENT;if(i===Ab)return t.DEPTH_STENCIL;if(i===OR)return t.RED;if(i===yM)return t.RED_INTEGER;if(i===oL)return t.RG;if(i===LR)return t.RG_INTEGER;if(i===PR)return t.RGBA_INTEGER;if(i===ZA||i===QA||i===eS||i===tS)if(s===ur)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(i===ZA)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===QA)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===eS)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===tS)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(i===ZA)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===QA)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===eS)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===tS)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===pT||i===mT||i===gT||i===vT)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(i===pT)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===mT)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===gT)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===vT)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===yT||i===xT||i===_T)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(i===yT||i===xT)return s===ur?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(i===_T)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===bT||i===AT||i===ST||i===MT||i===wT||i===ET||i===TT||i===CT||i===RT||i===NT||i===DT||i===BT||i===OT||i===LT)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(i===bT)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===AT)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===ST)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===MT)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===wT)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===ET)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===TT)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===CT)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===RT)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===NT)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===DT)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===BT)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===OT)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===LT)return s===ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===nS||i===PT||i===UT)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(i===nS)return s===ur?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===PT)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===UT)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===lL||i===IT||i===FT||i===zT)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(i===nS)return a.COMPRESSED_RED_RGTC1_EXT;if(i===IT)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===FT)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===zT)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===_b?t.UNSIGNED_INT_24_8:t[i]!==void 0?t[i]:null}return{convert:n}}const Qce=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,eue=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class tue{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,i){if(this.texture===null){const r=new Kr,a=e.properties.get(r);a.__webglTexture=n.texture,(n.depthNear!==i.depthNear||n.depthFar!==i.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,i=new _h({vertexShader:Qce,fragmentShader:eue,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new za(new c1(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class nue extends Vd{constructor(e,n){super();const i=this;let r=null,a=1,s=null,o="local-floor",l=1,c=null,f=null,d=null,p=null,v=null,_=null;const S=new tue,b=n.getContextAttributes();let A=null,T=null;const R=[],C=[],L=new ct;let P=null;const k=new Wr;k.viewport=new Li;const G=new Wr;G.viewport=new Li;const z=[k,G],F=new Bj;let j=null,ne=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(fe){let ge=R[fe];return ge===void 0&&(ge=new ME,R[fe]=ge),ge.getTargetRaySpace()},this.getControllerGrip=function(fe){let ge=R[fe];return ge===void 0&&(ge=new ME,R[fe]=ge),ge.getGripSpace()},this.getHand=function(fe){let ge=R[fe];return ge===void 0&&(ge=new ME,R[fe]=ge),ge.getHandSpace()};function W(fe){const ge=C.indexOf(fe.inputSource);if(ge===-1)return;const Se=R[ge];Se!==void 0&&(Se.update(fe.inputSource,fe.frame,c||s),Se.dispatchEvent({type:fe.type,data:fe.inputSource}))}function Y(){r.removeEventListener("select",W),r.removeEventListener("selectstart",W),r.removeEventListener("selectend",W),r.removeEventListener("squeeze",W),r.removeEventListener("squeezestart",W),r.removeEventListener("squeezeend",W),r.removeEventListener("end",Y),r.removeEventListener("inputsourceschange",K);for(let fe=0;fe<R.length;fe++){const ge=C[fe];ge!==null&&(C[fe]=null,R[fe].disconnect(ge))}j=null,ne=null,S.reset(),e.setRenderTarget(A),v=null,p=null,d=null,r=null,T=null,de.stop(),i.isPresenting=!1,e.setPixelRatio(P),e.setSize(L.width,L.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(fe){a=fe,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(fe){o=fe,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(fe){c=fe},this.getBaseLayer=function(){return p!==null?p:v},this.getBinding=function(){return d},this.getFrame=function(){return _},this.getSession=function(){return r},this.setSession=async function(fe){if(r=fe,r!==null){if(A=e.getRenderTarget(),r.addEventListener("select",W),r.addEventListener("selectstart",W),r.addEventListener("selectend",W),r.addEventListener("squeeze",W),r.addEventListener("squeezestart",W),r.addEventListener("squeezeend",W),r.addEventListener("end",Y),r.addEventListener("inputsourceschange",K),b.xrCompatible!==!0&&await n.makeXRCompatible(),P=e.getPixelRatio(),e.getSize(L),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let Se=null,De=null,He=null;b.depth&&(He=b.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Se=b.stencil?Ab:bb,De=b.stencil?_b:Nm);const Fe={colorFormat:n.RGBA8,depthFormat:He,scaleFactor:a};d=new XRWebGLBinding(r,n),p=d.createProjectionLayer(Fe),r.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),T=new Id(p.textureWidth,p.textureHeight,{format:jo,type:xh,depthTexture:new bL(p.textureWidth,p.textureHeight,De,void 0,void 0,void 0,void 0,void 0,void 0,Se),stencilBuffer:b.stencil,colorSpace:e.outputColorSpace,samples:b.antialias?4:0,resolveDepthBuffer:p.ignoreDepthValues===!1,resolveStencilBuffer:p.ignoreDepthValues===!1})}else{const Se={antialias:b.antialias,alpha:!0,depth:b.depth,stencil:b.stencil,framebufferScaleFactor:a};v=new XRWebGLLayer(r,n,Se),r.updateRenderState({baseLayer:v}),e.setPixelRatio(1),e.setSize(v.framebufferWidth,v.framebufferHeight,!1),T=new Id(v.framebufferWidth,v.framebufferHeight,{format:jo,type:xh,colorSpace:e.outputColorSpace,stencilBuffer:b.stencil,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}T.isXRRenderTarget=!0,this.setFoveation(l),c=null,s=await r.requestReferenceSpace(o),de.setContext(r),de.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return S.getDepthTexture()};function K(fe){for(let ge=0;ge<fe.removed.length;ge++){const Se=fe.removed[ge],De=C.indexOf(Se);De>=0&&(C[De]=null,R[De].disconnect(Se))}for(let ge=0;ge<fe.added.length;ge++){const Se=fe.added[ge];let De=C.indexOf(Se);if(De===-1){for(let Fe=0;Fe<R.length;Fe++)if(Fe>=C.length){C.push(Se),De=Fe;break}else if(C[Fe]===null){C[Fe]=Se,De=Fe;break}if(De===-1)break}const He=R[De];He&&He.connect(Se)}}const H=new me,J=new me;function Q(fe,ge,Se){H.setFromMatrixPosition(ge.matrixWorld),J.setFromMatrixPosition(Se.matrixWorld);const De=H.distanceTo(J),He=ge.projectionMatrix.elements,Fe=Se.projectionMatrix.elements,ke=He[14]/(He[10]-1),Qe=He[14]/(He[10]+1),Re=(He[9]+1)/He[5],st=(He[9]-1)/He[5],pe=(He[8]-1)/He[0],St=(Fe[8]+1)/Fe[0],Ie=ke*pe,_e=ke*St,Le=De/(-pe+St),pt=Le*-pe;if(ge.matrixWorld.decompose(fe.position,fe.quaternion,fe.scale),fe.translateX(pt),fe.translateZ(Le),fe.matrixWorld.compose(fe.position,fe.quaternion,fe.scale),fe.matrixWorldInverse.copy(fe.matrixWorld).invert(),He[10]===-1)fe.projectionMatrix.copy(ge.projectionMatrix),fe.projectionMatrixInverse.copy(ge.projectionMatrixInverse);else{const ze=ke+Le,le=Qe+Le,te=Ie-pt,Ee=_e+(De-pt),Xe=Re*Qe/le*ze,et=st*Qe/le*ze;fe.projectionMatrix.makePerspective(te,Ee,Xe,et,ze,le),fe.projectionMatrixInverse.copy(fe.projectionMatrix).invert()}}function ie(fe,ge){ge===null?fe.matrixWorld.copy(fe.matrix):fe.matrixWorld.multiplyMatrices(ge.matrixWorld,fe.matrix),fe.matrixWorldInverse.copy(fe.matrixWorld).invert()}this.updateCamera=function(fe){if(r===null)return;let ge=fe.near,Se=fe.far;S.texture!==null&&(S.depthNear>0&&(ge=S.depthNear),S.depthFar>0&&(Se=S.depthFar)),F.near=G.near=k.near=ge,F.far=G.far=k.far=Se,(j!==F.near||ne!==F.far)&&(r.updateRenderState({depthNear:F.near,depthFar:F.far}),j=F.near,ne=F.far),k.layers.mask=fe.layers.mask|2,G.layers.mask=fe.layers.mask|4,F.layers.mask=k.layers.mask|G.layers.mask;const De=fe.parent,He=F.cameras;ie(F,De);for(let Fe=0;Fe<He.length;Fe++)ie(He[Fe],De);He.length===2?Q(F,k,G):F.projectionMatrix.copy(k.projectionMatrix),V(fe,F,De)};function V(fe,ge,Se){Se===null?fe.matrix.copy(ge.matrixWorld):(fe.matrix.copy(Se.matrixWorld),fe.matrix.invert(),fe.matrix.multiply(ge.matrixWorld)),fe.matrix.decompose(fe.position,fe.quaternion,fe.scale),fe.updateMatrixWorld(!0),fe.projectionMatrix.copy(ge.projectionMatrix),fe.projectionMatrixInverse.copy(ge.projectionMatrixInverse),fe.isPerspectiveCamera&&(fe.fov=wb*2*Math.atan(1/fe.projectionMatrix.elements[5]),fe.zoom=1)}this.getCamera=function(){return F},this.getFoveation=function(){if(!(p===null&&v===null))return l},this.setFoveation=function(fe){l=fe,p!==null&&(p.fixedFoveation=fe),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=fe)},this.hasDepthSensing=function(){return S.texture!==null},this.getDepthSensingMesh=function(){return S.getMesh(F)};let $=null;function oe(fe,ge){if(f=ge.getViewerPose(c||s),_=ge,f!==null){const Se=f.views;v!==null&&(e.setRenderTargetFramebuffer(T,v.framebuffer),e.setRenderTarget(T));let De=!1;Se.length!==F.cameras.length&&(F.cameras.length=0,De=!0);for(let ke=0;ke<Se.length;ke++){const Qe=Se[ke];let Re=null;if(v!==null)Re=v.getViewport(Qe);else{const pe=d.getViewSubImage(p,Qe);Re=pe.viewport,ke===0&&(e.setRenderTargetTextures(T,pe.colorTexture,pe.depthStencilTexture),e.setRenderTarget(T))}let st=z[ke];st===void 0&&(st=new Wr,st.layers.enable(ke),st.viewport=new Li,z[ke]=st),st.matrix.fromArray(Qe.transform.matrix),st.matrix.decompose(st.position,st.quaternion,st.scale),st.projectionMatrix.fromArray(Qe.projectionMatrix),st.projectionMatrixInverse.copy(st.projectionMatrix).invert(),st.viewport.set(Re.x,Re.y,Re.width,Re.height),ke===0&&(F.matrix.copy(st.matrix),F.matrix.decompose(F.position,F.quaternion,F.scale)),De===!0&&F.cameras.push(st)}const He=r.enabledFeatures;if(He&&He.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&d){const ke=d.getDepthInformation(Se[0]);ke&&ke.isValid&&ke.texture&&S.init(e,ke,r.renderState)}}for(let Se=0;Se<R.length;Se++){const De=C[Se],He=R[Se];De!==null&&He!==void 0&&He.update(De,ge,c||s)}$&&$(fe,ge),ge.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ge}),_=null}const de=new Fj;de.setAnimationLoop(oe),this.setAnimationLoop=function(fe){$=fe},this.dispose=function(){}}}const Vv=new Mu,iue=new dn;function rue(t,e){function n(b,A){b.matrixAutoUpdate===!0&&b.updateMatrix(),A.value.copy(b.matrix)}function i(b,A){A.color.getRGB(b.fogColor.value,jG(t)),A.isFog?(b.fogNear.value=A.near,b.fogFar.value=A.far):A.isFogExp2&&(b.fogDensity.value=A.density)}function r(b,A,T,R,C){A.isMeshBasicMaterial||A.isMeshLambertMaterial?a(b,A):A.isMeshToonMaterial?(a(b,A),d(b,A)):A.isMeshPhongMaterial?(a(b,A),f(b,A)):A.isMeshStandardMaterial?(a(b,A),p(b,A),A.isMeshPhysicalMaterial&&v(b,A,C)):A.isMeshMatcapMaterial?(a(b,A),_(b,A)):A.isMeshDepthMaterial?a(b,A):A.isMeshDistanceMaterial?(a(b,A),S(b,A)):A.isMeshNormalMaterial?a(b,A):A.isLineBasicMaterial?(s(b,A),A.isLineDashedMaterial&&o(b,A)):A.isPointsMaterial?l(b,A,T,R):A.isSpriteMaterial?c(b,A):A.isShadowMaterial?(b.color.value.copy(A.color),b.opacity.value=A.opacity):A.isShaderMaterial&&(A.uniformsNeedUpdate=!1)}function a(b,A){b.opacity.value=A.opacity,A.color&&b.diffuse.value.copy(A.color),A.emissive&&b.emissive.value.copy(A.emissive).multiplyScalar(A.emissiveIntensity),A.map&&(b.map.value=A.map,n(A.map,b.mapTransform)),A.alphaMap&&(b.alphaMap.value=A.alphaMap,n(A.alphaMap,b.alphaMapTransform)),A.bumpMap&&(b.bumpMap.value=A.bumpMap,n(A.bumpMap,b.bumpMapTransform),b.bumpScale.value=A.bumpScale,A.side===Fl&&(b.bumpScale.value*=-1)),A.normalMap&&(b.normalMap.value=A.normalMap,n(A.normalMap,b.normalMapTransform),b.normalScale.value.copy(A.normalScale),A.side===Fl&&b.normalScale.value.negate()),A.displacementMap&&(b.displacementMap.value=A.displacementMap,n(A.displacementMap,b.displacementMapTransform),b.displacementScale.value=A.displacementScale,b.displacementBias.value=A.displacementBias),A.emissiveMap&&(b.emissiveMap.value=A.emissiveMap,n(A.emissiveMap,b.emissiveMapTransform)),A.specularMap&&(b.specularMap.value=A.specularMap,n(A.specularMap,b.specularMapTransform)),A.alphaTest>0&&(b.alphaTest.value=A.alphaTest);const T=e.get(A),R=T.envMap,C=T.envMapRotation;R&&(b.envMap.value=R,Vv.copy(C),Vv.x*=-1,Vv.y*=-1,Vv.z*=-1,R.isCubeTexture&&R.isRenderTargetTexture===!1&&(Vv.y*=-1,Vv.z*=-1),b.envMapRotation.value.setFromMatrix4(iue.makeRotationFromEuler(Vv)),b.flipEnvMap.value=R.isCubeTexture&&R.isRenderTargetTexture===!1?-1:1,b.reflectivity.value=A.reflectivity,b.ior.value=A.ior,b.refractionRatio.value=A.refractionRatio),A.lightMap&&(b.lightMap.value=A.lightMap,b.lightMapIntensity.value=A.lightMapIntensity,n(A.lightMap,b.lightMapTransform)),A.aoMap&&(b.aoMap.value=A.aoMap,b.aoMapIntensity.value=A.aoMapIntensity,n(A.aoMap,b.aoMapTransform))}function s(b,A){b.diffuse.value.copy(A.color),b.opacity.value=A.opacity,A.map&&(b.map.value=A.map,n(A.map,b.mapTransform))}function o(b,A){b.dashSize.value=A.dashSize,b.totalSize.value=A.dashSize+A.gapSize,b.scale.value=A.scale}function l(b,A,T,R){b.diffuse.value.copy(A.color),b.opacity.value=A.opacity,b.size.value=A.size*T,b.scale.value=R*.5,A.map&&(b.map.value=A.map,n(A.map,b.uvTransform)),A.alphaMap&&(b.alphaMap.value=A.alphaMap,n(A.alphaMap,b.alphaMapTransform)),A.alphaTest>0&&(b.alphaTest.value=A.alphaTest)}function c(b,A){b.diffuse.value.copy(A.color),b.opacity.value=A.opacity,b.rotation.value=A.rotation,A.map&&(b.map.value=A.map,n(A.map,b.mapTransform)),A.alphaMap&&(b.alphaMap.value=A.alphaMap,n(A.alphaMap,b.alphaMapTransform)),A.alphaTest>0&&(b.alphaTest.value=A.alphaTest)}function f(b,A){b.specular.value.copy(A.specular),b.shininess.value=Math.max(A.shininess,1e-4)}function d(b,A){A.gradientMap&&(b.gradientMap.value=A.gradientMap)}function p(b,A){b.metalness.value=A.metalness,A.metalnessMap&&(b.metalnessMap.value=A.metalnessMap,n(A.metalnessMap,b.metalnessMapTransform)),b.roughness.value=A.roughness,A.roughnessMap&&(b.roughnessMap.value=A.roughnessMap,n(A.roughnessMap,b.roughnessMapTransform)),A.envMap&&(b.envMapIntensity.value=A.envMapIntensity)}function v(b,A,T){b.ior.value=A.ior,A.sheen>0&&(b.sheenColor.value.copy(A.sheenColor).multiplyScalar(A.sheen),b.sheenRoughness.value=A.sheenRoughness,A.sheenColorMap&&(b.sheenColorMap.value=A.sheenColorMap,n(A.sheenColorMap,b.sheenColorMapTransform)),A.sheenRoughnessMap&&(b.sheenRoughnessMap.value=A.sheenRoughnessMap,n(A.sheenRoughnessMap,b.sheenRoughnessMapTransform))),A.clearcoat>0&&(b.clearcoat.value=A.clearcoat,b.clearcoatRoughness.value=A.clearcoatRoughness,A.clearcoatMap&&(b.clearcoatMap.value=A.clearcoatMap,n(A.clearcoatMap,b.clearcoatMapTransform)),A.clearcoatRoughnessMap&&(b.clearcoatRoughnessMap.value=A.clearcoatRoughnessMap,n(A.clearcoatRoughnessMap,b.clearcoatRoughnessMapTransform)),A.clearcoatNormalMap&&(b.clearcoatNormalMap.value=A.clearcoatNormalMap,n(A.clearcoatNormalMap,b.clearcoatNormalMapTransform),b.clearcoatNormalScale.value.copy(A.clearcoatNormalScale),A.side===Fl&&b.clearcoatNormalScale.value.negate())),A.dispersion>0&&(b.dispersion.value=A.dispersion),A.iridescence>0&&(b.iridescence.value=A.iridescence,b.iridescenceIOR.value=A.iridescenceIOR,b.iridescenceThicknessMinimum.value=A.iridescenceThicknessRange[0],b.iridescenceThicknessMaximum.value=A.iridescenceThicknessRange[1],A.iridescenceMap&&(b.iridescenceMap.value=A.iridescenceMap,n(A.iridescenceMap,b.iridescenceMapTransform)),A.iridescenceThicknessMap&&(b.iridescenceThicknessMap.value=A.iridescenceThicknessMap,n(A.iridescenceThicknessMap,b.iridescenceThicknessMapTransform))),A.transmission>0&&(b.transmission.value=A.transmission,b.transmissionSamplerMap.value=T.texture,b.transmissionSamplerSize.value.set(T.width,T.height),A.transmissionMap&&(b.transmissionMap.value=A.transmissionMap,n(A.transmissionMap,b.transmissionMapTransform)),b.thickness.value=A.thickness,A.thicknessMap&&(b.thicknessMap.value=A.thicknessMap,n(A.thicknessMap,b.thicknessMapTransform)),b.attenuationDistance.value=A.attenuationDistance,b.attenuationColor.value.copy(A.attenuationColor)),A.anisotropy>0&&(b.anisotropyVector.value.set(A.anisotropy*Math.cos(A.anisotropyRotation),A.anisotropy*Math.sin(A.anisotropyRotation)),A.anisotropyMap&&(b.anisotropyMap.value=A.anisotropyMap,n(A.anisotropyMap,b.anisotropyMapTransform))),b.specularIntensity.value=A.specularIntensity,b.specularColor.value.copy(A.specularColor),A.specularColorMap&&(b.specularColorMap.value=A.specularColorMap,n(A.specularColorMap,b.specularColorMapTransform)),A.specularIntensityMap&&(b.specularIntensityMap.value=A.specularIntensityMap,n(A.specularIntensityMap,b.specularIntensityMapTransform))}function _(b,A){A.matcap&&(b.matcap.value=A.matcap)}function S(b,A){const T=e.get(A).light;b.referencePosition.value.setFromMatrixPosition(T.matrixWorld),b.nearDistance.value=T.shadow.camera.near,b.farDistance.value=T.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function aue(t,e,n,i){let r={},a={},s=[];const o=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(T,R){const C=R.program;i.uniformBlockBinding(T,C)}function c(T,R){let C=r[T.id];C===void 0&&(_(T),C=f(T),r[T.id]=C,T.addEventListener("dispose",b));const L=R.program;i.updateUBOMapping(T,L);const P=e.render.frame;a[T.id]!==P&&(p(T),a[T.id]=P)}function f(T){const R=d();T.__bindingPointIndex=R;const C=t.createBuffer(),L=T.__size,P=T.usage;return t.bindBuffer(t.UNIFORM_BUFFER,C),t.bufferData(t.UNIFORM_BUFFER,L,P),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,R,C),C}function d(){for(let T=0;T<o;T++)if(s.indexOf(T)===-1)return s.push(T),T;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(T){const R=r[T.id],C=T.uniforms,L=T.__cache;t.bindBuffer(t.UNIFORM_BUFFER,R);for(let P=0,k=C.length;P<k;P++){const G=Array.isArray(C[P])?C[P]:[C[P]];for(let z=0,F=G.length;z<F;z++){const j=G[z];if(v(j,P,z,L)===!0){const ne=j.__offset,W=Array.isArray(j.value)?j.value:[j.value];let Y=0;for(let K=0;K<W.length;K++){const H=W[K],J=S(H);typeof H=="number"||typeof H=="boolean"?(j.__data[0]=H,t.bufferSubData(t.UNIFORM_BUFFER,ne+Y,j.__data)):H.isMatrix3?(j.__data[0]=H.elements[0],j.__data[1]=H.elements[1],j.__data[2]=H.elements[2],j.__data[3]=0,j.__data[4]=H.elements[3],j.__data[5]=H.elements[4],j.__data[6]=H.elements[5],j.__data[7]=0,j.__data[8]=H.elements[6],j.__data[9]=H.elements[7],j.__data[10]=H.elements[8],j.__data[11]=0):(H.toArray(j.__data,Y),Y+=J.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,ne,j.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function v(T,R,C,L){const P=T.value,k=R+"_"+C;if(L[k]===void 0)return typeof P=="number"||typeof P=="boolean"?L[k]=P:L[k]=P.clone(),!0;{const G=L[k];if(typeof P=="number"||typeof P=="boolean"){if(G!==P)return L[k]=P,!0}else if(G.equals(P)===!1)return G.copy(P),!0}return!1}function _(T){const R=T.uniforms;let C=0;const L=16;for(let k=0,G=R.length;k<G;k++){const z=Array.isArray(R[k])?R[k]:[R[k]];for(let F=0,j=z.length;F<j;F++){const ne=z[F],W=Array.isArray(ne.value)?ne.value:[ne.value];for(let Y=0,K=W.length;Y<K;Y++){const H=W[Y],J=S(H),Q=C%L,ie=Q%J.boundary,V=Q+ie;C+=ie,V!==0&&L-V<J.storage&&(C+=L-V),ne.__data=new Float32Array(J.storage/Float32Array.BYTES_PER_ELEMENT),ne.__offset=C,C+=J.storage}}}const P=C%L;return P>0&&(C+=L-P),T.__size=C,T.__cache={},this}function S(T){const R={boundary:0,storage:0};return typeof T=="number"||typeof T=="boolean"?(R.boundary=4,R.storage=4):T.isVector2?(R.boundary=8,R.storage=8):T.isVector3||T.isColor?(R.boundary=16,R.storage=12):T.isVector4?(R.boundary=16,R.storage=16):T.isMatrix3?(R.boundary=48,R.storage=48):T.isMatrix4?(R.boundary=64,R.storage=64):T.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",T),R}function b(T){const R=T.target;R.removeEventListener("dispose",b);const C=s.indexOf(R.__bindingPointIndex);s.splice(C,1),t.deleteBuffer(r[R.id]),delete r[R.id],delete a[R.id]}function A(){for(const T in r)t.deleteBuffer(r[T]);s=[],r={},a={}}return{bind:l,update:c,dispose:A}}class Vj{constructor(e={}){const{canvas:n=HG(),context:i=null,depth:r=!0,stencil:a=!1,alpha:s=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:d=!1,reverseDepthBuffer:p=!1}=e;this.isWebGLRenderer=!0;let v;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");v=i.getContextAttributes().alpha}else v=s;const _=new Uint32Array(4),S=new Int32Array(4);let b=null,A=null;const T=[],R=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Dd,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const C=this;let L=!1;this._outputColorSpace=ko;let P=0,k=0,G=null,z=-1,F=null;const j=new Li,ne=new Li;let W=null;const Y=new Lt(0);let K=0,H=n.width,J=n.height,Q=1,ie=null,V=null;const $=new Li(0,0,H,J),oe=new Li(0,0,H,J);let de=!1;const fe=new SM;let ge=!1,Se=!1;const De=new dn,He=new dn,Fe=new me,ke=new Li,Qe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Re=!1;function st(){return G===null?Q:1}let pe=i;function St(se,Te){return n.getContext(se,Te)}try{const se={alpha:!0,depth:r,stencil:a,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:f,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${gM}`),n.addEventListener("webglcontextlost",at,!1),n.addEventListener("webglcontextrestored",Dt,!1),n.addEventListener("webglcontextcreationerror",Rt,!1),pe===null){const Te="webgl2";if(pe=St(Te,se),pe===null)throw St(Te)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(se){throw console.error("THREE.WebGLRenderer: "+se.message),se}let Ie,_e,Le,pt,ze,le,te,Ee,Xe,et,tt,_t,gt,Mt,An,yt,Ot,zt,Ht,wt,Ae,it,Ct,be;function xt(){Ie=new vle(pe),Ie.init(),it=new jj(pe,Ie),_e=new ule(pe,Ie,e,it),Le=new $ce(pe,Ie),_e.reverseDepthBuffer&&p&&Le.buffers.depth.setReversed(!0),pt=new _le(pe),ze=new Fce,le=new Zce(pe,Ie,Le,ze,_e,it,pt),te=new hle(C),Ee=new gle(C),Xe=new Eae(pe),Ct=new lle(pe,Xe),et=new yle(pe,Xe,pt,Ct),tt=new Ale(pe,et,Xe,pt),Ht=new ble(pe,_e,le),yt=new fle(ze),_t=new Ice(C,te,Ee,Ie,_e,Ct,yt),gt=new rue(C,ze),Mt=new Hce,An=new qce(Ie),zt=new ole(C,te,Ee,Le,tt,v,l),Ot=new Jce(C,tt,_e),be=new aue(pe,pt,_e,Le),wt=new cle(pe,Ie,pt),Ae=new xle(pe,Ie,pt),pt.programs=_t.programs,C.capabilities=_e,C.extensions=Ie,C.properties=ze,C.renderLists=Mt,C.shadowMap=Ot,C.state=Le,C.info=pt}xt();const $e=new nue(C,pe);this.xr=$e,this.getContext=function(){return pe},this.getContextAttributes=function(){return pe.getContextAttributes()},this.forceContextLoss=function(){const se=Ie.get("WEBGL_lose_context");se&&se.loseContext()},this.forceContextRestore=function(){const se=Ie.get("WEBGL_lose_context");se&&se.restoreContext()},this.getPixelRatio=function(){return Q},this.setPixelRatio=function(se){se!==void 0&&(Q=se,this.setSize(H,J,!1))},this.getSize=function(se){return se.set(H,J)},this.setSize=function(se,Te,We=!0){if($e.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}H=se,J=Te,n.width=Math.floor(se*Q),n.height=Math.floor(Te*Q),We===!0&&(n.style.width=se+"px",n.style.height=Te+"px"),this.setViewport(0,0,se,Te)},this.getDrawingBufferSize=function(se){return se.set(H*Q,J*Q).floor()},this.setDrawingBufferSize=function(se,Te,We){H=se,J=Te,Q=We,n.width=Math.floor(se*We),n.height=Math.floor(Te*We),this.setViewport(0,0,se,Te)},this.getCurrentViewport=function(se){return se.copy(j)},this.getViewport=function(se){return se.copy($)},this.setViewport=function(se,Te,We,Je){se.isVector4?$.set(se.x,se.y,se.z,se.w):$.set(se,Te,We,Je),Le.viewport(j.copy($).multiplyScalar(Q).round())},this.getScissor=function(se){return se.copy(oe)},this.setScissor=function(se,Te,We,Je){se.isVector4?oe.set(se.x,se.y,se.z,se.w):oe.set(se,Te,We,Je),Le.scissor(ne.copy(oe).multiplyScalar(Q).round())},this.getScissorTest=function(){return de},this.setScissorTest=function(se){Le.setScissorTest(de=se)},this.setOpaqueSort=function(se){ie=se},this.setTransparentSort=function(se){V=se},this.getClearColor=function(se){return se.copy(zt.getClearColor())},this.setClearColor=function(){zt.setClearColor(...arguments)},this.getClearAlpha=function(){return zt.getClearAlpha()},this.setClearAlpha=function(){zt.setClearAlpha(...arguments)},this.clear=function(se=!0,Te=!0,We=!0){let Je=0;if(se){let Oe=!1;if(G!==null){const mt=G.texture.format;Oe=mt===PR||mt===LR||mt===yM}if(Oe){const mt=G.texture.type,Tt=mt===xh||mt===Nm||mt===xb||mt===_b||mt===DR||mt===BR,Nt=zt.getClearColor(),Ft=zt.getClearAlpha(),rn=Nt.r,Zt=Nt.g,jt=Nt.b;Tt?(_[0]=rn,_[1]=Zt,_[2]=jt,_[3]=Ft,pe.clearBufferuiv(pe.COLOR,0,_)):(S[0]=rn,S[1]=Zt,S[2]=jt,S[3]=Ft,pe.clearBufferiv(pe.COLOR,0,S))}else Je|=pe.COLOR_BUFFER_BIT}Te&&(Je|=pe.DEPTH_BUFFER_BIT),We&&(Je|=pe.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),pe.clear(Je)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",at,!1),n.removeEventListener("webglcontextrestored",Dt,!1),n.removeEventListener("webglcontextcreationerror",Rt,!1),zt.dispose(),Mt.dispose(),An.dispose(),ze.dispose(),te.dispose(),Ee.dispose(),tt.dispose(),Ct.dispose(),be.dispose(),_t.dispose(),$e.dispose(),$e.removeEventListener("sessionstart",Er),$e.removeEventListener("sessionend",$r),ca.stop()};function at(se){se.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),L=!0}function Dt(){console.log("THREE.WebGLRenderer: Context Restored."),L=!1;const se=pt.autoReset,Te=Ot.enabled,We=Ot.autoUpdate,Je=Ot.needsUpdate,Oe=Ot.type;xt(),pt.autoReset=se,Ot.enabled=Te,Ot.autoUpdate=We,Ot.needsUpdate=Je,Ot.type=Oe}function Rt(se){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",se.statusMessage)}function Jt(se){const Te=se.target;Te.removeEventListener("dispose",Jt),On(Te)}function On(se){vi(se),ze.remove(se)}function vi(se){const Te=ze.get(se).programs;Te!==void 0&&(Te.forEach(function(We){_t.releaseProgram(We)}),se.isShaderMaterial&&_t.releaseShaderCache(se))}this.renderBufferDirect=function(se,Te,We,Je,Oe,mt){Te===null&&(Te=Qe);const Tt=Oe.isMesh&&Oe.matrixWorld.determinant()<0,Nt=Uc(se,Te,We,Je,Oe);Le.setMaterial(Je,Tt);let Ft=We.index,rn=1;if(Je.wireframe===!0){if(Ft=et.getWireframeAttribute(We),Ft===void 0)return;rn=2}const Zt=We.drawRange,jt=We.attributes.position;let Fn=Zt.start*rn,oi=(Zt.start+Zt.count)*rn;mt!==null&&(Fn=Math.max(Fn,mt.start*rn),oi=Math.min(oi,(mt.start+mt.count)*rn)),Ft!==null?(Fn=Math.max(Fn,0),oi=Math.min(oi,Ft.count)):jt!=null&&(Fn=Math.max(Fn,0),oi=Math.min(oi,jt.count));const rr=oi-Fn;if(rr<0||rr===1/0)return;Ct.setup(Oe,Je,Nt,We,Ft);let zn,Vn=wt;if(Ft!==null&&(zn=Xe.get(Ft),Vn=Ae,Vn.setIndex(zn)),Oe.isMesh)Je.wireframe===!0?(Le.setLineWidth(Je.wireframeLinewidth*st()),Vn.setMode(pe.LINES)):Vn.setMode(pe.TRIANGLES);else if(Oe.isLine){let Kt=Je.linewidth;Kt===void 0&&(Kt=1),Le.setLineWidth(Kt*st()),Oe.isLineSegments?Vn.setMode(pe.LINES):Oe.isLineLoop?Vn.setMode(pe.LINE_LOOP):Vn.setMode(pe.LINE_STRIP)}else Oe.isPoints?Vn.setMode(pe.POINTS):Oe.isSprite&&Vn.setMode(pe.TRIANGLES);if(Oe.isBatchedMesh)if(Oe._multiDrawInstances!==null)SE("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Vn.renderMultiDrawInstances(Oe._multiDrawStarts,Oe._multiDrawCounts,Oe._multiDrawCount,Oe._multiDrawInstances);else if(Ie.get("WEBGL_multi_draw"))Vn.renderMultiDraw(Oe._multiDrawStarts,Oe._multiDrawCounts,Oe._multiDrawCount);else{const Kt=Oe._multiDrawStarts,xr=Oe._multiDrawCounts,Zn=Oe._multiDrawCount,Fr=Ft?Xe.get(Ft).bytesPerElement:1,el=ze.get(Je).currentProgram.getUniforms();for(let Xi=0;Xi<Zn;Xi++)el.setValue(pe,"_gl_DrawID",Xi),Vn.render(Kt[Xi]/Fr,xr[Xi])}else if(Oe.isInstancedMesh)Vn.renderInstances(Fn,rr,Oe.count);else if(We.isInstancedBufferGeometry){const Kt=We._maxInstanceCount!==void 0?We._maxInstanceCount:1/0,xr=Math.min(We.instanceCount,Kt);Vn.renderInstances(Fn,rr,xr)}else Vn.render(Fn,rr)};function En(se,Te,We){se.transparent===!0&&se.side===uf&&se.forceSinglePass===!1?(se.side=Fl,se.needsUpdate=!0,Ui(se,Te,We),se.side=Ud,se.needsUpdate=!0,Ui(se,Te,We),se.side=uf):Ui(se,Te,We)}this.compile=function(se,Te,We=null){We===null&&(We=se),A=An.get(We),A.init(Te),R.push(A),We.traverseVisible(function(Oe){Oe.isLight&&Oe.layers.test(Te.layers)&&(A.pushLight(Oe),Oe.castShadow&&A.pushShadow(Oe))}),se!==We&&se.traverseVisible(function(Oe){Oe.isLight&&Oe.layers.test(Te.layers)&&(A.pushLight(Oe),Oe.castShadow&&A.pushShadow(Oe))}),A.setupLights();const Je=new Set;return se.traverse(function(Oe){if(!(Oe.isMesh||Oe.isPoints||Oe.isLine||Oe.isSprite))return;const mt=Oe.material;if(mt)if(Array.isArray(mt))for(let Tt=0;Tt<mt.length;Tt++){const Nt=mt[Tt];En(Nt,We,Oe),Je.add(Nt)}else En(mt,We,Oe),Je.add(mt)}),A=R.pop(),Je},this.compileAsync=function(se,Te,We=null){const Je=this.compile(se,Te,We);return new Promise(Oe=>{function mt(){if(Je.forEach(function(Tt){ze.get(Tt).currentProgram.isReady()&&Je.delete(Tt)}),Je.size===0){Oe(se);return}setTimeout(mt,10)}Ie.get("KHR_parallel_shader_compile")!==null?mt():setTimeout(mt,10)})};let Ur=null;function hr(se){Ur&&Ur(se)}function Er(){ca.stop()}function $r(){ca.start()}const ca=new Fj;ca.setAnimationLoop(hr),typeof self<"u"&&ca.setContext(self),this.setAnimationLoop=function(se){Ur=se,$e.setAnimationLoop(se),se===null?ca.stop():ca.start()},$e.addEventListener("sessionstart",Er),$e.addEventListener("sessionend",$r),this.render=function(se,Te){if(Te!==void 0&&Te.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(L===!0)return;if(se.matrixWorldAutoUpdate===!0&&se.updateMatrixWorld(),Te.parent===null&&Te.matrixWorldAutoUpdate===!0&&Te.updateMatrixWorld(),$e.enabled===!0&&$e.isPresenting===!0&&($e.cameraAutoUpdate===!0&&$e.updateCamera(Te),Te=$e.getCamera()),se.isScene===!0&&se.onBeforeRender(C,se,Te,G),A=An.get(se,R.length),A.init(Te),R.push(A),He.multiplyMatrices(Te.projectionMatrix,Te.matrixWorldInverse),fe.setFromProjectionMatrix(He),Se=this.localClippingEnabled,ge=yt.init(this.clippingPlanes,Se),b=Mt.get(se,T.length),b.init(),T.push(b),$e.enabled===!0&&$e.isPresenting===!0){const mt=C.xr.getDepthSensingMesh();mt!==null&&xs(mt,Te,-1/0,C.sortObjects)}xs(se,Te,0,C.sortObjects),b.finish(),C.sortObjects===!0&&b.sort(ie,V),Re=$e.enabled===!1||$e.isPresenting===!1||$e.hasDepthSensing()===!1,Re&&zt.addToRenderList(b,se),this.info.render.frame++,ge===!0&&yt.beginShadows();const We=A.state.shadowsArray;Ot.render(We,se,Te),ge===!0&&yt.endShadows(),this.info.autoReset===!0&&this.info.reset();const Je=b.opaque,Oe=b.transmissive;if(A.setupLights(),Te.isArrayCamera){const mt=Te.cameras;if(Oe.length>0)for(let Tt=0,Nt=mt.length;Tt<Nt;Tt++){const Ft=mt[Tt];Jo(Je,Oe,se,Ft)}Re&&zt.render(se);for(let Tt=0,Nt=mt.length;Tt<Nt;Tt++){const Ft=mt[Tt];Yd(b,se,Ft,Ft.viewport)}}else Oe.length>0&&Jo(Je,Oe,se,Te),Re&&zt.render(se),Yd(b,se,Te);G!==null&&k===0&&(le.updateMultisampleRenderTarget(G),le.updateRenderTargetMipmap(G)),se.isScene===!0&&se.onAfterRender(C,se,Te),Ct.resetDefaultState(),z=-1,F=null,R.pop(),R.length>0?(A=R[R.length-1],ge===!0&&yt.setGlobalState(C.clippingPlanes,A.state.camera)):A=null,T.pop(),T.length>0?b=T[T.length-1]:b=null};function xs(se,Te,We,Je){if(se.visible===!1)return;if(se.layers.test(Te.layers)){if(se.isGroup)We=se.renderOrder;else if(se.isLOD)se.autoUpdate===!0&&se.update(Te);else if(se.isLight)A.pushLight(se),se.castShadow&&A.pushShadow(se);else if(se.isSprite){if(!se.frustumCulled||fe.intersectsSprite(se)){Je&&ke.setFromMatrixPosition(se.matrixWorld).applyMatrix4(He);const Tt=tt.update(se),Nt=se.material;Nt.visible&&b.push(se,Tt,Nt,We,ke.z,null)}}else if((se.isMesh||se.isLine||se.isPoints)&&(!se.frustumCulled||fe.intersectsObject(se))){const Tt=tt.update(se),Nt=se.material;if(Je&&(se.boundingSphere!==void 0?(se.boundingSphere===null&&se.computeBoundingSphere(),ke.copy(se.boundingSphere.center)):(Tt.boundingSphere===null&&Tt.computeBoundingSphere(),ke.copy(Tt.boundingSphere.center)),ke.applyMatrix4(se.matrixWorld).applyMatrix4(He)),Array.isArray(Nt)){const Ft=Tt.groups;for(let rn=0,Zt=Ft.length;rn<Zt;rn++){const jt=Ft[rn],Fn=Nt[jt.materialIndex];Fn&&Fn.visible&&b.push(se,Tt,Fn,We,ke.z,jt)}}else Nt.visible&&b.push(se,Tt,Nt,We,ke.z,null)}}const mt=se.children;for(let Tt=0,Nt=mt.length;Tt<Nt;Tt++)xs(mt[Tt],Te,We,Je)}function Yd(se,Te,We,Je){const Oe=se.opaque,mt=se.transmissive,Tt=se.transparent;A.setupLightsView(We),ge===!0&&yt.setGlobalState(C.clippingPlanes,We),Je&&Le.viewport(j.copy(Je)),Oe.length>0&&is(Oe,Te,We),mt.length>0&&is(mt,Te,We),Tt.length>0&&is(Tt,Te,We),Le.buffers.depth.setTest(!0),Le.buffers.depth.setMask(!0),Le.buffers.color.setMask(!0),Le.setPolygonOffset(!1)}function Jo(se,Te,We,Je){if((We.isScene===!0?We.overrideMaterial:null)!==null)return;A.state.transmissionRenderTarget[Je.id]===void 0&&(A.state.transmissionRenderTarget[Je.id]=new Id(1,1,{generateMipmaps:!0,type:Ie.has("EXT_color_buffer_half_float")||Ie.has("EXT_color_buffer_float")?o1:xh,minFilter:hf,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:bi.workingColorSpace}));const mt=A.state.transmissionRenderTarget[Je.id],Tt=Je.viewport||j;mt.setSize(Tt.z*C.transmissionResolutionScale,Tt.w*C.transmissionResolutionScale);const Nt=C.getRenderTarget();C.setRenderTarget(mt),C.getClearColor(Y),K=C.getClearAlpha(),K<1&&C.setClearColor(16777215,.5),C.clear(),Re&&zt.render(We);const Ft=C.toneMapping;C.toneMapping=Dd;const rn=Je.viewport;if(Je.viewport!==void 0&&(Je.viewport=void 0),A.setupLightsView(Je),ge===!0&&yt.setGlobalState(C.clippingPlanes,Je),is(se,We,Je),le.updateMultisampleRenderTarget(mt),le.updateRenderTargetMipmap(mt),Ie.has("WEBGL_multisampled_render_to_texture")===!1){let Zt=!1;for(let jt=0,Fn=Te.length;jt<Fn;jt++){const oi=Te[jt],rr=oi.object,zn=oi.geometry,Vn=oi.material,Kt=oi.group;if(Vn.side===uf&&rr.layers.test(Je.layers)){const xr=Vn.side;Vn.side=Fl,Vn.needsUpdate=!0,Ko(rr,We,Je,zn,Vn,Kt),Vn.side=xr,Vn.needsUpdate=!0,Zt=!0}}Zt===!0&&(le.updateMultisampleRenderTarget(mt),le.updateRenderTargetMipmap(mt))}C.setRenderTarget(Nt),C.setClearColor(Y,K),rn!==void 0&&(Je.viewport=rn),C.toneMapping=Ft}function is(se,Te,We){const Je=Te.isScene===!0?Te.overrideMaterial:null;for(let Oe=0,mt=se.length;Oe<mt;Oe++){const Tt=se[Oe],Nt=Tt.object,Ft=Tt.geometry,rn=Tt.group;let Zt=Tt.material;Zt.allowOverride===!0&&Je!==null&&(Zt=Je),Nt.layers.test(We.layers)&&Ko(Nt,Te,We,Ft,Zt,rn)}}function Ko(se,Te,We,Je,Oe,mt){se.onBeforeRender(C,Te,We,Je,Oe,mt),se.modelViewMatrix.multiplyMatrices(We.matrixWorldInverse,se.matrixWorld),se.normalMatrix.getNormalMatrix(se.modelViewMatrix),Oe.onBeforeRender(C,Te,We,Je,se,mt),Oe.transparent===!0&&Oe.side===uf&&Oe.forceSinglePass===!1?(Oe.side=Fl,Oe.needsUpdate=!0,C.renderBufferDirect(We,Te,Je,Oe,se,mt),Oe.side=Ud,Oe.needsUpdate=!0,C.renderBufferDirect(We,Te,Je,Oe,se,mt),Oe.side=uf):C.renderBufferDirect(We,Te,Je,Oe,se,mt),se.onAfterRender(C,Te,We,Je,Oe,mt)}function Ui(se,Te,We){Te.isScene!==!0&&(Te=Qe);const Je=ze.get(se),Oe=A.state.lights,mt=A.state.shadowsArray,Tt=Oe.state.version,Nt=_t.getParameters(se,Oe.state,mt,Te,We),Ft=_t.getProgramCacheKey(Nt);let rn=Je.programs;Je.environment=se.isMeshStandardMaterial?Te.environment:null,Je.fog=Te.fog,Je.envMap=(se.isMeshStandardMaterial?Ee:te).get(se.envMap||Je.environment),Je.envMapRotation=Je.environment!==null&&se.envMap===null?Te.environmentRotation:se.envMapRotation,rn===void 0&&(se.addEventListener("dispose",Jt),rn=new Map,Je.programs=rn);let Zt=rn.get(Ft);if(Zt!==void 0){if(Je.currentProgram===Zt&&Je.lightsStateVersion===Tt)return Zo(se,Nt),Zt}else Nt.uniforms=_t.getUniforms(se),se.onBeforeCompile(Nt,C),Zt=_t.acquireProgram(Nt,Ft),rn.set(Ft,Zt),Je.uniforms=Nt.uniforms;const jt=Je.uniforms;return(!se.isShaderMaterial&&!se.isRawShaderMaterial||se.clipping===!0)&&(jt.clippingPlanes=yt.uniform),Zo(se,Nt),Je.needsLights=Ir(se),Je.lightsStateVersion=Tt,Je.needsLights&&(jt.ambientLightColor.value=Oe.state.ambient,jt.lightProbe.value=Oe.state.probe,jt.directionalLights.value=Oe.state.directional,jt.directionalLightShadows.value=Oe.state.directionalShadow,jt.spotLights.value=Oe.state.spot,jt.spotLightShadows.value=Oe.state.spotShadow,jt.rectAreaLights.value=Oe.state.rectArea,jt.ltc_1.value=Oe.state.rectAreaLTC1,jt.ltc_2.value=Oe.state.rectAreaLTC2,jt.pointLights.value=Oe.state.point,jt.pointLightShadows.value=Oe.state.pointShadow,jt.hemisphereLights.value=Oe.state.hemi,jt.directionalShadowMap.value=Oe.state.directionalShadowMap,jt.directionalShadowMatrix.value=Oe.state.directionalShadowMatrix,jt.spotShadowMap.value=Oe.state.spotShadowMap,jt.spotLightMatrix.value=Oe.state.spotLightMatrix,jt.spotLightMap.value=Oe.state.spotLightMap,jt.pointShadowMap.value=Oe.state.pointShadowMap,jt.pointShadowMatrix.value=Oe.state.pointShadowMatrix),Je.currentProgram=Zt,Je.uniformsList=null,Zt}function $o(se){if(se.uniformsList===null){const Te=se.currentProgram.getUniforms();se.uniformsList=wE.seqWithValue(Te.seq,se.uniforms)}return se.uniformsList}function Zo(se,Te){const We=ze.get(se);We.outputColorSpace=Te.outputColorSpace,We.batching=Te.batching,We.batchingColor=Te.batchingColor,We.instancing=Te.instancing,We.instancingColor=Te.instancingColor,We.instancingMorph=Te.instancingMorph,We.skinning=Te.skinning,We.morphTargets=Te.morphTargets,We.morphNormals=Te.morphNormals,We.morphColors=Te.morphColors,We.morphTargetsCount=Te.morphTargetsCount,We.numClippingPlanes=Te.numClippingPlanes,We.numIntersection=Te.numClipIntersection,We.vertexAlphas=Te.vertexAlphas,We.vertexTangents=Te.vertexTangents,We.toneMapping=Te.toneMapping}function Uc(se,Te,We,Je,Oe){Te.isScene!==!0&&(Te=Qe),le.resetTextureUnits();const mt=Te.fog,Tt=Je.isMeshStandardMaterial?Te.environment:null,Nt=G===null?C.outputColorSpace:G.isXRRenderTarget===!0?G.texture.colorSpace:u0,Ft=(Je.isMeshStandardMaterial?Ee:te).get(Je.envMap||Tt),rn=Je.vertexColors===!0&&!!We.attributes.color&&We.attributes.color.itemSize===4,Zt=!!We.attributes.tangent&&(!!Je.normalMap||Je.anisotropy>0),jt=!!We.morphAttributes.position,Fn=!!We.morphAttributes.normal,oi=!!We.morphAttributes.color;let rr=Dd;Je.toneMapped&&(G===null||G.isXRRenderTarget===!0)&&(rr=C.toneMapping);const zn=We.morphAttributes.position||We.morphAttributes.normal||We.morphAttributes.color,Vn=zn!==void 0?zn.length:0,Kt=ze.get(Je),xr=A.state.lights;if(ge===!0&&(Se===!0||se!==F)){const Qr=se===F&&Je.id===z;yt.setState(Je,se,Qr)}let Zn=!1;Je.version===Kt.__version?(Kt.needsLights&&Kt.lightsStateVersion!==xr.state.version||Kt.outputColorSpace!==Nt||Oe.isBatchedMesh&&Kt.batching===!1||!Oe.isBatchedMesh&&Kt.batching===!0||Oe.isBatchedMesh&&Kt.batchingColor===!0&&Oe.colorTexture===null||Oe.isBatchedMesh&&Kt.batchingColor===!1&&Oe.colorTexture!==null||Oe.isInstancedMesh&&Kt.instancing===!1||!Oe.isInstancedMesh&&Kt.instancing===!0||Oe.isSkinnedMesh&&Kt.skinning===!1||!Oe.isSkinnedMesh&&Kt.skinning===!0||Oe.isInstancedMesh&&Kt.instancingColor===!0&&Oe.instanceColor===null||Oe.isInstancedMesh&&Kt.instancingColor===!1&&Oe.instanceColor!==null||Oe.isInstancedMesh&&Kt.instancingMorph===!0&&Oe.morphTexture===null||Oe.isInstancedMesh&&Kt.instancingMorph===!1&&Oe.morphTexture!==null||Kt.envMap!==Ft||Je.fog===!0&&Kt.fog!==mt||Kt.numClippingPlanes!==void 0&&(Kt.numClippingPlanes!==yt.numPlanes||Kt.numIntersection!==yt.numIntersection)||Kt.vertexAlphas!==rn||Kt.vertexTangents!==Zt||Kt.morphTargets!==jt||Kt.morphNormals!==Fn||Kt.morphColors!==oi||Kt.toneMapping!==rr||Kt.morphTargetsCount!==Vn)&&(Zn=!0):(Zn=!0,Kt.__version=Je.version);let Fr=Kt.currentProgram;Zn===!0&&(Fr=Ui(Je,Te,Oe));let el=!1,Xi=!1,tl=!1;const Di=Fr.getUniforms(),Zr=Kt.uniforms;if(Le.useProgram(Fr.program)&&(el=!0,Xi=!0,tl=!0),Je.id!==z&&(z=Je.id,Xi=!0),el||F!==se){Le.buffers.depth.getReversed()?(De.copy(se.projectionMatrix),Kne(De),$ne(De),Di.setValue(pe,"projectionMatrix",De)):Di.setValue(pe,"projectionMatrix",se.projectionMatrix),Di.setValue(pe,"viewMatrix",se.matrixWorldInverse);const Hr=Di.map.cameraPosition;Hr!==void 0&&Hr.setValue(pe,Fe.setFromMatrixPosition(se.matrixWorld)),_e.logarithmicDepthBuffer&&Di.setValue(pe,"logDepthBufFC",2/(Math.log(se.far+1)/Math.LN2)),(Je.isMeshPhongMaterial||Je.isMeshToonMaterial||Je.isMeshLambertMaterial||Je.isMeshBasicMaterial||Je.isMeshStandardMaterial||Je.isShaderMaterial)&&Di.setValue(pe,"isOrthographic",se.isOrthographicCamera===!0),F!==se&&(F=se,Xi=!0,tl=!0)}if(Oe.isSkinnedMesh){Di.setOptional(pe,Oe,"bindMatrix"),Di.setOptional(pe,Oe,"bindMatrixInverse");const Qr=Oe.skeleton;Qr&&(Qr.boneTexture===null&&Qr.computeBoneTexture(),Di.setValue(pe,"boneTexture",Qr.boneTexture,le))}Oe.isBatchedMesh&&(Di.setOptional(pe,Oe,"batchingTexture"),Di.setValue(pe,"batchingTexture",Oe._matricesTexture,le),Di.setOptional(pe,Oe,"batchingIdTexture"),Di.setValue(pe,"batchingIdTexture",Oe._indirectTexture,le),Di.setOptional(pe,Oe,"batchingColorTexture"),Oe._colorsTexture!==null&&Di.setValue(pe,"batchingColorTexture",Oe._colorsTexture,le));const zr=We.morphAttributes;if((zr.position!==void 0||zr.normal!==void 0||zr.color!==void 0)&&Ht.update(Oe,We,Fr),(Xi||Kt.receiveShadow!==Oe.receiveShadow)&&(Kt.receiveShadow=Oe.receiveShadow,Di.setValue(pe,"receiveShadow",Oe.receiveShadow)),Je.isMeshGouraudMaterial&&Je.envMap!==null&&(Zr.envMap.value=Ft,Zr.flipEnvMap.value=Ft.isCubeTexture&&Ft.isRenderTargetTexture===!1?-1:1),Je.isMeshStandardMaterial&&Je.envMap===null&&Te.environment!==null&&(Zr.envMapIntensity.value=Te.environmentIntensity),Xi&&(Di.setValue(pe,"toneMappingExposure",C.toneMappingExposure),Kt.needsLights&&Ic(Zr,tl),mt&&Je.fog===!0&&gt.refreshFogUniforms(Zr,mt),gt.refreshMaterialUniforms(Zr,Je,Q,J,A.state.transmissionRenderTarget[se.id]),wE.upload(pe,$o(Kt),Zr,le)),Je.isShaderMaterial&&Je.uniformsNeedUpdate===!0&&(wE.upload(pe,$o(Kt),Zr,le),Je.uniformsNeedUpdate=!1),Je.isSpriteMaterial&&Di.setValue(pe,"center",Oe.center),Di.setValue(pe,"modelViewMatrix",Oe.modelViewMatrix),Di.setValue(pe,"normalMatrix",Oe.normalMatrix),Di.setValue(pe,"modelMatrix",Oe.matrixWorld),Je.isShaderMaterial||Je.isRawShaderMaterial){const Qr=Je.uniformsGroups;for(let Hr=0,wa=Qr.length;Hr<wa;Hr++){const rs=Qr[Hr];be.update(rs,Fr),be.bind(rs,Fr)}}return Fr}function Ic(se,Te){se.ambientLightColor.needsUpdate=Te,se.lightProbe.needsUpdate=Te,se.directionalLights.needsUpdate=Te,se.directionalLightShadows.needsUpdate=Te,se.pointLights.needsUpdate=Te,se.pointLightShadows.needsUpdate=Te,se.spotLights.needsUpdate=Te,se.spotLightShadows.needsUpdate=Te,se.rectAreaLights.needsUpdate=Te,se.hemisphereLights.needsUpdate=Te}function Ir(se){return se.isMeshLambertMaterial||se.isMeshToonMaterial||se.isMeshPhongMaterial||se.isMeshStandardMaterial||se.isShadowMaterial||se.isShaderMaterial&&se.lights===!0}this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return k},this.getRenderTarget=function(){return G},this.setRenderTargetTextures=function(se,Te,We){const Je=ze.get(se);Je.__autoAllocateDepthBuffer=se.resolveDepthBuffer===!1,Je.__autoAllocateDepthBuffer===!1&&(Je.__useRenderToTexture=!1),ze.get(se.texture).__webglTexture=Te,ze.get(se.depthTexture).__webglTexture=Je.__autoAllocateDepthBuffer?void 0:We,Je.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(se,Te){const We=ze.get(se);We.__webglFramebuffer=Te,We.__useDefaultFramebuffer=Te===void 0};const Th=pe.createFramebuffer();this.setRenderTarget=function(se,Te=0,We=0){G=se,P=Te,k=We;let Je=!0,Oe=null,mt=!1,Tt=!1;if(se){const Ft=ze.get(se);if(Ft.__useDefaultFramebuffer!==void 0)Le.bindFramebuffer(pe.FRAMEBUFFER,null),Je=!1;else if(Ft.__webglFramebuffer===void 0)le.setupRenderTarget(se);else if(Ft.__hasExternalTextures)le.rebindTextures(se,ze.get(se.texture).__webglTexture,ze.get(se.depthTexture).__webglTexture);else if(se.depthBuffer){const jt=se.depthTexture;if(Ft.__boundDepthTexture!==jt){if(jt!==null&&ze.has(jt)&&(se.width!==jt.image.width||se.height!==jt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");le.setupDepthRenderbuffer(se)}}const rn=se.texture;(rn.isData3DTexture||rn.isDataArrayTexture||rn.isCompressedArrayTexture)&&(Tt=!0);const Zt=ze.get(se).__webglFramebuffer;se.isWebGLCubeRenderTarget?(Array.isArray(Zt[Te])?Oe=Zt[Te][We]:Oe=Zt[Te],mt=!0):se.samples>0&&le.useMultisampledRTT(se)===!1?Oe=ze.get(se).__webglMultisampledFramebuffer:Array.isArray(Zt)?Oe=Zt[We]:Oe=Zt,j.copy(se.viewport),ne.copy(se.scissor),W=se.scissorTest}else j.copy($).multiplyScalar(Q).floor(),ne.copy(oe).multiplyScalar(Q).floor(),W=de;if(We!==0&&(Oe=Th),Le.bindFramebuffer(pe.FRAMEBUFFER,Oe)&&Je&&Le.drawBuffers(se,Oe),Le.viewport(j),Le.scissor(ne),Le.setScissorTest(W),mt){const Ft=ze.get(se.texture);pe.framebufferTexture2D(pe.FRAMEBUFFER,pe.COLOR_ATTACHMENT0,pe.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Ft.__webglTexture,We)}else if(Tt){const Ft=ze.get(se.texture),rn=Te;pe.framebufferTextureLayer(pe.FRAMEBUFFER,pe.COLOR_ATTACHMENT0,Ft.__webglTexture,We,rn)}else if(se!==null&&We!==0){const Ft=ze.get(se.texture);pe.framebufferTexture2D(pe.FRAMEBUFFER,pe.COLOR_ATTACHMENT0,pe.TEXTURE_2D,Ft.__webglTexture,We)}z=-1},this.readRenderTargetPixels=function(se,Te,We,Je,Oe,mt,Tt){if(!(se&&se.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Nt=ze.get(se).__webglFramebuffer;if(se.isWebGLCubeRenderTarget&&Tt!==void 0&&(Nt=Nt[Tt]),Nt){Le.bindFramebuffer(pe.FRAMEBUFFER,Nt);try{const Ft=se.texture,rn=Ft.format,Zt=Ft.type;if(!_e.textureFormatReadable(rn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!_e.textureTypeReadable(Zt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Te>=0&&Te<=se.width-Je&&We>=0&&We<=se.height-Oe&&pe.readPixels(Te,We,Je,Oe,it.convert(rn),it.convert(Zt),mt)}finally{const Ft=G!==null?ze.get(G).__webglFramebuffer:null;Le.bindFramebuffer(pe.FRAMEBUFFER,Ft)}}},this.readRenderTargetPixelsAsync=async function(se,Te,We,Je,Oe,mt,Tt){if(!(se&&se.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Nt=ze.get(se).__webglFramebuffer;if(se.isWebGLCubeRenderTarget&&Tt!==void 0&&(Nt=Nt[Tt]),Nt)if(Te>=0&&Te<=se.width-Je&&We>=0&&We<=se.height-Oe){Le.bindFramebuffer(pe.FRAMEBUFFER,Nt);const Ft=se.texture,rn=Ft.format,Zt=Ft.type;if(!_e.textureFormatReadable(rn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!_e.textureTypeReadable(Zt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const jt=pe.createBuffer();pe.bindBuffer(pe.PIXEL_PACK_BUFFER,jt),pe.bufferData(pe.PIXEL_PACK_BUFFER,mt.byteLength,pe.STREAM_READ),pe.readPixels(Te,We,Je,Oe,it.convert(rn),it.convert(Zt),0);const Fn=G!==null?ze.get(G).__webglFramebuffer:null;Le.bindFramebuffer(pe.FRAMEBUFFER,Fn);const oi=pe.fenceSync(pe.SYNC_GPU_COMMANDS_COMPLETE,0);return pe.flush(),await Jne(pe,oi,4),pe.bindBuffer(pe.PIXEL_PACK_BUFFER,jt),pe.getBufferSubData(pe.PIXEL_PACK_BUFFER,0,mt),pe.deleteBuffer(jt),pe.deleteSync(oi),mt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(se,Te=null,We=0){const Je=Math.pow(2,-We),Oe=Math.floor(se.image.width*Je),mt=Math.floor(se.image.height*Je),Tt=Te!==null?Te.x:0,Nt=Te!==null?Te.y:0;le.setTexture2D(se,0),pe.copyTexSubImage2D(pe.TEXTURE_2D,We,0,0,Tt,Nt,Oe,mt),Le.unbindTexture()};const Ch=pe.createFramebuffer(),Qo=pe.createFramebuffer();this.copyTextureToTexture=function(se,Te,We=null,Je=null,Oe=0,mt=null){mt===null&&(Oe!==0?(SE("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),mt=Oe,Oe=0):mt=0);let Tt,Nt,Ft,rn,Zt,jt,Fn,oi,rr;const zn=se.isCompressedTexture?se.mipmaps[mt]:se.image;if(We!==null)Tt=We.max.x-We.min.x,Nt=We.max.y-We.min.y,Ft=We.isBox3?We.max.z-We.min.z:1,rn=We.min.x,Zt=We.min.y,jt=We.isBox3?We.min.z:0;else{const zr=Math.pow(2,-Oe);Tt=Math.floor(zn.width*zr),Nt=Math.floor(zn.height*zr),se.isDataArrayTexture?Ft=zn.depth:se.isData3DTexture?Ft=Math.floor(zn.depth*zr):Ft=1,rn=0,Zt=0,jt=0}Je!==null?(Fn=Je.x,oi=Je.y,rr=Je.z):(Fn=0,oi=0,rr=0);const Vn=it.convert(Te.format),Kt=it.convert(Te.type);let xr;Te.isData3DTexture?(le.setTexture3D(Te,0),xr=pe.TEXTURE_3D):Te.isDataArrayTexture||Te.isCompressedArrayTexture?(le.setTexture2DArray(Te,0),xr=pe.TEXTURE_2D_ARRAY):(le.setTexture2D(Te,0),xr=pe.TEXTURE_2D),pe.pixelStorei(pe.UNPACK_FLIP_Y_WEBGL,Te.flipY),pe.pixelStorei(pe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Te.premultiplyAlpha),pe.pixelStorei(pe.UNPACK_ALIGNMENT,Te.unpackAlignment);const Zn=pe.getParameter(pe.UNPACK_ROW_LENGTH),Fr=pe.getParameter(pe.UNPACK_IMAGE_HEIGHT),el=pe.getParameter(pe.UNPACK_SKIP_PIXELS),Xi=pe.getParameter(pe.UNPACK_SKIP_ROWS),tl=pe.getParameter(pe.UNPACK_SKIP_IMAGES);pe.pixelStorei(pe.UNPACK_ROW_LENGTH,zn.width),pe.pixelStorei(pe.UNPACK_IMAGE_HEIGHT,zn.height),pe.pixelStorei(pe.UNPACK_SKIP_PIXELS,rn),pe.pixelStorei(pe.UNPACK_SKIP_ROWS,Zt),pe.pixelStorei(pe.UNPACK_SKIP_IMAGES,jt);const Di=se.isDataArrayTexture||se.isData3DTexture,Zr=Te.isDataArrayTexture||Te.isData3DTexture;if(se.isDepthTexture){const zr=ze.get(se),Qr=ze.get(Te),Hr=ze.get(zr.__renderTarget),wa=ze.get(Qr.__renderTarget);Le.bindFramebuffer(pe.READ_FRAMEBUFFER,Hr.__webglFramebuffer),Le.bindFramebuffer(pe.DRAW_FRAMEBUFFER,wa.__webglFramebuffer);for(let rs=0;rs<Ft;rs++)Di&&(pe.framebufferTextureLayer(pe.READ_FRAMEBUFFER,pe.COLOR_ATTACHMENT0,ze.get(se).__webglTexture,Oe,jt+rs),pe.framebufferTextureLayer(pe.DRAW_FRAMEBUFFER,pe.COLOR_ATTACHMENT0,ze.get(Te).__webglTexture,mt,rr+rs)),pe.blitFramebuffer(rn,Zt,Tt,Nt,Fn,oi,Tt,Nt,pe.DEPTH_BUFFER_BIT,pe.NEAREST);Le.bindFramebuffer(pe.READ_FRAMEBUFFER,null),Le.bindFramebuffer(pe.DRAW_FRAMEBUFFER,null)}else if(Oe!==0||se.isRenderTargetTexture||ze.has(se)){const zr=ze.get(se),Qr=ze.get(Te);Le.bindFramebuffer(pe.READ_FRAMEBUFFER,Ch),Le.bindFramebuffer(pe.DRAW_FRAMEBUFFER,Qo);for(let Hr=0;Hr<Ft;Hr++)Di?pe.framebufferTextureLayer(pe.READ_FRAMEBUFFER,pe.COLOR_ATTACHMENT0,zr.__webglTexture,Oe,jt+Hr):pe.framebufferTexture2D(pe.READ_FRAMEBUFFER,pe.COLOR_ATTACHMENT0,pe.TEXTURE_2D,zr.__webglTexture,Oe),Zr?pe.framebufferTextureLayer(pe.DRAW_FRAMEBUFFER,pe.COLOR_ATTACHMENT0,Qr.__webglTexture,mt,rr+Hr):pe.framebufferTexture2D(pe.DRAW_FRAMEBUFFER,pe.COLOR_ATTACHMENT0,pe.TEXTURE_2D,Qr.__webglTexture,mt),Oe!==0?pe.blitFramebuffer(rn,Zt,Tt,Nt,Fn,oi,Tt,Nt,pe.COLOR_BUFFER_BIT,pe.NEAREST):Zr?pe.copyTexSubImage3D(xr,mt,Fn,oi,rr+Hr,rn,Zt,Tt,Nt):pe.copyTexSubImage2D(xr,mt,Fn,oi,rn,Zt,Tt,Nt);Le.bindFramebuffer(pe.READ_FRAMEBUFFER,null),Le.bindFramebuffer(pe.DRAW_FRAMEBUFFER,null)}else Zr?se.isDataTexture||se.isData3DTexture?pe.texSubImage3D(xr,mt,Fn,oi,rr,Tt,Nt,Ft,Vn,Kt,zn.data):Te.isCompressedArrayTexture?pe.compressedTexSubImage3D(xr,mt,Fn,oi,rr,Tt,Nt,Ft,Vn,zn.data):pe.texSubImage3D(xr,mt,Fn,oi,rr,Tt,Nt,Ft,Vn,Kt,zn):se.isDataTexture?pe.texSubImage2D(pe.TEXTURE_2D,mt,Fn,oi,Tt,Nt,Vn,Kt,zn.data):se.isCompressedTexture?pe.compressedTexSubImage2D(pe.TEXTURE_2D,mt,Fn,oi,zn.width,zn.height,Vn,zn.data):pe.texSubImage2D(pe.TEXTURE_2D,mt,Fn,oi,Tt,Nt,Vn,Kt,zn);pe.pixelStorei(pe.UNPACK_ROW_LENGTH,Zn),pe.pixelStorei(pe.UNPACK_IMAGE_HEIGHT,Fr),pe.pixelStorei(pe.UNPACK_SKIP_PIXELS,el),pe.pixelStorei(pe.UNPACK_SKIP_ROWS,Xi),pe.pixelStorei(pe.UNPACK_SKIP_IMAGES,tl),mt===0&&Te.generateMipmaps&&pe.generateMipmap(xr),Le.unbindTexture()},this.copyTextureToTexture3D=function(se,Te,We=null,Je=null,Oe=0){return SE('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(se,Te,We,Je,Oe)},this.initRenderTarget=function(se){ze.get(se).__webglFramebuffer===void 0&&le.setupRenderTarget(se)},this.initTexture=function(se){se.isCubeTexture?le.setTextureCube(se,0):se.isData3DTexture?le.setTexture3D(se,0):se.isDataArrayTexture||se.isCompressedArrayTexture?le.setTexture2DArray(se,0):le.setTexture2D(se,0),Le.unbindTexture()},this.resetState=function(){P=0,k=0,G=null,Le.reset(),Ct.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ph}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=bi._getDrawingBufferColorSpace(e),n.unpackColorSpace=bi._getUnpackColorSpace()}}const sue=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Q5,AddEquation:Kg,AddOperation:gG,AdditiveAnimationBlendMode:cL,AdditiveBlending:H4,AgXToneMapping:bG,AlphaFormat:iL,AlwaysCompare:IG,AlwaysDepth:lT,AlwaysStencilFunc:V4,AmbientLight:wj,AnimationAction:Pj,AnimationClip:Rb,AnimationLoader:Are,AnimationMixer:Jre,AnimationObjectGroup:Yre,AnimationUtils:yre,ArcCurve:ZG,ArrayCamera:Bj,ArrowHelper:vae,AttachedBindMode:j4,Audio:Oj,AudioAnalyser:Ire,AudioContext:FL,AudioListener:Lre,AudioLoader:Dre,AxesHelper:yae,BackSide:Fl,BasicDepthPacking:CG,BasicShadowMap:Kk,BatchedMesh:KG,Bone:GR,BooleanKeyframeTrack:ux,Box2:iae,Box3:Xo,Box3Helper:mae,BoxGeometry:cx,BoxHelper:pae,BufferAttribute:Pi,BufferGeometry:In,BufferGeometryLoader:Nj,ByteType:eL,Cache:gm,Camera:zR,CameraHelper:dae,CanvasTexture:kie,CapsuleGeometry:qR,CatmullRomCurve3:QG,CineonToneMapping:xG,CircleGeometry:YR,ClampToEdgeWrapping:_u,Clock:zL,Color:Lt,ColorKeyframeTrack:BL,ColorManagement:bi,CompressedArrayTexture:zie,CompressedCubeTexture:Hie,CompressedTexture:VR,CompressedTextureLoader:Sre,ConeGeometry:WR,ConstantAlphaFactor:dG,ConstantColorFactor:fG,Controls:_ae,CubeCamera:XG,CubeReflectionMapping:Rm,CubeRefractionMapping:l0,CubeTexture:_M,CubeTextureLoader:Mre,CubeUVReflectionMapping:s1,CubicBezierCurve:SL,CubicBezierCurve3:ej,CubicInterpolant:xj,CullFaceBack:z4,CullFaceFront:Jk,CullFaceFrontBack:ene,CullFaceNone:Wk,Curve:wh,CurvePath:nj,CustomBlending:$k,CustomToneMapping:_G,CylinderGeometry:l1,Cylindrical:nae,Data3DTexture:FR,DataArrayTexture:xM,DataTexture:Bd,DataTextureLoader:wre,DataUtils:hie,DecrementStencilOp:fne,DecrementWrapStencilOp:dne,DefaultLoadingManager:Aj,DepthFormat:bb,DepthStencilFormat:Ab,DepthTexture:bL,DetachedBindMode:SG,DirectionalLight:IL,DirectionalLightHelper:hae,DiscreteInterpolant:_j,DodecahedronGeometry:JR,DoubleSide:uf,DstAlphaFactor:sG,DstColorFactor:lG,DynamicCopyUsage:Cne,DynamicDrawUsage:Ane,DynamicReadUsage:wne,EdgesGeometry:ij,EllipseCurve:XR,EqualCompare:OG,EqualDepth:uT,EqualStencilFunc:vne,EquirectangularReflectionMapping:wS,EquirectangularRefractionMapping:ES,Euler:Mu,EventDispatcher:Vd,ExtrudeGeometry:KR,FileLoader:wu,Float16BufferAttribute:xie,Float32BufferAttribute:Xt,FloatType:Oc,Fog:kR,FogExp2:HR,FramebufferTexture:Fie,FrontSide:Ud,Frustum:SM,GLBufferAttribute:tae,GLSL1:Nne,GLSL3:X4,GreaterCompare:LG,GreaterDepth:hT,GreaterEqualCompare:UG,GreaterEqualDepth:fT,GreaterEqualStencilFunc:bne,GreaterStencilFunc:xne,GridHelper:uae,Group:mm,HalfFloatType:o1,HemisphereLight:Mj,HemisphereLightHelper:cae,IcosahedronGeometry:$R,ImageBitmapLoader:Dj,ImageLoader:US,ImageUtils:kG,IncrementStencilOp:une,IncrementWrapStencilOp:hne,InstancedBufferAttribute:Hy,InstancedBufferGeometry:Rj,InstancedInterleavedBuffer:eae,InstancedMesh:yL,Int16BufferAttribute:vie,Int32BufferAttribute:yie,Int8BufferAttribute:pie,IntType:NR,InterleavedBuffer:bM,InterleavedBufferAttribute:f0,Interpolant:u1,InterpolateDiscrete:Sb,InterpolateLinear:Mb,InterpolateSmooth:AE,InvertStencilOp:pne,KeepStencilOp:ey,KeyframeTrack:xf,LOD:JG,LatheGeometry:MM,Layers:Eb,LessCompare:BG,LessDepth:cT,LessEqualCompare:fL,LessEqualDepth:zy,LessEqualStencilFunc:yne,LessStencilFunc:gne,Light:A0,LightProbe:Cj,Line:Dm,Line3:rae,LineBasicMaterial:Yo,LineCurve:ML,LineCurve3:tj,LineDashedMaterial:gj,LineLoop:xL,LineSegments:Mh,LinearFilter:Fa,LinearInterpolant:DL,LinearMipMapLinearFilter:rne,LinearMipMapNearestFilter:ine,LinearMipmapLinearFilter:hf,LinearMipmapNearestFilter:sb,LinearSRGBColorSpace:u0,LinearToneMapping:vG,LinearTransfer:CS,Loader:Wo,LoaderUtils:r0,LoadingManager:OL,LoopOnce:MG,LoopPingPong:EG,LoopRepeat:wG,LuminanceAlphaFormat:sL,LuminanceFormat:aL,MOUSE:Zv,Material:ms,MaterialLoader:r3,MathUtils:FG,Matrix2:jL,Matrix3:Pn,Matrix4:dn,MaxEquation:tG,Mesh:za,MeshBasicMaterial:bu,MeshDepthMaterial:CL,MeshDistanceMaterial:RL,MeshLambertMaterial:pj,MeshMatcapMaterial:mj,MeshNormalMaterial:dj,MeshPhongMaterial:fj,MeshPhysicalMaterial:yf,MeshStandardMaterial:TM,MeshToonMaterial:hj,MinEquation:eG,MirroredRepeatWrapping:yb,MixOperation:mG,MultiplyBlending:G4,MultiplyOperation:vM,NearestFilter:Is,NearestMipMapLinearFilter:nne,NearestMipMapNearestFilter:tne,NearestMipmapLinearFilter:gy,NearestMipmapNearestFilter:RR,NeutralToneMapping:AG,NeverCompare:DG,NeverDepth:oT,NeverStencilFunc:mne,NoBlending:Sm,NoColorSpace:hm,NoToneMapping:Dd,NormalAnimationBlendMode:UR,NormalBlending:Cy,NotEqualCompare:PG,NotEqualDepth:dT,NotEqualStencilFunc:_ne,NumberKeyframeTrack:Gy,Object3D:Si,ObjectLoader:Rre,ObjectSpaceNormalMap:NG,OctahedronGeometry:wM,OneFactor:iG,OneMinusConstantAlphaFactor:pG,OneMinusConstantColorFactor:hG,OneMinusDstAlphaFactor:oG,OneMinusDstColorFactor:cG,OneMinusSrcAlphaFactor:sT,OneMinusSrcColorFactor:aG,OrthographicCamera:gh,PCFShadowMap:TR,PCFSoftShadowMap:$A,PMREMGenerator:Q4,Path:BS,PerspectiveCamera:Wr,Plane:cm,PlaneGeometry:c1,PlaneHelper:gae,PointLight:UL,PointLightHelper:oae,Points:_L,PointsMaterial:jR,PolarGridHelper:fae,PolyhedronGeometry:b0,PositionalAudio:Ure,PropertyBinding:Ri,PropertyMixer:Lj,QuadraticBezierCurve:wL,QuadraticBezierCurve3:EL,Quaternion:Fs,QuaternionKeyframeTrack:jy,QuaternionLinearInterpolant:bj,RED_GREEN_RGTC2_Format:FT,RED_RGTC1_Format:lL,REVISION:gM,RGBADepthPacking:RG,RGBAFormat:jo,RGBAIntegerFormat:PR,RGBA_ASTC_10x10_Format:BT,RGBA_ASTC_10x5_Format:RT,RGBA_ASTC_10x6_Format:NT,RGBA_ASTC_10x8_Format:DT,RGBA_ASTC_12x10_Format:OT,RGBA_ASTC_12x12_Format:LT,RGBA_ASTC_4x4_Format:bT,RGBA_ASTC_5x4_Format:AT,RGBA_ASTC_5x5_Format:ST,RGBA_ASTC_6x5_Format:MT,RGBA_ASTC_6x6_Format:wT,RGBA_ASTC_8x5_Format:ET,RGBA_ASTC_8x6_Format:TT,RGBA_ASTC_8x8_Format:CT,RGBA_BPTC_Format:nS,RGBA_ETC2_EAC_Format:_T,RGBA_PVRTC_2BPPV1_Format:vT,RGBA_PVRTC_4BPPV1_Format:gT,RGBA_S3TC_DXT1_Format:QA,RGBA_S3TC_DXT3_Format:eS,RGBA_S3TC_DXT5_Format:tS,RGBDepthPacking:sne,RGBFormat:rL,RGBIntegerFormat:ane,RGB_BPTC_SIGNED_Format:PT,RGB_BPTC_UNSIGNED_Format:UT,RGB_ETC1_Format:yT,RGB_ETC2_Format:xT,RGB_PVRTC_2BPPV1_Format:mT,RGB_PVRTC_4BPPV1_Format:pT,RGB_S3TC_DXT1_Format:ZA,RGDepthPacking:one,RGFormat:oL,RGIntegerFormat:LR,RawShaderMaterial:uj,Ray:lx,Raycaster:Uj,RectAreaLight:Ej,RedFormat:OR,RedIntegerFormat:yM,ReinhardToneMapping:yG,RenderTarget:IR,RenderTarget3D:Kre,RenderTargetArray:$re,RepeatWrapping:c0,ReplaceStencilOp:cne,ReverseSubtractEquation:Qk,RingGeometry:ZR,SIGNED_RED_GREEN_RGTC2_Format:zT,SIGNED_RED_RGTC1_Format:IT,SRGBColorSpace:ko,SRGBTransfer:ur,Scene:mL,ShaderChunk:Yn,ShaderLib:oh,ShaderMaterial:_h,ShadowMaterial:cj,Shape:Ny,ShapeGeometry:QR,ShapePath:xae,ShapeUtils:Od,ShortType:tL,Skeleton:AM,SkeletonHelper:sae,SkinnedMesh:vL,Source:e0,Sphere:lo,SphereGeometry:EM,Spherical:$4,SphericalHarmonics3:Tj,SplineCurve:TL,SpotLight:PL,SpotLightHelper:aae,Sprite:WG,SpriteMaterial:gL,SrcAlphaFactor:aT,SrcAlphaSaturateFactor:uG,SrcColorFactor:rG,StaticCopyUsage:Tne,StaticDrawUsage:RS,StaticReadUsage:Mne,StereoCamera:Bre,StreamCopyUsage:Rne,StreamDrawUsage:Sne,StreamReadUsage:Ene,StringKeyframeTrack:fx,SubtractEquation:Zk,SubtractiveBlending:k4,TOUCH:Qv,TangentSpaceNormalMap:_0,TetrahedronGeometry:e3,Texture:Kr,TextureLoader:Sj,TextureUtils:wae,TimestampQuery:Dne,TorusGeometry:t3,TorusKnotGeometry:n3,Triangle:Nc,TriangleFanDrawMode:HT,TriangleStripDrawMode:uL,TrianglesDrawMode:TG,TubeGeometry:i3,UVMapping:CR,Uint16BufferAttribute:dL,Uint32BufferAttribute:pL,Uint8BufferAttribute:mie,Uint8ClampedBufferAttribute:gie,Uniform:GL,UniformsGroup:Qre,UniformsLib:Pt,UniformsUtils:VG,UnsignedByteType:xh,UnsignedInt248Type:_b,UnsignedInt5999Type:nL,UnsignedIntType:Nm,UnsignedShort4444Type:DR,UnsignedShort5551Type:BR,UnsignedShortType:xb,VSMShadowMap:ih,Vector2:ct,Vector3:me,Vector4:Li,VectorKeyframeTrack:Vy,VideoFrameTexture:Iie,VideoTexture:$G,WebGL3DRenderTarget:nie,WebGLArrayRenderTarget:tie,WebGLCoordinateSystem:ph,WebGLCubeRenderTarget:qG,WebGLRenderTarget:Id,WebGLRenderer:Vj,WebGLUtils:jj,WebGPUCoordinateSystem:NS,WebXRController:ME,WireframeGeometry:lj,WrapAroundEnding:TS,ZeroCurvatureEnding:vy,ZeroFactor:nG,ZeroSlopeEnding:yy,ZeroStencilOp:lne,createCanvasElement:HG},Symbol.toStringTag,{value:"Module"}));var UD={exports:{}},Wp={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iI;function oue(){return iI||(iI=1,Wp.ConcurrentRoot=1,Wp.ContinuousEventPriority=8,Wp.DefaultEventPriority=32,Wp.DiscreteEventPriority=2,Wp.IdleEventPriority=268435456,Wp.LegacyRoot=0,Wp.NoEventPriority=0),Wp}var rI;function lue(){return rI||(rI=1,UD.exports=oue()),UD.exports}var EE=lue(),ID={exports:{}},FD={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aI;function cue(){if(aI)return FD;aI=1;var t=ax(),e=Ik();function n(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var i=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,a=t.useRef,s=t.useEffect,o=t.useMemo,l=t.useDebugValue;return FD.useSyncExternalStoreWithSelector=function(c,f,d,p,v){var _=a(null);if(_.current===null){var S={hasValue:!1,value:null};_.current=S}else S=_.current;_=o(function(){function A(P){if(!T){if(T=!0,R=P,P=p(P),v!==void 0&&S.hasValue){var k=S.value;if(v(k,P))return C=k}return C=P}if(k=C,i(R,P))return k;var G=p(P);return v!==void 0&&v(k,G)?(R=P,k):(R=P,C=G)}var T=!1,R,C,L=d===void 0?null:d;return[function(){return A(f())},L===null?void 0:function(){return A(L())}]},[f,d,p,v]);var b=r(c,_[0],_[1]);return s(function(){S.hasValue=!0,S.value=b},[b]),l(b),b},FD}var sI;function uue(){return sI||(sI=1,ID.exports=cue()),ID.exports}var fue=uue();const hue=mR(fue),oI=t=>{let e;const n=new Set,i=(c,f)=>{const d=typeof c=="function"?c(e):c;if(!Object.is(d,e)){const p=e;e=f??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(v=>v(e,p))}},r=()=>e,o={setState:i,getState:r,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(i,r,o);return o},due=t=>t?oI(t):oI,{useSyncExternalStoreWithSelector:pue}=hue,mue=t=>t;function gue(t,e=mue,n){const i=pue(t.subscribe,t.getState,t.getInitialState,e,n);return Rd.useDebugValue(i),i}const lI=(t,e)=>{const n=due(t),i=(r,a=e)=>gue(n,r,a);return Object.assign(i,n),i},vue=(t,e)=>t?lI(t,e):lI;var zD={exports:{}},HD={exports:{}},kD={exports:{}},GD={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cI;function yue(){return cI||(cI=1,function(t){function e(H,J){var Q=H.length;H.push(J);e:for(;0<Q;){var ie=Q-1>>>1,V=H[ie];if(0<r(V,J))H[ie]=J,H[Q]=V,Q=ie;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var J=H[0],Q=H.pop();if(Q!==J){H[0]=Q;e:for(var ie=0,V=H.length,$=V>>>1;ie<$;){var oe=2*(ie+1)-1,de=H[oe],fe=oe+1,ge=H[fe];if(0>r(de,Q))fe<V&&0>r(ge,de)?(H[ie]=ge,H[fe]=Q,ie=fe):(H[ie]=de,H[oe]=Q,ie=oe);else if(fe<V&&0>r(ge,Q))H[ie]=ge,H[fe]=Q,ie=fe;else break e}}return J}function r(H,J){var Q=H.sortIndex-J.sortIndex;return Q!==0?Q:H.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],f=1,d=null,p=3,v=!1,_=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function R(H){for(var J=n(c);J!==null;){if(J.callback===null)i(c);else if(J.startTime<=H)i(c),J.sortIndex=J.expirationTime,e(l,J);else break;J=n(c)}}function C(H){if(S=!1,R(H),!_)if(n(l)!==null)_=!0,Y();else{var J=n(c);J!==null&&K(C,J.startTime-H)}}var L=!1,P=-1,k=5,G=-1;function z(){return!(t.unstable_now()-G<k)}function F(){if(L){var H=t.unstable_now();G=H;var J=!0;try{e:{_=!1,S&&(S=!1,A(P),P=-1),v=!0;var Q=p;try{t:{for(R(H),d=n(l);d!==null&&!(d.expirationTime>H&&z());){var ie=d.callback;if(typeof ie=="function"){d.callback=null,p=d.priorityLevel;var V=ie(d.expirationTime<=H);if(H=t.unstable_now(),typeof V=="function"){d.callback=V,R(H),J=!0;break t}d===n(l)&&i(l),R(H)}else i(l);d=n(l)}if(d!==null)J=!0;else{var $=n(c);$!==null&&K(C,$.startTime-H),J=!1}}break e}finally{d=null,p=Q,v=!1}J=void 0}}finally{J?j():L=!1}}}var j;if(typeof T=="function")j=function(){T(F)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,W=ne.port2;ne.port1.onmessage=F,j=function(){W.postMessage(null)}}else j=function(){b(F,0)};function Y(){L||(L=!0,j())}function K(H,J){P=b(function(){H(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,Y())},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(p){case 1:case 2:case 3:var J=3;break;default:J=p}var Q=p;p=J;try{return H()}finally{p=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Q=p;p=H;try{return J()}finally{p=Q}},t.unstable_scheduleCallback=function(H,J,Q){var ie=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ie+Q:ie):Q=ie,H){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=Q+V,H={id:f++,callback:J,priorityLevel:H,startTime:Q,expirationTime:V,sortIndex:-1},Q>ie?(H.sortIndex=Q,e(c,H),n(l)===null&&H===n(c)&&(S?(A(P),P=-1):S=!0,K(C,Q-ie))):(H.sortIndex=V,e(l,H),_||v||(_=!0,Y())),H},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(H){var J=p;return function(){var Q=p;p=J;try{return H.apply(this,arguments)}finally{p=Q}}}}(GD)),GD}var uI;function Xj(){return uI||(uI=1,kD.exports=yue()),kD.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fI;function xue(){return fI||(fI=1,function(t){t.exports=function(e){function n(m,g,E,D){return new As(m,g,E,D)}function i(){}function r(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(m){return m===null||typeof m!="object"?null:(m=ll&&m[ll]||m["@@iterator"],typeof m=="function"?m:null)}function s(m){if(m==null)return null;if(typeof m=="function")return m.$$typeof===Bf?null:m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case Ms:return"Fragment";case vo:return"Portal";case tg:return"Profiler";case gp:return"StrictMode";case ng:return"Suspense";case qh:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case ol:return(m.displayName||"Context")+".Provider";case W0:return(m._context.displayName||"Context")+".Consumer";case vp:var g=m.render;return m=m.displayName,m||(m=g.displayName||g.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case yp:return g=m.displayName||null,g!==null?g:s(m.type)||"Memo";case Ys:g=m._payload,m=m._init;try{return s(m(g))}catch{}}return null}function o(m){if(Ql===void 0)try{throw Error()}catch(E){var g=E.stack.trim().match(/\n( *(at )?)/);Ql=g&&g[1]||"",ec=-1<E.stack.indexOf(`
    at`)?" (<anonymous>)":-1<E.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ql+m+ec}function l(m,g){if(!m||Of)return"";Of=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var D={DetermineComponentFrameRoot:function(){try{if(g){var Bt=function(){throw Error()};if(Object.defineProperty(Bt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Bt,[])}catch(bn){var Ut=bn}Reflect.construct(m,[],Bt)}else{try{Bt.call()}catch(bn){Ut=bn}m.call(Bt.prototype)}}else{try{throw Error()}catch(bn){Ut=bn}(Bt=m())&&typeof Bt.catch=="function"&&Bt.catch(function(){})}}catch(bn){if(bn&&Ut&&typeof bn.stack=="string")return[bn.stack,Ut.stack]}return[null,null]}};D.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var I=Object.getOwnPropertyDescriptor(D.DetermineComponentFrameRoot,"name");I&&I.configurable&&Object.defineProperty(D.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var q=D.DetermineComponentFrameRoot(),ue=q[0],xe=q[1];if(ue&&xe){var Pe=ue.split(`
`),ot=xe.split(`
`);for(I=D=0;D<Pe.length&&!Pe[D].includes("DetermineComponentFrameRoot");)D++;for(;I<ot.length&&!ot[I].includes("DetermineComponentFrameRoot");)I++;if(D===Pe.length||I===ot.length)for(D=Pe.length-1,I=ot.length-1;1<=D&&0<=I&&Pe[D]!==ot[I];)I--;for(;1<=D&&0<=I;D--,I--)if(Pe[D]!==ot[I]){if(D!==1||I!==1)do if(D--,I--,0>I||Pe[D]!==ot[I]){var bt=`
`+Pe[D].replace(" at new "," at ");return m.displayName&&bt.includes("<anonymous>")&&(bt=bt.replace("<anonymous>",m.displayName)),bt}while(1<=D&&0<=I);break}}}finally{Of=!1,Error.prepareStackTrace=E}return(E=m?m.displayName||m.name:"")?o(E):""}function c(m){switch(m.tag){case 26:case 27:case 5:return o(m.type);case 16:return o("Lazy");case 13:return o("Suspense");case 19:return o("SuspenseList");case 0:case 15:return m=l(m.type,!1),m;case 11:return m=l(m.type.render,!1),m;case 1:return m=l(m.type,!0),m;default:return""}}function f(m){try{var g="";do g+=c(m),m=m.return;while(m);return g}catch(E){return`
Error generating stack: `+E.message+`
`+E.stack}}function d(m){var g=m,E=m;if(m.alternate)for(;g.return;)g=g.return;else{m=g;do g=m,(g.flags&4098)!==0&&(E=g.return),m=g.return;while(m)}return g.tag===3?E:null}function p(m){if(d(m)!==m)throw Error(r(188))}function v(m){var g=m.alternate;if(!g){if(g=d(m),g===null)throw Error(r(188));return g!==m?null:m}for(var E=m,D=g;;){var I=E.return;if(I===null)break;var q=I.alternate;if(q===null){if(D=I.return,D!==null){E=D;continue}break}if(I.child===q.child){for(q=I.child;q;){if(q===E)return p(I),m;if(q===D)return p(I),g;q=q.sibling}throw Error(r(188))}if(E.return!==D.return)E=I,D=q;else{for(var ue=!1,xe=I.child;xe;){if(xe===E){ue=!0,E=I,D=q;break}if(xe===D){ue=!0,D=I,E=q;break}xe=xe.sibling}if(!ue){for(xe=q.child;xe;){if(xe===E){ue=!0,E=q,D=I;break}if(xe===D){ue=!0,D=q,E=I;break}xe=xe.sibling}if(!ue)throw Error(r(189))}}if(E.alternate!==D)throw Error(r(190))}if(E.tag!==3)throw Error(r(188));return E.stateNode.current===E?m:g}function _(m){var g=m.tag;if(g===5||g===26||g===27||g===6)return m;for(m=m.child;m!==null;){if(g=_(m),g!==null)return g;m=m.sibling}return null}function S(m){var g=m.tag;if(g===5||g===26||g===27||g===6)return m;for(m=m.child;m!==null;){if(m.tag!==4&&(g=S(m),g!==null))return g;m=m.sibling}return null}function b(m){return{current:m}}function A(m){0>ic||(m.current=gr[ic],gr[ic]=null,ic--)}function T(m,g){ic++,gr[ic]=m.current,m.current=g}function R(m){return m>>>=0,m===0?32:31-(Np(m)/Gx|0)|0}function C(m){var g=m&42;if(g!==0)return g;switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return m&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return m}}function L(m,g){var E=m.pendingLanes;if(E===0)return 0;var D=0,I=m.suspendedLanes,q=m.pingedLanes,ue=m.warmLanes;m=m.finishedLanes!==0;var xe=E&134217727;return xe!==0?(E=xe&~I,E!==0?D=C(E):(q&=xe,q!==0?D=C(q):m||(ue=xe&~ue,ue!==0&&(D=C(ue))))):(xe=E&~I,xe!==0?D=C(xe):q!==0?D=C(q):m||(ue=E&~ue,ue!==0&&(D=C(ue)))),D===0?0:g!==0&&g!==D&&(g&I)===0&&(I=D&-D,ue=g&-g,I>=ue||I===32&&(ue&4194176)!==0)?g:D}function P(m,g){return(m.pendingLanes&~(m.suspendedLanes&~m.pingedLanes)&g)===0}function k(m,g){switch(m){case 1:case 2:case 4:case 8:return g+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function G(){var m=dl;return dl<<=1,(dl&4194176)===0&&(dl=128),m}function z(){var m=rc;return rc<<=1,(rc&62914560)===0&&(rc=4194304),m}function F(m){for(var g=[],E=0;31>E;E++)g.push(m);return g}function j(m,g){m.pendingLanes|=g,g!==268435456&&(m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0)}function ne(m,g,E,D,I,q){var ue=m.pendingLanes;m.pendingLanes=E,m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0,m.expiredLanes&=E,m.entangledLanes&=E,m.errorRecoveryDisabledLanes&=E,m.shellSuspendCounter=0;var xe=m.entanglements,Pe=m.expirationTimes,ot=m.hiddenUpdates;for(E=ue&~E;0<E;){var bt=31-Na(E),Bt=1<<bt;xe[bt]=0,Pe[bt]=-1;var Ut=ot[bt];if(Ut!==null)for(ot[bt]=null,bt=0;bt<Ut.length;bt++){var bn=Ut[bt];bn!==null&&(bn.lane&=-536870913)}E&=~Bt}D!==0&&W(m,D,0),q!==0&&I===0&&m.tag!==0&&(m.suspendedLanes|=q&~(ue&~g))}function W(m,g,E){m.pendingLanes|=g,m.suspendedLanes&=~g;var D=31-Na(g);m.entangledLanes|=g,m.entanglements[D]=m.entanglements[D]|1073741824|E&4194218}function Y(m,g){var E=m.entangledLanes|=g;for(m=m.entanglements;E;){var D=31-Na(E),I=1<<D;I&g|m[D]&g&&(m[D]|=g),E&=~I}}function K(m){return m&=-m,2<m?8<m?(m&134217727)!==0?32:268435456:8:2}function H(m){if(Wa&&typeof Wa.onCommitFiberRoot=="function")try{Wa.onCommitFiberRoot(Bi,m,void 0,(m.current.flags&128)===128)}catch{}}function J(m){if(typeof Xx=="function"&&ma(m),Wa&&typeof Wa.setStrictMode=="function")try{Wa.setStrictMode(Bi,m)}catch{}}function Q(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}function ie(m,g){if(typeof m=="object"&&m!==null){var E=Op.get(m);return E!==void 0?E:(g={value:m,source:g,stack:f(g)},Op.set(m,g),g)}return{value:m,source:g,stack:f(g)}}function V(m,g){ac[bo++]=tu,ac[bo++]=Vt,Vt=m,tu=g}function $(m,g,E){fs[ta++]=Ws,fs[ta++]=Ao,fs[ta++]=ku,ku=m;var D=Ws;m=Ao;var I=32-Na(D)-1;D&=~(1<<I),E+=1;var q=32-Na(g)+I;if(30<q){var ue=I-I%5;q=(D&(1<<ue)-1).toString(32),D>>=ue,I-=ue,Ws=1<<32-Na(g)+I|E<<I|D,Ao=q+m}else Ws=1<<q|E<<I|D,Ao=m}function oe(m){m.return!==null&&(V(m,1),$(m,1,0))}function de(m){for(;m===Vt;)Vt=ac[--bo],ac[bo]=null,tu=ac[--bo],ac[bo]=null;for(;m===ku;)ku=fs[--ta],fs[ta]=null,Ao=fs[--ta],fs[ta]=null,Ws=fs[--ta],fs[ta]=null}function fe(m,g){T(sc,g),T(nd,m),T(ri,null),m=K0(g),A(ri),T(ri,m)}function ge(){A(ri),A(nd),A(sc)}function Se(m){m.memoizedState!==null&&T(Gu,m);var g=ri.current,E=Lf(g,m.type);g!==E&&(T(nd,m),T(ri,E))}function De(m){nd.current===m&&(A(ri),A(nd)),Gu.current===m&&(A(Gu),mr?ul._currentValue=xo:ul._currentValue2=xo)}function He(m){var g=Error(r(418,""));throw st(ie(g,m)),Js}function Fe(m,g){if(!_r)throw Error(r(175));dg(m.stateNode,m.type,m.memoizedProps,g,m)||He(m)}function ke(m){for(Da=m.return;Da;)switch(Da.tag){case 3:case 27:va=!0;return;case 5:case 13:va=!1;return;default:Da=Da.return}}function Qe(m){if(!_r||m!==Da)return!1;if(!ai)return ke(m),ai=!0,!1;var g=!1;if(Hi?m.tag!==3&&m.tag!==27&&(m.tag!==5||pg(m.type)&&!Mn(m.type,m.memoizedProps))&&(g=!0):m.tag!==3&&(m.tag!==5||pg(m.type)&&!Mn(m.type,m.memoizedProps))&&(g=!0),g&&ga&&He(m),ke(m),m.tag===13){if(!_r)throw Error(r(316));if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));ga=Ix(m)}else ga=Da?nc(m.stateNode):null;return!0}function Re(){_r&&(ga=Da=null,ai=!1)}function st(m){So===null?So=[m]:So.push(m)}function pe(){for(var m=nu,g=pl=nu=0;g<m;){var E=er[g];er[g++]=null;var D=er[g];er[g++]=null;var I=er[g];er[g++]=null;var q=er[g];if(er[g++]=null,D!==null&&I!==null){var ue=D.pending;ue===null?I.next=I:(I.next=ue.next,ue.next=I),D.pending=I}q!==0&&Le(E,I,q)}}function St(m,g,E,D){er[nu++]=m,er[nu++]=g,er[nu++]=E,er[nu++]=D,pl|=D,m.lanes|=D,m=m.alternate,m!==null&&(m.lanes|=D)}function Ie(m,g,E,D){return St(m,g,E,D),pt(m)}function _e(m,g){return St(m,null,null,g),pt(m)}function Le(m,g,E){m.lanes|=E;var D=m.alternate;D!==null&&(D.lanes|=E);for(var I=!1,q=m.return;q!==null;)q.childLanes|=E,D=q.alternate,D!==null&&(D.childLanes|=E),q.tag===22&&(m=q.stateNode,m===null||m._visibility&1||(I=!0)),m=q,q=q.return;I&&g!==null&&m.tag===3&&(q=m.stateNode,I=31-Na(E),q=q.hiddenUpdates,m=q[I],m===null?q[I]=[g]:m.push(g),g.lane=E|536870912)}function pt(m){if(50<cd)throw cd=0,Eg=null,Error(r(185));for(var g=m.return;g!==null;)m=g,g=m.return;return m.tag===3?m.stateNode:null}function ze(m){m!==iu&&m.next===null&&(iu===null?Hf=iu=m:iu=iu.next=m),Ei=!0,kf||(kf=!0,tt(te))}function le(m,g){if(!xg&&Ei){xg=!0;do for(var E=!1,D=Hf;D!==null;){if(m!==0){var I=D.pendingLanes;if(I===0)var q=0;else{var ue=D.suspendedLanes,xe=D.pingedLanes;q=(1<<31-Na(42|m)+1)-1,q&=I&~(ue&~xe),q=q&201326677?q&201326677|1:q?q|2:0}q!==0&&(E=!0,et(D,q))}else q=Jn,q=L(D,D===Ci?q:0),(q&3)===0||P(D,q)||(E=!0,et(D,q));D=D.next}while(E);xg=!1}}function te(){Ei=kf=!1;var m=0;Gf!==0&&(Dx()&&(m=Gf),Gf=0);for(var g=Xr(),E=null,D=Hf;D!==null;){var I=D.next,q=Ee(D,g);q===0?(D.next=null,E===null?Hf=I:E.next=I,I===null&&(iu=E)):(E=D,(m!==0||(q&3)!==0)&&(Ei=!0)),D=I}le(m)}function Ee(m,g){for(var E=m.suspendedLanes,D=m.pingedLanes,I=m.expirationTimes,q=m.pendingLanes&-62914561;0<q;){var ue=31-Na(q),xe=1<<ue,Pe=I[ue];Pe===-1?((xe&E)===0||(xe&D)!==0)&&(I[ue]=k(xe,g)):Pe<=g&&(m.expiredLanes|=xe),q&=~xe}if(g=Ci,E=Jn,E=L(m,m===g?E:0),D=m.callbackNode,E===0||m===g&&Gi===2||m.cancelPendingCommit!==null)return D!==null&&D!==null&&td(D),m.callbackNode=null,m.callbackPriority=0;if((E&3)===0||P(m,E)){if(g=E&-E,g===m.callbackPriority)return g;switch(D!==null&&td(D),K(E)){case 2:case 8:E=gv;break;case 32:E=yg;break;case 268435456:E=Vx;break;default:E=yg}return D=Xe.bind(null,m),E=ed(E,D),m.callbackPriority=g,m.callbackNode=E,g}return D!==null&&D!==null&&td(D),m.callbackPriority=2,m.callbackNode=null,2}function Xe(m,g){var E=m.callbackNode;if(sl()&&m.callbackNode!==E)return null;var D=Jn;return D=L(m,m===Ci?D:0),D===0?null:(Lu(m,D,g),Ee(m,Xr()),m.callbackNode!=null&&m.callbackNode===E?Xe.bind(null,m):null)}function et(m,g){if(sl())return null;Lu(m,g,!0)}function tt(m){bp?tc(function(){(ui&6)!==0?ed(Bp,m):m()}):ed(Bp,m)}function _t(){return Gf===0&&(Gf=G()),Gf}function gt(m,g){if(id===null){var E=id=[];jf=0,Ks=_t(),Vf={status:"pending",value:void 0,then:function(D){E.push(D)}}}return jf++,g.then(Mt,Mt),g}function Mt(){if(--jf===0&&id!==null){Vf!==null&&(Vf.status="fulfilled");var m=id;id=null,Ks=0,Vf=null;for(var g=0;g<m.length;g++)(0,m[g])()}}function An(m,g){var E=[],D={status:"pending",value:null,reason:null,then:function(I){E.push(I)}};return m.then(function(){D.status="fulfilled",D.value=g;for(var I=0;I<E.length;I++)(0,E[I])(g)},function(I){for(D.status="rejected",D.reason=I,I=0;I<E.length;I++)(0,E[I])(void 0)}),D}function yt(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ot(m,g){m=m.updateQueue,g.updateQueue===m&&(g.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,callbacks:null})}function zt(m){return{lane:m,tag:0,payload:null,callback:null,next:null}}function Ht(m,g,E){var D=m.updateQueue;if(D===null)return null;if(D=D.shared,(ui&2)!==0){var I=D.pending;return I===null?g.next=g:(g.next=I.next,I.next=g),D.pending=g,g=pt(m),Le(m,null,E),g}return St(m,D,g,E),pt(m)}function wt(m,g,E){if(g=g.updateQueue,g!==null&&(g=g.shared,(E&4194176)!==0)){var D=g.lanes;D&=m.pendingLanes,E|=D,g.lanes=E,Y(m,E)}}function Ae(m,g){var E=m.updateQueue,D=m.alternate;if(D!==null&&(D=D.updateQueue,E===D)){var I=null,q=null;if(E=E.firstBaseUpdate,E!==null){do{var ue={lane:E.lane,tag:E.tag,payload:E.payload,callback:null,next:null};q===null?I=q=ue:q=q.next=ue,E=E.next}while(E!==null);q===null?I=q=g:q=q.next=g}else I=q=g;E={baseState:D.baseState,firstBaseUpdate:I,lastBaseUpdate:q,shared:D.shared,callbacks:D.callbacks},m.updateQueue=E;return}m=E.lastBaseUpdate,m===null?E.firstBaseUpdate=g:m.next=g,E.lastBaseUpdate=g}function it(){if(ju){var m=Vf;if(m!==null)throw m}}function Ct(m,g,E,D){ju=!1;var I=m.updateQueue;oc=!1;var q=I.firstBaseUpdate,ue=I.lastBaseUpdate,xe=I.shared.pending;if(xe!==null){I.shared.pending=null;var Pe=xe,ot=Pe.next;Pe.next=null,ue===null?q=ot:ue.next=ot,ue=Pe;var bt=m.alternate;bt!==null&&(bt=bt.updateQueue,xe=bt.lastBaseUpdate,xe!==ue&&(xe===null?bt.firstBaseUpdate=ot:xe.next=ot,bt.lastBaseUpdate=Pe))}if(q!==null){var Bt=I.baseState;ue=0,bt=ot=Pe=null,xe=q;do{var Ut=xe.lane&-536870913,bn=Ut!==xe.lane;if(bn?(Jn&Ut)===Ut:(D&Ut)===Ut){Ut!==0&&Ut===Ks&&(ju=!0),bt!==null&&(bt=bt.next={lane:0,tag:xe.tag,payload:xe.payload,callback:null,next:null});e:{var ro=m,Ju=xe;Ut=g;var Ku=E;switch(Ju.tag){case 1:if(ro=Ju.payload,typeof ro=="function"){Bt=ro.call(Ku,Bt,Ut);break e}Bt=ro;break e;case 3:ro.flags=ro.flags&-65537|128;case 0:if(ro=Ju.payload,Ut=typeof ro=="function"?ro.call(Ku,Bt,Ut):ro,Ut==null)break e;Bt=eg({},Bt,Ut);break e;case 2:oc=!0}}Ut=xe.callback,Ut!==null&&(m.flags|=64,bn&&(m.flags|=8192),bn=I.callbacks,bn===null?I.callbacks=[Ut]:bn.push(Ut))}else bn={lane:Ut,tag:xe.tag,payload:xe.payload,callback:xe.callback,next:null},bt===null?(ot=bt=bn,Pe=Bt):bt=bt.next=bn,ue|=Ut;if(xe=xe.next,xe===null){if(xe=I.shared.pending,xe===null)break;bn=xe,xe=bn.next,bn.next=null,I.lastBaseUpdate=bn,I.shared.pending=null}}while(!0);bt===null&&(Pe=Bt),I.baseState=Pe,I.firstBaseUpdate=ot,I.lastBaseUpdate=bt,q===null&&(I.shared.lanes=0),no|=ue,m.lanes=ue,m.memoizedState=Bt}}function be(m,g){if(typeof m!="function")throw Error(r(191,m));m.call(g)}function xt(m,g){var E=m.callbacks;if(E!==null)for(m.callbacks=null,m=0;m<E.length;m++)be(E[m],g)}function $e(m,g){if(Ja(m,g))return!0;if(typeof m!="object"||m===null||typeof g!="object"||g===null)return!1;var E=Object.keys(m),D=Object.keys(g);if(E.length!==D.length)return!1;for(D=0;D<E.length;D++){var I=E[D];if(!lc.call(g,I)||!Ja(m[I],g[I]))return!1}return!0}function at(m){return m=m.status,m==="fulfilled"||m==="rejected"}function Dt(){}function Rt(m,g,E){switch(E=m[E],E===void 0?m.push(g):E!==g&&(g.then(Dt,Dt),g=E),g.status){case"fulfilled":return g.value;case"rejected":throw m=g.reason,m===Vu?Error(r(483)):m;default:if(typeof g.status=="string")g.then(Dt,Dt);else{if(m=Ci,m!==null&&100<m.shellSuspendCounter)throw Error(r(482));m=g,m.status="pending",m.then(function(D){if(g.status==="pending"){var I=g;I.status="fulfilled",I.value=D}},function(D){if(g.status==="pending"){var I=g;I.status="rejected",I.reason=D}})}switch(g.status){case"fulfilled":return g.value;case"rejected":throw m=g.reason,m===Vu?Error(r(483)):m}throw cc=g,Vu}}function Jt(){if(cc===null)throw Error(r(459));var m=cc;return cc=null,m}function On(m){var g=su;return su+=1,au===null&&(au=[]),Rt(au,m,g)}function vi(m,g){g=g.props.ref,m.ref=g!==void 0?g:null}function En(m,g){throw g.$$typeof===b1?Error(r(525)):(m=Object.prototype.toString.call(g),Error(r(31,m==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":m)))}function Ur(m){var g=m._init;return g(m._payload)}function hr(m){function g(qe,we){if(m){var Ke=qe.deletions;Ke===null?(qe.deletions=[we],qe.flags|=16):Ke.push(we)}}function E(qe,we){if(!m)return null;for(;we!==null;)g(qe,we),we=we.sibling;return null}function D(qe){for(var we=new Map;qe!==null;)qe.key!==null?we.set(qe.key,qe):we.set(qe.index,qe),qe=qe.sibling;return we}function I(qe,we){return qe=go(qe,we),qe.index=0,qe.sibling=null,qe}function q(qe,we,Ke){return qe.index=Ke,m?(Ke=qe.alternate,Ke!==null?(Ke=Ke.index,Ke<we?(qe.flags|=33554434,we):Ke):(qe.flags|=33554434,we)):(qe.flags|=1048576,we)}function ue(qe){return m&&qe.alternate===null&&(qe.flags|=33554434),qe}function xe(qe,we,Ke,At){return we===null||we.tag!==6?(we=Zm(Ke,qe.mode,At),we.return=qe,we):(we=I(we,Ke),we.return=qe,we)}function Pe(qe,we,Ke,At){var qt=Ke.type;return qt===Ms?bt(qe,we,Ke.props.children,At,Ke.key):we!==null&&(we.elementType===qt||typeof qt=="object"&&qt!==null&&qt.$$typeof===Ys&&Ur(qt)===we.type)?(we=I(we,Ke.props),vi(we,Ke),we.return=qe,we):(we=Zl(Ke.type,Ke.key,Ke.props,null,qe.mode,At),vi(we,Ke),we.return=qe,we)}function ot(qe,we,Ke,At){return we===null||we.tag!==4||we.stateNode.containerInfo!==Ke.containerInfo||we.stateNode.implementation!==Ke.implementation?(we=Y0(Ke,qe.mode,At),we.return=qe,we):(we=I(we,Ke.children||[]),we.return=qe,we)}function bt(qe,we,Ke,At,qt){return we===null||we.tag!==7?(we=Fi(Ke,qe.mode,At,qt),we.return=qe,we):(we=I(we,Ke),we.return=qe,we)}function Bt(qe,we,Ke){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return we=Zm(""+we,qe.mode,Ke),we.return=qe,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case mp:return Ke=Zl(we.type,we.key,we.props,null,qe.mode,Ke),vi(Ke,we),Ke.return=qe,Ke;case vo:return we=Y0(we,qe.mode,Ke),we.return=qe,we;case Ys:var At=we._init;return we=At(we._payload),Bt(qe,we,Ke)}if(ws(we)||a(we))return we=Fi(we,qe.mode,Ke,null),we.return=qe,we;if(typeof we.then=="function")return Bt(qe,On(we),Ke);if(we.$$typeof===ol)return Bt(qe,tp(qe,we),Ke);En(qe,we)}return null}function Ut(qe,we,Ke,At){var qt=we!==null?we.key:null;if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return qt!==null?null:xe(qe,we,""+Ke,At);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case mp:return Ke.key===qt?Pe(qe,we,Ke,At):null;case vo:return Ke.key===qt?ot(qe,we,Ke,At):null;case Ys:return qt=Ke._init,Ke=qt(Ke._payload),Ut(qe,we,Ke,At)}if(ws(Ke)||a(Ke))return qt!==null?null:bt(qe,we,Ke,At,null);if(typeof Ke.then=="function")return Ut(qe,we,On(Ke),At);if(Ke.$$typeof===ol)return Ut(qe,we,tp(qe,Ke),At);En(qe,Ke)}return null}function bn(qe,we,Ke,At,qt){if(typeof At=="string"&&At!==""||typeof At=="number"||typeof At=="bigint")return qe=qe.get(Ke)||null,xe(we,qe,""+At,qt);if(typeof At=="object"&&At!==null){switch(At.$$typeof){case mp:return qe=qe.get(At.key===null?Ke:At.key)||null,Pe(we,qe,At,qt);case vo:return qe=qe.get(At.key===null?Ke:At.key)||null,ot(we,qe,At,qt);case Ys:var ji=At._init;return At=ji(At._payload),bn(qe,we,Ke,At,qt)}if(ws(At)||a(At))return qe=qe.get(Ke)||null,bt(we,qe,At,qt,null);if(typeof At.then=="function")return bn(qe,we,Ke,On(At),qt);if(At.$$typeof===ol)return bn(qe,we,Ke,tp(we,At),qt);En(we,At)}return null}function ro(qe,we,Ke,At){for(var qt=null,ji=null,pn=we,fi=we=0,Rr=null;pn!==null&&fi<Ke.length;fi++){pn.index>fi?(Rr=pn,pn=null):Rr=pn.sibling;var Ln=Ut(qe,pn,Ke[fi],At);if(Ln===null){pn===null&&(pn=Rr);break}m&&pn&&Ln.alternate===null&&g(qe,pn),we=q(Ln,we,fi),ji===null?qt=Ln:ji.sibling=Ln,ji=Ln,pn=Rr}if(fi===Ke.length)return E(qe,pn),ai&&V(qe,fi),qt;if(pn===null){for(;fi<Ke.length;fi++)pn=Bt(qe,Ke[fi],At),pn!==null&&(we=q(pn,we,fi),ji===null?qt=pn:ji.sibling=pn,ji=pn);return ai&&V(qe,fi),qt}for(pn=D(pn);fi<Ke.length;fi++)Rr=bn(pn,qe,fi,Ke[fi],At),Rr!==null&&(m&&Rr.alternate!==null&&pn.delete(Rr.key===null?fi:Rr.key),we=q(Rr,we,fi),ji===null?qt=Rr:ji.sibling=Rr,ji=Rr);return m&&pn.forEach(function(Al){return g(qe,Al)}),ai&&V(qe,fi),qt}function Ju(qe,we,Ke,At){if(Ke==null)throw Error(r(151));for(var qt=null,ji=null,pn=we,fi=we=0,Rr=null,Ln=Ke.next();pn!==null&&!Ln.done;fi++,Ln=Ke.next()){pn.index>fi?(Rr=pn,pn=null):Rr=pn.sibling;var Al=Ut(qe,pn,Ln.value,At);if(Al===null){pn===null&&(pn=Rr);break}m&&pn&&Al.alternate===null&&g(qe,pn),we=q(Al,we,fi),ji===null?qt=Al:ji.sibling=Al,ji=Al,pn=Rr}if(Ln.done)return E(qe,pn),ai&&V(qe,fi),qt;if(pn===null){for(;!Ln.done;fi++,Ln=Ke.next())Ln=Bt(qe,Ln.value,At),Ln!==null&&(we=q(Ln,we,fi),ji===null?qt=Ln:ji.sibling=Ln,ji=Ln);return ai&&V(qe,fi),qt}for(pn=D(pn);!Ln.done;fi++,Ln=Ke.next())Ln=bn(pn,qe,fi,Ln.value,At),Ln!==null&&(m&&Ln.alternate!==null&&pn.delete(Ln.key===null?fi:Ln.key),we=q(Ln,we,fi),ji===null?qt=Ln:ji.sibling=Ln,ji=Ln);return m&&pn.forEach(function(Fp){return g(qe,Fp)}),ai&&V(qe,fi),qt}function Ku(qe,we,Ke,At){if(typeof Ke=="object"&&Ke!==null&&Ke.type===Ms&&Ke.key===null&&(Ke=Ke.props.children),typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case mp:e:{for(var qt=Ke.key;we!==null;){if(we.key===qt){if(qt=Ke.type,qt===Ms){if(we.tag===7){E(qe,we.sibling),At=I(we,Ke.props.children),At.return=qe,qe=At;break e}}else if(we.elementType===qt||typeof qt=="object"&&qt!==null&&qt.$$typeof===Ys&&Ur(qt)===we.type){E(qe,we.sibling),At=I(we,Ke.props),vi(At,Ke),At.return=qe,qe=At;break e}E(qe,we);break}else g(qe,we);we=we.sibling}Ke.type===Ms?(At=Fi(Ke.props.children,qe.mode,At,Ke.key),At.return=qe,qe=At):(At=Zl(Ke.type,Ke.key,Ke.props,null,qe.mode,At),vi(At,Ke),At.return=qe,qe=At)}return ue(qe);case vo:e:{for(qt=Ke.key;we!==null;){if(we.key===qt)if(we.tag===4&&we.stateNode.containerInfo===Ke.containerInfo&&we.stateNode.implementation===Ke.implementation){E(qe,we.sibling),At=I(we,Ke.children||[]),At.return=qe,qe=At;break e}else{E(qe,we);break}else g(qe,we);we=we.sibling}At=Y0(Ke,qe.mode,At),At.return=qe,qe=At}return ue(qe);case Ys:return qt=Ke._init,Ke=qt(Ke._payload),Ku(qe,we,Ke,At)}if(ws(Ke))return ro(qe,we,Ke,At);if(a(Ke)){if(qt=a(Ke),typeof qt!="function")throw Error(r(150));return Ke=qt.call(Ke),Ju(qe,we,Ke,At)}if(typeof Ke.then=="function")return Ku(qe,we,On(Ke),At);if(Ke.$$typeof===ol)return Ku(qe,we,tp(qe,Ke),At);En(qe,Ke)}return typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint"?(Ke=""+Ke,we!==null&&we.tag===6?(E(qe,we.sibling),At=I(we,Ke),At.return=qe,qe=At):(E(qe,we),At=Zm(Ke,qe.mode,At),At.return=qe,qe=At),ue(qe)):E(qe,we)}return function(qe,we,Ke,At){try{su=0;var qt=Ku(qe,we,Ke,At);return au=null,qt}catch(pn){if(pn===Vu)throw pn;var ji=n(29,pn,null,qe.mode);return ji.lanes=At,ji.return=qe,ji}finally{}}}function Er(m,g){m=Ka,T(Mo,m),T(ti,g),Ka=m|g.baseLanes}function $r(){T(Mo,Ka),T(ti,ti.current)}function ca(){Ka=Mo.current,A(ti),A(Mo)}function xs(m){var g=m.alternate;T(na,na.current&1),T($s,m),ki===null&&(g===null||ti.current!==null||g.memoizedState!==null)&&(ki=m)}function Yd(m){if(m.tag===22){if(T(na,na.current),T($s,m),ki===null){var g=m.alternate;g!==null&&g.memoizedState!==null&&(ki=m)}}else Jo()}function Jo(){T(na,na.current),T($s,$s.current)}function is(m){A($s),ki===m&&(ki=null),A(na)}function Ko(m){for(var g=m;g!==null;){if(g.tag===13){var E=g.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||ug(E)||Uf(E)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}function Ui(){throw Error(r(321))}function $o(m,g){if(g===null)return!1;for(var E=0;E<g.length&&E<m.length;E++)if(!Ja(m[E],g[E]))return!1;return!0}function Zo(m,g,E,D,I,q){return ou=q,Nn=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,an.H=m===null||m.memoizedState===null?qu:hs,Xu=!1,q=E(D,I),Xu=!1,Xf&&(q=Ic(g,E,D,I)),Uc(m),q}function Uc(m){an.H=br;var g=nn!==null&&nn.next!==null;if(ou=0,ci=nn=Nn=null,wo=!1,qf=0,ya=null,g)throw Error(r(300));m===null||Yi||(m=m.dependencies,m!==null&&Sf(m)&&(Yi=!0))}function Ic(m,g,E,D){Nn=m;var I=0;do{if(Xf&&(ya=null),qf=0,Xf=!1,25<=I)throw Error(r(301));if(I+=1,ci=nn=null,m.updateQueue!=null){var q=m.updateQueue;q.lastEffect=null,q.events=null,q.stores=null,q.memoCache!=null&&(q.memoCache.index=0)}an.H=Zs,q=g(E,D)}while(Xf);return q}function Ir(){var m=an.H,g=m.useState()[0];return g=typeof g.then=="function"?We(g):g,m=m.useState()[0],(nn!==null?nn.memoizedState:null)!==m&&(Nn.flags|=1024),g}function Th(){var m=_g!==0;return _g=0,m}function Ch(m,g,E){g.updateQueue=m.updateQueue,g.flags&=-2053,m.lanes&=~E}function Qo(m){if(wo){for(m=m.memoizedState;m!==null;){var g=m.queue;g!==null&&(g.pending=null),m=m.next}wo=!1}ou=0,ci=nn=Nn=null,Xf=!1,qf=_g=0,ya=null}function se(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ci===null?Nn.memoizedState=ci=m:ci=ci.next=m,ci}function Te(){if(nn===null){var m=Nn.alternate;m=m!==null?m.memoizedState:null}else m=nn.next;var g=ci===null?Nn.memoizedState:ci.next;if(g!==null)ci=g,nn=m;else{if(m===null)throw Nn.alternate===null?Error(r(467)):Error(r(310));nn=m,m={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},ci===null?Nn.memoizedState=ci=m:ci=ci.next=m}return ci}function We(m){var g=qf;return qf+=1,ya===null&&(ya=[]),m=Rt(ya,m,g),g=Nn,(ci===null?g.memoizedState:ci.next)===null&&(g=g.alternate,an.H=g===null||g.memoizedState===null?qu:hs),m}function Je(m){if(m!==null&&typeof m=="object"){if(typeof m.then=="function")return We(m);if(m.$$typeof===ol)return ua(m)}throw Error(r(438,String(m)))}function Oe(m){var g=null,E=Nn.updateQueue;if(E!==null&&(g=E.memoCache),g==null){var D=Nn.alternate;D!==null&&(D=D.updateQueue,D!==null&&(D=D.memoCache,D!=null&&(g={data:D.data.map(function(I){return I.slice()}),index:0})))}if(g==null&&(g={data:[],index:0}),E===null&&(E=Lp(),Nn.updateQueue=E),E.memoCache=g,E=g.data[g.index],E===void 0)for(E=g.data[g.index]=Array(m),D=0;D<m;D++)E[D]=Rx;return g.index++,E}function mt(m,g){return typeof g=="function"?g(m):g}function Tt(m){var g=Te();return Nt(g,nn,m)}function Nt(m,g,E){var D=m.queue;if(D===null)throw Error(r(311));D.lastRenderedReducer=E;var I=m.baseQueue,q=D.pending;if(q!==null){if(I!==null){var ue=I.next;I.next=q.next,q.next=ue}g.baseQueue=I=q,D.pending=null}if(q=m.baseState,I===null)m.memoizedState=q;else{g=I.next;var xe=ue=null,Pe=null,ot=g,bt=!1;do{var Bt=ot.lane&-536870913;if(Bt!==ot.lane?(Jn&Bt)===Bt:(ou&Bt)===Bt){var Ut=ot.revertLane;if(Ut===0)Pe!==null&&(Pe=Pe.next={lane:0,revertLane:0,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null}),Bt===Ks&&(bt=!0);else if((ou&Ut)===Ut){ot=ot.next,Ut===Ks&&(bt=!0);continue}else Bt={lane:0,revertLane:ot.revertLane,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null},Pe===null?(xe=Pe=Bt,ue=q):Pe=Pe.next=Bt,Nn.lanes|=Ut,no|=Ut;Bt=ot.action,Xu&&E(q,Bt),q=ot.hasEagerState?ot.eagerState:E(q,Bt)}else Ut={lane:Bt,revertLane:ot.revertLane,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null},Pe===null?(xe=Pe=Ut,ue=q):Pe=Pe.next=Ut,Nn.lanes|=Bt,no|=Bt;ot=ot.next}while(ot!==null&&ot!==g);if(Pe===null?ue=q:Pe.next=xe,!Ja(q,m.memoizedState)&&(Yi=!0,bt&&(E=Vf,E!==null)))throw E;m.memoizedState=q,m.baseState=ue,m.baseQueue=Pe,D.lastRenderedState=q}return I===null&&(D.lanes=0),[m.memoizedState,D.dispatch]}function Ft(m){var g=Te(),E=g.queue;if(E===null)throw Error(r(311));E.lastRenderedReducer=m;var D=E.dispatch,I=E.pending,q=g.memoizedState;if(I!==null){E.pending=null;var ue=I=I.next;do q=m(q,ue.action),ue=ue.next;while(ue!==I);Ja(q,g.memoizedState)||(Yi=!0),g.memoizedState=q,g.baseQueue===null&&(g.baseState=q),E.lastRenderedState=q}return[q,D]}function rn(m,g,E){var D=Nn,I=Te(),q=ai;if(q){if(E===void 0)throw Error(r(407));E=E()}else E=g();var ue=!Ja((nn||I).memoizedState,E);if(ue&&(I.memoizedState=E,Yi=!0),I=I.queue,Im(Fn.bind(null,D,I,m),[m]),I.getSnapshot!==g||ue||ci!==null&&ci.memoizedState.tag&1){if(D.flags|=2048,wa(9,jt.bind(null,D,I,E,g),{destroy:void 0},null),Ci===null)throw Error(r(349));q||(ou&60)!==0||Zt(D,g,E)}return E}function Zt(m,g,E){m.flags|=16384,m={getSnapshot:g,value:E},g=Nn.updateQueue,g===null?(g=Lp(),Nn.updateQueue=g,g.stores=[m]):(E=g.stores,E===null?g.stores=[m]:E.push(m))}function jt(m,g,E,D){g.value=E,g.getSnapshot=D,oi(g)&&rr(m)}function Fn(m,g,E){return E(function(){oi(g)&&rr(m)})}function oi(m){var g=m.getSnapshot;m=m.value;try{var E=g();return!Ja(m,E)}catch{return!0}}function rr(m){var g=_e(m,2);g!==null&&da(g,m,2)}function zn(m){var g=se();if(typeof m=="function"){var E=m;if(m=E(),Xu){J(!0);try{E()}finally{J(!1)}}}return g.memoizedState=g.baseState=m,g.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mt,lastRenderedState:m},g}function Vn(m,g,E,D){return m.baseState=E,Nt(m,nn,typeof D=="function"?D:mt)}function Kt(m,g,E,D,I){if(Kd(m))throw Error(r(485));if(m=g.action,m!==null){var q={payload:I,action:m,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ue){q.listeners.push(ue)}};an.T!==null?E(!0):q.isTransition=!1,D(q),E=g.pending,E===null?(q.next=g.pending=q,xr(g,q)):(q.next=E.next,g.pending=E.next=q)}}function xr(m,g){var E=g.action,D=g.payload,I=m.state;if(g.isTransition){var q=an.T,ue={};an.T=ue;try{var xe=E(I,D),Pe=an.S;Pe!==null&&Pe(ue,xe),Zn(m,g,xe)}catch(ot){el(m,g,ot)}finally{an.T=q}}else try{q=E(I,D),Zn(m,g,q)}catch(ot){el(m,g,ot)}}function Zn(m,g,E){E!==null&&typeof E=="object"&&typeof E.then=="function"?E.then(function(D){Fr(m,g,D)},function(D){return el(m,g,D)}):Fr(m,g,E)}function Fr(m,g,E){g.status="fulfilled",g.value=E,Xi(g),m.state=E,g=m.pending,g!==null&&(E=g.next,E===g?m.pending=null:(E=E.next,g.next=E,xr(m,E)))}function el(m,g,E){var D=m.pending;if(m.pending=null,D!==null){D=D.next;do g.status="rejected",g.reason=E,Xi(g),g=g.next;while(g!==D)}m.action=null}function Xi(m){m=m.listeners;for(var g=0;g<m.length;g++)(0,m[g])()}function tl(m,g){return g}function Di(m,g){if(ai){var E=Ci.formState;if(E!==null){e:{var D=Nn;if(ai){if(ga){var I=hg(ga,va);if(I){ga=nc(I),D=Ts(I);break e}}He(D)}D=!1}D&&(g=E[0])}}E=se(),E.memoizedState=E.baseState=g,D={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:g},E.queue=D,E=D0.bind(null,Nn,D),D.dispatch=E,D=zn(!1);var q=yi.bind(null,Nn,!1,D.queue);return D=se(),I={state:g,dispatch:null,action:m,pending:null},D.queue=I,E=Kt.bind(null,Nn,I,q,E),I.dispatch=E,D.memoizedState=m,[g,E,!1]}function Zr(m){var g=Te();return zr(g,nn,m)}function zr(m,g,E){g=Nt(m,g,tl)[0],m=Tt(mt)[0],g=typeof g=="object"&&g!==null&&typeof g.then=="function"?We(g):g;var D=Te(),I=D.queue,q=I.dispatch;return E!==D.memoizedState&&(Nn.flags|=2048,wa(9,Qr.bind(null,I,E),{destroy:void 0},null)),[g,q,m]}function Qr(m,g){m.action=g}function Hr(m){var g=Te(),E=nn;if(E!==null)return zr(g,E,m);Te(),g=g.memoizedState,E=Te();var D=E.queue.dispatch;return E.memoizedState=m,[g,D,!1]}function wa(m,g,E,D){return m={tag:m,create:g,inst:E,deps:D,next:null},g=Nn.updateQueue,g===null&&(g=Lp(),Nn.updateQueue=g),E=g.lastEffect,E===null?g.lastEffect=m.next=m:(D=E.next,E.next=m,m.next=D,g.lastEffect=m),m}function rs(){return Te().memoizedState}function Rh(m,g,E,D){var I=se();Nn.flags|=m,I.memoizedState=wa(1|g,E,{destroy:void 0},D===void 0?null:D)}function Nh(m,g,E,D){var I=Te();D=D===void 0?null:D;var q=I.memoizedState.inst;nn!==null&&D!==null&&$o(D,nn.memoizedState.deps)?I.memoizedState=wa(g,E,q,D):(Nn.flags|=m,I.memoizedState=wa(1|g,E,q,D))}function Um(m,g){Rh(8390656,8,m,g)}function Im(m,g){Nh(2048,8,m,g)}function C0(m,g){return Nh(4,2,m,g)}function Dh(m,g){return Nh(4,4,m,g)}function Wd(m,g){if(typeof g=="function"){m=m();var E=g(m);return function(){typeof E=="function"?E():g(null)}}if(g!=null)return m=m(),g.current=m,function(){g.current=null}}function Fm(m,g,E){E=E!=null?E.concat([m]):null,Nh(4,4,Wd.bind(null,g,m),E)}function Eu(){}function bf(m,g){var E=Te();g=g===void 0?null:g;var D=E.memoizedState;return g!==null&&$o(g,D[1])?D[0]:(E.memoizedState=[m,g],m)}function zm(m,g){var E=Te();g=g===void 0?null:g;var D=E.memoizedState;if(g!==null&&$o(g,D[1]))return D[0];if(D=m(),Xu){J(!0);try{m()}finally{J(!1)}}return E.memoizedState=[D,g],D}function Jd(m,g,E){return E===void 0||(ou&1073741824)!==0?m.memoizedState=g:(m.memoizedState=E,m=Gh(),Nn.lanes|=m,no|=m,E)}function R0(m,g,E,D){return Ja(E,g)?E:ti.current!==null?(m=Jd(m,E,D),Ja(m,g)||(Yi=!0),m):(ou&42)===0?(Yi=!0,m.memoizedState=E):(m=Gh(),Nn.lanes|=m,no|=m,g)}function Bh(m,g,E,D,I){var q=Zc();pa(q!==0&&8>q?q:8);var ue=an.T,xe={};an.T=xe,yi(m,!1,g,E);try{var Pe=I(),ot=an.S;if(ot!==null&&ot(xe,Pe),Pe!==null&&typeof Pe=="object"&&typeof Pe.then=="function"){var bt=An(Pe,D);pi(m,g,bt,qi(m))}else pi(m,g,D,qi(m))}catch(Bt){pi(m,g,{then:function(){},status:"rejected",reason:Bt},qi())}finally{pa(q),an.T=ue}}function Xl(m){var g=m.memoizedState;if(g!==null)return g;g={memoizedState:xo,baseState:xo,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mt,lastRenderedState:xo},next:null};var E={};return g.next={memoizedState:E,baseState:E,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mt,lastRenderedState:E},next:null},m.memoizedState=g,m=m.alternate,m!==null&&(m.memoizedState=g),g}function Af(){return ua(ul)}function Oh(){return Te().memoizedState}function Fc(){return Te().memoizedState}function N0(m){for(var g=m.return;g!==null;){switch(g.tag){case 24:case 3:var E=qi();m=zt(E);var D=Ht(g,m,E);D!==null&&(da(D,g,E),wt(D,g,E)),g={cache:Wl()},m.payload=g;return}g=g.return}}function Hm(m,g,E){var D=qi();E={lane:D,revertLane:0,action:E,hasEagerState:!1,eagerState:null,next:null},Kd(m)?as(g,E):(E=Ie(m,g,E,D),E!==null&&(da(E,m,D),Tu(E,g,D)))}function D0(m,g,E){var D=qi();pi(m,g,E,D)}function pi(m,g,E,D){var I={lane:D,revertLane:0,action:E,hasEagerState:!1,eagerState:null,next:null};if(Kd(m))as(g,I);else{var q=m.alternate;if(m.lanes===0&&(q===null||q.lanes===0)&&(q=g.lastRenderedReducer,q!==null))try{var ue=g.lastRenderedState,xe=q(ue,E);if(I.hasEagerState=!0,I.eagerState=xe,Ja(xe,ue))return St(m,g,I,0),Ci===null&&pe(),!1}catch{}finally{}if(E=Ie(m,g,I,D),E!==null)return da(E,m,D),Tu(E,g,D),!0}return!1}function yi(m,g,E,D){if(D={lane:2,revertLane:_t(),action:D,hasEagerState:!1,eagerState:null,next:null},Kd(m)){if(g)throw Error(r(479))}else g=Ie(m,E,D,2),g!==null&&da(g,m,2)}function Kd(m){var g=m.alternate;return m===Nn||g!==null&&g===Nn}function as(m,g){Xf=wo=!0;var E=m.pending;E===null?g.next=g:(g.next=E.next,E.next=g),m.pending=g}function Tu(m,g,E){if((E&4194176)!==0){var D=g.lanes;D&=m.pendingLanes,E|=D,g.lanes=E,Y(m,E)}}function Lh(m,g,E,D){g=m.memoizedState,E=E(D,g),E=E==null?g:eg({},g,E),m.memoizedState=E,m.lanes===0&&(m.updateQueue.baseState=E)}function Ph(m,g,E,D,I,q,ue){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(D,q,ue):g.prototype&&g.prototype.isPureReactComponent?!$e(E,D)||!$e(I,q):!0}function bx(m,g,E,D){m=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(E,D),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(E,D),g.state!==m&&vl.enqueueReplaceState(g,g.state,null)}function ql(m,g){var E=g;if("ref"in g){E={};for(var D in g)D!=="ref"&&(E[D]=g[D])}if(m=m.defaultProps){E===g&&(E=eg({},E));for(var I in m)E[I]===void 0&&(E[I]=m[I])}return E}function Uh(m,g){try{var E=m.onUncaughtError;E(g.value,{componentStack:g.stack})}catch(D){setTimeout(function(){throw D})}}function Tr(m,g,E){try{var D=m.onCaughtError;D(E.value,{componentStack:E.stack,errorBoundary:g.tag===1?g.stateNode:null})}catch(I){setTimeout(function(){throw I})}}function Cu(m,g,E){return E=zt(E),E.tag=3,E.payload={element:null},E.callback=function(){Uh(m,g)},E}function zc(m){return m=zt(m),m.tag=3,m}function B0(m,g,E,D){var I=E.type.getDerivedStateFromError;if(typeof I=="function"){var q=D.value;m.payload=function(){return I(q)},m.callback=function(){Tr(g,E,D)}}var ue=E.stateNode;ue!==null&&typeof ue.componentDidCatch=="function"&&(m.callback=function(){Tr(g,E,D),typeof I!="function"&&(Yu===null?Yu=new Set([this]):Yu.add(this));var xe=D.stack;this.componentDidCatch(D.value,{componentStack:xe!==null?xe:""})})}function O0(m,g,E,D,I){if(E.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){if(g=E.alternate,g!==null&&Fh(g,E,I,!0),E=$s.current,E!==null){switch(E.tag){case 13:return ki===null?Wc():E.alternate===null&&Ji===0&&(Ji=3),E.flags&=-257,E.flags|=65536,E.lanes=I,D===ru?E.flags|=16384:(g=E.updateQueue,g===null?E.updateQueue=new Set([D]):g.add(D),$l(m,D,I)),!1;case 22:return E.flags|=65536,D===ru?E.flags|=16384:(g=E.updateQueue,g===null?(g={transitions:null,markerInstances:null,retryQueue:new Set([D])},E.updateQueue=g):(E=g.retryQueue,E===null?g.retryQueue=new Set([D]):E.add(D)),$l(m,D,I)),!1}throw Error(r(435,E.tag))}return $l(m,D,I),Wc(),!1}if(ai)return g=$s.current,g!==null?((g.flags&65536)===0&&(g.flags|=256),g.flags|=65536,g.lanes=I,D!==Js&&(m=Error(r(422),{cause:D}),st(ie(m,E)))):(D!==Js&&(g=Error(r(423),{cause:D}),st(ie(g,E))),m=m.current.alternate,m.flags|=65536,I&=-I,m.lanes|=I,D=ie(D,E),I=Cu(m.stateNode,D,I),Ae(m,I),Ji!==4&&(Ji=2)),!1;var q=Error(r(520),{cause:D});if(q=ie(q,E),Wf===null?Wf=[q]:Wf.push(q),Ji!==4&&(Ji=2),g===null)return!0;D=ie(D,E),E=g;do{switch(E.tag){case 3:return E.flags|=65536,m=I&-I,E.lanes|=m,m=Cu(E.stateNode,D,m),Ae(E,m),!1;case 1:if(g=E.type,q=E.stateNode,(E.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Yu===null||!Yu.has(q))))return E.flags|=65536,I&=-I,E.lanes|=I,I=zc(I),B0(I,m,E,D),Ae(E,I),!1}E=E.return}while(E!==null);return!1}function Ii(m,g,E,D){g.child=m===null?gl(g,null,E,D):ml(g,m.child,E,D)}function $d(m,g,E,D,I){E=E.render;var q=g.ref;if("ref"in D){var ue={};for(var xe in D)xe!=="ref"&&(ue[xe]=D[xe])}else ue=D;return Yl(g),D=Zo(m,g,E,ue,q,I),xe=Th(),m!==null&&!Yi?(Ch(m,g,I),Hc(m,g,I)):(ai&&xe&&oe(g),g.flags|=1,Ii(m,g,D,I),g.child)}function L0(m,g,E,D,I){if(m===null){var q=E.type;return typeof q=="function"&&!Cn(q)&&q.defaultProps===void 0&&E.compare===null?(g.tag=15,g.type=q,P0(m,g,q,D,I)):(m=Zl(E.type,null,D,g,g.mode,I),m.ref=g.ref,m.return=g,g.child=m)}if(q=m.child,!z0(m,I)){var ue=q.memoizedProps;if(E=E.compare,E=E!==null?E:$e,E(ue,D)&&m.ref===g.ref)return Hc(m,g,I)}return g.flags|=1,m=go(q,D),m.ref=g.ref,m.return=g,g.child=m}function P0(m,g,E,D,I){if(m!==null){var q=m.memoizedProps;if($e(q,D)&&m.ref===g.ref)if(Yi=!1,g.pendingProps=D=q,z0(m,I))(m.flags&131072)!==0&&(Yi=!0);else return g.lanes=m.lanes,Hc(m,g,I)}return ka(m,g,E,D,I)}function U0(m,g,E){var D=g.pendingProps,I=D.children,q=(g.stateNode._pendingVisibility&2)!==0,ue=m!==null?m.memoizedState:null;if(Ih(m,g),D.mode==="hidden"||q){if((g.flags&128)!==0){if(D=ue!==null?ue.baseLanes|E:E,m!==null){for(I=g.child=m.child,q=0;I!==null;)q=q|I.lanes|I.childLanes,I=I.sibling;g.childLanes=q&~D}else g.childLanes=0,g.child=null;return I0(m,g,D,E)}if((E&536870912)!==0)g.memoizedState={baseLanes:0,cachePool:null},m!==null&&Ga(g,ue!==null?ue.cachePool:null),ue!==null?Er(g,ue):$r(),Yd(g);else return g.lanes=g.childLanes=536870912,I0(m,g,ue!==null?ue.baseLanes|E:E,E)}else ue!==null?(Ga(g,ue.cachePool),Er(g,ue),Jo(),g.memoizedState=null):(m!==null&&Ga(g,null),$r(),Jo());return Ii(m,g,I,E),g.child}function I0(m,g,E,D){var I=Vm();return I=I===null?null:{parent:mr?Wi._currentValue:Wi._currentValue2,pool:I},g.memoizedState={baseLanes:E,cachePool:I},m!==null&&Ga(g,null),$r(),Yd(g),m!==null&&Fh(m,g,D,!0),null}function Ih(m,g){var E=g.ref;if(E===null)m!==null&&m.ref!==null&&(g.flags|=2097664);else{if(typeof E!="function"&&typeof E!="object")throw Error(r(284));(m===null||m.ref!==E)&&(g.flags|=2097664)}}function ka(m,g,E,D,I){return Yl(g),E=Zo(m,g,E,D,void 0,I),D=Th(),m!==null&&!Yi?(Ch(m,g,I),Hc(m,g,I)):(ai&&D&&oe(g),g.flags|=1,Ii(m,g,E,I),g.child)}function Ax(m,g,E,D,I,q){return Yl(g),g.updateQueue=null,E=Ic(g,D,E,I),Uc(m),D=Th(),m!==null&&!Yi?(Ch(m,g,q),Hc(m,g,q)):(ai&&D&&oe(g),g.flags|=1,Ii(m,g,E,q),g.child)}function Gs(m,g,E,D,I){if(Yl(g),g.stateNode===null){var q=hl,ue=E.contextType;typeof ue=="object"&&ue!==null&&(q=ua(ue)),q=new E(D,q),g.memoizedState=q.state!==null&&q.state!==void 0?q.state:null,q.updater=vl,g.stateNode=q,q._reactInternals=g,q=g.stateNode,q.props=D,q.state=g.memoizedState,q.refs={},yt(g),ue=E.contextType,q.context=typeof ue=="object"&&ue!==null?ua(ue):hl,q.state=g.memoizedState,ue=E.getDerivedStateFromProps,typeof ue=="function"&&(Lh(g,E,ue,D),q.state=g.memoizedState),typeof E.getDerivedStateFromProps=="function"||typeof q.getSnapshotBeforeUpdate=="function"||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(ue=q.state,typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount(),ue!==q.state&&vl.enqueueReplaceState(q,q.state,null),Ct(g,D,q,I),it(),q.state=g.memoizedState),typeof q.componentDidMount=="function"&&(g.flags|=4194308),D=!0}else if(m===null){q=g.stateNode;var xe=g.memoizedProps,Pe=ql(E,xe);q.props=Pe;var ot=q.context,bt=E.contextType;ue=hl,typeof bt=="object"&&bt!==null&&(ue=ua(bt));var Bt=E.getDerivedStateFromProps;bt=typeof Bt=="function"||typeof q.getSnapshotBeforeUpdate=="function",xe=g.pendingProps!==xe,bt||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(xe||ot!==ue)&&bx(g,q,D,ue),oc=!1;var Ut=g.memoizedState;q.state=Ut,Ct(g,D,q,I),it(),ot=g.memoizedState,xe||Ut!==ot||oc?(typeof Bt=="function"&&(Lh(g,E,Bt,D),ot=g.memoizedState),(Pe=oc||Ph(g,E,Pe,D,Ut,ot,ue))?(bt||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(g.flags|=4194308)):(typeof q.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=D,g.memoizedState=ot),q.props=D,q.state=ot,q.context=ue,D=Pe):(typeof q.componentDidMount=="function"&&(g.flags|=4194308),D=!1)}else{q=g.stateNode,Ot(m,g),ue=g.memoizedProps,bt=ql(E,ue),q.props=bt,Bt=g.pendingProps,Ut=q.context,ot=E.contextType,Pe=hl,typeof ot=="object"&&ot!==null&&(Pe=ua(ot)),xe=E.getDerivedStateFromProps,(ot=typeof xe=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(ue!==Bt||Ut!==Pe)&&bx(g,q,D,Pe),oc=!1,Ut=g.memoizedState,q.state=Ut,Ct(g,D,q,I),it();var bn=g.memoizedState;ue!==Bt||Ut!==bn||oc||m!==null&&m.dependencies!==null&&Sf(m.dependencies)?(typeof xe=="function"&&(Lh(g,E,xe,D),bn=g.memoizedState),(bt=oc||Ph(g,E,bt,D,Ut,bn,Pe)||m!==null&&m.dependencies!==null&&Sf(m.dependencies))?(ot||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(D,bn,Pe),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(D,bn,Pe)),typeof q.componentDidUpdate=="function"&&(g.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof q.componentDidUpdate!="function"||ue===m.memoizedProps&&Ut===m.memoizedState||(g.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||ue===m.memoizedProps&&Ut===m.memoizedState||(g.flags|=1024),g.memoizedProps=D,g.memoizedState=bn),q.props=D,q.state=bn,q.context=Pe,D=bt):(typeof q.componentDidUpdate!="function"||ue===m.memoizedProps&&Ut===m.memoizedState||(g.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||ue===m.memoizedProps&&Ut===m.memoizedState||(g.flags|=1024),D=!1)}return q=D,Ih(m,g),D=(g.flags&128)!==0,q||D?(q=g.stateNode,E=D&&typeof E.getDerivedStateFromError!="function"?null:q.render(),g.flags|=1,m!==null&&D?(g.child=ml(g,m.child,null,I),g.child=ml(g,null,E,I)):Ii(m,g,E,I),g.memoizedState=q.state,m=g.child):m=Hc(m,g,I),m}function Sx(m,g,E,D){return Re(),g.flags|=256,Ii(m,g,E,D),g.child}function km(m){return{baseLanes:m,cachePool:rp()}}function fo(m,g,E){return m=m!==null?m.childLanes&~E:0,g&&(m|=io),m}function Zd(m,g,E){var D=g.pendingProps,I=!1,q=(g.flags&128)!==0,ue;if((ue=q)||(ue=m!==null&&m.memoizedState===null?!1:(na.current&2)!==0),ue&&(I=!0,g.flags&=-129),ue=(g.flags&32)!==0,g.flags&=-33,m===null){if(ai){if(I?xs(g):Jo(),ai){var xe=ga,Pe;(Pe=xe)&&(xe=hv(xe,va),xe!==null?(g.memoizedState={dehydrated:xe,treeContext:ku!==null?{id:Ws,overflow:Ao}:null,retryLane:536870912},Pe=n(18,null,null,0),Pe.stateNode=xe,Pe.return=g,g.child=Pe,Da=g,ga=null,Pe=!0):Pe=!1),Pe||He(g)}if(xe=g.memoizedState,xe!==null&&(xe=xe.dehydrated,xe!==null))return Uf(xe)?g.lanes=16:g.lanes=536870912,null;is(g)}return xe=D.children,D=D.fallback,I?(Jo(),I=g.mode,xe=Zi({mode:"hidden",children:xe},I),D=Fi(D,I,E,null),xe.return=g,D.return=g,xe.sibling=D,g.child=xe,I=g.child,I.memoizedState=km(E),I.childLanes=fo(m,ue,E),g.memoizedState=Sg,D):(xs(g),Qd(g,xe))}if(Pe=m.memoizedState,Pe!==null&&(xe=Pe.dehydrated,xe!==null)){if(q)g.flags&256?(xs(g),g.flags&=-257,g=nl(m,g,E)):g.memoizedState!==null?(Jo(),g.child=m.child,g.flags|=128,g=null):(Jo(),I=D.fallback,xe=g.mode,D=Zi({mode:"visible",children:D.children},xe),I=Fi(I,xe,E,null),I.flags|=2,D.return=g,I.return=g,D.sibling=I,g.child=D,ml(g,m.child,null,E),D=g.child,D.memoizedState=km(E),D.childLanes=fo(m,ue,E),g.memoizedState=Sg,g=I);else if(xs(g),Uf(xe))ue=fg(xe).digest,D=Error(r(419)),D.stack="",D.digest=ue,st({value:D,source:null,stack:null}),g=nl(m,g,E);else if(Yi||Fh(m,g,E,!1),ue=(E&m.childLanes)!==0,Yi||ue){if(ue=Ci,ue!==null){if(D=E&-E,(D&42)!==0)D=1;else switch(D){case 2:D=1;break;case 8:D=4;break;case 32:D=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:D=64;break;case 268435456:D=134217728;break;default:D=0}if(D=(D&(ue.suspendedLanes|E))!==0?0:D,D!==0&&D!==Pe.retryLane)throw Pe.retryLane=D,_e(m,D),da(ue,m,D),Ag}ug(xe)||Wc(),g=nl(m,g,E)}else ug(xe)?(g.flags|=128,g.child=m.child,g=re.bind(null,m),uv(xe,g),g=null):(m=Pe.treeContext,_r&&(ga=Ep(xe),Da=g,ai=!0,So=null,va=!1,m!==null&&(fs[ta++]=Ws,fs[ta++]=Ao,fs[ta++]=ku,Ws=m.id,Ao=m.overflow,ku=g)),g=Qd(g,D.children),g.flags|=4096);return g}return I?(Jo(),I=D.fallback,xe=g.mode,Pe=m.child,q=Pe.sibling,D=go(Pe,{mode:"hidden",children:D.children}),D.subtreeFlags=Pe.subtreeFlags&31457280,q!==null?I=go(q,I):(I=Fi(I,xe,E,null),I.flags|=2),I.return=g,D.return=g,D.sibling=I,g.child=D,D=I,I=g.child,xe=m.child.memoizedState,xe===null?xe=km(E):(Pe=xe.cachePool,Pe!==null?(q=mr?Wi._currentValue:Wi._currentValue2,Pe=Pe.parent!==q?{parent:q,pool:q}:Pe):Pe=rp(),xe={baseLanes:xe.baseLanes|E,cachePool:Pe}),I.memoizedState=xe,I.childLanes=fo(m,ue,E),g.memoizedState=Sg,D):(xs(g),E=m.child,m=E.sibling,E=go(E,{mode:"visible",children:D.children}),E.return=g,E.sibling=null,m!==null&&(ue=g.deletions,ue===null?(g.deletions=[m],g.flags|=16):ue.push(m)),g.child=E,g.memoizedState=null,E)}function Qd(m,g){return g=Zi({mode:"visible",children:g},m.mode),g.return=m,m.child=g}function Zi(m,g){return dp(m,g,0,null)}function nl(m,g,E){return ml(g,m.child,null,E),m=Qd(g,g.pendingProps.children),m.flags|=2,g.memoizedState=null,m}function Gm(m,g,E){m.lanes|=g;var D=m.alternate;D!==null&&(D.lanes|=g),ep(m.return,g,E)}function F0(m,g,E,D,I){var q=m.memoizedState;q===null?m.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:D,tail:E,tailMode:I}:(q.isBackwards=g,q.rendering=null,q.renderingStartTime=0,q.last=D,q.tail=E,q.tailMode=I)}function jm(m,g,E){var D=g.pendingProps,I=D.revealOrder,q=D.tail;if(Ii(m,g,D.children,E),D=na.current,(D&2)!==0)D=D&1|2,g.flags|=128;else{if(m!==null&&(m.flags&128)!==0)e:for(m=g.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&Gm(m,E,g);else if(m.tag===19)Gm(m,E,g);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===g)break e;for(;m.sibling===null;){if(m.return===null||m.return===g)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}D&=1}switch(T(na,D),I){case"forwards":for(E=g.child,I=null;E!==null;)m=E.alternate,m!==null&&Ko(m)===null&&(I=E),E=E.sibling;E=I,E===null?(I=g.child,g.child=null):(I=E.sibling,E.sibling=null),F0(g,!1,I,E,q);break;case"backwards":for(E=null,I=g.child,g.child=null;I!==null;){if(m=I.alternate,m!==null&&Ko(m)===null){g.child=I;break}m=I.sibling,I.sibling=E,E=I,I=m}F0(g,!0,E,null,q);break;case"together":F0(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Hc(m,g,E){if(m!==null&&(g.dependencies=m.dependencies),no|=g.lanes,(E&g.childLanes)===0)if(m!==null){if(Fh(m,g,E,!1),(E&g.childLanes)===0)return null}else return null;if(m!==null&&g.child!==m.child)throw Error(r(153));if(g.child!==null){for(m=g.child,E=go(m,m.pendingProps),g.child=E,E.return=g;m.sibling!==null;)m=m.sibling,E=E.sibling=go(m,m.pendingProps),E.return=g;E.sibling=null}return g.child}function z0(m,g){return(m.lanes&g)!==0?!0:(m=m.dependencies,!!(m!==null&&Sf(m)))}function x1(m,g,E){switch(g.tag){case 3:fe(g,g.stateNode.containerInfo),il(g,Wi,m.memoizedState.cache),Re();break;case 27:case 5:Se(g);break;case 4:fe(g,g.stateNode.containerInfo);break;case 10:il(g,g.type,g.memoizedProps.value);break;case 13:var D=g.memoizedState;if(D!==null)return D.dehydrated!==null?(xs(g),g.flags|=128,null):(E&g.child.childLanes)!==0?Zd(m,g,E):(xs(g),m=Hc(m,g,E),m!==null?m.sibling:null);xs(g);break;case 19:var I=(m.flags&128)!==0;if(D=(E&g.childLanes)!==0,D||(Fh(m,g,E,!1),D=(E&g.childLanes)!==0),I){if(D)return jm(m,g,E);g.flags|=128}if(I=g.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),T(na,na.current),D)break;return null;case 22:case 23:return g.lanes=0,U0(m,g,E);case 24:il(g,Wi,m.memoizedState.cache)}return Hc(m,g,E)}function H0(m,g,E){if(m!==null)if(m.memoizedProps!==g.pendingProps)Yi=!0;else{if(!z0(m,E)&&(g.flags&128)===0)return Yi=!1,x1(m,g,E);Yi=(m.flags&131072)!==0}else Yi=!1,ai&&(g.flags&1048576)!==0&&$(g,tu,g.index);switch(g.lanes=0,g.tag){case 16:e:{m=g.pendingProps;var D=g.elementType,I=D._init;if(D=I(D._payload),g.type=D,typeof D=="function")Cn(D)?(m=ql(D,m),g.tag=1,g=Gs(null,g,D,m,E)):(g.tag=0,g=ka(null,g,D,m,E));else{if(D!=null){if(I=D.$$typeof,I===vp){g.tag=11,g=$d(null,g,D,m,E);break e}else if(I===yp){g.tag=14,g=L0(null,g,D,m,E);break e}}throw g=s(D)||D,Error(r(306,g,""))}}return g;case 0:return ka(m,g,g.type,g.pendingProps,E);case 1:return D=g.type,I=ql(D,g.pendingProps),Gs(m,g,D,I,E);case 3:e:{if(fe(g,g.stateNode.containerInfo),m===null)throw Error(r(387));var q=g.pendingProps;I=g.memoizedState,D=I.element,Ot(m,g),Ct(g,q,null,E);var ue=g.memoizedState;if(q=ue.cache,il(g,Wi,q),q!==I.cache&&Ru(g,[Wi],E,!0),it(),q=ue.element,_r&&I.isDehydrated)if(I={element:q,isDehydrated:!1,cache:ue.cache},g.updateQueue.baseState=I,g.memoizedState=I,g.flags&256){g=Sx(m,g,q,E);break e}else if(q!==D){D=ie(Error(r(424)),g),st(D),g=Sx(m,g,q,E);break e}else for(_r&&(ga=fv(g.stateNode.containerInfo),Da=g,ai=!0,So=null,va=!0),E=gl(g,null,q,E),g.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(Re(),q===D){g=Hc(m,g,E);break e}Ii(m,g,q,E)}g=g.child}return g;case 26:if(Cs)return Ih(m,g),m===null?(E=vg(g.type,null,g.pendingProps,null))?g.memoizedState=E:ai||(g.stateNode=Ff(g.type,g.pendingProps,sc.current,g)):g.memoizedState=vg(g.type,m.memoizedProps,g.pendingProps,m.memoizedState),null;case 27:if(Hi)return Se(g),m===null&&Hi&&ai&&(D=g.stateNode=Ya(g.type,g.pendingProps,sc.current,ri.current,!1),Da=g,va=!0,ga=$h(D)),D=g.pendingProps.children,m!==null||ai?Ii(m,g,D,E):g.child=ml(g,null,D,E),Ih(m,g),g.child;case 5:return m===null&&ai&&(mg(g.type,g.pendingProps,ri.current),(I=D=ga)&&(D=Ux(D,g.type,g.pendingProps,va),D!==null?(g.stateNode=D,Da=g,ga=$h(D),va=!1,I=!0):I=!1),I||He(g)),Se(g),I=g.type,q=g.pendingProps,ue=m!==null?m.memoizedProps:null,D=q.children,Mn(I,q)?D=null:ue!==null&&Mn(I,ue)&&(g.flags|=32),g.memoizedState!==null&&(I=Zo(m,g,Ir,null,null,E),mr?ul._currentValue=I:ul._currentValue2=I),Ih(m,g),Ii(m,g,D,E),g.child;case 6:return m===null&&ai&&(zx(g.pendingProps,ri.current),(m=E=ga)&&(E=Tp(E,g.pendingProps,va),E!==null?(g.stateNode=E,Da=g,ga=null,m=!0):m=!1),m||He(g)),null;case 13:return Zd(m,g,E);case 4:return fe(g,g.stateNode.containerInfo),D=g.pendingProps,m===null?g.child=ml(g,null,D,E):Ii(m,g,D,E),g.child;case 11:return $d(m,g,g.type,g.pendingProps,E);case 7:return Ii(m,g,g.pendingProps,E),g.child;case 8:return Ii(m,g,g.pendingProps.children,E),g.child;case 12:return Ii(m,g,g.pendingProps.children,E),g.child;case 10:return D=g.pendingProps,il(g,g.type,D.value),Ii(m,g,D.children,E),g.child;case 9:return I=g.type._context,D=g.pendingProps.children,Yl(g),I=ua(I),D=D(I),g.flags|=1,Ii(m,g,D,E),g.child;case 14:return L0(m,g,g.type,g.pendingProps,E);case 15:return P0(m,g,g.type,g.pendingProps,E);case 19:return jm(m,g,E);case 22:return U0(m,g,E);case 24:return Yl(g),D=ua(Wi),m===null?(I=Vm(),I===null&&(I=Ci,q=Wl(),I.pooledCache=q,q.refCount++,q!==null&&(I.pooledCacheLanes|=E),I=q),g.memoizedState={parent:D,cache:I},yt(g),il(g,Wi,I)):((m.lanes&E)!==0&&(Ot(m,g),Ct(g,null,null,E),it()),I=m.memoizedState,q=g.memoizedState,I.parent!==D?(I={parent:D,cache:D},g.memoizedState=I,g.lanes===0&&(g.memoizedState=g.updateQueue.baseState=I),il(g,Wi,D)):(D=q.cache,il(g,Wi,D),D!==I.cache&&Ru(g,[Wi],E,!0))),Ii(m,g,g.pendingProps.children,E),g.child;case 29:throw g.pendingProps}throw Error(r(156,g.tag))}function il(m,g,E){mr?(T(lu,g._currentValue),g._currentValue=E):(T(lu,g._currentValue2),g._currentValue2=E)}function _s(m){var g=lu.current;mr?m._currentValue=g:m._currentValue2=g,A(lu)}function ep(m,g,E){for(;m!==null;){var D=m.alternate;if((m.childLanes&g)!==g?(m.childLanes|=g,D!==null&&(D.childLanes|=g)):D!==null&&(D.childLanes&g)!==g&&(D.childLanes|=g),m===E)break;m=m.return}}function Ru(m,g,E,D){var I=m.child;for(I!==null&&(I.return=m);I!==null;){var q=I.dependencies;if(q!==null){var ue=I.child;q=q.firstContext;e:for(;q!==null;){var xe=q;q=I;for(var Pe=0;Pe<g.length;Pe++)if(xe.context===g[Pe]){q.lanes|=E,xe=q.alternate,xe!==null&&(xe.lanes|=E),ep(q.return,E,m),D||(ue=null);break e}q=xe.next}}else if(I.tag===18){if(ue=I.return,ue===null)throw Error(r(341));ue.lanes|=E,q=ue.alternate,q!==null&&(q.lanes|=E),ep(ue,E,m),ue=null}else ue=I.child;if(ue!==null)ue.return=I;else for(ue=I;ue!==null;){if(ue===m){ue=null;break}if(I=ue.sibling,I!==null){I.return=ue.return,ue=I;break}ue=ue.return}I=ue}}function Fh(m,g,E,D){m=null;for(var I=g,q=!1;I!==null;){if(!q){if((I.flags&524288)!==0)q=!0;else if((I.flags&262144)!==0)break}if(I.tag===10){var ue=I.alternate;if(ue===null)throw Error(r(387));if(ue=ue.memoizedProps,ue!==null){var xe=I.type;Ja(I.pendingProps.value,ue.value)||(m!==null?m.push(xe):m=[xe])}}else if(I===Gu.current){if(ue=I.alternate,ue===null)throw Error(r(387));ue.memoizedState.memoizedState!==I.memoizedState.memoizedState&&(m!==null?m.push(ul):m=[ul])}I=I.return}m!==null&&Ru(g,m,E,D),g.flags|=262144}function Sf(m){for(m=m.firstContext;m!==null;){var g=m.context;if(!Ja(mr?g._currentValue:g._currentValue2,m.memoizedValue))return!0;m=m.next}return!1}function Yl(m){yl=m,vr=null,m=m.dependencies,m!==null&&(m.firstContext=null)}function ua(m){return np(yl,m)}function tp(m,g){return yl===null&&Yl(m),np(m,g)}function np(m,g){var E=mr?g._currentValue:g._currentValue2;if(g={context:g,memoizedValue:E,next:null},vr===null){if(m===null)throw Error(r(308));vr=g,m.dependencies={lanes:0,firstContext:g},m.flags|=524288}else vr=vr.next=g;return E}function Wl(){return{controller:new ad,data:new Map,refCount:0}}function ip(m){m.refCount--,m.refCount===0&&qx(Yx,function(){m.controller.abort()})}function Vm(){var m=uc.current;return m!==null?m:Ci.pooledCache}function Ga(m,g){g===null?T(uc,uc.current):T(uc,g.pool)}function rp(){var m=Vm();return m===null?null:{parent:mr?Wi._currentValue:Wi._currentValue2,pool:m}}function fa(m){m.flags|=4}function Mf(m,g){if(m!==null&&m.child===g.child)return!1;if((g.flags&16)!==0)return!0;for(m=g.child;m!==null;){if((m.flags&13878)!==0||(m.subtreeFlags&13878)!==0)return!0;m=m.sibling}return!1}function Nu(m,g,E,D){if(Dr)for(E=g.child;E!==null;){if(E.tag===5||E.tag===6)_p(m,E.stateNode);else if(!(E.tag===4||Hi&&E.tag===27)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===g)break;for(;E.sibling===null;){if(E.return===null||E.return===g)return;E=E.return}E.sibling.return=E.return,E=E.sibling}else if(cs)for(var I=g.child;I!==null;){if(I.tag===5){var q=I.stateNode;E&&D&&(q=cv(q,I.type,I.memoizedProps)),_p(m,q)}else if(I.tag===6)q=I.stateNode,E&&D&&(q=Es(q,I.memoizedProps)),_p(m,q);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)q=I.child,q!==null&&(q.return=I),Nu(m,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===g)break;for(;I.sibling===null;){if(I.return===null||I.return===g)return;I=I.return}I.sibling.return=I.return,I=I.sibling}}function Mx(m,g,E,D){if(cs)for(var I=g.child;I!==null;){if(I.tag===5){var q=I.stateNode;E&&D&&(q=cv(q,I.type,I.memoizedProps)),Pf(m,q)}else if(I.tag===6)q=I.stateNode,E&&D&&(q=Es(q,I.memoizedProps)),Pf(m,q);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)q=I.child,q!==null&&(q.return=I),Mx(m,I,!(I.memoizedProps!==null&&I.memoizedProps.mode==="manual"),!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===g)break;for(;I.sibling===null;){if(I.return===null||I.return===g)return;I=I.return}I.sibling.return=I.return,I=I.sibling}}function ap(m,g){if(cs&&Mf(m,g)){m=g.stateNode;var E=m.containerInfo,D=Mp();Mx(D,g,!1,!1),m.pendingChildren=D,fa(g),wp(E,D)}}function Xm(m,g,E,D){if(Dr)m.memoizedProps!==D&&fa(g);else if(cs){var I=m.stateNode,q=m.memoizedProps;if((m=Mf(m,g))||q!==D){var ue=ri.current;q=Jh(I,E,q,D,!m,null),q===I?g.stateNode=I:(yo(q,E,D,ue)&&fa(g),g.stateNode=q,m?Nu(q,g,!1,!1):fa(g))}else g.stateNode=I}}function qm(m,g,E){if(Q0(g,E)){if(m.flags|=16777216,!Uu(g,E))if(Qi())m.flags|=8192;else throw cc=ru,rd}else m.flags&=-16777217}function Ym(m,g){if(mv(g)){if(m.flags|=16777216,!Hu(g))if(Qi())m.flags|=8192;else throw cc=ru,rd}else m.flags&=-16777217}function rl(m,g){g!==null&&(m.flags|=4),m.flags&16384&&(g=m.tag!==22?z():536870912,m.lanes|=g,_l|=g)}function zh(m,g){if(!ai)switch(m.tailMode){case"hidden":g=m.tail;for(var E=null;g!==null;)g.alternate!==null&&(E=g),g=g.sibling;E===null?m.tail=null:E.sibling=null;break;case"collapsed":E=m.tail;for(var D=null;E!==null;)E.alternate!==null&&(D=E),E=E.sibling;D===null?g||m.tail===null?m.tail=null:m.tail.sibling=null:D.sibling=null}}function dr(m){var g=m.alternate!==null&&m.alternate.child===m.child,E=0,D=0;if(g)for(var I=m.child;I!==null;)E|=I.lanes|I.childLanes,D|=I.subtreeFlags&31457280,D|=I.flags&31457280,I.return=m,I=I.sibling;else for(I=m.child;I!==null;)E|=I.lanes|I.childLanes,D|=I.subtreeFlags,D|=I.flags,I.return=m,I=I.sibling;return m.subtreeFlags|=D,m.childLanes=E,g}function Wm(m,g,E){var D=g.pendingProps;switch(de(g),g.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dr(g),null;case 1:return dr(g),null;case 3:return E=g.stateNode,D=null,m!==null&&(D=m.memoizedState.cache),g.memoizedState.cache!==D&&(g.flags|=2048),_s(Wi),ge(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(m===null||m.child===null)&&(Qe(g)?fa(g):m===null||m.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,So!==null&&(lp(So),So=null))),ap(m,g),dr(g),null;case 26:if(Cs){E=g.type;var I=g.memoizedState;return m===null?(fa(g),I!==null?(dr(g),Ym(g,I)):(dr(g),qm(g,E,D))):I?I!==m.memoizedState?(fa(g),dr(g),Ym(g,I)):(dr(g),g.flags&=-16777217):(Dr?m.memoizedProps!==D&&fa(g):Xm(m,g,E,D),dr(g),qm(g,E,D)),null}case 27:if(Hi){if(De(g),E=sc.current,I=g.type,m!==null&&g.stateNode!=null)Dr?m.memoizedProps!==D&&fa(g):Xm(m,g,I,D);else{if(!D){if(g.stateNode===null)throw Error(r(166));return dr(g),null}m=ri.current,Qe(g)?Fe(g,m):(m=Ya(I,D,E,m,!0),g.stateNode=m,fa(g))}return dr(g),null}case 5:if(De(g),E=g.type,m!==null&&g.stateNode!=null)Xm(m,g,E,D);else{if(!D){if(g.stateNode===null)throw Error(r(166));return dr(g),null}m=ri.current,Qe(g)?Fe(g,m):(I=ig(E,D,sc.current,m,g),Nu(I,g,!1,!1),g.stateNode=I,yo(I,E,D,m)&&fa(g))}return dr(g),qm(g,g.type,g.pendingProps),null;case 6:if(m&&g.stateNode!=null)E=m.memoizedProps,Dr?E!==D&&fa(g):cs&&(E!==D?(g.stateNode=wi(D,sc.current,ri.current,g),fa(g)):g.stateNode=m.stateNode);else{if(typeof D!="string"&&g.stateNode===null)throw Error(r(166));if(m=sc.current,E=ri.current,Qe(g)){if(!_r)throw Error(r(176));if(m=g.stateNode,E=g.memoizedProps,D=null,I=Da,I!==null)switch(I.tag){case 27:case 5:D=I.memoizedProps}Cp(m,E,g,D)||He(g)}else g.stateNode=wi(D,m,E,g)}return dr(g),null;case 13:if(D=g.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(I=Qe(g),D!==null&&D.dehydrated!==null){if(m===null){if(!I)throw Error(r(318));if(!_r)throw Error(r(344));if(I=g.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(r(317));Qc(I,g)}else Re(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;dr(g),I=!1}else So!==null&&(lp(So),So=null),I=!0;if(!I)return g.flags&256?(is(g),g):(is(g),null)}if(is(g),(g.flags&128)!==0)return g.lanes=E,g;if(E=D!==null,m=m!==null&&m.memoizedState!==null,E){D=g.child,I=null,D.alternate!==null&&D.alternate.memoizedState!==null&&D.alternate.memoizedState.cachePool!==null&&(I=D.alternate.memoizedState.cachePool.pool);var q=null;D.memoizedState!==null&&D.memoizedState.cachePool!==null&&(q=D.memoizedState.cachePool.pool),q!==I&&(D.flags|=2048)}return E!==m&&E&&(g.child.flags|=8192),rl(g,g.updateQueue),dr(g),null;case 4:return ge(),ap(m,g),m===null&&ei(g.stateNode.containerInfo),dr(g),null;case 10:return _s(g.type),dr(g),null;case 19:if(A(na),I=g.memoizedState,I===null)return dr(g),null;if(D=(g.flags&128)!==0,q=I.rendering,q===null)if(D)zh(I,!1);else{if(Ji!==0||m!==null&&(m.flags&128)!==0)for(m=g.child;m!==null;){if(q=Ko(m),q!==null){for(g.flags|=128,zh(I,!1),m=q.updateQueue,g.updateQueue=m,rl(g,m),g.subtreeFlags=0,m=E,E=g.child;E!==null;)hp(E,m),E=E.sibling;return T(na,na.current&1|2),g.child}m=m.sibling}I.tail!==null&&Xr()>ld&&(g.flags|=128,D=!0,zh(I,!1),g.lanes=4194304)}else{if(!D)if(m=Ko(q),m!==null){if(g.flags|=128,D=!0,m=m.updateQueue,g.updateQueue=m,rl(g,m),zh(I,!0),I.tail===null&&I.tailMode==="hidden"&&!q.alternate&&!ai)return dr(g),null}else 2*Xr()-I.renderingStartTime>ld&&E!==536870912&&(g.flags|=128,D=!0,zh(I,!1),g.lanes=4194304);I.isBackwards?(q.sibling=g.child,g.child=q):(m=I.last,m!==null?m.sibling=q:g.child=q,I.last=q)}return I.tail!==null?(g=I.tail,I.rendering=g,I.tail=g.sibling,I.renderingStartTime=Xr(),g.sibling=null,m=na.current,T(na,D?m&1|2:m&1),g):(dr(g),null);case 22:case 23:return is(g),ca(),D=g.memoizedState!==null,m!==null?m.memoizedState!==null!==D&&(g.flags|=8192):D&&(g.flags|=8192),D?(E&536870912)!==0&&(g.flags&128)===0&&(dr(g),g.subtreeFlags&6&&(g.flags|=8192)):dr(g),E=g.updateQueue,E!==null&&rl(g,E.retryQueue),E=null,m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(E=m.memoizedState.cachePool.pool),D=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(D=g.memoizedState.cachePool.pool),D!==E&&(g.flags|=2048),m!==null&&A(uc),null;case 24:return E=null,m!==null&&(E=m.memoizedState.cache),g.memoizedState.cache!==E&&(g.flags|=2048),_s(Wi),dr(g),null;case 25:return null}throw Error(r(156,g.tag))}function wx(m,g){switch(de(g),g.tag){case 1:return m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 3:return _s(Wi),ge(),m=g.flags,(m&65536)!==0&&(m&128)===0?(g.flags=m&-65537|128,g):null;case 26:case 27:case 5:return De(g),null;case 13:if(is(g),m=g.memoizedState,m!==null&&m.dehydrated!==null){if(g.alternate===null)throw Error(r(340));Re()}return m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 19:return A(na),null;case 4:return ge(),null;case 10:return _s(g.type),null;case 22:case 23:return is(g),ca(),m!==null&&A(uc),m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 24:return _s(Wi),null;case 25:return null;default:return null}}function kc(m,g){switch(de(g),g.tag){case 3:_s(Wi),ge();break;case 26:case 27:case 5:De(g);break;case 4:ge();break;case 13:is(g);break;case 19:A(na);break;case 10:_s(g.type);break;case 22:case 23:is(g),ca(),m!==null&&A(uc);break;case 24:_s(Wi)}}function Du(m,g){try{var E=g.updateQueue,D=E!==null?E.lastEffect:null;if(D!==null){var I=D.next;E=I;do{if((E.tag&m)===m){D=void 0;var q=E.create,ue=E.inst;D=q(),ue.destroy=D}E=E.next}while(E!==I)}}catch(xe){Mi(g,g.return,xe)}}function Bu(m,g,E){try{var D=g.updateQueue,I=D!==null?D.lastEffect:null;if(I!==null){var q=I.next;D=q;do{if((D.tag&m)===m){var ue=D.inst,xe=ue.destroy;if(xe!==void 0){ue.destroy=void 0,I=g;var Pe=E;try{xe()}catch(ot){Mi(I,Pe,ot)}}}D=D.next}while(D!==q)}}catch(ot){Mi(g,g.return,ot)}}function Ex(m){var g=m.updateQueue;if(g!==null){var E=m.stateNode;try{xt(g,E)}catch(D){Mi(m,m.return,D)}}}function bs(m,g,E){E.props=ql(m.type,m.memoizedProps),E.state=m.memoizedState;try{E.componentWillUnmount()}catch(D){Mi(m,g,D)}}function ja(m,g){try{var E=m.ref;if(E!==null){var D=m.stateNode;switch(m.tag){case 26:case 27:case 5:var I=Yh(D);break;default:I=D}typeof E=="function"?m.refCleanup=E(I):E.current=I}}catch(q){Mi(m,g,q)}}function pr(m,g){var E=m.ref,D=m.refCleanup;if(E!==null)if(typeof D=="function")try{D()}catch(I){Mi(m,g,I)}finally{m.refCleanup=null,m=m.alternate,m!=null&&(m.refCleanup=null)}else if(typeof E=="function")try{E(null)}catch(I){Mi(m,g,I)}else E.current=null}function Jm(m){var g=m.type,E=m.memoizedProps,D=m.stateNode;try{A1(D,g,E,m)}catch(I){Mi(m,m.return,I)}}function k0(m,g,E){try{av(m.stateNode,m.type,E,g,m)}catch(D){Mi(m,m.return,D)}}function G0(m){return m.tag===5||m.tag===3||(Cs?m.tag===26:!1)||(Hi?m.tag===27:!1)||m.tag===4}function sp(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||G0(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&(!Hi||m.tag!==27)&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function j0(m,g,E){var D=m.tag;if(D===5||D===6)m=m.stateNode,g?Ox(E,m,g):og(E,m);else if(!(D===4||Hi&&D===27)&&(m=m.child,m!==null))for(j0(m,g,E),m=m.sibling;m!==null;)j0(m,g,E),m=m.sibling}function Gc(m,g,E){var D=m.tag;if(D===5||D===6)m=m.stateNode,g?sv(E,m,g):rv(E,m);else if(!(D===4||Hi&&D===27)&&(m=m.child,m!==null))for(Gc(m,g,E),m=m.sibling;m!==null;)Gc(m,g,E),m=m.sibling}function jc(m,g,E){m=m.containerInfo;try{Kh(m,E)}catch(D){Mi(g,g.return,D)}}function Ne(m,g){for(Pu(m.containerInfo),_n=g;_n!==null;)if(m=_n,g=m.child,(m.subtreeFlags&1028)!==0&&g!==null)g.return=m,_n=g;else for(;_n!==null;){m=_n;var E=m.alternate;switch(g=m.flags,m.tag){case 0:break;case 11:case 15:break;case 1:if((g&1024)!==0&&E!==null){g=void 0;var D=m,I=E.memoizedProps;E=E.memoizedState;var q=D.stateNode;try{var ue=ql(D.type,I,D.elementType===D.type);g=q.getSnapshotBeforeUpdate(ue,E),q.__reactInternalSnapshotBeforeUpdate=g}catch(xe){Mi(D,D.return,xe)}}break;case 3:(g&1024)!==0&&Dr&&Rn(m.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((g&1024)!==0)throw Error(r(163))}if(g=m.sibling,g!==null){g.return=m.return,_n=g;break}_n=m.return}return ue=Hn,Hn=!1,ue}function rt(m,g,E){var D=E.flags;switch(E.tag){case 0:case 11:case 15:Vc(m,E),D&4&&Du(5,E);break;case 1:if(Vc(m,E),D&4)if(m=E.stateNode,g===null)try{m.componentDidMount()}catch(xe){Mi(E,E.return,xe)}else{var I=ql(E.type,g.memoizedProps);g=g.memoizedState;try{m.componentDidUpdate(I,g,m.__reactInternalSnapshotBeforeUpdate)}catch(xe){Mi(E,E.return,xe)}}D&64&&Ex(E),D&512&&ja(E,E.return);break;case 3:if(Vc(m,E),D&64&&(D=E.updateQueue,D!==null)){if(m=null,E.child!==null)switch(E.child.tag){case 27:case 5:m=Yh(E.child.stateNode);break;case 1:m=E.child.stateNode}try{xt(D,m)}catch(xe){Mi(E,E.return,xe)}}break;case 26:if(Cs){Vc(m,E),D&512&&ja(E,E.return);break}case 27:case 5:Vc(m,E),g===null&&D&4&&Jm(E),D&512&&ja(E,E.return);break;case 12:Vc(m,E);break;case 13:Vc(m,E),D&4&&ii(m,E);break;case 22:if(I=E.memoizedState!==null||fc,!I){g=g!==null&&g.memoizedState!==null||Cr;var q=fc,ue=Cr;fc=I,(Cr=g)&&!ue?ho(m,E,(E.subtreeFlags&8772)!==0):Vc(m,E),fc=q,Cr=ue}D&512&&(E.memoizedProps.mode==="manual"?ja(E,E.return):pr(E,E.return));break;default:Vc(m,E)}}function Ze(m){var g=m.alternate;g!==null&&(m.alternate=null,Ze(g)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(g=m.stateNode,g!==null&&Z0(g)),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function Et(m,g,E){for(E=E.child;E!==null;)tn(m,g,E),E=E.sibling}function tn(m,g,E){if(Wa&&typeof Wa.onCommitFiberUnmount=="function")try{Wa.onCommitFiberUnmount(Bi,E)}catch{}switch(E.tag){case 26:if(Cs){Cr||pr(E,g),Et(m,g,E),E.memoizedState?Vr(E.memoizedState):E.stateNode&&Qh(E.stateNode);break}case 27:if(Hi){Cr||pr(E,g);var D=Qt,I=Tn;Qt=E.stateNode,Et(m,g,E),eu(E.stateNode),Qt=D,Tn=I;break}case 5:Cr||pr(E,g);case 6:if(Dr){if(D=Qt,I=Tn,Qt=null,Et(m,g,E),Qt=D,Tn=I,Qt!==null)if(Tn)try{Lx(Qt,E.stateNode)}catch(q){Mi(E,g,q)}else try{lg(Qt,E.stateNode)}catch(q){Mi(E,g,q)}}else Et(m,g,E);break;case 18:Dr&&Qt!==null&&(Tn?If(Qt,E.stateNode):dv(Qt,E.stateNode));break;case 4:Dr?(D=Qt,I=Tn,Qt=E.stateNode.containerInfo,Tn=!0,Et(m,g,E),Qt=D,Tn=I):(cs&&jc(E.stateNode,E,Mp()),Et(m,g,E));break;case 0:case 11:case 14:case 15:Cr||Bu(2,E,g),Cr||Bu(4,E,g),Et(m,g,E);break;case 1:Cr||(pr(E,g),D=E.stateNode,typeof D.componentWillUnmount=="function"&&bs(E,g,D)),Et(m,g,E);break;case 21:Et(m,g,E);break;case 22:Cr||pr(E,g),Cr=(D=Cr)||E.memoizedState!==null,Et(m,g,E),Cr=D;break;default:Et(m,g,E)}}function ii(m,g){if(_r&&g.memoizedState===null&&(m=g.alternate,m!==null&&(m=m.memoizedState,m!==null&&(m=m.dehydrated,m!==null))))try{Fx(m)}catch(E){Mi(g,g.return,E)}}function kr(m){switch(m.tag){case 13:case 19:var g=m.stateNode;return g===null&&(g=m.stateNode=new Ti),g;case 22:return m=m.stateNode,g=m._retryCache,g===null&&(g=m._retryCache=new Ti),g;default:throw Error(r(435,m.tag))}}function Qn(m,g){var E=kr(m);g.forEach(function(D){var I=Xs.bind(null,m,D);E.has(D)||(E.add(D),D.then(I,I))})}function Ea(m,g){var E=g.deletions;if(E!==null)for(var D=0;D<E.length;D++){var I=E[D],q=m,ue=g;if(Dr){var xe=ue;e:for(;xe!==null;){switch(xe.tag){case 27:case 5:Qt=xe.stateNode,Tn=!1;break e;case 3:Qt=xe.stateNode.containerInfo,Tn=!0;break e;case 4:Qt=xe.stateNode.containerInfo,Tn=!0;break e}xe=xe.return}if(Qt===null)throw Error(r(160));tn(q,ue,I),Qt=null,Tn=!1}else tn(q,ue,I);q=I.alternate,q!==null&&(q.return=null),I.return=null}if(g.subtreeFlags&13878)for(g=g.child;g!==null;)V0(g,m),g=g.sibling}function V0(m,g){var E=m.alternate,D=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:Ea(g,m),ar(m),D&4&&(Bu(3,m,m.return),Du(3,m),Bu(5,m,m.return));break;case 1:Ea(g,m),ar(m),D&512&&(Cr||E===null||pr(E,E.return)),D&64&&fc&&(m=m.updateQueue,m!==null&&(D=m.callbacks,D!==null&&(E=m.shared.hiddenCallbacks,m.shared.hiddenCallbacks=E===null?D:E.concat(D))));break;case 26:if(Cs){var I=Ar;Ea(g,m),ar(m),D&512&&(Cr||E===null||pr(E,E.return)),D&4&&(D=E!==null?E.memoizedState:null,g=m.memoizedState,E===null?g===null?m.stateNode===null?m.stateNode=Rs(I,m.type,m.memoizedProps,m):Rp(I,m.type,m.stateNode):m.stateNode=pv(I,g,m.memoizedProps):D!==g?(D===null?E.stateNode!==null&&Qh(E.stateNode):Vr(D),g===null?Rp(I,m.type,m.stateNode):pv(I,g,m.memoizedProps)):g===null&&m.stateNode!==null&&k0(m,m.memoizedProps,E.memoizedProps));break}case 27:if(Hi&&D&4&&m.alternate===null){I=m.stateNode;var q=m.memoizedProps;try{_o(I),kx(m.type,q,I,m)}catch(bt){Mi(m,m.return,bt)}}case 5:if(Ea(g,m),ar(m),D&512&&(Cr||E===null||pr(E,E.return)),Dr){if(m.flags&32){g=m.stateNode;try{Sp(g)}catch(bt){Mi(m,m.return,bt)}}D&4&&m.stateNode!=null&&(g=m.memoizedProps,k0(m,g,E!==null?E.memoizedProps:g)),D&1024&&(Pp=!0)}break;case 6:if(Ea(g,m),ar(m),D&4&&Dr){if(m.stateNode===null)throw Error(r(162));D=m.memoizedProps,E=E!==null?E.memoizedProps:D,g=m.stateNode;try{Ap(g,E,D)}catch(bt){Mi(m,m.return,bt)}}break;case 3:if(Cs?(zf(),I=Ar,Ar=gg(g.containerInfo),Ea(g,m),Ar=I):Ea(g,m),ar(m),D&4){if(Dr&&_r&&E!==null&&E.memoizedState.isDehydrated)try{zu(g.containerInfo)}catch(bt){Mi(m,m.return,bt)}if(cs){D=g.containerInfo,E=g.pendingChildren;try{Kh(D,E)}catch(bt){Mi(m,m.return,bt)}}}Pp&&(Pp=!1,op(m));break;case 4:Cs?(E=Ar,Ar=gg(m.stateNode.containerInfo),Ea(g,m),ar(m),Ar=E):(Ea(g,m),ar(m)),D&4&&cs&&jc(m.stateNode,m,m.stateNode.pendingChildren);break;case 12:Ea(g,m),ar(m);break;case 13:Ea(g,m),ar(m),m.child.flags&8192&&m.memoizedState!==null!=(E!==null&&E.memoizedState!==null)&&(ds=Xr()),D&4&&(D=m.updateQueue,D!==null&&(m.updateQueue=null,Qn(m,D)));break;case 22:D&512&&(Cr||E===null||pr(E,E.return)),I=m.memoizedState!==null;var ue=E!==null&&E.memoizedState!==null,xe=fc,Pe=Cr;if(fc=xe||I,Cr=Pe||ue,Ea(g,m),Cr=Pe,fc=xe,ar(m),g=m.stateNode,g._current=m,g._visibility&=-3,g._visibility|=g._pendingVisibility&2,D&8192&&(g._visibility=I?g._visibility&-2:g._visibility|1,I&&(g=fc||Cr,E===null||ue||g||al(m)),Dr&&(m.memoizedProps===null||m.memoizedProps.mode!=="manual"))){e:if(E=null,Dr)for(g=m;;){if(g.tag===5||Cs&&g.tag===26||Hi&&g.tag===27){if(E===null){ue=E=g;try{q=ue.stateNode,I?ov(q):Px(ue.stateNode,ue.memoizedProps)}catch(bt){Mi(ue,ue.return,bt)}}}else if(g.tag===6){if(E===null){ue=g;try{var ot=ue.stateNode;I?cg(ot):lv(ot,ue.memoizedProps)}catch(bt){Mi(ue,ue.return,bt)}}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===m)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===m)break e;for(;g.sibling===null;){if(g.return===null||g.return===m)break e;E===g&&(E=null),g=g.return}E===g&&(E=null),g.sibling.return=g.return,g=g.sibling}}D&4&&(D=m.updateQueue,D!==null&&(E=D.retryQueue,E!==null&&(D.retryQueue=null,Qn(m,E))));break;case 19:Ea(g,m),ar(m),D&4&&(D=m.updateQueue,D!==null&&(m.updateQueue=null,Qn(m,D)));break;case 21:break;default:Ea(g,m),ar(m)}}function ar(m){var g=m.flags;if(g&2){try{if(Dr&&(!Hi||m.tag!==27)){e:{for(var E=m.return;E!==null;){if(G0(E)){var D=E;break e}E=E.return}throw Error(r(160))}switch(D.tag){case 27:if(Hi){var I=D.stateNode,q=sp(m);Gc(m,q,I);break}case 5:var ue=D.stateNode;D.flags&32&&(Sp(ue),D.flags&=-33);var xe=sp(m);Gc(m,xe,ue);break;case 3:case 4:var Pe=D.stateNode.containerInfo,ot=sp(m);j0(m,ot,Pe);break;default:throw Error(r(161))}}}catch(bt){Mi(m,m.return,bt)}m.flags&=-3}g&4096&&(m.flags&=-4097)}function op(m){if(m.subtreeFlags&1024)for(m=m.child;m!==null;){var g=m;op(g),g.tag===5&&g.flags&1024&&ag(g.stateNode),m=m.sibling}}function Vc(m,g){if(g.subtreeFlags&8772)for(g=g.child;g!==null;)rt(m,g.alternate,g),g=g.sibling}function al(m){for(m=m.child;m!==null;){var g=m;switch(g.tag){case 0:case 11:case 14:case 15:Bu(4,g,g.return),al(g);break;case 1:pr(g,g.return);var E=g.stateNode;typeof E.componentWillUnmount=="function"&&bs(g,g.return,E),al(g);break;case 26:case 27:case 5:pr(g,g.return),al(g);break;case 22:pr(g,g.return),g.memoizedState===null&&al(g);break;default:al(g)}m=m.sibling}}function ho(m,g,E){for(E=E&&(g.subtreeFlags&8772)!==0,g=g.child;g!==null;){var D=g.alternate,I=m,q=g,ue=q.flags;switch(q.tag){case 0:case 11:case 15:ho(I,q,E),Du(4,q);break;case 1:if(ho(I,q,E),D=q,I=D.stateNode,typeof I.componentDidMount=="function")try{I.componentDidMount()}catch(ot){Mi(D,D.return,ot)}if(D=q,I=D.updateQueue,I!==null){var xe=D.stateNode;try{var Pe=I.shared.hiddenCallbacks;if(Pe!==null)for(I.shared.hiddenCallbacks=null,I=0;I<Pe.length;I++)be(Pe[I],xe)}catch(ot){Mi(D,D.return,ot)}}E&&ue&64&&Ex(q),ja(q,q.return);break;case 26:case 27:case 5:ho(I,q,E),E&&D===null&&ue&4&&Jm(q),ja(q,q.return);break;case 12:ho(I,q,E);break;case 13:ho(I,q,E),E&&ue&4&&ii(I,q);break;case 22:q.memoizedState===null&&ho(I,q,E),ja(q,q.return);break;default:ho(I,q,E)}g=g.sibling}}function wf(m,g){var E=null;m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(E=m.memoizedState.cachePool.pool),m=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(m=g.memoizedState.cachePool.pool),m!==E&&(m!=null&&m.refCount++,E!=null&&ip(E))}function li(m,g){m=null,g.alternate!==null&&(m=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==m&&(g.refCount++,m!=null&&ip(m))}function ha(m,g,E,D){if(g.subtreeFlags&10256)for(g=g.child;g!==null;)Km(m,g,E,D),g=g.sibling}function Km(m,g,E,D){var I=g.flags;switch(g.tag){case 0:case 11:case 15:ha(m,g,E,D),I&2048&&Du(9,g);break;case 3:ha(m,g,E,D),I&2048&&(m=null,g.alternate!==null&&(m=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==m&&(g.refCount++,m!=null&&ip(m)));break;case 12:if(I&2048){ha(m,g,E,D),m=g.stateNode;try{var q=g.memoizedProps,ue=q.id,xe=q.onPostCommit;typeof xe=="function"&&xe(ue,g.alternate===null?"mount":"update",m.passiveEffectDuration,-0)}catch(Pe){Mi(g,g.return,Pe)}}else ha(m,g,E,D);break;case 23:break;case 22:q=g.stateNode,g.memoizedState!==null?q._visibility&4?ha(m,g,E,D):Va(m,g):q._visibility&4?ha(m,g,E,D):(q._visibility|=4,Gr(m,g,E,D,(g.subtreeFlags&10256)!==0)),I&2048&&wf(g.alternate,g);break;case 24:ha(m,g,E,D),I&2048&&li(g.alternate,g);break;default:ha(m,g,E,D)}}function Gr(m,g,E,D,I){for(I=I&&(g.subtreeFlags&10256)!==0,g=g.child;g!==null;){var q=m,ue=g,xe=E,Pe=D,ot=ue.flags;switch(ue.tag){case 0:case 11:case 15:Gr(q,ue,xe,Pe,I),Du(8,ue);break;case 23:break;case 22:var bt=ue.stateNode;ue.memoizedState!==null?bt._visibility&4?Gr(q,ue,xe,Pe,I):Va(q,ue):(bt._visibility|=4,Gr(q,ue,xe,Pe,I)),I&&ot&2048&&wf(ue.alternate,ue);break;case 24:Gr(q,ue,xe,Pe,I),I&&ot&2048&&li(ue.alternate,ue);break;default:Gr(q,ue,xe,Pe,I)}g=g.sibling}}function Va(m,g){if(g.subtreeFlags&10256)for(g=g.child;g!==null;){var E=m,D=g,I=D.flags;switch(D.tag){case 22:Va(E,D),I&2048&&wf(D.alternate,D);break;case 24:Va(E,D),I&2048&&li(D.alternate,D);break;default:Va(E,D)}g=g.sibling}}function po(m){if(m.subtreeFlags&Qs)for(m=m.child;m!==null;)$m(m),m=m.sibling}function $m(m){switch(m.tag){case 26:po(m),m.flags&Qs&&(m.memoizedState!==null?Hx(Ar,m.memoizedState,m.memoizedProps):us(m.type,m.memoizedProps));break;case 5:po(m),m.flags&Qs&&us(m.type,m.memoizedProps);break;case 3:case 4:if(Cs){var g=Ar;Ar=gg(m.stateNode.containerInfo),po(m),Ar=g}else po(m);break;case 22:m.memoizedState===null&&(g=m.alternate,g!==null&&g.memoizedState!==null?(g=Qs,Qs=16777216,po(m),Qs=g):po(m));break;default:po(m)}}function Ou(m){var g=m.alternate;if(g!==null&&(m=g.child,m!==null)){g.child=null;do g=m.sibling,m.sibling=null,m=g;while(m!==null)}}function ss(m){var g=m.deletions;if((m.flags&16)!==0){if(g!==null)for(var E=0;E<g.length;E++){var D=g[E];_n=D,Hh(D,m)}Ou(m)}if(m.subtreeFlags&10256)for(m=m.child;m!==null;)Ef(m),m=m.sibling}function Ef(m){switch(m.tag){case 0:case 11:case 15:ss(m),m.flags&2048&&Bu(9,m,m.return);break;case 3:ss(m);break;case 12:ss(m);break;case 22:var g=m.stateNode;m.memoizedState!==null&&g._visibility&4&&(m.return===null||m.return.tag!==13)?(g._visibility&=-5,Jl(m)):ss(m);break;default:ss(m)}}function Jl(m){var g=m.deletions;if((m.flags&16)!==0){if(g!==null)for(var E=0;E<g.length;E++){var D=g[E];_n=D,Hh(D,m)}Ou(m)}for(m=m.child;m!==null;){switch(g=m,g.tag){case 0:case 11:case 15:Bu(8,g,g.return),Jl(g);break;case 22:E=g.stateNode,E._visibility&4&&(E._visibility&=-5,Jl(g));break;default:Jl(g)}m=m.sibling}}function Hh(m,g){for(;_n!==null;){var E=_n;switch(E.tag){case 0:case 11:case 15:Bu(8,E,g);break;case 23:case 22:if(E.memoizedState!==null&&E.memoizedState.cachePool!==null){var D=E.memoizedState.cachePool.pool;D!=null&&D.refCount++}break;case 24:ip(E.memoizedState.cache)}if(D=E.child,D!==null)D.return=E,_n=D;else e:for(E=m;_n!==null;){D=_n;var I=D.sibling,q=D.return;if(Ze(D),D===E){_n=null;break e}if(I!==null){I.return=q,_n=I;break e}_n=q}}}function Tf(m){var g=$0(m);if(g!=null){if(typeof g.memoizedProps["data-testname"]!="string")throw Error(r(364));return g}if(m=ev(m),m===null)throw Error(r(362));return m.stateNode.current}function Xc(m,g){var E=m.tag;switch(g.$$typeof){case od:if(m.type===g.value)return!0;break;case To:e:{for(g=g.value,m=[m,0],E=0;E<m.length;){var D=m[E++],I=D.tag,q=m[E++],ue=g[q];if(I!==5&&I!==26&&I!==27||!Fu(D)){for(;ue!=null&&Xc(D,ue);)q++,ue=g[q];if(q===g.length){g=!0;break e}else for(D=D.child;D!==null;)m.push(D,q),D=D.sibling}}g=!1}return g;case lr:if((E===5||E===26||E===27)&&Bx(m.stateNode,g.value))return!0;break;case hc:if((E===5||E===6||E===26||E===27)&&(m=nv(m),m!==null&&0<=m.indexOf(g.value)))return!0;break;case xl:if((E===5||E===26||E===27)&&(m=m.memoizedProps["data-testname"],typeof m=="string"&&m.toLowerCase()===g.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function kh(m){switch(m.$$typeof){case od:return"<"+(s(m.value)||"Unknown")+">";case To:return":has("+(kh(m)||"")+")";case lr:return'[role="'+m.value+'"]';case hc:return'"'+m.value+'"';case xl:return'[data-testname="'+m.value+'"]';default:throw Error(r(365))}}function os(m,g){var E=[];m=[m,0];for(var D=0;D<m.length;){var I=m[D++],q=I.tag,ue=m[D++],xe=g[ue];if(q!==5&&q!==26&&q!==27||!Fu(I)){for(;xe!=null&&Xc(I,xe);)ue++,xe=g[ue];if(ue===g.length)E.push(I);else for(I=I.child;I!==null;)m.push(I,ue),I=I.sibling}}return E}function qc(m,g){if(!Iu)throw Error(r(363));m=Tf(m),m=os(m,g),g=[],m=Array.from(m);for(var E=0;E<m.length;){var D=m[E++],I=D.tag;if(I===5||I===26||I===27)Fu(D)||g.push(D.stateNode);else for(D=D.child;D!==null;)m.push(D),D=D.sibling}return g}function qi(){if((ui&2)!==0&&Jn!==0)return Jn&-Jn;if(an.T!==null){var m=Ks;return m!==0?m:_t()}return Nx()}function Gh(){io===0&&(io=(Jn&536870912)===0||ai?G():536870912);var m=$s.current;return m!==null&&(m.flags|=32),io}function da(m,g,E){(m===Ci&&Gi===2||m.cancelPendingCommit!==null)&&(Ta(m,0),Xa(m,Jn,io,!1)),j(m,E),((ui&2)===0||m!==Ci)&&(m===Ci&&((ui&2)===0&&(cu|=E),Ji===4&&Xa(m,Jn,io,!1)),ze(m))}function Lu(m,g,E){if((ui&6)!==0)throw Error(r(327));var D=!E&&(g&60)===0&&(g&m.expiredLanes)===0||P(m,g),I=D?fp(m,g):up(m,g,!0),q=D;do{if(I===0){to&&!D&&Xa(m,g,0,!1);break}else if(I===6)Xa(m,g,0,!eo);else{if(E=m.current.alternate,q&&!Yc(E)){I=up(m,g,!1),q=!1;continue}if(I===2){if(q=g,m.errorRecoveryDisabledLanes&q)var ue=0;else ue=m.pendingLanes&-536870913,ue=ue!==0?ue:ue&536870912?536870912:0;if(ue!==0){g=ue;e:{var xe=m;I=Wf;var Pe=_r&&xe.current.memoizedState.isDehydrated;if(Pe&&(Ta(xe,ue).flags|=256),ue=up(xe,ue,!1),ue!==2){if(ia&&!Pe){xe.errorRecoveryDisabledLanes|=q,cu|=q,I=4;break e}q=cr,cr=I,q!==null&&lp(q)}I=ue}if(q=!1,I!==2)continue}}if(I===1){Ta(m,0),Xa(m,g,0,!0);break}e:{switch(D=m,I){case 0:case 1:throw Error(r(345));case 4:if((g&4194176)===g){Xa(D,g,io,!eo);break e}break;case 2:cr=null;break;case 3:case 5:break;default:throw Error(r(329))}if(D.finishedWork=E,D.finishedLanes=g,(g&62914560)===g&&(q=ds+300-Xr(),10<q)){if(Xa(D,g,io,!eo),L(D,0)!==0)break e;D.timeoutHandle=Wn(Cf.bind(null,D,E,cr,Ip,Mg,g,io,cu,_l,eo,2,-0,0),q);break e}Cf(D,E,cr,Ip,Mg,g,io,cu,_l,eo,0,-0,0)}}break}while(!0);ze(m)}function lp(m){cr===null?cr=m:cr.push.apply(cr,m)}function Cf(m,g,E,D,I,q,ue,xe,Pe,ot,bt,Bt,Ut){var bn=g.subtreeFlags;if((bn&8192||(bn&16785408)===16785408)&&(rg(),$m(g),g=jr(),g!==null)){m.cancelPendingCommit=g(Vs.bind(null,m,E,D,I,ue,xe,Pe,1,Bt,Ut)),Xa(m,q,ue,!ot);return}Vs(m,E,D,I,ue,xe,Pe,bt,Bt,Ut)}function Yc(m){for(var g=m;;){var E=g.tag;if((E===0||E===11||E===15)&&g.flags&16384&&(E=g.updateQueue,E!==null&&(E=E.stores,E!==null)))for(var D=0;D<E.length;D++){var I=E[D],q=I.getSnapshot;I=I.value;try{if(!Ja(q(),I))return!1}catch{return!1}}if(E=g.child,g.subtreeFlags&16384&&E!==null)E.return=g,g=E;else{if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Xa(m,g,E,D){g&=~Up,g&=~cu,m.suspendedLanes|=g,m.pingedLanes&=~g,D&&(m.warmLanes|=g),D=m.expirationTimes;for(var I=g;0<I;){var q=31-Na(I),ue=1<<q;D[q]=-1,I&=~ue}E!==0&&W(m,E,g)}function cp(){return(ui&6)===0?(le(0),!1):!0}function Rf(){if(sn!==null){if(Gi===0)var m=sn.return;else m=sn,vr=yl=null,Qo(m),au=null,su=0,m=sn;for(;m!==null;)kc(m.alternate,m),m=m.return;sn=null}}function Ta(m,g){m.finishedWork=null,m.finishedLanes=0;var E=m.timeoutHandle;E!==$c&&(m.timeoutHandle=$c,Wh(E)),E=m.cancelPendingCommit,E!==null&&(m.cancelPendingCommit=null,E()),Rf(),Ci=m,sn=E=go(m.current,null),Jn=g,Gi=0,xa=null,eo=!1,to=P(m,g),ia=!1,_l=io=Up=cu=no=Ji=0,cr=Wf=null,Mg=!1,(g&8)!==0&&(g|=g&32);var D=m.entangledLanes;if(D!==0)for(m=m.entanglements,D&=g;0<D;){var I=31-Na(D),q=1<<I;g|=m[I],D&=~q}return Ka=g,pe(),E}function js(m,g){Nn=null,an.H=br,g===Vu?(g=Jt(),Gi=3):g===rd?(g=Jt(),Gi=4):Gi=g===Ag?8:g!==null&&typeof g=="object"&&typeof g.then=="function"?6:1,xa=g,sn===null&&(Ji=1,Uh(m,ie(g,m.current)))}function Qi(){var m=$s.current;return m===null?!0:(Jn&4194176)===Jn?ki===null:(Jn&62914560)===Jn||(Jn&536870912)!==0?m===ki:!1}function sr(){var m=an.H;return an.H=br,m===null?br:m}function Kl(){var m=an.A;return an.A=sd,m}function Wc(){Ji=4,eo||(Jn&4194176)!==Jn&&$s.current!==null||(to=!0),(no&134217727)===0&&(cu&134217727)===0||Ci===null||Xa(Ci,Jn,io,!1)}function up(m,g,E){var D=ui;ui|=2;var I=sr(),q=Kl();(Ci!==m||Jn!==g)&&(Ip=null,Ta(m,g)),g=!1;var ue=Ji;e:do try{if(Gi!==0&&sn!==null){var xe=sn,Pe=xa;switch(Gi){case 8:Rf(),ue=6;break e;case 3:case 2:case 6:$s.current===null&&(g=!0);var ot=Gi;if(Gi=0,xa=null,qa(m,xe,Pe,ot),E&&to){ue=0;break e}break;default:ot=Gi,Gi=0,xa=null,qa(m,xe,Pe,ot)}}X0(),ue=Ji;break}catch(bt){js(m,bt)}while(!0);return g&&m.shellSuspendCounter++,vr=yl=null,ui=D,an.H=I,an.A=q,sn===null&&(Ci=null,Jn=0,pe()),ue}function X0(){for(;sn!==null;)or(sn)}function fp(m,g){var E=ui;ui|=2;var D=sr(),I=Kl();Ci!==m||Jn!==g?(Ip=null,ld=Xr()+500,Ta(m,g)):to=P(m,g);e:do try{if(Gi!==0&&sn!==null){g=sn;var q=xa;t:switch(Gi){case 1:Gi=0,xa=null,qa(m,g,q,1);break;case 2:if(at(q)){Gi=0,xa=null,Xn(g);break}g=function(){Gi===2&&Ci===m&&(Gi=7),ze(m)},q.then(g,g);break e;case 3:Gi=7;break e;case 4:Gi=5;break e;case 7:at(q)?(Gi=0,xa=null,Xn(g)):(Gi=0,xa=null,qa(m,g,q,7));break;case 5:var ue=null;switch(sn.tag){case 26:ue=sn.memoizedState;case 5:case 27:var xe=sn,Pe=xe.type,ot=xe.pendingProps;if(ue?Hu(ue):Uu(Pe,ot)){Gi=0,xa=null;var bt=xe.sibling;if(bt!==null)sn=bt;else{var Bt=xe.return;Bt!==null?(sn=Bt,Ca(Bt)):sn=null}break t}}Gi=0,xa=null,qa(m,g,q,5);break;case 6:Gi=0,xa=null,qa(m,g,q,6);break;case 8:Rf(),Ji=6;break e;default:throw Error(r(462))}}ea();break}catch(Ut){js(m,Ut)}while(!0);return vr=yl=null,an.H=D,an.A=I,ui=E,sn!==null?0:(Ci=null,Jn=0,pe(),Ji)}function ea(){for(;sn!==null&&!jx();)or(sn)}function or(m){var g=H0(m.alternate,m,Ka);m.memoizedProps=m.pendingProps,g===null?Ca(m):sn=g}function Xn(m){var g=m,E=g.alternate;switch(g.tag){case 15:case 0:g=Ax(E,g,g.pendingProps,g.type,void 0,Jn);break;case 11:g=Ax(E,g,g.pendingProps,g.type.render,g.ref,Jn);break;case 5:Qo(g);default:kc(E,g),g=sn=hp(g,Ka),g=H0(E,g,Ka)}m.memoizedProps=m.pendingProps,g===null?Ca(m):sn=g}function qa(m,g,E,D){vr=yl=null,Qo(g),au=null,su=0;var I=g.return;try{if(O0(m,I,g,E,Jn)){Ji=1,Uh(m,ie(E,m.current)),sn=null;return}}catch(q){if(I!==null)throw sn=I,q;Ji=1,Uh(m,ie(E,m.current)),sn=null;return}g.flags&32768?(ai||D===1?m=!0:to||(Jn&536870912)!==0?m=!1:(eo=m=!0,(D===2||D===3||D===6)&&(D=$s.current,D!==null&&D.tag===13&&(D.flags|=16384))),Nf(g,m)):Ca(g)}function Ca(m){var g=m;do{if((g.flags&32768)!==0){Nf(g,eo);return}m=g.return;var E=Wm(g.alternate,g,Ka);if(E!==null){sn=E;return}if(g=g.sibling,g!==null){sn=g;return}sn=g=m}while(g!==null);Ji===0&&(Ji=5)}function Nf(m,g){do{var E=wx(m.alternate,m);if(E!==null){E.flags&=32767,sn=E;return}if(E=m.return,E!==null&&(E.flags|=32768,E.subtreeFlags=0,E.deletions=null),!g&&(m=m.sibling,m!==null)){sn=m;return}sn=m=E}while(m!==null);Ji=6,sn=null}function Vs(m,g,E,D,I,q,ue,xe,Pe,ot){var bt=an.T,Bt=Zc();try{pa(2),an.T=null,Tx(m,g,E,D,Bt,I,q,ue,xe,Pe,ot)}finally{an.T=bt,pa(Bt)}}function Tx(m,g,E,D,I,q,ue,xe){do sl();while(dc!==null);if((ui&6)!==0)throw Error(r(327));var Pe=m.finishedWork;if(D=m.finishedLanes,Pe===null)return null;if(m.finishedWork=null,m.finishedLanes=0,Pe===m.current)throw Error(r(177));m.callbackNode=null,m.callbackPriority=0,m.cancelPendingCommit=null;var ot=Pe.lanes|Pe.childLanes;if(ot|=pl,ne(m,D,ot,q,ue,xe),m===Ci&&(sn=Ci=null,Jn=0),(Pe.subtreeFlags&10256)===0&&(Pe.flags&10256)===0||bl||(bl=!0,Wu=ot,wg=E,mo(yg,function(){return sl(),null})),E=(Pe.flags&15990)!==0,(Pe.subtreeFlags&15990)!==0||E?(E=an.T,an.T=null,q=Zc(),pa(2),ue=ui,ui|=4,Ne(m,Pe),V0(Pe,m),Kc(m.containerInfo),m.current=Pe,rt(m,Pe.alternate,Pe),Dp(),ui=ue,pa(q),an.T=E):m.current=Pe,bl?(bl=!1,dc=m,Jf=D):q0(m,ot),ot=m.pendingLanes,ot===0&&(Yu=null),H(Pe.stateNode),ze(m),g!==null)for(I=m.onRecoverableError,Pe=0;Pe<g.length;Pe++)ot=g[Pe],I(ot.value,{componentStack:ot.stack});return(Jf&3)!==0&&sl(),ot=m.pendingLanes,(D&4194218)!==0&&(ot&42)!==0?m===Eg?cd++:(cd=0,Eg=m):cd=0,le(0),null}function q0(m,g){(m.pooledCacheLanes&=g)===0&&(g=m.pooledCache,g!=null&&(m.pooledCache=null,ip(g)))}function sl(){if(dc!==null){var m=dc,g=Wu;Wu=0;var E=K(Jf),D=32>E?32:E;E=an.T;var I=Zc();try{if(pa(D),an.T=null,dc===null)var q=!1;else{D=wg,wg=null;var ue=dc,xe=Jf;if(dc=null,Jf=0,(ui&6)!==0)throw Error(r(331));var Pe=ui;if(ui|=4,Ef(ue.current),Km(ue,ue.current,xe,D),ui=Pe,le(0,!1),Wa&&typeof Wa.onPostCommitFiberRoot=="function")try{Wa.onPostCommitFiberRoot(Bi,ue)}catch{}q=!0}return q}finally{pa(I),an.T=E,q0(m,g)}}return!1}function jh(m,g,E){g=ie(E,g),g=Cu(m.stateNode,g,2),m=Ht(m,g,2),m!==null&&(j(m,2),ze(m))}function Mi(m,g,E){if(m.tag===3)jh(m,m,E);else for(;g!==null;){if(g.tag===3){jh(g,m,E);break}else if(g.tag===1){var D=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof D.componentDidCatch=="function"&&(Yu===null||!Yu.has(D))){m=ie(E,m),E=zc(2),D=Ht(g,E,2),D!==null&&(B0(E,D,g,m),j(D,2),ze(D));break}}g=g.return}}function $l(m,g,E){var D=m.pingCache;if(D===null){D=m.pingCache=new Co;var I=new Set;D.set(g,I)}else I=D.get(g),I===void 0&&(I=new Set,D.set(g,I));I.has(E)||(ia=!0,I.add(E),m=Df.bind(null,m,g,E),g.then(m,m))}function Df(m,g,E){var D=m.pingCache;D!==null&&D.delete(g),m.pingedLanes|=m.suspendedLanes&E,m.warmLanes&=~E,Ci===m&&(Jn&E)===E&&(Ji===4||Ji===3&&(Jn&62914560)===Jn&&300>Xr()-ds?(ui&2)===0&&Ta(m,0):Up|=E,_l===Jn&&(_l=0)),ze(m)}function Jc(m,g){g===0&&(g=z()),m=_e(m,g),m!==null&&(j(m,g),ze(m))}function re(m){var g=m.memoizedState,E=0;g!==null&&(E=g.retryLane),Jc(m,E)}function Xs(m,g){var E=0;switch(m.tag){case 13:var D=m.stateNode,I=m.memoizedState;I!==null&&(E=I.retryLane);break;case 19:D=m.stateNode;break;case 22:D=m.stateNode._retryCache;break;default:throw Error(r(314))}D!==null&&D.delete(g),Jc(m,E)}function mo(m,g){return ed(m,g)}function As(m,g,E,D){this.tag=m,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=D,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(m){return m=m.prototype,!(!m||!m.isReactComponent)}function go(m,g){var E=m.alternate;return E===null?(E=n(m.tag,g,m.key,m.mode),E.elementType=m.elementType,E.type=m.type,E.stateNode=m.stateNode,E.alternate=m,m.alternate=E):(E.pendingProps=g,E.type=m.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=m.flags&31457280,E.childLanes=m.childLanes,E.lanes=m.lanes,E.child=m.child,E.memoizedProps=m.memoizedProps,E.memoizedState=m.memoizedState,E.updateQueue=m.updateQueue,g=m.dependencies,E.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},E.sibling=m.sibling,E.index=m.index,E.ref=m.ref,E.refCleanup=m.refCleanup,E}function hp(m,g){m.flags&=31457282;var E=m.alternate;return E===null?(m.childLanes=0,m.lanes=g,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=E.childLanes,m.lanes=E.lanes,m.child=E.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=E.memoizedProps,m.memoizedState=E.memoizedState,m.updateQueue=E.updateQueue,m.type=E.type,g=E.dependencies,m.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),m}function Zl(m,g,E,D,I,q){var ue=0;if(D=m,typeof m=="function")Cn(m)&&(ue=1);else if(typeof m=="string")ue=Cs&&Hi?Zh(m,E,ri.current)?26:fl(m)?27:5:Cs?Zh(m,E,ri.current)?26:5:Hi&&fl(m)?27:5;else e:switch(m){case Ms:return Fi(E.children,I,q,g);case gp:ue=8,I|=24;break;case tg:return m=n(12,E,g,I|2),m.elementType=tg,m.lanes=q,m;case ng:return m=n(13,E,g,I),m.elementType=ng,m.lanes=q,m;case qh:return m=n(19,E,g,I),m.elementType=qh,m.lanes=q,m;case J0:return dp(E,I,q,g);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case ls:case ol:ue=10;break e;case W0:ue=9;break e;case vp:ue=11;break e;case yp:ue=14;break e;case Ys:ue=16,D=null;break e}ue=29,E=Error(r(130,m===null?"null":typeof m,"")),D=null}return g=n(ue,E,g,I),g.elementType=m,g.type=D,g.lanes=q,g}function Fi(m,g,E,D){return m=n(7,m,D,g),m.lanes=E,m}function dp(m,g,E,D){m=n(22,m,D,g),m.elementType=J0,m.lanes=E;var I={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var q=I._current;if(q===null)throw Error(r(456));if((I._pendingVisibility&2)===0){var ue=_e(q,2);ue!==null&&(I._pendingVisibility|=2,da(ue,q,2))}},attach:function(){var q=I._current;if(q===null)throw Error(r(456));if((I._pendingVisibility&2)!==0){var ue=_e(q,2);ue!==null&&(I._pendingVisibility&=-3,da(ue,q,2))}}};return m.stateNode=I,m}function Zm(m,g,E){return m=n(6,m,null,g),m.lanes=E,m}function Y0(m,g,E){return g=n(4,m.children!==null?m.children:[],m.key,g),g.lanes=E,g.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},g}function _1(m,g,E,D,I,q,ue,xe){this.tag=1,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=$c,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=F(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=F(0),this.hiddenUpdates=F(null),this.identifierPrefix=D,this.onUncaughtError=I,this.onCaughtError=q,this.onRecoverableError=ue,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=xe,this.incompleteTransitions=new Map}function Cx(m,g,E,D,I,q,ue,xe,Pe,ot,bt,Bt){return m=new _1(m,g,E,ue,xe,Pe,ot,Bt),g=1,q===!0&&(g|=24),q=n(3,null,null,g),m.current=q,q.stateNode=m,g=Wl(),g.refCount++,m.pooledCache=g,g.refCount++,q.memoizedState={element:D,isDehydrated:E,cache:g},yt(q),m}function zi(m){return m?(m=hl,m):hl}function Qm(m){var g=m._reactInternals;if(g===void 0)throw typeof m.render=="function"?Error(r(188)):(m=Object.keys(m).join(","),Error(r(268,m)));return m=v(g),m=m!==null?_(m):null,m===null?null:Yh(m.stateNode)}function Vh(m,g,E,D,I,q){I=zi(I),D.context===null?D.context=I:D.pendingContext=I,D=zt(g),D.payload={element:E},q=q===void 0?null:q,q!==null&&(D.callback=q),E=Ht(m,D,g),E!==null&&(da(E,m,g),wt(E,m,g))}function Xh(m,g){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var E=m.retryLane;m.retryLane=E!==0&&E<g?E:g}}function pp(m,g){Xh(m,g),(m=m.alternate)&&Xh(m,g)}var Sn={},Ss=ax(),qs=Xj(),eg=Object.assign,b1=Symbol.for("react.element"),mp=Symbol.for("react.transitional.element"),vo=Symbol.for("react.portal"),Ms=Symbol.for("react.fragment"),gp=Symbol.for("react.strict_mode"),tg=Symbol.for("react.profiler"),ls=Symbol.for("react.provider"),W0=Symbol.for("react.consumer"),ol=Symbol.for("react.context"),vp=Symbol.for("react.forward_ref"),ng=Symbol.for("react.suspense"),qh=Symbol.for("react.suspense_list"),yp=Symbol.for("react.memo"),Ys=Symbol.for("react.lazy"),J0=Symbol.for("react.offscreen"),Rx=Symbol.for("react.memo_cache_sentinel"),ll=Symbol.iterator,Bf=Symbol.for("react.client.reference"),an=Ss.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ql,ec,Of=!1,ws=Array.isArray,xp=e.rendererVersion,cl=e.rendererPackageName,Ra=e.extraDevToolsConfig,Yh=e.getPublicInstance,K0=e.getRootHostContext,Lf=e.getChildHostContext,Pu=e.prepareForCommit,Kc=e.resetAfterCommit,ig=e.createInstance,_p=e.appendInitialChild,yo=e.finalizeInitialChildren,Mn=e.shouldSetTextContent,wi=e.createTextInstance,Wn=e.scheduleTimeout,Wh=e.cancelTimeout,$c=e.noTimeout,mr=e.isPrimaryRenderer;e.warnsIfNotActing;var Dr=e.supportsMutation,cs=e.supportsPersistence,_r=e.supportsHydration,$0=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var ei=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var pa=e.setCurrentUpdatePriority,Zc=e.getCurrentUpdatePriority,Nx=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Dx=e.shouldAttemptEagerTransition,Z0=e.detachDeletedInstance;e.requestPostPaintCallback;var Q0=e.maySuspendCommit,Uu=e.preloadInstance,rg=e.startSuspendingCommit,us=e.suspendInstance,jr=e.waitForCommitToBeReady,xo=e.NotPendingTransition,ul=e.HostTransitionContext,ag=e.resetFormInstance;e.bindToConsole;var bp=e.supportsMicrotasks,tc=e.scheduleMicrotask,Iu=e.supportsTestSelectors,ev=e.findFiberRoot,tv=e.getBoundingRect,nv=e.getTextContent,Fu=e.isHiddenSubtree,Bx=e.matchAccessibilityRole,sg=e.setFocusIfFocusable,iv=e.setupIntersectionObserver,rv=e.appendChild,og=e.appendChildToContainer,Ap=e.commitTextUpdate,A1=e.commitMount,av=e.commitUpdate,sv=e.insertBefore,Ox=e.insertInContainerBefore,lg=e.removeChild,Lx=e.removeChildFromContainer,Sp=e.resetTextContent,ov=e.hideInstance,cg=e.hideTextInstance,Px=e.unhideInstance,lv=e.unhideTextInstance,Rn=e.clearContainer,Jh=e.cloneInstance,Mp=e.createContainerChildSet,Pf=e.appendChildToContainerChildSet,wp=e.finalizeContainerChildren,Kh=e.replaceContainerChildren,cv=e.cloneHiddenInstance,Es=e.cloneHiddenTextInstance,ug=e.isSuspenseInstancePending,Uf=e.isSuspenseInstanceFallback,fg=e.getSuspenseInstanceFallbackErrorDetails,uv=e.registerSuspenseInstanceRetry,hg=e.canHydrateFormStateMarker,Ts=e.isFormStateMarkerMatching,nc=e.getNextHydratableSibling,$h=e.getFirstHydratableChild,fv=e.getFirstHydratableChildWithinContainer,Ep=e.getFirstHydratableChildWithinSuspenseInstance,Ux=e.canHydrateInstance,Tp=e.canHydrateTextInstance,hv=e.canHydrateSuspenseInstance,dg=e.hydrateInstance,Cp=e.hydrateTextInstance,Qc=e.hydrateSuspenseInstance,Ix=e.getNextHydratableInstanceAfterSuspenseInstance,zu=e.commitHydratedContainer,Fx=e.commitHydratedSuspenseInstance,dv=e.clearSuspenseBoundary,If=e.clearSuspenseBoundaryFromContainer,pg=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var mg=e.validateHydratableInstance,zx=e.validateHydratableTextInstance,Cs=e.supportsResources,Zh=e.isHostHoistableType,gg=e.getHoistableRoot,vg=e.getResource,pv=e.acquireResource,Vr=e.releaseResource,Rs=e.hydrateHoistable,Rp=e.mountHoistable,Qh=e.unmountHoistable,Ff=e.createHoistableInstance,zf=e.prepareToCommitHoistables,mv=e.mayResourceSuspendCommit,Hu=e.preloadResource,Hx=e.suspendResource,Hi=e.supportsSingletons,Ya=e.resolveSingletonInstance,_o=e.clearSingleton,kx=e.acquireSingletonInstance,eu=e.releaseSingletonInstance,fl=e.isHostSingletonType,gr=[],ic=-1,hl={},Na=Math.clz32?Math.clz32:R,Np=Math.log,Gx=Math.LN2,dl=128,rc=4194304,ed=qs.unstable_scheduleCallback,td=qs.unstable_cancelCallback,jx=qs.unstable_shouldYield,Dp=qs.unstable_requestPaint,Xr=qs.unstable_now,Bp=qs.unstable_ImmediatePriority,gv=qs.unstable_UserBlockingPriority,yg=qs.unstable_NormalPriority,Vx=qs.unstable_IdlePriority,Xx=qs.log,ma=qs.unstable_setDisableYieldValue,Bi=null,Wa=null,Ja=typeof Object.is=="function"?Object.is:Q,Op=new WeakMap,ac=[],bo=0,Vt=null,tu=0,fs=[],ta=0,ku=null,Ws=1,Ao="",ri=b(null),nd=b(null),sc=b(null),Gu=b(null),Da=null,ga=null,ai=!1,So=null,va=!1,Js=Error(r(519)),er=[],nu=0,pl=0,Hf=null,iu=null,kf=!1,Ei=!1,xg=!1,Gf=0,id=null,jf=0,Ks=0,Vf=null,oc=!1,ju=!1,lc=Object.prototype.hasOwnProperty,Vu=Error(r(460)),rd=Error(r(474)),ru={then:function(){}},cc=null,au=null,su=0,ml=hr(!0),gl=hr(!1),ti=b(null),Mo=b(0),$s=b(null),ki=null,na=b(0),ou=0,Nn=null,nn=null,ci=null,wo=!1,Xf=!1,Xu=!1,_g=0,qf=0,ya=null,Eo=0,Lp=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},br={readContext:ua,use:Je,useCallback:Ui,useContext:Ui,useEffect:Ui,useImperativeHandle:Ui,useLayoutEffect:Ui,useInsertionEffect:Ui,useMemo:Ui,useReducer:Ui,useRef:Ui,useState:Ui,useDebugValue:Ui,useDeferredValue:Ui,useTransition:Ui,useSyncExternalStore:Ui,useId:Ui};br.useCacheRefresh=Ui,br.useMemoCache=Ui,br.useHostTransitionStatus=Ui,br.useFormState=Ui,br.useActionState=Ui,br.useOptimistic=Ui;var qu={readContext:ua,use:Je,useCallback:function(m,g){return se().memoizedState=[m,g===void 0?null:g],m},useContext:ua,useEffect:Um,useImperativeHandle:function(m,g,E){E=E!=null?E.concat([m]):null,Rh(4194308,4,Wd.bind(null,g,m),E)},useLayoutEffect:function(m,g){return Rh(4194308,4,m,g)},useInsertionEffect:function(m,g){Rh(4,2,m,g)},useMemo:function(m,g){var E=se();g=g===void 0?null:g;var D=m();if(Xu){J(!0);try{m()}finally{J(!1)}}return E.memoizedState=[D,g],D},useReducer:function(m,g,E){var D=se();if(E!==void 0){var I=E(g);if(Xu){J(!0);try{E(g)}finally{J(!1)}}}else I=g;return D.memoizedState=D.baseState=I,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:I},D.queue=m,m=m.dispatch=Hm.bind(null,Nn,m),[D.memoizedState,m]},useRef:function(m){var g=se();return m={current:m},g.memoizedState=m},useState:function(m){m=zn(m);var g=m.queue,E=D0.bind(null,Nn,g);return g.dispatch=E,[m.memoizedState,E]},useDebugValue:Eu,useDeferredValue:function(m,g){var E=se();return Jd(E,m,g)},useTransition:function(){var m=zn(!1);return m=Bh.bind(null,Nn,m.queue,!0,!1),se().memoizedState=m,[!1,m]},useSyncExternalStore:function(m,g,E){var D=Nn,I=se();if(ai){if(E===void 0)throw Error(r(407));E=E()}else{if(E=g(),Ci===null)throw Error(r(349));(Jn&60)!==0||Zt(D,g,E)}I.memoizedState=E;var q={value:E,getSnapshot:g};return I.queue=q,Um(Fn.bind(null,D,q,m),[m]),D.flags|=2048,wa(9,jt.bind(null,D,q,E,g),{destroy:void 0},null),E},useId:function(){var m=se(),g=Ci.identifierPrefix;if(ai){var E=Ao,D=Ws;E=(D&~(1<<32-Na(D)-1)).toString(32)+E,g=":"+g+"R"+E,E=_g++,0<E&&(g+="H"+E.toString(32)),g+=":"}else E=Eo++,g=":"+g+"r"+E.toString(32)+":";return m.memoizedState=g},useCacheRefresh:function(){return se().memoizedState=N0.bind(null,Nn)}};qu.useMemoCache=Oe,qu.useHostTransitionStatus=Af,qu.useFormState=Di,qu.useActionState=Di,qu.useOptimistic=function(m){var g=se();g.memoizedState=g.baseState=m;var E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return g.queue=E,g=yi.bind(null,Nn,!0,E),E.dispatch=g,[m,g]};var hs={readContext:ua,use:Je,useCallback:bf,useContext:ua,useEffect:Im,useImperativeHandle:Fm,useInsertionEffect:C0,useLayoutEffect:Dh,useMemo:zm,useReducer:Tt,useRef:rs,useState:function(){return Tt(mt)},useDebugValue:Eu,useDeferredValue:function(m,g){var E=Te();return R0(E,nn.memoizedState,m,g)},useTransition:function(){var m=Tt(mt)[0],g=Te().memoizedState;return[typeof m=="boolean"?m:We(m),g]},useSyncExternalStore:rn,useId:Oh};hs.useCacheRefresh=Fc,hs.useMemoCache=Oe,hs.useHostTransitionStatus=Af,hs.useFormState=Zr,hs.useActionState=Zr,hs.useOptimistic=function(m,g){var E=Te();return Vn(E,nn,m,g)};var Zs={readContext:ua,use:Je,useCallback:bf,useContext:ua,useEffect:Im,useImperativeHandle:Fm,useInsertionEffect:C0,useLayoutEffect:Dh,useMemo:zm,useReducer:Ft,useRef:rs,useState:function(){return Ft(mt)},useDebugValue:Eu,useDeferredValue:function(m,g){var E=Te();return nn===null?Jd(E,m,g):R0(E,nn.memoizedState,m,g)},useTransition:function(){var m=Ft(mt)[0],g=Te().memoizedState;return[typeof m=="boolean"?m:We(m),g]},useSyncExternalStore:rn,useId:Oh};Zs.useCacheRefresh=Fc,Zs.useMemoCache=Oe,Zs.useHostTransitionStatus=Af,Zs.useFormState=Hr,Zs.useActionState=Hr,Zs.useOptimistic=function(m,g){var E=Te();return nn!==null?Vn(E,nn,m,g):(E.baseState=m,[m,E.queue.dispatch])};var vl={isMounted:function(m){return(m=m._reactInternals)?d(m)===m:!1},enqueueSetState:function(m,g,E){m=m._reactInternals;var D=qi(),I=zt(D);I.payload=g,E!=null&&(I.callback=E),g=Ht(m,I,D),g!==null&&(da(g,m,D),wt(g,m,D))},enqueueReplaceState:function(m,g,E){m=m._reactInternals;var D=qi(),I=zt(D);I.tag=1,I.payload=g,E!=null&&(I.callback=E),g=Ht(m,I,D),g!==null&&(da(g,m,D),wt(g,m,D))},enqueueForceUpdate:function(m,g){m=m._reactInternals;var E=qi(),D=zt(E);D.tag=2,g!=null&&(D.callback=g),g=Ht(m,D,E),g!==null&&(da(g,m,E),wt(g,m,E))}},bg=typeof reportError=="function"?reportError:function(m){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var g=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof m=="object"&&m!==null&&typeof m.message=="string"?String(m.message):String(m),error:m});if(!window.dispatchEvent(g))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",m);return}console.error(m)},Ag=Error(r(461)),Yi=!1,Sg={dehydrated:null,treeContext:null,retryLane:0},lu=b(null),yl=null,vr=null,ad=typeof AbortController<"u"?AbortController:function(){var m=[],g=this.signal={aborted:!1,addEventListener:function(E,D){m.push(D)}};this.abort=function(){g.aborted=!0,m.forEach(function(E){return E()})}},qx=qs.unstable_scheduleCallback,Yx=qs.unstable_NormalPriority,Wi={$$typeof:ol,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},vv=an.S;an.S=function(m,g){typeof g=="object"&&g!==null&&typeof g.then=="function"&&gt(m,g),vv!==null&&vv(m,g)};var uc=b(null),fc=!1,Cr=!1,Pp=!1,Ti=typeof WeakSet=="function"?WeakSet:Set,_n=null,Hn=!1,Qt=null,Tn=!1,Ar=null,Qs=8192,sd={getCacheForType:function(m){var g=ua(Wi),E=g.data.get(m);return E===void 0&&(E=m(),g.data.set(m,E)),E}},od=0,To=1,lr=2,xl=3,hc=4;if(typeof Symbol=="function"&&Symbol.for){var Yf=Symbol.for;od=Yf("selector.component"),To=Yf("selector.has_pseudo_class"),lr=Yf("selector.role"),xl=Yf("selector.test_id"),hc=Yf("selector.text")}var Co=typeof WeakMap=="function"?WeakMap:Map,ui=0,Ci=null,sn=null,Jn=0,Gi=0,xa=null,eo=!1,to=!1,ia=!1,Ka=0,Ji=0,no=0,cu=0,Up=0,io=0,_l=0,Wf=null,cr=null,Mg=!1,ds=0,ld=1/0,Ip=null,Yu=null,bl=!1,dc=null,Jf=0,Wu=0,wg=null,cd=0,Eg=null;return Sn.attemptContinuousHydration=function(m){if(m.tag===13){var g=_e(m,67108864);g!==null&&da(g,m,67108864),pp(m,67108864)}},Sn.attemptHydrationAtCurrentPriority=function(m){if(m.tag===13){var g=qi(),E=_e(m,g);E!==null&&da(E,m,g),pp(m,g)}},Sn.attemptSynchronousHydration=function(m){switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var g=C(m.pendingLanes);if(g!==0){for(m.pendingLanes|=2,m.entangledLanes|=2;g;){var E=1<<31-Na(g);m.entanglements[1]|=E,g&=~E}ze(m),(ui&6)===0&&(ld=Xr()+500,le(0))}}break;case 13:g=_e(m,2),g!==null&&da(g,m,2),cp(),pp(m,2)}},Sn.batchedUpdates=function(m,g){return m(g)},Sn.createComponentSelector=function(m){return{$$typeof:od,value:m}},Sn.createContainer=function(m,g,E,D,I,q,ue,xe,Pe,ot){return Cx(m,g,!1,null,E,D,q,ue,xe,Pe,ot,null)},Sn.createHasPseudoClassSelector=function(m){return{$$typeof:To,value:m}},Sn.createHydrationContainer=function(m,g,E,D,I,q,ue,xe,Pe,ot,bt,Bt,Ut){return m=Cx(E,D,!0,m,I,q,xe,Pe,ot,bt,Bt,Ut),m.context=zi(null),E=m.current,D=qi(),I=zt(D),I.callback=g??null,Ht(E,I,D),m.current.lanes=D,j(m,D),ze(m),m},Sn.createPortal=function(m,g,E){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vo,key:D==null?null:""+D,children:m,containerInfo:g,implementation:E}},Sn.createRoleSelector=function(m){return{$$typeof:lr,value:m}},Sn.createTestNameSelector=function(m){return{$$typeof:xl,value:m}},Sn.createTextSelector=function(m){return{$$typeof:hc,value:m}},Sn.defaultOnCaughtError=function(m){console.error(m)},Sn.defaultOnRecoverableError=function(m){bg(m)},Sn.defaultOnUncaughtError=function(m){bg(m)},Sn.deferredUpdates=function(m){var g=an.T,E=Zc();try{return pa(32),an.T=null,m()}finally{pa(E),an.T=g}},Sn.discreteUpdates=function(m,g,E,D,I){var q=an.T,ue=Zc();try{return pa(2),an.T=null,m(g,E,D,I)}finally{pa(ue),an.T=q,ui===0&&(ld=Xr()+500)}},Sn.findAllNodes=qc,Sn.findBoundingRects=function(m,g){if(!Iu)throw Error(r(363));g=qc(m,g),m=[];for(var E=0;E<g.length;E++)m.push(tv(g[E]));for(g=m.length-1;0<g;g--){E=m[g];for(var D=E.x,I=D+E.width,q=E.y,ue=q+E.height,xe=g-1;0<=xe;xe--)if(g!==xe){var Pe=m[xe],ot=Pe.x,bt=ot+Pe.width,Bt=Pe.y,Ut=Bt+Pe.height;if(D>=ot&&q>=Bt&&I<=bt&&ue<=Ut){m.splice(g,1);break}else if(D!==ot||E.width!==Pe.width||Ut<q||Bt>ue){if(!(q!==Bt||E.height!==Pe.height||bt<D||ot>I)){ot>D&&(Pe.width+=ot-D,Pe.x=D),bt<I&&(Pe.width=I-ot),m.splice(g,1);break}}else{Bt>q&&(Pe.height+=Bt-q,Pe.y=q),Ut<ue&&(Pe.height=ue-Bt),m.splice(g,1);break}}}return m},Sn.findHostInstance=Qm,Sn.findHostInstanceWithNoPortals=function(m){return m=v(m),m=m!==null?S(m):null,m===null?null:Yh(m.stateNode)},Sn.findHostInstanceWithWarning=function(m){return Qm(m)},Sn.flushPassiveEffects=sl,Sn.flushSyncFromReconciler=function(m){var g=ui;ui|=1;var E=an.T,D=Zc();try{if(pa(2),an.T=null,m)return m()}finally{pa(D),an.T=E,ui=g,(ui&6)===0&&le(0)}},Sn.flushSyncWork=cp,Sn.focusWithin=function(m,g){if(!Iu)throw Error(r(363));for(m=Tf(m),g=os(m,g),g=Array.from(g),m=0;m<g.length;){var E=g[m++],D=E.tag;if(!Fu(E)){if((D===5||D===26||D===27)&&sg(E.stateNode))return!0;for(E=E.child;E!==null;)g.push(E),E=E.sibling}}return!1},Sn.getFindAllNodesFailureDescription=function(m,g){if(!Iu)throw Error(r(363));var E=0,D=[];m=[Tf(m),0];for(var I=0;I<m.length;){var q=m[I++],ue=q.tag,xe=m[I++],Pe=g[xe];if((ue!==5&&ue!==26&&ue!==27||!Fu(q))&&(Xc(q,Pe)&&(D.push(kh(Pe)),xe++,xe>E&&(E=xe)),xe<g.length))for(q=q.child;q!==null;)m.push(q,xe),q=q.sibling}if(E<g.length){for(m=[];E<g.length;E++)m.push(kh(g[E]));return`findAllNodes was able to match part of the selector:
  `+(D.join(" > ")+`

No matching component was found for:
  `)+m.join(" > ")}return null},Sn.getPublicRootInstance=function(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 27:case 5:return Yh(m.child.stateNode);default:return m.child.stateNode}},Sn.injectIntoDevTools=function(){var m={bundleType:0,version:xp,rendererPackageName:cl,currentDispatcherRef:an,findFiberByHostInstance:$0,reconcilerVersion:"19.0.0"};if(Ra!==null&&(m.rendererConfig=Ra),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")m=!1;else{var g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(g.isDisabled||!g.supportsFiber)m=!0;else{try{Bi=g.inject(m),Wa=g}catch{}m=!!g.checkDCE}}return m},Sn.isAlreadyRendering=function(){return!1},Sn.observeVisibleRects=function(m,g,E,D){if(!Iu)throw Error(r(363));m=qc(m,g);var I=iv(m,E,D).disconnect;return{disconnect:function(){I()}}},Sn.shouldError=function(){return null},Sn.shouldSuspend=function(){return!1},Sn.startHostTransition=function(m,g,E,D){if(m.tag!==5)throw Error(r(476));var I=Xl(m).queue;Bh(m,I,g,xo,E===null?i:function(){var q=Xl(m).next.queue;return pi(m,q,{},qi()),E(D)})},Sn.updateContainer=function(m,g,E,D){var I=g.current,q=qi();return Vh(I,q,m,g,E,D),q},Sn.updateContainerSync=function(m,g,E,D){return g.tag===0&&sl(),Vh(g.current,2,m,g,E,D),2},Sn},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})}(HD)),HD.exports}var hI;function _ue(){return hI||(hI=1,zD.exports=xue()),zD.exports}var bue=_ue();const Aue=mR(bue);var dI=Xj();const Sue=t=>typeof t=="object"&&typeof t.then=="function",_y=[];function qj(t,e,n=(i,r)=>i===r){if(t===e)return!0;if(!t||!e)return!1;const i=t.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!n(t[r],e[r]))return!1;return!0}function Yj(t,e=null,n=!1,i={}){e===null&&(e=[t]);for(const a of _y)if(qj(e,a.keys,a.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return i.lifespan&&i.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,i.lifespan)),a.response;if(!n)throw a.promise}const r={keys:e,equal:i.equal,remove:()=>{const a=_y.indexOf(r);a!==-1&&_y.splice(a,1)},promise:(Sue(t)?t:t(...e)).then(a=>{r.response=a,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(a=>r.error=a)};if(_y.push(r),!n)throw r.promise}const Mue=(t,e,n)=>Yj(t,e,!1,n),wue=(t,e,n)=>void Yj(t,e,!0,n),Eue=t=>{if(t===void 0||t.length===0)_y.splice(0,_y.length);else{const e=_y.find(n=>qj(t,n.keys,n.equal));e&&e.remove()}};function XL(t,e,n){if(!t)return;if(n(t)===!0)return t;let i=e?t.return:t.child;for(;i;){const r=XL(i,e,n);if(r)return r;i=e?null:i.sibling}}function Wj(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const qL=Wj(ce.createContext(null));let Jj=class extends ce.Component{render(){return ce.createElement(qL.Provider,{value:this._reactInternals},this.props.children)}};function Kj(){const t=ce.useContext(qL);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=ce.useId();return ce.useMemo(()=>{for(const n of[t,t==null?void 0:t.alternate]){if(!n)continue;const i=XL(n,!1,r=>{let a=r.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}const Tue=Symbol.for("react.context"),Cue=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Tue;function Rue(){const t=Kj(),[e]=ce.useState(()=>new Map);e.clear();let n=t;for(;n;){const i=n.type;Cue(i)&&i!==qL&&!e.has(i)&&e.set(i,ce.use(Wj(i))),n=n.return}return e}function Nue(){const t=Rue();return ce.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>i=>ce.createElement(e,null,ce.createElement(n.Provider,{...i,value:t.get(n)})),e=>ce.createElement(Jj,{...e})),[t])}function $j(t){let e=t.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Zj=t=>t&&t.isOrthographicCamera,Due=t=>t&&t.hasOwnProperty("current"),Bue=t=>t!=null&&(typeof t=="string"||typeof t=="number"||t.isColor),CM=((t,e)=>typeof window<"u"&&(((t=window.document)==null?void 0:t.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?ce.useLayoutEffect:ce.useEffect;function Qj(t){const e=ce.useRef(t);return CM(()=>void(e.current=t),[t]),e}function Oue(){const t=Kj(),e=Nue();return ce.useMemo(()=>({children:n})=>{const r=!!XL(t,!0,a=>a.type===ce.StrictMode)?ce.StrictMode:ce.Fragment;return B.jsx(r,{children:B.jsx(e,{children:n})})},[t,e])}function Lue({set:t}){return CM(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}const Pue=(t=>(t=class extends ce.Component{constructor(...n){super(...n),this.state={error:!1}}componentDidCatch(n){this.props.set(n)}render(){return this.state.error?null:this.props.children}},t.getDerivedStateFromError=()=>({error:!0}),t))();function eV(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}function B_(t){var e;return(e=t.__r3f)==null?void 0:e.root.getState()}const Yr={obj:t=>t===Object(t)&&!Yr.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,nul:t=>t===null,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:i="reference",strict:r=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Yr.str(t)||Yr.num(t)||Yr.boo(t))return t===e;const a=Yr.obj(t);if(a&&i==="reference")return t===e;const s=Yr.arr(t);if(s&&n==="reference")return t===e;if((s||a)&&t===e)return!0;let o;for(o in t)if(!(o in e))return!1;if(a&&n==="shallow"&&i==="shallow"){for(o in r?e:t)if(!Yr.equ(t[o],e[o],{strict:r,objects:"reference"}))return!1}else for(o in r?e:t)if(t[o]!==e[o])return!1;if(Yr.und(o)){if(s&&t.length===0&&e.length===0||a&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Uue(t){const e={nodes:{},materials:{},meshes:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material),n.isMesh&&!e.meshes[n.name]&&(e.meshes[n.name]=n)}),e}function Iue(t){t.type!=="Scene"&&(t.dispose==null||t.dispose());for(const e in t){const n=t[e];(n==null?void 0:n.type)!=="Scene"&&(n==null||n.dispose==null||n.dispose())}}const tV=["children","key","ref"];function Fue(t){const e={};for(const n in t)tV.includes(n)||(e[n]=t[n]);return e}function VT(t,e,n,i){const r=t;let a=r==null?void 0:r.__r3f;return a||(a={root:e,type:n,parent:null,children:[],props:Fue(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=a)),a}function IS(t,e){let n=t[e];if(!e.includes("-"))return{root:t,key:e,target:n};n=t;for(const r of e.split("-")){var i;e=r,t=n,n=(i=n)==null?void 0:i[e]}return{root:t,key:e,target:n}}const pI=/-\d+$/;function XT(t,e){if(Yr.str(e.props.attach)){if(pI.test(e.props.attach)){const r=e.props.attach.replace(pI,""),{root:a,key:s}=IS(t.object,r);Array.isArray(a[s])||(a[s]=[])}const{root:n,key:i}=IS(t.object,e.props.attach);e.previousAttach=n[i],n[i]=e.object}else Yr.fun(e.props.attach)&&(e.previousAttach=e.props.attach(t.object,e.object))}function qT(t,e){if(Yr.str(e.props.attach)){const{root:n,key:i}=IS(t.object,e.props.attach),r=e.previousAttach;r===void 0?delete n[i]:n[i]=r}else e.previousAttach==null||e.previousAttach(t.object,e.object);delete e.previousAttach}const tO=[...tV,"args","dispose","attach","object","onUpdate","dispose"],mI=new Map;function zue(t){let e=mI.get(t.constructor);try{e||(e=new t.constructor,mI.set(t.constructor,e))}catch{}return e}function Hue(t,e){const n={};for(const i in e)if(!tO.includes(i)&&!Yr.equ(e[i],t.props[i])){n[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(n[r]=e[r])}for(const i in t.props){if(tO.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:a}=IS(t.object,i);if(r.constructor&&r.constructor.length===0){const s=zue(r);Yr.und(s)||(n[a]=s[a])}else n[a]=0}return n}const kue=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Gue=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function $g(t,e){var n;const i=t.__r3f,r=i&&$j(i).getState(),a=i==null?void 0:i.eventCount;for(const o in e){let l=e[o];if(tO.includes(o))continue;if(i&&Gue.test(o)){typeof l=="function"?i.handlers[o]=l:delete i.handlers[o],i.eventCount=Object.keys(i.handlers).length;continue}if(l===void 0)continue;let{root:c,key:f,target:d}=IS(t,o);if(d instanceof Eb&&l instanceof Eb)d.mask=l.mask;else if(d instanceof Lt&&Bue(l))d.set(l);else if(d!==null&&typeof d=="object"&&typeof d.set=="function"&&typeof d.copy=="function"&&l!=null&&l.constructor&&d.constructor===l.constructor)d.copy(l);else if(d!==null&&typeof d=="object"&&typeof d.set=="function"&&Array.isArray(l))typeof d.fromArray=="function"?d.fromArray(l):d.set(...l);else if(d!==null&&typeof d=="object"&&typeof d.set=="function"&&typeof l=="number")typeof d.setScalar=="function"?d.setScalar(l):d.set(l);else{var s;c[f]=l,r&&!r.linear&&kue.includes(f)&&(s=c[f])!=null&&s.isTexture&&c[f].format===jo&&c[f].type===xh&&(c[f].colorSpace=ko)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(n=i.object)!=null&&n.isObject3D&&a!==i.eventCount){const o=i.object,l=r.internal.interaction.indexOf(o);l>-1&&r.internal.interaction.splice(l,1),i.eventCount&&o.raycast!==null&&r.internal.interaction.push(o)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&h1(i),t}function h1(t){var e;if(!t.parent)return;t.props.onUpdate==null||t.props.onUpdate(t.object);const n=(e=t.root)==null||e.getState==null?void 0:e.getState();n&&n.internal.frames===0&&n.invalidate()}function jue(t,e){t.manual||(Zj(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix())}const Dl=t=>t==null?void 0:t.isObject3D;function y2(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function nV(t,e,n,i){const r=n.get(e);r&&(n.delete(e),n.size===0&&(t.delete(i),r.target.releasePointerCapture(i)))}function Vue(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(i=>i!==e),n.initialHits=n.initialHits.filter(i=>i!==e),n.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&n.hovered.delete(r)}),n.capturedMap.forEach((i,r)=>{nV(n.capturedMap,e,i,r)})}function Xue(t){function e(l){const{internal:c}=t.getState(),f=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(f*f+d*d))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(f=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+f]}))}function i(l,c){const f=t.getState(),d=new Set,p=[],v=c?c(f.internal.interaction):f.internal.interaction;for(let A=0;A<v.length;A++){const T=B_(v[A]);T&&(T.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(l,f);function _(A){const T=B_(A);if(!T||!T.events.enabled||T.raycaster.camera===null)return[];if(T.raycaster.camera===void 0){var R;T.events.compute==null||T.events.compute(l,T,(R=T.previousRoot)==null?void 0:R.getState()),T.raycaster.camera===void 0&&(T.raycaster.camera=null)}return T.raycaster.camera?T.raycaster.intersectObject(A,!0):[]}let S=v.flatMap(_).sort((A,T)=>{const R=B_(A.object),C=B_(T.object);return!R||!C?A.distance-T.distance:C.events.priority-R.events.priority||A.distance-T.distance}).filter(A=>{const T=y2(A);return d.has(T)?!1:(d.add(T),!0)});f.events.filter&&(S=f.events.filter(S,f));for(const A of S){let T=A.object;for(;T;){var b;(b=T.__r3f)!=null&&b.eventCount&&p.push({...A,eventObject:T}),T=T.parent}}if("pointerId"in l&&f.internal.capturedMap.has(l.pointerId))for(let A of f.internal.capturedMap.get(l.pointerId).values())d.has(y2(A.intersection))||p.push(A.intersection);return p}function r(l,c,f,d){if(l.length){const p={stopped:!1};for(const v of l){let _=B_(v.object);if(_||v.object.traverseAncestors(S=>{const b=B_(S);if(b)return _=b,!1}),_){const{raycaster:S,pointer:b,camera:A,internal:T}=_,R=new me(b.x,b.y,0).unproject(A),C=z=>{var F,j;return(F=(j=T.capturedMap.get(z))==null?void 0:j.has(v.eventObject))!=null?F:!1},L=z=>{const F={intersection:v,target:c.target};T.capturedMap.has(z)?T.capturedMap.get(z).set(v.eventObject,F):T.capturedMap.set(z,new Map([[v.eventObject,F]])),c.target.setPointerCapture(z)},P=z=>{const F=T.capturedMap.get(z);F&&nV(T.capturedMap,v.eventObject,F,z)};let k={};for(let z in c){let F=c[z];typeof F!="function"&&(k[z]=F)}let G={...v,...k,pointer:b,intersections:l,stopped:p.stopped,delta:f,unprojectedPoint:R,ray:S.ray,camera:A,stopPropagation(){const z="pointerId"in c&&T.capturedMap.get(c.pointerId);if((!z||z.has(v.eventObject))&&(G.stopped=p.stopped=!0,T.hovered.size&&Array.from(T.hovered.values()).find(F=>F.eventObject===v.eventObject))){const F=l.slice(0,l.indexOf(v));a([...F,v])}},target:{hasPointerCapture:C,setPointerCapture:L,releasePointerCapture:P},currentTarget:{hasPointerCapture:C,setPointerCapture:L,releasePointerCapture:P},nativeEvent:c};if(d(G),p.stopped===!0)break}}}return l}function a(l){const{internal:c}=t.getState();for(const f of c.hovered.values())if(!l.length||!l.find(d=>d.object===f.object&&d.index===f.index&&d.instanceId===f.instanceId)){const p=f.eventObject.__r3f;if(c.hovered.delete(y2(f)),p!=null&&p.eventCount){const v=p.handlers,_={...f,intersections:l};v.onPointerOut==null||v.onPointerOut(_),v.onPointerLeave==null||v.onPointerLeave(_)}}}function s(l,c){for(let f=0;f<c.length;f++){const d=c[f].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return c=>{const{internal:f}=t.getState();"pointerId"in c&&f.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{f.capturedMap.has(c.pointerId)&&(f.capturedMap.delete(c.pointerId),a([]))})}}return function(f){const{onPointerMissed:d,internal:p}=t.getState();p.lastEvent.current=f;const v=l==="onPointerMove",_=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",b=i(f,v?n:void 0),A=_?e(f):0;l==="onPointerDown"&&(p.initialClick=[f.offsetX,f.offsetY],p.initialHits=b.map(R=>R.eventObject)),_&&!b.length&&A<=2&&(s(f,p.interaction),d&&d(f)),v&&a(b);function T(R){const C=R.eventObject,L=C.__r3f;if(!(L!=null&&L.eventCount))return;const P=L.handlers;if(v){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const k=y2(R),G=p.hovered.get(k);G?G.stopped&&R.stopPropagation():(p.hovered.set(k,R),P.onPointerOver==null||P.onPointerOver(R),P.onPointerEnter==null||P.onPointerEnter(R))}P.onPointerMove==null||P.onPointerMove(R)}else{const k=P[l];k?(!_||p.initialHits.includes(C))&&(s(f,p.interaction.filter(G=>!p.initialHits.includes(G))),k(R)):_&&p.initialHits.includes(C)&&s(f,p.interaction.filter(G=>!p.initialHits.includes(G)))}}r(b,f,A,T)}}return{handlePointer:o}}const gI=t=>!!(t!=null&&t.render),iV=ce.createContext(null),que=(t,e)=>{const n=vue((o,l)=>{const c=new me,f=new me,d=new me;function p(A=l().camera,T=f,R=l().size){const{width:C,height:L,top:P,left:k}=R,G=C/L;T.isVector3?d.copy(T):d.set(...T);const z=A.getWorldPosition(c).distanceTo(d);if(Zj(A))return{width:C/A.zoom,height:L/A.zoom,top:P,left:k,factor:1,distance:z,aspect:G};{const F=A.fov*Math.PI/180,j=2*Math.tan(F/2)*z,ne=j*(C/L);return{width:ne,height:j,top:P,left:k,factor:C/ne,distance:z,aspect:G}}}let v;const _=A=>o(T=>({performance:{...T.performance,current:A}})),S=new ct;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(A=1)=>t(l(),A),advance:(A,T)=>e(A,T,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new zL,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const A=l();v&&clearTimeout(v),A.performance.current!==A.performance.min&&_(A.performance.min),v=setTimeout(()=>_(l().performance.max),A.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:A=>o(T=>({...T,events:{...T.events,...A}})),setSize:(A,T,R=0,C=0)=>{const L=l().camera,P={width:A,height:T,top:R,left:C};o(k=>({size:P,viewport:{...k.viewport,...p(L,f,P)}}))},setDpr:A=>o(T=>{const R=eV(A);return{viewport:{...T.viewport,dpr:R,initialDpr:T.viewport.initialDpr||R}}}),setFrameloop:(A="always")=>{const T=l().clock;T.stop(),T.elapsedTime=0,A!=="never"&&(T.start(),T.elapsedTime=0),o(()=>({frameloop:A}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:ce.createRef(),active:!1,frames:0,priority:0,subscribe:(A,T,R)=>{const C=l().internal;return C.priority=C.priority+(T>0?1:0),C.subscribers.push({ref:A,priority:T,store:R}),C.subscribers=C.subscribers.sort((L,P)=>L.priority-P.priority),()=>{const L=l().internal;L!=null&&L.subscribers&&(L.priority=L.priority-(T>0?1:0),L.subscribers=L.subscribers.filter(P=>P.ref!==A))}}}}}),i=n.getState();let r=i.size,a=i.viewport.dpr,s=i.camera;return n.subscribe(()=>{const{camera:o,size:l,viewport:c,gl:f,set:d}=n.getState();if(l.width!==r.width||l.height!==r.height||c.dpr!==a){r=l,a=c.dpr,jue(o,l),c.dpr>0&&f.setPixelRatio(c.dpr);const p=typeof HTMLCanvasElement<"u"&&f.domElement instanceof HTMLCanvasElement;f.setSize(l.width,l.height,p)}o!==s&&(s=o,d(p=>({viewport:{...p.viewport,...p.viewport.getCurrentViewport(o)}})))}),n.subscribe(o=>t(o)),n};function rV(){const t=ce.useContext(iV);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function im(t=n=>n,e){return rV()(t,e)}function aV(t,e=0){const n=rV(),i=n.getState().internal.subscribe,r=Qj(t);return CM(()=>i(r,e,n),[e,i,n]),null}const vI=new WeakMap,Yue=t=>{var e;return typeof t=="function"&&(t==null||(e=t.prototype)==null?void 0:e.constructor)===t};function sV(t,e){return function(n,...i){let r;return Yue(n)?(r=vI.get(n),r||(r=new n,vI.set(n,r))):r=n,t&&t(r),Promise.all(i.map(a=>new Promise((s,o)=>r.load(a,l=>{Dl(l==null?void 0:l.scene)&&Object.assign(l,Uue(l.scene)),s(l)},e,l=>o(new Error(`Could not load ${a}: ${l==null?void 0:l.message}`))))))}}function RM(t,e,n,i){const r=Array.isArray(e)?e:[e],a=Mue(sV(n,i),[t,...r],{equal:Yr.equ});return Array.isArray(e)?a:a[0]}RM.preload=function(t,e,n){const i=Array.isArray(e)?e:[e];return wue(sV(n),[t,...i])};RM.clear=function(t,e){const n=Array.isArray(e)?e:[e];return Eue([t,...n])};function Wue(t){const e=Aue(t);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:ce.version}),e}const oV=0,Nb={},Jue=/^three(?=[A-Z])/,s3=t=>`${t[0].toUpperCase()}${t.slice(1)}`;let Kue=0;const $ue=t=>typeof t=="function";function Zue(t){if($ue(t)){const e=`${Kue++}`;return Nb[e]=t,e}else Object.assign(Nb,t)}function lV(t,e){const n=s3(t),i=Nb[n];if(t!=="primitive"&&!i)throw new Error(`R3F: ${n} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(t==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function Que(t,e,n){var i;return t=s3(t)in Nb?t:t.replace(Jue,""),lV(t,e),t==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,VT(e.object,n,t,e)}function efe(t){if(!t.isHidden){var e;t.props.attach&&(e=t.parent)!=null&&e.object?qT(t.parent,t):Dl(t.object)&&(t.object.visible=!1),t.isHidden=!0,h1(t)}}function cV(t){if(t.isHidden){var e;t.props.attach&&(e=t.parent)!=null&&e.object?XT(t.parent,t):Dl(t.object)&&t.props.visible!==!1&&(t.object.visible=!0),t.isHidden=!1,h1(t)}}function YL(t,e,n){const i=e.root.getState();if(!(!t.parent&&t.object!==i.scene)){if(!e.object){var r,a;const s=Nb[s3(e.type)];e.object=(r=e.props.object)!=null?r:new s(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if($g(e.object,e.props),e.props.attach)XT(t,e);else if(Dl(e.object)&&Dl(t.object)){const s=t.object.children.indexOf(n==null?void 0:n.object);if(n&&s!==-1){const o=t.object.children.indexOf(e.object);if(o!==-1){t.object.children.splice(o,1);const l=o<s?s-1:s;t.object.children.splice(l,0,e.object)}else e.object.parent=t.object,t.object.children.splice(s,0,e.object),e.object.dispatchEvent({type:"added"}),t.object.dispatchEvent({type:"childadded",child:e.object})}else t.object.add(e.object)}for(const s of e.children)YL(e,s);h1(e)}}function jD(t,e){e&&(e.parent=t,t.children.push(e),YL(t,e))}function yI(t,e,n){if(!e||!n)return;e.parent=t;const i=t.children.indexOf(n);i!==-1?t.children.splice(i,0,e):t.children.push(e),YL(t,e,n)}function uV(t){if(typeof t.dispose=="function"){const e=()=>{try{t.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():dI.unstable_scheduleCallback(dI.unstable_IdlePriority,e)}}function nO(t,e,n){if(!e)return;e.parent=null;const i=t.children.indexOf(e);i!==-1&&t.children.splice(i,1),e.props.attach?qT(t,e):Dl(e.object)&&Dl(t.object)&&(t.object.remove(e.object),Vue($j(e),e.object));const r=e.props.dispose!==null&&n!==!1;for(let a=e.children.length-1;a>=0;a--){const s=e.children[a];nO(e,s,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&uV(e.object),n===void 0&&h1(e)}function tfe(t,e){for(const n of[t,t.alternate])if(n!==null)if(typeof n.ref=="function"){n.refCleanup==null||n.refCleanup();const i=n.ref(e);typeof i=="function"&&(n.refCleanup=i)}else n.ref&&(n.ref.current=e)}const TE=[];function nfe(){for(const[n]of TE){const i=n.parent;if(i){n.props.attach?qT(i,n):Dl(n.object)&&Dl(i.object)&&i.object.remove(n.object);for(const r of n.children)r.props.attach?qT(n,r):Dl(r.object)&&Dl(n.object)&&n.object.remove(r.object)}n.isHidden&&cV(n),n.object.__r3f&&delete n.object.__r3f,n.type!=="primitive"&&uV(n.object)}for(const[n,i,r]of TE){n.props=i;const a=n.parent;if(a){var t,e;const s=Nb[s3(n.type)];n.object=(t=n.props.object)!=null?t:new s(...(e=n.props.args)!=null?e:[]),n.object.__r3f=n,tfe(r,n.object),$g(n.object,n.props),n.props.attach?XT(a,n):Dl(n.object)&&Dl(a.object)&&a.object.add(n.object);for(const o of n.children)o.props.attach?XT(n,o):Dl(o.object)&&Dl(n.object)&&n.object.add(o.object);h1(n)}}TE.length=0}const VD=()=>{},xI={};let x2=oV;const ife=0,rfe=4,iO=Wue({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:Que,removeChild:nO,appendChild:jD,appendInitialChild:jD,insertBefore:yI,appendChildToContainer(t,e){const n=t.getState().scene.__r3f;!e||!n||jD(n,e)},removeChildFromContainer(t,e){const n=t.getState().scene.__r3f;!e||!n||nO(n,e)},insertInContainerBefore(t,e,n){const i=t.getState().scene.__r3f;!e||!n||!i||yI(i,e,n)},getRootHostContext:()=>xI,getChildHostContext:()=>xI,commitUpdate(t,e,n,i,r){var a,s,o;lV(e,i);let l=!1;if((t.type==="primitive"&&n.object!==i.object||((a=i.args)==null?void 0:a.length)!==((s=n.args)==null?void 0:s.length)||(o=i.args)!=null&&o.some((f,d)=>{var p;return f!==((p=n.args)==null?void 0:p[d])}))&&(l=!0),l)TE.push([t,{...i},r]);else{const f=Hue(t,i);Object.keys(f).length&&(Object.assign(t.props,f),$g(t.object,f))}(r.sibling===null||(r.flags&rfe)===ife)&&nfe()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:t=>t==null?void 0:t.object,prepareForCommit:()=>null,preparePortalMount:t=>VT(t.getState().scene,t,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:efe,unhideInstance:cV,createTextInstance:VD,hideTextInstance:VD,unhideTextInstance:VD,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:ce.createContext(null),setCurrentUpdatePriority(t){x2=t},getCurrentUpdatePriority(){return x2},resolveUpdatePriority(){var t;if(x2!==oV)return x2;switch(typeof window<"u"&&((t=window.event)==null?void 0:t.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return EE.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return EE.ContinuousEventPriority;default:return EE.DefaultEventPriority}},resetFormInstance(){}}),Xy=new Map,O_={objects:"shallow",strict:!1};function afe(t,e){if(!e&&typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:i,top:r,left:a}=t.parentElement.getBoundingClientRect();return{width:n,height:i,top:r,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function sfe(t){const e=Xy.get(t),n=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,a=i||que(sO,bI),s=n||iO.createContainer(a,EE.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||Xy.set(t,{fiber:s,store:a});let o,l,c=!1,f=null;return{async configure(d={}){let p;f=new Promise($=>p=$);let{gl:v,size:_,scene:S,events:b,onCreated:A,shadows:T=!1,linear:R=!1,flat:C=!1,legacy:L=!1,orthographic:P=!1,frameloop:k="always",dpr:G=[1,2],performance:z,raycaster:F,camera:j,onPointerMissed:ne}=d,W=a.getState(),Y=W.gl;if(!W.gl){const $={canvas:t,powerPreference:"high-performance",antialias:!0,alpha:!0},oe=typeof v=="function"?await v($):v;gI(oe)?Y=oe:Y=new Vj({...$,...v}),W.set({gl:Y})}let K=W.raycaster;K||W.set({raycaster:K=new Uj});const{params:H,...J}=F||{};if(Yr.equ(J,K,O_)||$g(K,{...J}),Yr.equ(H,K.params,O_)||$g(K,{params:{...K.params,...H}}),!W.camera||W.camera===l&&!Yr.equ(l,j,O_)){l=j;const $=j==null?void 0:j.isCamera,oe=$?j:P?new gh(0,0,0,0,.1,1e3):new Wr(75,0,.1,1e3);$||(oe.position.z=5,j&&($g(oe,j),oe.manual||("aspect"in j||"left"in j||"right"in j||"bottom"in j||"top"in j)&&(oe.manual=!0,oe.updateProjectionMatrix())),!W.camera&&!(j!=null&&j.rotation)&&oe.lookAt(0,0,0)),W.set({camera:oe}),K.camera=oe}if(!W.scene){let $;S!=null&&S.isScene?($=S,VT($,a,"",{})):($=new mL,VT($,a,"",{}),S&&$g($,S)),W.set({scene:$})}b&&!W.events.handlers&&W.set({events:b(a)});const Q=afe(t,_);if(Yr.equ(Q,W.size,O_)||W.setSize(Q.width,Q.height,Q.top,Q.left),G&&W.viewport.dpr!==eV(G)&&W.setDpr(G),W.frameloop!==k&&W.setFrameloop(k),W.onPointerMissed||W.set({onPointerMissed:ne}),z&&!Yr.equ(z,W.performance,O_)&&W.set($=>({performance:{...$.performance,...z}})),!W.xr){var ie;const $=(fe,ge)=>{const Se=a.getState();Se.frameloop!=="never"&&bI(fe,!0,Se,ge)},oe=()=>{const fe=a.getState();fe.gl.xr.enabled=fe.gl.xr.isPresenting,fe.gl.xr.setAnimationLoop(fe.gl.xr.isPresenting?$:null),fe.gl.xr.isPresenting||sO(fe)},de={connect(){const fe=a.getState().gl;fe.xr.addEventListener("sessionstart",oe),fe.xr.addEventListener("sessionend",oe)},disconnect(){const fe=a.getState().gl;fe.xr.removeEventListener("sessionstart",oe),fe.xr.removeEventListener("sessionend",oe)}};typeof((ie=Y.xr)==null?void 0:ie.addEventListener)=="function"&&de.connect(),W.set({xr:de})}if(Y.shadowMap){const $=Y.shadowMap.enabled,oe=Y.shadowMap.type;if(Y.shadowMap.enabled=!!T,Yr.boo(T))Y.shadowMap.type=$A;else if(Yr.str(T)){var V;const de={basic:Kk,percentage:TR,soft:$A,variance:ih};Y.shadowMap.type=(V=de[T])!=null?V:$A}else Yr.obj(T)&&Object.assign(Y.shadowMap,T);($!==Y.shadowMap.enabled||oe!==Y.shadowMap.type)&&(Y.shadowMap.needsUpdate=!0)}return bi.enabled=!L,c||(Y.outputColorSpace=R?u0:ko,Y.toneMapping=C?Dd:Q5),W.legacy!==L&&W.set(()=>({legacy:L})),W.linear!==R&&W.set(()=>({linear:R})),W.flat!==C&&W.set(()=>({flat:C})),v&&!Yr.fun(v)&&!gI(v)&&!Yr.equ(v,Y,O_)&&$g(Y,v),o=A,c=!0,p(),this},render(d){return!c&&!f&&this.configure(),f.then(()=>{iO.updateContainer(B.jsx(ofe,{store:a,children:d,onCreated:o,rootElement:t}),s,null,()=>{})}),a},unmount(){fV(t)}}}function ofe({store:t,children:e,onCreated:n,rootElement:i}){return CM(()=>{const r=t.getState();r.set(a=>({internal:{...a.internal,active:!0}})),n&&n(r),t.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),B.jsx(iV.Provider,{value:t,children:e})}function fV(t,e){const n=Xy.get(t),i=n==null?void 0:n.fiber;if(i){const r=n==null?void 0:n.store.getState();r&&(r.internal.active=!1),iO.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var a,s,o,l;r.events.disconnect==null||r.events.disconnect(),(a=r.gl)==null||(s=a.renderLists)==null||s.dispose==null||s.dispose(),(o=r.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),Iue(r.scene),Xy.delete(t)}catch{}},500)})}}const lfe=new Set,cfe=new Set,ufe=new Set;function XD(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function sS(t,e){switch(t){case"before":return XD(lfe,e);case"after":return XD(cfe,e);case"tail":return XD(ufe,e)}}let qD,YD;function rO(t,e,n){let i=e.clock.getDelta();e.frameloop==="never"&&typeof t=="number"&&(i=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),qD=e.internal.subscribers;for(let r=0;r<qD.length;r++)YD=qD[r],YD.ref.current(YD.store.getState(),i,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let YT=!1,aO=!1,WD,_I,L_;function hV(t){_I=requestAnimationFrame(hV),YT=!0,WD=0,sS("before",t),aO=!0;for(const n of Xy.values()){var e;L_=n.store.getState(),L_.internal.active&&(L_.frameloop==="always"||L_.internal.frames>0)&&!((e=L_.gl.xr)!=null&&e.isPresenting)&&(WD+=rO(t,L_))}if(aO=!1,sS("after",t),WD===0)return sS("tail",t),YT=!1,cancelAnimationFrame(_I)}function sO(t,e=1){var n;if(!t)return Xy.forEach(i=>sO(i.store.getState(),e));(n=t.gl.xr)!=null&&n.isPresenting||!t.internal.active||t.frameloop==="never"||(e>1?t.internal.frames=Math.min(60,t.internal.frames+e):aO?t.internal.frames=2:t.internal.frames=1,YT||(YT=!0,requestAnimationFrame(hV)))}function bI(t,e=!0,n,i){if(e&&sS("before",t),n)rO(t,n,i);else for(const r of Xy.values())rO(t,r.store.getState());e&&sS("after",t)}const JD={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function ffe(t){const{handlePointer:e}=Xue(t);return{priority:1,enabled:!0,compute(n,i,r){i.pointer.set(n.offsetX/i.size.width*2-1,-(n.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(JD).reduce((n,i)=>({...n,[i]:e(i)}),{}),update:()=>{var n;const{events:i,internal:r}=t.getState();(n=r.lastEvent)!=null&&n.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:n=>{const{set:i,events:r}=t.getState();if(r.disconnect==null||r.disconnect(),i(a=>({events:{...a.events,connected:n}})),r.handlers)for(const a in r.handlers){const s=r.handlers[a],[o,l]=JD[a];n.addEventListener(o,s,{passive:l})}},disconnect:()=>{const{set:n,events:i}=t.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const a=i.handlers[r],[s]=JD[r];i.connected.removeEventListener(s,a)}n(r=>({events:{...r.events,connected:void 0}}))}}}}function AI(t,e){let n;return(...i)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...i),e)}}function hfe({debounce:t,scroll:e,polyfill:n,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=ce.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=ce.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,f=ce.useRef(!1);ce.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[d,p,v]=ce.useMemo(()=>{const A=()=>{if(!o.current.element)return;const{left:T,top:R,width:C,height:L,bottom:P,right:k,x:G,y:z}=o.current.element.getBoundingClientRect(),F={left:T,top:R,width:C,height:L,bottom:P,right:k,x:G,y:z};o.current.element instanceof HTMLElement&&i&&(F.height=o.current.element.offsetHeight,F.width=o.current.element.offsetWidth),Object.freeze(F),f.current&&!gfe(o.current.lastBounds,F)&&s(o.current.lastBounds=F)};return[A,c?AI(A,c):A,l?AI(A,l):A]},[s,i,l,c]);function _(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(A=>A.removeEventListener("scroll",v,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function S(){o.current.element&&(o.current.resizeObserver=new r(v),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(A=>A.addEventListener("scroll",v,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{v()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const b=A=>{!A||A===o.current.element||(_(),o.current.element=A,o.current.scrollContainers=dV(A),S())};return pfe(v,!!e),dfe(p),ce.useEffect(()=>{_(),S()},[e,v,p]),ce.useEffect(()=>_,[]),[b,a,d]}function dfe(t){ce.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function pfe(t,e){ce.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function dV(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:i,overflowY:r}=window.getComputedStyle(t);return[n,i,r].some(a=>a==="auto"||a==="scroll")&&e.push(t),[...e,...dV(t.parentElement)]}const mfe=["x","y","top","bottom","left","right","width","height"],gfe=(t,e)=>mfe.every(n=>t[n]===e[n]);function vfe({ref:t,children:e,fallback:n,resize:i,style:r,gl:a,events:s=ffe,eventSource:o,eventPrefix:l,shadows:c,linear:f,flat:d,legacy:p,orthographic:v,frameloop:_,dpr:S,performance:b,raycaster:A,camera:T,scene:R,onPointerMissed:C,onCreated:L,...P}){ce.useMemo(()=>Zue(sue),[]);const k=Oue(),[G,z]=hfe({scroll:!0,debounce:{scroll:50,resize:0},...i}),F=ce.useRef(null),j=ce.useRef(null);ce.useImperativeHandle(t,()=>F.current);const ne=Qj(C),[W,Y]=ce.useState(!1),[K,H]=ce.useState(!1);if(W)throw W;if(K)throw K;const J=ce.useRef(null);CM(()=>{const ie=F.current;if(z.width>0&&z.height>0&&ie){J.current||(J.current=sfe(ie));async function V(){await J.current.configure({gl:a,scene:R,events:s,shadows:c,linear:f,flat:d,legacy:p,orthographic:v,frameloop:_,dpr:S,performance:b,raycaster:A,camera:T,size:z,onPointerMissed:(...$)=>ne.current==null?void 0:ne.current(...$),onCreated:$=>{$.events.connect==null||$.events.connect(o?Due(o)?o.current:o:j.current),l&&$.setEvents({compute:(oe,de)=>{const fe=oe[l+"X"],ge=oe[l+"Y"];de.pointer.set(fe/de.size.width*2-1,-(ge/de.size.height)*2+1),de.raycaster.setFromCamera(de.pointer,de.camera)}}),L==null||L($)}}),J.current.render(B.jsx(k,{children:B.jsx(Pue,{set:H,children:B.jsx(ce.Suspense,{fallback:B.jsx(Lue,{set:Y}),children:e??null})})}))}V()}}),ce.useEffect(()=>{const ie=F.current;if(ie)return()=>fV(ie)},[]);const Q=o?"none":"auto";return B.jsx("div",{ref:j,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Q,...r},...P,children:B.jsx("div",{ref:G,style:{width:"100%",height:"100%"},children:B.jsx("canvas",{ref:F,style:{display:"block"},children:n})})})}function yfe(t){return B.jsx(Jj,{children:B.jsx(vfe,{...t})})}function WT(){return WT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},WT.apply(null,arguments)}const NM=new me,WL=new me,xfe=new me,SI=new ct;function _fe(t,e,n){const i=NM.setFromMatrixPosition(t.matrixWorld);i.project(e);const r=n.width/2,a=n.height/2;return[i.x*r+r,-(i.y*a)+a]}function bfe(t,e){const n=NM.setFromMatrixPosition(t.matrixWorld),i=WL.setFromMatrixPosition(e.matrixWorld),r=n.sub(i),a=e.getWorldDirection(xfe);return r.angleTo(a)>Math.PI/2}function Afe(t,e,n,i){const r=NM.setFromMatrixPosition(t.matrixWorld),a=r.clone();a.project(e),SI.set(a.x,a.y),n.setFromCamera(SI,e);const s=n.intersectObjects(i,!0);if(s.length){const o=s[0].distance;return r.distanceTo(n.ray.origin)<o}return!0}function Sfe(t,e){if(e instanceof gh)return e.zoom;if(e instanceof Wr){const n=NM.setFromMatrixPosition(t.matrixWorld),i=WL.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,a=n.distanceTo(i);return 1/(2*Math.tan(r/2)*a)}else return 1}function Mfe(t,e,n){if(e instanceof Wr||e instanceof gh){const i=NM.setFromMatrixPosition(t.matrixWorld),r=WL.setFromMatrixPosition(e.matrixWorld),a=i.distanceTo(r),s=(n[1]-n[0])/(e.far-e.near),o=n[1]-s*e.far;return Math.round(s*a+o)}}const oO=t=>Math.abs(t)<1e-10?0:t;function pV(t,e,n=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=oO(e[r]*t.elements[r])+(r!==15?",":")");return n+i}const wfe=(t=>e=>pV(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),Efe=(t=>(e,n)=>pV(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function Tfe(t){return t&&typeof t=="object"&&"current"in t}const Cfe=ce.forwardRef(({children:t,eps:e=.001,style:n,className:i,prepend:r,center:a,fullscreen:s,portal:o,distanceFactor:l,sprite:c=!1,transform:f=!1,occlude:d,onOcclude:p,castShadow:v,receiveShadow:_,material:S,geometry:b,zIndexRange:A=[16777271,0],calculatePosition:T=_fe,as:R="div",wrapperClass:C,pointerEvents:L="auto",...P},k)=>{const{gl:G,camera:z,scene:F,size:j,raycaster:ne,events:W,viewport:Y}=im(),[K]=ce.useState(()=>document.createElement(R)),H=ce.useRef(null),J=ce.useRef(null),Q=ce.useRef(0),ie=ce.useRef([0,0]),V=ce.useRef(null),$=ce.useRef(null),oe=(o==null?void 0:o.current)||W.connected||G.domElement.parentNode,de=ce.useRef(null),fe=ce.useRef(!1),ge=ce.useMemo(()=>d&&d!=="blending"||Array.isArray(d)&&d.length&&Tfe(d[0]),[d]);ce.useLayoutEffect(()=>{const ke=G.domElement;d&&d==="blending"?(ke.style.zIndex=`${Math.floor(A[0]/2)}`,ke.style.position="absolute",ke.style.pointerEvents="none"):(ke.style.zIndex=null,ke.style.position=null,ke.style.pointerEvents=null)},[d]),ce.useLayoutEffect(()=>{if(J.current){const ke=H.current=j7.createRoot(K);if(F.updateMatrixWorld(),f)K.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Qe=T(J.current,z,j);K.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Qe[0]}px,${Qe[1]}px,0);transform-origin:0 0;`}return oe&&(r?oe.prepend(K):oe.appendChild(K)),()=>{oe&&oe.removeChild(K),ke.unmount()}}},[oe,f]),ce.useLayoutEffect(()=>{C&&(K.className=C)},[C]);const Se=ce.useMemo(()=>f?{position:"absolute",top:0,left:0,width:j.width,height:j.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:a?"translate3d(-50%,-50%,0)":"none",...s&&{top:-j.height/2,left:-j.width/2,width:j.width,height:j.height},...n},[n,a,s,j,f]),De=ce.useMemo(()=>({position:"absolute",pointerEvents:L}),[L]);ce.useLayoutEffect(()=>{if(fe.current=!1,f){var ke;(ke=H.current)==null||ke.render(ce.createElement("div",{ref:V,style:Se},ce.createElement("div",{ref:$,style:De},ce.createElement("div",{ref:k,className:i,style:n,children:t}))))}else{var Qe;(Qe=H.current)==null||Qe.render(ce.createElement("div",{ref:k,style:Se,className:i,children:t}))}});const He=ce.useRef(!0);aV(ke=>{if(J.current){z.updateMatrixWorld(),J.current.updateWorldMatrix(!0,!1);const Qe=f?ie.current:T(J.current,z,j);if(f||Math.abs(Q.current-z.zoom)>e||Math.abs(ie.current[0]-Qe[0])>e||Math.abs(ie.current[1]-Qe[1])>e){const Re=bfe(J.current,z);let st=!1;ge&&(Array.isArray(d)?st=d.map(_e=>_e.current):d!=="blending"&&(st=[F]));const pe=He.current;if(st){const _e=Afe(J.current,z,ne,st);He.current=_e&&!Re}else He.current=!Re;pe!==He.current&&(p?p(!He.current):K.style.display=He.current?"block":"none");const St=Math.floor(A[0]/2),Ie=d?ge?[A[0],St]:[St-1,0]:A;if(K.style.zIndex=`${Mfe(J.current,z,Ie)}`,f){const[_e,Le]=[j.width/2,j.height/2],pt=z.projectionMatrix.elements[5]*Le,{isOrthographicCamera:ze,top:le,left:te,bottom:Ee,right:Xe}=z,et=wfe(z.matrixWorldInverse),tt=ze?`scale(${pt})translate(${oO(-(Xe+te)/2)}px,${oO((le+Ee)/2)}px)`:`translateZ(${pt}px)`;let _t=J.current.matrixWorld;c&&(_t=z.matrixWorldInverse.clone().transpose().copyPosition(_t).scale(J.current.scale),_t.elements[3]=_t.elements[7]=_t.elements[11]=0,_t.elements[15]=1),K.style.width=j.width+"px",K.style.height=j.height+"px",K.style.perspective=ze?"":`${pt}px`,V.current&&$.current&&(V.current.style.transform=`${tt}${et}translate(${_e}px,${Le}px)`,$.current.style.transform=Efe(_t,1/((l||10)/400)))}else{const _e=l===void 0?1:Sfe(J.current,z)*l;K.style.transform=`translate3d(${Qe[0]}px,${Qe[1]}px,0) scale(${_e})`}ie.current=Qe,Q.current=z.zoom}}if(!ge&&de.current&&!fe.current)if(f){if(V.current){const Qe=V.current.children[0];if(Qe!=null&&Qe.clientWidth&&Qe!=null&&Qe.clientHeight){const{isOrthographicCamera:Re}=z;if(Re||b)P.scale&&(Array.isArray(P.scale)?P.scale instanceof me?de.current.scale.copy(P.scale.clone().divideScalar(1)):de.current.scale.set(1/P.scale[0],1/P.scale[1],1/P.scale[2]):de.current.scale.setScalar(1/P.scale));else{const st=(l||10)/400,pe=Qe.clientWidth*st,St=Qe.clientHeight*st;de.current.scale.set(pe,St,1)}fe.current=!0}}}else{const Qe=K.children[0];if(Qe!=null&&Qe.clientWidth&&Qe!=null&&Qe.clientHeight){const Re=1/Y.factor,st=Qe.clientWidth*Re,pe=Qe.clientHeight*Re;de.current.scale.set(st,pe,1),fe.current=!0}de.current.lookAt(ke.camera.position)}});const Fe=ce.useMemo(()=>({vertexShader:f?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[f]);return ce.createElement("group",WT({},P,{ref:J}),d&&!ge&&ce.createElement("mesh",{castShadow:v,receiveShadow:_,ref:de},b||ce.createElement("planeGeometry",null),S||ce.createElement("shaderMaterial",{side:uf,vertexShader:Fe.vertexShader,fragmentShader:Fe.fragmentShader})))}),Rfe=parseInt(gM.replace(/\D+/g,""));function MI(t,e){if(e===TG)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===HT||e===uL){let n=t.getIndex();if(n===null){const s=[],o=t.getAttribute("position");if(o!==void 0){for(let l=0;l<o.count;l++)s.push(l);t.setIndex(s),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const i=n.count-2,r=[];if(n)if(e===HT)for(let s=1;s<=i;s++)r.push(n.getX(0)),r.push(n.getX(s)),r.push(n.getX(s+1));else for(let s=0;s<i;s++)s%2===0?(r.push(n.getX(s)),r.push(n.getX(s+1)),r.push(n.getX(s+2))):(r.push(n.getX(s+2)),r.push(n.getX(s+1)),r.push(n.getX(s)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=t.clone();return a.setIndex(r),a.clearGroups(),a}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}var Nfe=Object.defineProperty,Dfe=(t,e,n)=>e in t?Nfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bfe=(t,e,n)=>(Dfe(t,e+"",n),n);class Ofe{constructor(){Bfe(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const a=r.indexOf(n);a!==-1&&r.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,s=r.length;a<s;a++)r[a].call(this,e);e.target=null}}}var Lfe=Object.defineProperty,Pfe=(t,e,n)=>e in t?Lfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fn=(t,e,n)=>(Pfe(t,typeof e!="symbol"?e+"":e,n),n);const _2=new lx,wI=new cm,Ufe=Math.cos(70*(Math.PI/180)),EI=(t,e)=>(t%e+e)%e;let Ife=class extends Ofe{constructor(e,n){super(),fn(this,"object"),fn(this,"domElement"),fn(this,"enabled",!0),fn(this,"target",new me),fn(this,"minDistance",0),fn(this,"maxDistance",1/0),fn(this,"minZoom",0),fn(this,"maxZoom",1/0),fn(this,"minPolarAngle",0),fn(this,"maxPolarAngle",Math.PI),fn(this,"minAzimuthAngle",-1/0),fn(this,"maxAzimuthAngle",1/0),fn(this,"enableDamping",!1),fn(this,"dampingFactor",.05),fn(this,"enableZoom",!0),fn(this,"zoomSpeed",1),fn(this,"enableRotate",!0),fn(this,"rotateSpeed",1),fn(this,"enablePan",!0),fn(this,"panSpeed",1),fn(this,"screenSpacePanning",!0),fn(this,"keyPanSpeed",7),fn(this,"zoomToCursor",!1),fn(this,"autoRotate",!1),fn(this,"autoRotateSpeed",2),fn(this,"reverseOrbit",!1),fn(this,"reverseHorizontalOrbit",!1),fn(this,"reverseVerticalOrbit",!1),fn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),fn(this,"mouseButtons",{LEFT:Zv.ROTATE,MIDDLE:Zv.DOLLY,RIGHT:Zv.PAN}),fn(this,"touches",{ONE:Qv.ROTATE,TWO:Qv.DOLLY_PAN}),fn(this,"target0"),fn(this,"position0"),fn(this,"zoom0"),fn(this,"_domElementKeyEvents",null),fn(this,"getPolarAngle"),fn(this,"getAzimuthalAngle"),fn(this,"setPolarAngle"),fn(this,"setAzimuthalAngle"),fn(this,"getDistance"),fn(this,"getZoomScale"),fn(this,"listenToKeyEvents"),fn(this,"stopListenToKeyEvents"),fn(this,"saveState"),fn(this,"reset"),fn(this,"update"),fn(this,"connect"),fn(this,"dispose"),fn(this,"dollyIn"),fn(this,"dollyOut"),fn(this,"getScale"),fn(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>f.phi,this.getAzimuthalAngle=()=>f.theta,this.setPolarAngle=Ae=>{let it=EI(Ae,2*Math.PI),Ct=f.phi;Ct<0&&(Ct+=2*Math.PI),it<0&&(it+=2*Math.PI);let be=Math.abs(it-Ct);2*Math.PI-be<be&&(it<Ct?it+=2*Math.PI:Ct+=2*Math.PI),d.phi=it-Ct,i.update()},this.setAzimuthalAngle=Ae=>{let it=EI(Ae,2*Math.PI),Ct=f.theta;Ct<0&&(Ct+=2*Math.PI),it<0&&(it+=2*Math.PI);let be=Math.abs(it-Ct);2*Math.PI-be<be&&(it<Ct?it+=2*Math.PI:Ct+=2*Math.PI),d.theta=it-Ct,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=Ae=>{Ae.addEventListener("keydown",gt),this._domElementKeyEvents=Ae},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",gt),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=o.NONE},this.update=(()=>{const Ae=new me,it=new me(0,1,0),Ct=new Fs().setFromUnitVectors(e.up,it),be=Ct.clone().invert(),xt=new me,$e=new Fs,at=2*Math.PI;return function(){const Rt=i.object.position;Ct.setFromUnitVectors(e.up,it),be.copy(Ct).invert(),Ae.copy(Rt).sub(i.target),Ae.applyQuaternion(Ct),f.setFromVector3(Ae),i.autoRotate&&l===o.NONE&&Y(ne()),i.enableDamping?(f.theta+=d.theta*i.dampingFactor,f.phi+=d.phi*i.dampingFactor):(f.theta+=d.theta,f.phi+=d.phi);let Jt=i.minAzimuthAngle,On=i.maxAzimuthAngle;isFinite(Jt)&&isFinite(On)&&(Jt<-Math.PI?Jt+=at:Jt>Math.PI&&(Jt-=at),On<-Math.PI?On+=at:On>Math.PI&&(On-=at),Jt<=On?f.theta=Math.max(Jt,Math.min(On,f.theta)):f.theta=f.theta>(Jt+On)/2?Math.max(Jt,f.theta):Math.min(On,f.theta)),f.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,f.phi)),f.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(v,i.dampingFactor):i.target.add(v),i.zoomToCursor&&z||i.object.isOrthographicCamera?f.radius=de(f.radius):f.radius=de(f.radius*p),Ae.setFromSpherical(f),Ae.applyQuaternion(be),Rt.copy(i.target).add(Ae),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(d.theta*=1-i.dampingFactor,d.phi*=1-i.dampingFactor,v.multiplyScalar(1-i.dampingFactor)):(d.set(0,0,0),v.set(0,0,0));let vi=!1;if(i.zoomToCursor&&z){let En=null;if(i.object instanceof Wr&&i.object.isPerspectiveCamera){const Ur=Ae.length();En=de(Ur*p);const hr=Ur-En;i.object.position.addScaledVector(k,hr),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Ur=new me(G.x,G.y,0);Ur.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix(),vi=!0;const hr=new me(G.x,G.y,0);hr.unproject(i.object),i.object.position.sub(hr).add(Ur),i.object.updateMatrixWorld(),En=Ae.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;En!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(En).add(i.object.position):(_2.origin.copy(i.object.position),_2.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(_2.direction))<Ufe?e.lookAt(i.target):(wI.setFromNormalAndCoplanarPoint(i.object.up,i.target),_2.intersectPlane(wI,i.target))))}else i.object instanceof gh&&i.object.isOrthographicCamera&&(vi=p!==1,vi&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix()));return p=1,z=!1,vi||xt.distanceToSquared(i.object.position)>c||8*(1-$e.dot(i.object.quaternion))>c?(i.dispatchEvent(r),xt.copy(i.object.position),$e.copy(i.object.quaternion),vi=!1,!0):!1}})(),this.connect=Ae=>{i.domElement=Ae,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",yt),i.domElement.addEventListener("pointerdown",te),i.domElement.addEventListener("pointercancel",Xe),i.domElement.addEventListener("wheel",_t)},this.dispose=()=>{var Ae,it,Ct,be,xt,$e;i.domElement&&(i.domElement.style.touchAction="auto"),(Ae=i.domElement)==null||Ae.removeEventListener("contextmenu",yt),(it=i.domElement)==null||it.removeEventListener("pointerdown",te),(Ct=i.domElement)==null||Ct.removeEventListener("pointercancel",Xe),(be=i.domElement)==null||be.removeEventListener("wheel",_t),(xt=i.domElement)==null||xt.ownerDocument.removeEventListener("pointermove",Ee),($e=i.domElement)==null||$e.ownerDocument.removeEventListener("pointerup",Xe),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",gt)};const i=this,r={type:"change"},a={type:"start"},s={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=o.NONE;const c=1e-6,f=new $4,d=new $4;let p=1;const v=new me,_=new ct,S=new ct,b=new ct,A=new ct,T=new ct,R=new ct,C=new ct,L=new ct,P=new ct,k=new me,G=new ct;let z=!1;const F=[],j={};function ne(){return 2*Math.PI/60/60*i.autoRotateSpeed}function W(){return Math.pow(.95,i.zoomSpeed)}function Y(Ae){i.reverseOrbit||i.reverseHorizontalOrbit?d.theta+=Ae:d.theta-=Ae}function K(Ae){i.reverseOrbit||i.reverseVerticalOrbit?d.phi+=Ae:d.phi-=Ae}const H=(()=>{const Ae=new me;return function(Ct,be){Ae.setFromMatrixColumn(be,0),Ae.multiplyScalar(-Ct),v.add(Ae)}})(),J=(()=>{const Ae=new me;return function(Ct,be){i.screenSpacePanning===!0?Ae.setFromMatrixColumn(be,1):(Ae.setFromMatrixColumn(be,0),Ae.crossVectors(i.object.up,Ae)),Ae.multiplyScalar(Ct),v.add(Ae)}})(),Q=(()=>{const Ae=new me;return function(Ct,be){const xt=i.domElement;if(xt&&i.object instanceof Wr&&i.object.isPerspectiveCamera){const $e=i.object.position;Ae.copy($e).sub(i.target);let at=Ae.length();at*=Math.tan(i.object.fov/2*Math.PI/180),H(2*Ct*at/xt.clientHeight,i.object.matrix),J(2*be*at/xt.clientHeight,i.object.matrix)}else xt&&i.object instanceof gh&&i.object.isOrthographicCamera?(H(Ct*(i.object.right-i.object.left)/i.object.zoom/xt.clientWidth,i.object.matrix),J(be*(i.object.top-i.object.bottom)/i.object.zoom/xt.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function ie(Ae){i.object instanceof Wr&&i.object.isPerspectiveCamera||i.object instanceof gh&&i.object.isOrthographicCamera?p=Ae:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function V(Ae){ie(p/Ae)}function $(Ae){ie(p*Ae)}function oe(Ae){if(!i.zoomToCursor||!i.domElement)return;z=!0;const it=i.domElement.getBoundingClientRect(),Ct=Ae.clientX-it.left,be=Ae.clientY-it.top,xt=it.width,$e=it.height;G.x=Ct/xt*2-1,G.y=-(be/$e)*2+1,k.set(G.x,G.y,1).unproject(i.object).sub(i.object.position).normalize()}function de(Ae){return Math.max(i.minDistance,Math.min(i.maxDistance,Ae))}function fe(Ae){_.set(Ae.clientX,Ae.clientY)}function ge(Ae){oe(Ae),C.set(Ae.clientX,Ae.clientY)}function Se(Ae){A.set(Ae.clientX,Ae.clientY)}function De(Ae){S.set(Ae.clientX,Ae.clientY),b.subVectors(S,_).multiplyScalar(i.rotateSpeed);const it=i.domElement;it&&(Y(2*Math.PI*b.x/it.clientHeight),K(2*Math.PI*b.y/it.clientHeight)),_.copy(S),i.update()}function He(Ae){L.set(Ae.clientX,Ae.clientY),P.subVectors(L,C),P.y>0?V(W()):P.y<0&&$(W()),C.copy(L),i.update()}function Fe(Ae){T.set(Ae.clientX,Ae.clientY),R.subVectors(T,A).multiplyScalar(i.panSpeed),Q(R.x,R.y),A.copy(T),i.update()}function ke(Ae){oe(Ae),Ae.deltaY<0?$(W()):Ae.deltaY>0&&V(W()),i.update()}function Qe(Ae){let it=!1;switch(Ae.code){case i.keys.UP:Q(0,i.keyPanSpeed),it=!0;break;case i.keys.BOTTOM:Q(0,-i.keyPanSpeed),it=!0;break;case i.keys.LEFT:Q(i.keyPanSpeed,0),it=!0;break;case i.keys.RIGHT:Q(-i.keyPanSpeed,0),it=!0;break}it&&(Ae.preventDefault(),i.update())}function Re(){if(F.length==1)_.set(F[0].pageX,F[0].pageY);else{const Ae=.5*(F[0].pageX+F[1].pageX),it=.5*(F[0].pageY+F[1].pageY);_.set(Ae,it)}}function st(){if(F.length==1)A.set(F[0].pageX,F[0].pageY);else{const Ae=.5*(F[0].pageX+F[1].pageX),it=.5*(F[0].pageY+F[1].pageY);A.set(Ae,it)}}function pe(){const Ae=F[0].pageX-F[1].pageX,it=F[0].pageY-F[1].pageY,Ct=Math.sqrt(Ae*Ae+it*it);C.set(0,Ct)}function St(){i.enableZoom&&pe(),i.enablePan&&st()}function Ie(){i.enableZoom&&pe(),i.enableRotate&&Re()}function _e(Ae){if(F.length==1)S.set(Ae.pageX,Ae.pageY);else{const Ct=wt(Ae),be=.5*(Ae.pageX+Ct.x),xt=.5*(Ae.pageY+Ct.y);S.set(be,xt)}b.subVectors(S,_).multiplyScalar(i.rotateSpeed);const it=i.domElement;it&&(Y(2*Math.PI*b.x/it.clientHeight),K(2*Math.PI*b.y/it.clientHeight)),_.copy(S)}function Le(Ae){if(F.length==1)T.set(Ae.pageX,Ae.pageY);else{const it=wt(Ae),Ct=.5*(Ae.pageX+it.x),be=.5*(Ae.pageY+it.y);T.set(Ct,be)}R.subVectors(T,A).multiplyScalar(i.panSpeed),Q(R.x,R.y),A.copy(T)}function pt(Ae){const it=wt(Ae),Ct=Ae.pageX-it.x,be=Ae.pageY-it.y,xt=Math.sqrt(Ct*Ct+be*be);L.set(0,xt),P.set(0,Math.pow(L.y/C.y,i.zoomSpeed)),V(P.y),C.copy(L)}function ze(Ae){i.enableZoom&&pt(Ae),i.enablePan&&Le(Ae)}function le(Ae){i.enableZoom&&pt(Ae),i.enableRotate&&_e(Ae)}function te(Ae){var it,Ct;i.enabled!==!1&&(F.length===0&&((it=i.domElement)==null||it.ownerDocument.addEventListener("pointermove",Ee),(Ct=i.domElement)==null||Ct.ownerDocument.addEventListener("pointerup",Xe)),Ot(Ae),Ae.pointerType==="touch"?Mt(Ae):et(Ae))}function Ee(Ae){i.enabled!==!1&&(Ae.pointerType==="touch"?An(Ae):tt(Ae))}function Xe(Ae){var it,Ct,be;zt(Ae),F.length===0&&((it=i.domElement)==null||it.releasePointerCapture(Ae.pointerId),(Ct=i.domElement)==null||Ct.ownerDocument.removeEventListener("pointermove",Ee),(be=i.domElement)==null||be.ownerDocument.removeEventListener("pointerup",Xe)),i.dispatchEvent(s),l=o.NONE}function et(Ae){let it;switch(Ae.button){case 0:it=i.mouseButtons.LEFT;break;case 1:it=i.mouseButtons.MIDDLE;break;case 2:it=i.mouseButtons.RIGHT;break;default:it=-1}switch(it){case Zv.DOLLY:if(i.enableZoom===!1)return;ge(Ae),l=o.DOLLY;break;case Zv.ROTATE:if(Ae.ctrlKey||Ae.metaKey||Ae.shiftKey){if(i.enablePan===!1)return;Se(Ae),l=o.PAN}else{if(i.enableRotate===!1)return;fe(Ae),l=o.ROTATE}break;case Zv.PAN:if(Ae.ctrlKey||Ae.metaKey||Ae.shiftKey){if(i.enableRotate===!1)return;fe(Ae),l=o.ROTATE}else{if(i.enablePan===!1)return;Se(Ae),l=o.PAN}break;default:l=o.NONE}l!==o.NONE&&i.dispatchEvent(a)}function tt(Ae){if(i.enabled!==!1)switch(l){case o.ROTATE:if(i.enableRotate===!1)return;De(Ae);break;case o.DOLLY:if(i.enableZoom===!1)return;He(Ae);break;case o.PAN:if(i.enablePan===!1)return;Fe(Ae);break}}function _t(Ae){i.enabled===!1||i.enableZoom===!1||l!==o.NONE&&l!==o.ROTATE||(Ae.preventDefault(),i.dispatchEvent(a),ke(Ae),i.dispatchEvent(s))}function gt(Ae){i.enabled===!1||i.enablePan===!1||Qe(Ae)}function Mt(Ae){switch(Ht(Ae),F.length){case 1:switch(i.touches.ONE){case Qv.ROTATE:if(i.enableRotate===!1)return;Re(),l=o.TOUCH_ROTATE;break;case Qv.PAN:if(i.enablePan===!1)return;st(),l=o.TOUCH_PAN;break;default:l=o.NONE}break;case 2:switch(i.touches.TWO){case Qv.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;St(),l=o.TOUCH_DOLLY_PAN;break;case Qv.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Ie(),l=o.TOUCH_DOLLY_ROTATE;break;default:l=o.NONE}break;default:l=o.NONE}l!==o.NONE&&i.dispatchEvent(a)}function An(Ae){switch(Ht(Ae),l){case o.TOUCH_ROTATE:if(i.enableRotate===!1)return;_e(Ae),i.update();break;case o.TOUCH_PAN:if(i.enablePan===!1)return;Le(Ae),i.update();break;case o.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;ze(Ae),i.update();break;case o.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;le(Ae),i.update();break;default:l=o.NONE}}function yt(Ae){i.enabled!==!1&&Ae.preventDefault()}function Ot(Ae){F.push(Ae)}function zt(Ae){delete j[Ae.pointerId];for(let it=0;it<F.length;it++)if(F[it].pointerId==Ae.pointerId){F.splice(it,1);return}}function Ht(Ae){let it=j[Ae.pointerId];it===void 0&&(it=new ct,j[Ae.pointerId]=it),it.set(Ae.pageX,Ae.pageY)}function wt(Ae){const it=Ae.pointerId===F[0].pointerId?F[1]:F[0];return j[it.pointerId]}this.dollyIn=(Ae=W())=>{$(Ae),i.update()},this.dollyOut=(Ae=W())=>{V(Ae),i.update()},this.getScale=()=>p,this.setScale=Ae=>{ie(Ae),i.update()},this.getZoomScale=()=>W(),n!==void 0&&this.connect(n),this.update()}};function JT(t){if(typeof TextDecoder<"u")return new TextDecoder().decode(t);let e="";for(let n=0,i=t.length;n<i;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch{return e}}const by="srgb",wm="srgb-linear",TI=3001,Ffe=3e3;class JL extends Wo{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new jfe(n)}),this.register(function(n){return new Vfe(n)}),this.register(function(n){return new Qfe(n)}),this.register(function(n){return new ehe(n)}),this.register(function(n){return new the(n)}),this.register(function(n){return new qfe(n)}),this.register(function(n){return new Yfe(n)}),this.register(function(n){return new Wfe(n)}),this.register(function(n){return new Jfe(n)}),this.register(function(n){return new Gfe(n)}),this.register(function(n){return new Kfe(n)}),this.register(function(n){return new Xfe(n)}),this.register(function(n){return new Zfe(n)}),this.register(function(n){return new $fe(n)}),this.register(function(n){return new Hfe(n)}),this.register(function(n){return new nhe(n)}),this.register(function(n){return new ihe(n)})}load(e,n,i,r){const a=this;let s;if(this.resourcePath!=="")s=this.resourcePath;else if(this.path!==""){const c=r0.extractUrlBase(e);s=r0.resolveURL(c,this.path)}else s=r0.extractUrlBase(e);this.manager.itemStart(e);const o=function(c){r?r(c):console.error(c),a.manager.itemError(e),a.manager.itemEnd(e)},l=new wu(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{a.parse(c,s,function(f){n(f),a.manager.itemEnd(e)},o)}catch(f){o(f)}},i,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,i,r){let a;const s={},o={};if(typeof e=="string")a=JSON.parse(e);else if(e instanceof ArrayBuffer)if(JT(new Uint8Array(e.slice(0,4)))===mV){try{s[di.KHR_BINARY_GLTF]=new rhe(e)}catch(f){r&&r(f);return}a=JSON.parse(s[di.KHR_BINARY_GLTF].content)}else a=JSON.parse(JT(new Uint8Array(e)));else a=e;if(a.asset===void 0||a.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new vhe(a,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const f=this.pluginCallbacks[c](l);f.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),o[f.name]=f,s[f.name]=!0}if(a.extensionsUsed)for(let c=0;c<a.extensionsUsed.length;++c){const f=a.extensionsUsed[c],d=a.extensionsRequired||[];switch(f){case di.KHR_MATERIALS_UNLIT:s[f]=new kfe;break;case di.KHR_DRACO_MESH_COMPRESSION:s[f]=new ahe(a,this.dracoLoader);break;case di.KHR_TEXTURE_TRANSFORM:s[f]=new she;break;case di.KHR_MESH_QUANTIZATION:s[f]=new ohe;break;default:d.indexOf(f)>=0&&o[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}l.setExtensions(s),l.setPlugins(o),l.parse(i,r)}parseAsync(e,n){const i=this;return new Promise(function(r,a){i.parse(e,n,r,a)})}}function zfe(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const di={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Hfe{constructor(e){this.parser=e,this.name=di.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let i=0,r=n.length;i<r;i++){const a=n[i];a.extensions&&a.extensions[this.name]&&a.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}_loadLight(e){const n=this.parser,i="light:"+e;let r=n.cache.get(i);if(r)return r;const a=n.json,l=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e];let c;const f=new Lt(16777215);l.color!==void 0&&f.setRGB(l.color[0],l.color[1],l.color[2],wm);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new IL(f),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new UL(f),c.distance=d;break;case"spot":c=new PL(f),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,sm(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=n.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),n.cache.add(i,r),r}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,i=this.parser,a=i.json.nodes[e],o=(a.extensions&&a.extensions[this.name]||{}).light;return o===void 0?null:this._loadLight(o).then(function(l){return i._getNodeRef(n.cache,o,l)})}}class kfe{constructor(){this.name=di.KHR_MATERIALS_UNLIT}getMaterialType(){return bu}extendParams(e,n,i){const r=[];e.color=new Lt(1,1,1),e.opacity=1;const a=n.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){const s=a.baseColorFactor;e.color.setRGB(s[0],s[1],s[2],wm),e.opacity=s[3]}a.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",a.baseColorTexture,by))}return Promise.all(r)}}class Gfe{constructor(e){this.parser=e,this.name=di.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name].emissiveStrength;return a!==void 0&&(n.emissiveIntensity=a),Promise.resolve()}}class jfe{constructor(e){this.parser=e,this.name=di.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:yf}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];if(s.clearcoatFactor!==void 0&&(n.clearcoat=s.clearcoatFactor),s.clearcoatTexture!==void 0&&a.push(i.assignTexture(n,"clearcoatMap",s.clearcoatTexture)),s.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=s.clearcoatRoughnessFactor),s.clearcoatRoughnessTexture!==void 0&&a.push(i.assignTexture(n,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),s.clearcoatNormalTexture!==void 0&&(a.push(i.assignTexture(n,"clearcoatNormalMap",s.clearcoatNormalTexture)),s.clearcoatNormalTexture.scale!==void 0)){const o=s.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new ct(o,o)}return Promise.all(a)}}class Vfe{constructor(e){this.parser=e,this.name=di.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:yf}extendMaterialParams(e,n){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name];return n.dispersion=a.dispersion!==void 0?a.dispersion:0,Promise.resolve()}}class Xfe{constructor(e){this.parser=e,this.name=di.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:yf}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];return s.iridescenceFactor!==void 0&&(n.iridescence=s.iridescenceFactor),s.iridescenceTexture!==void 0&&a.push(i.assignTexture(n,"iridescenceMap",s.iridescenceTexture)),s.iridescenceIor!==void 0&&(n.iridescenceIOR=s.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),s.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),s.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),s.iridescenceThicknessTexture!==void 0&&a.push(i.assignTexture(n,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(a)}}class qfe{constructor(e){this.parser=e,this.name=di.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:yf}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[];n.sheenColor=new Lt(0,0,0),n.sheenRoughness=0,n.sheen=1;const s=r.extensions[this.name];if(s.sheenColorFactor!==void 0){const o=s.sheenColorFactor;n.sheenColor.setRGB(o[0],o[1],o[2],wm)}return s.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=s.sheenRoughnessFactor),s.sheenColorTexture!==void 0&&a.push(i.assignTexture(n,"sheenColorMap",s.sheenColorTexture,by)),s.sheenRoughnessTexture!==void 0&&a.push(i.assignTexture(n,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(a)}}class Yfe{constructor(e){this.parser=e,this.name=di.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:yf}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];return s.transmissionFactor!==void 0&&(n.transmission=s.transmissionFactor),s.transmissionTexture!==void 0&&a.push(i.assignTexture(n,"transmissionMap",s.transmissionTexture)),Promise.all(a)}}class Wfe{constructor(e){this.parser=e,this.name=di.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:yf}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];n.thickness=s.thicknessFactor!==void 0?s.thicknessFactor:0,s.thicknessTexture!==void 0&&a.push(i.assignTexture(n,"thicknessMap",s.thicknessTexture)),n.attenuationDistance=s.attenuationDistance||1/0;const o=s.attenuationColor||[1,1,1];return n.attenuationColor=new Lt().setRGB(o[0],o[1],o[2],wm),Promise.all(a)}}class Jfe{constructor(e){this.parser=e,this.name=di.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:yf}extendMaterialParams(e,n){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name];return n.ior=a.ior!==void 0?a.ior:1.5,Promise.resolve()}}class Kfe{constructor(e){this.parser=e,this.name=di.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:yf}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];n.specularIntensity=s.specularFactor!==void 0?s.specularFactor:1,s.specularTexture!==void 0&&a.push(i.assignTexture(n,"specularIntensityMap",s.specularTexture));const o=s.specularColorFactor||[1,1,1];return n.specularColor=new Lt().setRGB(o[0],o[1],o[2],wm),s.specularColorTexture!==void 0&&a.push(i.assignTexture(n,"specularColorMap",s.specularColorTexture,by)),Promise.all(a)}}class $fe{constructor(e){this.parser=e,this.name=di.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:yf}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];return n.bumpScale=s.bumpFactor!==void 0?s.bumpFactor:1,s.bumpTexture!==void 0&&a.push(i.assignTexture(n,"bumpMap",s.bumpTexture)),Promise.all(a)}}class Zfe{constructor(e){this.parser=e,this.name=di.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:yf}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];return s.anisotropyStrength!==void 0&&(n.anisotropy=s.anisotropyStrength),s.anisotropyRotation!==void 0&&(n.anisotropyRotation=s.anisotropyRotation),s.anisotropyTexture!==void 0&&a.push(i.assignTexture(n,"anisotropyMap",s.anisotropyTexture)),Promise.all(a)}}class Qfe{constructor(e){this.parser=e,this.name=di.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,i=n.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const a=r.extensions[this.name],s=n.options.ktx2Loader;if(!s){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,a.source,s)}}class ehe{constructor(e){this.parser=e,this.name=di.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,i=this.parser,r=i.json,a=r.textures[e];if(!a.extensions||!a.extensions[n])return null;const s=a.extensions[n],o=r.images[s.source];let l=i.textureLoader;if(o.uri){const c=i.options.manager.getHandler(o.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,s.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class the{constructor(e){this.parser=e,this.name=di.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,i=this.parser,r=i.json,a=r.textures[e];if(!a.extensions||!a.extensions[n])return null;const s=a.extensions[n],o=r.images[s.source];let l=i.textureLoader;if(o.uri){const c=i.options.manager.getHandler(o.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,s.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class nhe{constructor(e){this.name=di.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,i=n.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],a=this.parser.getDependency("buffer",r.buffer),s=this.parser.options.meshoptDecoder;if(!s||!s.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return a.then(function(o){const l=r.byteOffset||0,c=r.byteLength||0,f=r.count,d=r.byteStride,p=new Uint8Array(o,l,c);return s.decodeGltfBufferAsync?s.decodeGltfBufferAsync(f,d,p,r.mode,r.filter).then(function(v){return v.buffer}):s.ready.then(function(){const v=new ArrayBuffer(f*d);return s.decodeGltfBuffer(new Uint8Array(v),f,d,p,r.mode,r.filter),v})})}else return null}}class ihe{constructor(e){this.name=di.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,i=n.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=n.meshes[i.mesh];for(const c of r.primitives)if(c.mode!==af.TRIANGLES&&c.mode!==af.TRIANGLE_STRIP&&c.mode!==af.TRIANGLE_FAN&&c.mode!==void 0)return null;const s=i.extensions[this.name].attributes,o=[],l={};for(const c in s)o.push(this.parser.getDependency("accessor",s[c]).then(f=>(l[c]=f,l[c])));return o.length<1?null:(o.push(this.parser.createNodeMesh(e)),Promise.all(o).then(c=>{const f=c.pop(),d=f.isGroup?f.children:[f],p=c[0].count,v=[];for(const _ of d){const S=new dn,b=new me,A=new Fs,T=new me(1,1,1),R=new yL(_.geometry,_.material,p);for(let C=0;C<p;C++)l.TRANSLATION&&b.fromBufferAttribute(l.TRANSLATION,C),l.ROTATION&&A.fromBufferAttribute(l.ROTATION,C),l.SCALE&&T.fromBufferAttribute(l.SCALE,C),R.setMatrixAt(C,S.compose(b,A,T));for(const C in l)if(C==="_COLOR_0"){const L=l[C];R.instanceColor=new Hy(L.array,L.itemSize,L.normalized)}else C!=="TRANSLATION"&&C!=="ROTATION"&&C!=="SCALE"&&_.geometry.setAttribute(C,l[C]);Si.prototype.copy.call(R,_),this.parser.assignFinalMaterial(R),v.push(R)}return f.isGroup?(f.clear(),f.add(...v),f):v[0]}))}}const mV="glTF",rA=12,CI={JSON:1313821514,BIN:5130562};class rhe{constructor(e){this.name=di.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,rA);if(this.header={magic:JT(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==mV)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-rA,r=new DataView(e,rA);let a=0;for(;a<i;){const s=r.getUint32(a,!0);a+=4;const o=r.getUint32(a,!0);if(a+=4,o===CI.JSON){const l=new Uint8Array(e,rA+a,s);this.content=JT(l)}else if(o===CI.BIN){const l=rA+a;this.body=e.slice(l,l+s)}a+=s}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class ahe{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=di.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const i=this.json,r=this.dracoLoader,a=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,o={},l={},c={};for(const f in s){const d=lO[f]||f.toLowerCase();o[d]=s[f]}for(const f in e.attributes){const d=lO[f]||f.toLowerCase();if(s[f]!==void 0){const p=i.accessors[e.attributes[f]],v=lb[p.componentType];c[d]=v.name,l[d]=p.normalized===!0}}return n.getDependency("bufferView",a).then(function(f){return new Promise(function(d,p){r.decodeDracoFile(f,function(v){for(const _ in v.attributes){const S=v.attributes[_],b=l[_];b!==void 0&&(S.normalized=b)}d(v)},o,c,wm,p)})})}}class she{constructor(){this.name=di.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class ohe{constructor(){this.name=di.KHR_MESH_QUANTIZATION}}class gV extends u1{constructor(e,n,i,r){super(e,n,i,r)}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r*3+r;for(let s=0;s!==r;s++)n[s]=i[a+s];return n}interpolate_(e,n,i,r){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=o*2,c=o*3,f=r-n,d=(i-n)/f,p=d*d,v=p*d,_=e*c,S=_-c,b=-2*v+3*p,A=v-p,T=1-b,R=A-p+d;for(let C=0;C!==o;C++){const L=s[S+C+o],P=s[S+C+l]*f,k=s[_+C+o],G=s[_+C]*f;a[C]=T*L+R*P+b*k+A*G}return a}}const lhe=new Fs;class che extends gV{interpolate_(e,n,i,r){const a=super.interpolate_(e,n,i,r);return lhe.fromArray(a).normalize().toArray(a),a}}const af={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},lb={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},RI={9728:Is,9729:Fa,9984:RR,9985:sb,9986:gy,9987:hf},NI={33071:_u,33648:yb,10497:c0},KD={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},lO={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...Rfe>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},kg={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},uhe={CUBICSPLINE:void 0,LINEAR:Mb,STEP:Sb},$D={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function fhe(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new TM({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Ud})),t.DefaultMaterial}function Xv(t,e,n){for(const i in n.extensions)t[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=n.extensions[i])}function sm(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function hhe(t,e,n){let i=!1,r=!1,a=!1;for(let c=0,f=e.length;c<f;c++){const d=e[c];if(d.POSITION!==void 0&&(i=!0),d.NORMAL!==void 0&&(r=!0),d.COLOR_0!==void 0&&(a=!0),i&&r&&a)break}if(!i&&!r&&!a)return Promise.resolve(t);const s=[],o=[],l=[];for(let c=0,f=e.length;c<f;c++){const d=e[c];if(i){const p=d.POSITION!==void 0?n.getDependency("accessor",d.POSITION):t.attributes.position;s.push(p)}if(r){const p=d.NORMAL!==void 0?n.getDependency("accessor",d.NORMAL):t.attributes.normal;o.push(p)}if(a){const p=d.COLOR_0!==void 0?n.getDependency("accessor",d.COLOR_0):t.attributes.color;l.push(p)}}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(l)]).then(function(c){const f=c[0],d=c[1],p=c[2];return i&&(t.morphAttributes.position=f),r&&(t.morphAttributes.normal=d),a&&(t.morphAttributes.color=p),t.morphTargetsRelative=!0,t})}function dhe(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,i=e.weights.length;n<i;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let i=0,r=n.length;i<r;i++)t.morphTargetDictionary[n[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function phe(t){let e;const n=t.extensions&&t.extensions[di.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+ZD(n.attributes):e=t.indices+":"+ZD(t.attributes)+":"+t.mode,t.targets!==void 0)for(let i=0,r=t.targets.length;i<r;i++)e+=":"+ZD(t.targets[i]);return e}function ZD(t){let e="";const n=Object.keys(t).sort();for(let i=0,r=n.length;i<r;i++)e+=n[i]+":"+t[n[i]]+";";return e}function cO(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function mhe(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const ghe=new dn;class vhe{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new zfe,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,a=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,a=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&a<98?this.textureLoader=new Sj(this.options.manager):this.textureLoader=new Dj(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new wu(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const i=this,r=this.json,a=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(s){return s._markDefs&&s._markDefs()}),Promise.all(this._invokeAll(function(s){return s.beforeRoot&&s.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(s){const o={scene:s[0][r.scene||0],scenes:s[0],animations:s[1],cameras:s[2],asset:r.asset,parser:i,userData:{}};return Xv(a,o,r),sm(o,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(o)})).then(function(){for(const l of o.scenes)l.updateMatrixWorld();e(o)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],i=this.json.meshes||[];for(let r=0,a=n.length;r<a;r++){const s=n[r].joints;for(let o=0,l=s.length;o<l;o++)e[s[o]].isBone=!0}for(let r=0,a=e.length;r<a;r++){const s=e[r];s.mesh!==void 0&&(this._addNodeRef(this.meshCache,s.mesh),s.skin!==void 0&&(i[s.mesh].isSkinnedMesh=!0)),s.camera!==void 0&&this._addNodeRef(this.cameraCache,s.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,i){if(e.refs[n]<=1)return i;const r=i.clone(),a=(s,o)=>{const l=this.associations.get(s);l!=null&&this.associations.set(o,l);for(const[c,f]of s.children.entries())a(f,o.children[c])};return a(i,r),r.name+="_instance_"+e.uses[n]++,r}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let i=0;i<n.length;i++){const r=e(n[i]);if(r)return r}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const i=[];for(let r=0;r<n.length;r++){const a=e(n[r]);a&&i.push(a)}return i}getDependency(e,n){const i=e+":"+n;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(n);break;case"node":r=this._invokeOne(function(a){return a.loadNode&&a.loadNode(n)});break;case"mesh":r=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(n)});break;case"accessor":r=this.loadAccessor(n);break;case"bufferView":r=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(n)});break;case"buffer":r=this.loadBuffer(n);break;case"material":r=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(n)});break;case"texture":r=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(n)});break;case"skin":r=this.loadSkin(n);break;case"animation":r=this._invokeOne(function(a){return a.loadAnimation&&a.loadAnimation(n)});break;case"camera":r=this.loadCamera(n);break;default:if(r=this._invokeOne(function(a){return a!=this&&a.getDependency&&a.getDependency(e,n)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let n=this.cache.get(e);if(!n){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(r.map(function(a,s){return i.getDependency(e,s)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],i=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[di.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(a,s){i.load(r0.resolveURL(n.uri,r.path),a,void 0,function(){s(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(i){const r=n.byteLength||0,a=n.byteOffset||0;return i.slice(a,a+r)})}loadAccessor(e){const n=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const s=KD[r.type],o=lb[r.componentType],l=r.normalized===!0,c=new o(r.count*s);return Promise.resolve(new Pi(c,s,l))}const a=[];return r.bufferView!==void 0?a.push(this.getDependency("bufferView",r.bufferView)):a.push(null),r.sparse!==void 0&&(a.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(a).then(function(s){const o=s[0],l=KD[r.type],c=lb[r.componentType],f=c.BYTES_PER_ELEMENT,d=f*l,p=r.byteOffset||0,v=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,_=r.normalized===!0;let S,b;if(v&&v!==d){const A=Math.floor(p/v),T="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+A+":"+r.count;let R=n.cache.get(T);R||(S=new c(o,A*v,r.count*v/f),R=new bM(S,v/f),n.cache.add(T,R)),b=new f0(R,l,p%v/f,_)}else o===null?S=new c(r.count*l):S=new c(o,p,r.count*l),b=new Pi(S,l,_);if(r.sparse!==void 0){const A=KD.SCALAR,T=lb[r.sparse.indices.componentType],R=r.sparse.indices.byteOffset||0,C=r.sparse.values.byteOffset||0,L=new T(s[1],R,r.sparse.count*A),P=new c(s[2],C,r.sparse.count*l);o!==null&&(b=new Pi(b.array.slice(),b.itemSize,b.normalized));for(let k=0,G=L.length;k<G;k++){const z=L[k];if(b.setX(z,P[k*l]),l>=2&&b.setY(z,P[k*l+1]),l>=3&&b.setZ(z,P[k*l+2]),l>=4&&b.setW(z,P[k*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return b})}loadTexture(e){const n=this.json,i=this.options,a=n.textures[e].source,s=n.images[a];let o=this.textureLoader;if(s.uri){const l=i.manager.getHandler(s.uri);l!==null&&(o=l)}return this.loadTextureImage(e,a,o)}loadTextureImage(e,n,i){const r=this,a=this.json,s=a.textures[e],o=a.images[n],l=(o.uri||o.bufferView)+":"+s.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(n,i).then(function(f){f.flipY=!1,f.name=s.name||o.name||"",f.name===""&&typeof o.uri=="string"&&o.uri.startsWith("data:image/")===!1&&(f.name=o.uri);const p=(a.samplers||{})[s.sampler]||{};return f.magFilter=RI[p.magFilter]||Fa,f.minFilter=RI[p.minFilter]||hf,f.wrapS=NI[p.wrapS]||c0,f.wrapT=NI[p.wrapT]||c0,r.associations.set(f,{textures:e}),f}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,n){const i=this,r=this.json,a=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const s=r.images[e],o=self.URL||self.webkitURL;let l=s.uri||"",c=!1;if(s.bufferView!==void 0)l=i.getDependency("bufferView",s.bufferView).then(function(d){c=!0;const p=new Blob([d],{type:s.mimeType});return l=o.createObjectURL(p),l});else if(s.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const f=Promise.resolve(l).then(function(d){return new Promise(function(p,v){let _=p;n.isImageBitmapLoader===!0&&(_=function(S){const b=new Kr(S);b.needsUpdate=!0,p(b)}),n.load(r0.resolveURL(d,a.path),_,void 0,v)})}).then(function(d){return c===!0&&o.revokeObjectURL(l),sm(d,s),d.userData.mimeType=s.mimeType||mhe(s.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=f,f}assignTexture(e,n,i,r){const a=this;return this.getDependency("texture",i.index).then(function(s){if(!s)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(s=s.clone(),s.channel=i.texCoord),a.extensions[di.KHR_TEXTURE_TRANSFORM]){const o=i.extensions!==void 0?i.extensions[di.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const l=a.associations.get(s);s=a.extensions[di.KHR_TEXTURE_TRANSFORM].extendTexture(s,o),a.associations.set(s,l)}}return r!==void 0&&(typeof r=="number"&&(r=r===TI?by:wm),"colorSpace"in s?s.colorSpace=r:s.encoding=r===by?TI:Ffe),e[n]=s,s})}assignFinalMaterial(e){const n=e.geometry;let i=e.material;const r=n.attributes.tangent===void 0,a=n.attributes.color!==void 0,s=n.attributes.normal===void 0;if(e.isPoints){const o="PointsMaterial:"+i.uuid;let l=this.cache.get(o);l||(l=new jR,ms.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(o,l)),i=l}else if(e.isLine){const o="LineBasicMaterial:"+i.uuid;let l=this.cache.get(o);l||(l=new Yo,ms.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(o,l)),i=l}if(r||a||s){let o="ClonedMaterial:"+i.uuid+":";r&&(o+="derivative-tangents:"),a&&(o+="vertex-colors:"),s&&(o+="flat-shading:");let l=this.cache.get(o);l||(l=i.clone(),a&&(l.vertexColors=!0),s&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(o,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return TM}loadMaterial(e){const n=this,i=this.json,r=this.extensions,a=i.materials[e];let s;const o={},l=a.extensions||{},c=[];if(l[di.KHR_MATERIALS_UNLIT]){const d=r[di.KHR_MATERIALS_UNLIT];s=d.getMaterialType(),c.push(d.extendParams(o,a,n))}else{const d=a.pbrMetallicRoughness||{};if(o.color=new Lt(1,1,1),o.opacity=1,Array.isArray(d.baseColorFactor)){const p=d.baseColorFactor;o.color.setRGB(p[0],p[1],p[2],wm),o.opacity=p[3]}d.baseColorTexture!==void 0&&c.push(n.assignTexture(o,"map",d.baseColorTexture,by)),o.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,o.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(n.assignTexture(o,"metalnessMap",d.metallicRoughnessTexture)),c.push(n.assignTexture(o,"roughnessMap",d.metallicRoughnessTexture))),s=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,o)})))}a.doubleSided===!0&&(o.side=uf);const f=a.alphaMode||$D.OPAQUE;if(f===$D.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,f===$D.MASK&&(o.alphaTest=a.alphaCutoff!==void 0?a.alphaCutoff:.5)),a.normalTexture!==void 0&&s!==bu&&(c.push(n.assignTexture(o,"normalMap",a.normalTexture)),o.normalScale=new ct(1,1),a.normalTexture.scale!==void 0)){const d=a.normalTexture.scale;o.normalScale.set(d,d)}if(a.occlusionTexture!==void 0&&s!==bu&&(c.push(n.assignTexture(o,"aoMap",a.occlusionTexture)),a.occlusionTexture.strength!==void 0&&(o.aoMapIntensity=a.occlusionTexture.strength)),a.emissiveFactor!==void 0&&s!==bu){const d=a.emissiveFactor;o.emissive=new Lt().setRGB(d[0],d[1],d[2],wm)}return a.emissiveTexture!==void 0&&s!==bu&&c.push(n.assignTexture(o,"emissiveMap",a.emissiveTexture,by)),Promise.all(c).then(function(){const d=new s(o);return a.name&&(d.name=a.name),sm(d,a),n.associations.set(d,{materials:e}),a.extensions&&Xv(r,d,a),d})}createUniqueName(e){const n=Ri.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,i=this.extensions,r=this.primitiveCache;function a(o){return i[di.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,n).then(function(l){return DI(l,o,n)})}const s=[];for(let o=0,l=e.length;o<l;o++){const c=e[o],f=phe(c),d=r[f];if(d)s.push(d.promise);else{let p;c.extensions&&c.extensions[di.KHR_DRACO_MESH_COMPRESSION]?p=a(c):p=DI(new In,c,n),r[f]={primitive:c,promise:p},s.push(p)}}return Promise.all(s)}loadMesh(e){const n=this,i=this.json,r=this.extensions,a=i.meshes[e],s=a.primitives,o=[];for(let l=0,c=s.length;l<c;l++){const f=s[l].material===void 0?fhe(this.cache):this.getDependency("material",s[l].material);o.push(f)}return o.push(n.loadGeometries(s)),Promise.all(o).then(function(l){const c=l.slice(0,l.length-1),f=l[l.length-1],d=[];for(let v=0,_=f.length;v<_;v++){const S=f[v],b=s[v];let A;const T=c[v];if(b.mode===af.TRIANGLES||b.mode===af.TRIANGLE_STRIP||b.mode===af.TRIANGLE_FAN||b.mode===void 0)A=a.isSkinnedMesh===!0?new vL(S,T):new za(S,T),A.isSkinnedMesh===!0&&A.normalizeSkinWeights(),b.mode===af.TRIANGLE_STRIP?A.geometry=MI(A.geometry,uL):b.mode===af.TRIANGLE_FAN&&(A.geometry=MI(A.geometry,HT));else if(b.mode===af.LINES)A=new Mh(S,T);else if(b.mode===af.LINE_STRIP)A=new Dm(S,T);else if(b.mode===af.LINE_LOOP)A=new xL(S,T);else if(b.mode===af.POINTS)A=new _L(S,T);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+b.mode);Object.keys(A.geometry.morphAttributes).length>0&&dhe(A,a),A.name=n.createUniqueName(a.name||"mesh_"+e),sm(A,a),b.extensions&&Xv(r,A,b),n.assignFinalMaterial(A),d.push(A)}for(let v=0,_=d.length;v<_;v++)n.associations.set(d[v],{meshes:e,primitives:v});if(d.length===1)return a.extensions&&Xv(r,d[0],a),d[0];const p=new mm;a.extensions&&Xv(r,p,a),n.associations.set(p,{meshes:e});for(let v=0,_=d.length;v<_;v++)p.add(d[v]);return p})}loadCamera(e){let n;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?n=new Wr(FG.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(n=new gh(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(n.name=this.createUniqueName(i.name)),sm(n,i),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],i=[];for(let r=0,a=n.joints.length;r<a;r++)i.push(this._loadNodeShallow(n.joints[r]));return n.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",n.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const a=r.pop(),s=r,o=[],l=[];for(let c=0,f=s.length;c<f;c++){const d=s[c];if(d){o.push(d);const p=new dn;a!==null&&p.fromArray(a.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[c])}return new AM(o,l)})}loadAnimation(e){const n=this.json,i=this,r=n.animations[e],a=r.name?r.name:"animation_"+e,s=[],o=[],l=[],c=[],f=[];for(let d=0,p=r.channels.length;d<p;d++){const v=r.channels[d],_=r.samplers[v.sampler],S=v.target,b=S.node,A=r.parameters!==void 0?r.parameters[_.input]:_.input,T=r.parameters!==void 0?r.parameters[_.output]:_.output;S.node!==void 0&&(s.push(this.getDependency("node",b)),o.push(this.getDependency("accessor",A)),l.push(this.getDependency("accessor",T)),c.push(_),f.push(S))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(l),Promise.all(c),Promise.all(f)]).then(function(d){const p=d[0],v=d[1],_=d[2],S=d[3],b=d[4],A=[];for(let T=0,R=p.length;T<R;T++){const C=p[T],L=v[T],P=_[T],k=S[T],G=b[T];if(C===void 0)continue;C.updateMatrix&&C.updateMatrix();const z=i._createAnimationTracks(C,L,P,k,G);if(z)for(let F=0;F<z.length;F++)A.push(z[F])}return new Rb(a,void 0,A)})}createNodeMesh(e){const n=this.json,i=this,r=n.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(a){const s=i._getNodeRef(i.meshCache,r.mesh,a);return r.weights!==void 0&&s.traverse(function(o){if(o.isMesh)for(let l=0,c=r.weights.length;l<c;l++)o.morphTargetInfluences[l]=r.weights[l]}),s})}loadNode(e){const n=this.json,i=this,r=n.nodes[e],a=i._loadNodeShallow(e),s=[],o=r.children||[];for(let c=0,f=o.length;c<f;c++)s.push(i.getDependency("node",o[c]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([a,Promise.all(s),l]).then(function(c){const f=c[0],d=c[1],p=c[2];p!==null&&f.traverse(function(v){v.isSkinnedMesh&&v.bind(p,ghe)});for(let v=0,_=d.length;v<_;v++)f.add(d[v]);return f})}_loadNodeShallow(e){const n=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const a=n.nodes[e],s=a.name?r.createUniqueName(a.name):"",o=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&o.push(l),a.camera!==void 0&&o.push(r.getDependency("camera",a.camera).then(function(c){return r._getNodeRef(r.cameraCache,a.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){o.push(c)}),this.nodeCache[e]=Promise.all(o).then(function(c){let f;if(a.isBone===!0?f=new GR:c.length>1?f=new mm:c.length===1?f=c[0]:f=new Si,f!==c[0])for(let d=0,p=c.length;d<p;d++)f.add(c[d]);if(a.name&&(f.userData.name=a.name,f.name=s),sm(f,a),a.extensions&&Xv(i,f,a),a.matrix!==void 0){const d=new dn;d.fromArray(a.matrix),f.applyMatrix4(d)}else a.translation!==void 0&&f.position.fromArray(a.translation),a.rotation!==void 0&&f.quaternion.fromArray(a.rotation),a.scale!==void 0&&f.scale.fromArray(a.scale);return r.associations.has(f)||r.associations.set(f,{}),r.associations.get(f).nodes=e,f}),this.nodeCache[e]}loadScene(e){const n=this.extensions,i=this.json.scenes[e],r=this,a=new mm;i.name&&(a.name=r.createUniqueName(i.name)),sm(a,i),i.extensions&&Xv(n,a,i);const s=i.nodes||[],o=[];for(let l=0,c=s.length;l<c;l++)o.push(r.getDependency("node",s[l]));return Promise.all(o).then(function(l){for(let f=0,d=l.length;f<d;f++)a.add(l[f]);const c=f=>{const d=new Map;for(const[p,v]of r.associations)(p instanceof ms||p instanceof Kr)&&d.set(p,v);return f.traverse(p=>{const v=r.associations.get(p);v!=null&&d.set(p,v)}),d};return r.associations=c(a),a})}_createAnimationTracks(e,n,i,r,a){const s=[],o=e.name?e.name:e.uuid,l=[];kg[a.path]===kg.weights?e.traverse(function(p){p.morphTargetInfluences&&l.push(p.name?p.name:p.uuid)}):l.push(o);let c;switch(kg[a.path]){case kg.weights:c=Gy;break;case kg.rotation:c=jy;break;case kg.position:case kg.scale:c=Vy;break;default:switch(i.itemSize){case 1:c=Gy;break;case 2:case 3:default:c=Vy;break}break}const f=r.interpolation!==void 0?uhe[r.interpolation]:Mb,d=this._getArrayFromAccessor(i);for(let p=0,v=l.length;p<v;p++){const _=new c(l[p]+"."+kg[a.path],n.array,d,f);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(_),s.push(_)}return s}_getArrayFromAccessor(e){let n=e.array;if(e.normalized){const i=cO(n.constructor),r=new Float32Array(n.length);for(let a=0,s=n.length;a<s;a++)r[a]=n[a]*i;n=r}return n}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const r=this instanceof jy?che:gV;return new r(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function yhe(t,e,n){const i=e.attributes,r=new Xo;if(i.POSITION!==void 0){const o=n.json.accessors[i.POSITION],l=o.min,c=o.max;if(l!==void 0&&c!==void 0){if(r.set(new me(l[0],l[1],l[2]),new me(c[0],c[1],c[2])),o.normalized){const f=cO(lb[o.componentType]);r.min.multiplyScalar(f),r.max.multiplyScalar(f)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const a=e.targets;if(a!==void 0){const o=new me,l=new me;for(let c=0,f=a.length;c<f;c++){const d=a[c];if(d.POSITION!==void 0){const p=n.json.accessors[d.POSITION],v=p.min,_=p.max;if(v!==void 0&&_!==void 0){if(l.setX(Math.max(Math.abs(v[0]),Math.abs(_[0]))),l.setY(Math.max(Math.abs(v[1]),Math.abs(_[1]))),l.setZ(Math.max(Math.abs(v[2]),Math.abs(_[2]))),p.normalized){const S=cO(lb[p.componentType]);l.multiplyScalar(S)}o.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(o)}t.boundingBox=r;const s=new lo;r.getCenter(s.center),s.radius=r.min.distanceTo(r.max)/2,t.boundingSphere=s}function DI(t,e,n){const i=e.attributes,r=[];function a(s,o){return n.getDependency("accessor",s).then(function(l){t.setAttribute(o,l)})}for(const s in i){const o=lO[s]||s.toLowerCase();o in t.attributes||r.push(a(i[s],o))}if(e.indices!==void 0&&!t.index){const s=n.getDependency("accessor",e.indices).then(function(o){t.setIndex(o)});r.push(s)}return sm(t,e),yhe(t,e,n),Promise.all(r).then(function(){return e.targets!==void 0?hhe(t,e.targets,n):t})}const QD=new WeakMap;class xhe extends Wo{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,i,r){const a=new wu(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,s=>{const o={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(s,o).then(n).catch(r)},i,r)}decodeDracoFile(e,n,i,r){const a={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,a).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const c=n.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=c.name)}const i=JSON.stringify(n);if(QD.has(e)){const l=QD.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const a=this.workerNextTaskID++,s=e.byteLength,o=this._getWorker(a,s).then(l=>(r=l,new Promise((c,f)=>{r._callbacks[a]={resolve:c,reject:f},r.postMessage({type:"decode",id:a,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return o.catch(()=>!0).then(()=>{r&&a&&this._releaseTask(r,a)}),QD.set(e,{key:i,promise:o}),o}_createGeometry(e){const n=new In;e.index&&n.setIndex(new Pi(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],a=r.name,s=r.array,o=r.itemSize;n.setAttribute(a,new Pi(s,o))}return n}_loadLibrary(e,n){const i=new wu(this.manager);return i.setPath(this.decoderPath),i.setResponseType(n),i.setWithCredentials(this.withCredentials),new Promise((r,a)=>{i.load(e,r,void 0,a)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const a=_he.toString(),s=["/* draco decoder */",r,"","/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([s]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(a){const s=a.data;switch(s.type){case"decode":r._callbacks[s.id].resolve(s);break;case"error":r._callbacks[s.id].reject(s);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+s.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,a){return r._taskLoad>a._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=n,i._taskLoad+=n,i})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function _he(){let t,e;onmessage=function(s){const o=s.data;switch(o.type){case"init":t=o.decoderConfig,e=new Promise(function(f){t.onModuleLoaded=function(d){f({draco:d})},DracoDecoderModule(t)});break;case"decode":const l=o.buffer,c=o.taskConfig;e.then(f=>{const d=f.draco,p=new d.Decoder,v=new d.DecoderBuffer;v.Init(new Int8Array(l),l.byteLength);try{const _=n(d,p,v,c),S=_.attributes.map(b=>b.array.buffer);_.index&&S.push(_.index.array.buffer),self.postMessage({type:"decode",id:o.id,geometry:_},S)}catch(_){console.error(_),self.postMessage({type:"error",id:o.id,error:_.message})}finally{d.destroy(v),d.destroy(p)}});break}};function n(s,o,l,c){const f=c.attributeIDs,d=c.attributeTypes;let p,v;const _=o.GetEncodedGeometryType(l);if(_===s.TRIANGULAR_MESH)p=new s.Mesh,v=o.DecodeBufferToMesh(l,p);else if(_===s.POINT_CLOUD)p=new s.PointCloud,v=o.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!v.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+v.error_msg());const S={index:null,attributes:[]};for(const b in f){const A=self[d[b]];let T,R;if(c.useUniqueIDs)R=f[b],T=o.GetAttributeByUniqueId(p,R);else{if(R=o.GetAttributeId(p,s[f[b]]),R===-1)continue;T=o.GetAttribute(p,R)}S.attributes.push(r(s,o,p,b,A,T))}return _===s.TRIANGULAR_MESH&&(S.index=i(s,o,p)),s.destroy(p),S}function i(s,o,l){const f=l.num_faces()*3,d=f*4,p=s._malloc(d);o.GetTrianglesUInt32Array(l,d,p);const v=new Uint32Array(s.HEAPF32.buffer,p,f).slice();return s._free(p),{array:v,itemSize:1}}function r(s,o,l,c,f,d){const p=d.num_components(),_=l.num_points()*p,S=_*f.BYTES_PER_ELEMENT,b=a(s,f),A=s._malloc(S);o.GetAttributeDataArrayForAllPoints(l,d,b,S,A);const T=new f(s.HEAPF32.buffer,A,_).slice();return s._free(A),{name:c,array:T,itemSize:p}}function a(s,o){switch(o){case Float32Array:return s.DT_FLOAT32;case Int8Array:return s.DT_INT8;case Int16Array:return s.DT_INT16;case Int32Array:return s.DT_INT32;case Uint8Array:return s.DT_UINT8;case Uint16Array:return s.DT_UINT16;case Uint32Array:return s.DT_UINT32}}}let b2;const eB=()=>{if(b2)return b2;const t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=t;WebAssembly.validate(n)&&(r=e);let a;const s=WebAssembly.instantiate(o(r),{}).then(d=>{a=d.instance,a.exports.__wasm_call_ctors()});function o(d){const p=new Uint8Array(d.length);for(let _=0;_<d.length;++_){const S=d.charCodeAt(_);p[_]=S>96?S-71:S>64?S-65:S>47?S+4:S>46?63:62}let v=0;for(let _=0;_<d.length;++_)p[v++]=p[_]<60?i[p[_]]:(p[_]-60)*64+p[++_];return p.buffer.slice(0,v)}function l(d,p,v,_,S,b){const A=a.exports.sbrk,T=v+3&-4,R=A(T*_),C=A(S.length),L=new Uint8Array(a.exports.memory.buffer);L.set(S,C);const P=d(R,v,_,C,S.length);if(P===0&&b&&b(R,T,_),p.set(L.subarray(R,R+v*_)),A(R-A(0)),P!==0)throw new Error(`Malformed buffer data: ${P}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},f={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return b2={ready:s,supported:!0,decodeVertexBuffer(d,p,v,_,S){l(a.exports.meshopt_decodeVertexBuffer,d,p,v,_,a.exports[c[S]])},decodeIndexBuffer(d,p,v,_){l(a.exports.meshopt_decodeIndexBuffer,d,p,v,_)},decodeIndexSequence(d,p,v,_){l(a.exports.meshopt_decodeIndexSequence,d,p,v,_)},decodeGltfBuffer(d,p,v,_,S,b){l(a.exports[f[S]],d,p,v,_,a.exports[c[b]])}},b2};let A2=null,vV="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function yV(t=!0,e=!0,n){return i=>{n&&n(i),t&&(A2||(A2=new xhe),A2.setDecoderPath(typeof t=="string"?t:vV),i.setDRACOLoader(A2)),e&&i.setMeshoptDecoder(typeof eB=="function"?eB():eB)}}const o3=(t,e,n,i)=>RM(JL,t,yV(e,n,i));o3.preload=(t,e,n,i)=>RM.preload(JL,t,yV(e,n,i));o3.clear=t=>RM.clear(JL,t);o3.setDecoderPath=t=>{vV=t};const bhe=ce.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:i,enableDamping:r=!0,keyEvents:a=!1,onChange:s,onStart:o,onEnd:l,...c},f)=>{const d=im(P=>P.invalidate),p=im(P=>P.camera),v=im(P=>P.gl),_=im(P=>P.events),S=im(P=>P.setEvents),b=im(P=>P.set),A=im(P=>P.get),T=im(P=>P.performance),R=e||p,C=i||_.connected||v.domElement,L=ce.useMemo(()=>new Ife(R),[R]);return aV(()=>{L.enabled&&L.update()},-1),ce.useEffect(()=>(a&&L.connect(a===!0?C:a),L.connect(C),()=>void L.dispose()),[a,C,n,L,d]),ce.useEffect(()=>{const P=z=>{d(),n&&T.regress(),s&&s(z)},k=z=>{o&&o(z)},G=z=>{l&&l(z)};return L.addEventListener("change",P),L.addEventListener("start",k),L.addEventListener("end",G),()=>{L.removeEventListener("start",k),L.removeEventListener("end",G),L.removeEventListener("change",P)}},[s,o,l,L,d,S]),ce.useEffect(()=>{if(t){const P=A().controls;return b({controls:L}),()=>b({controls:P})}},[t,L]),ce.createElement("primitive",WT({ref:f,object:L,enableDamping:r},c))}),Ahe=()=>{const t=o3("/models/potline.gltf",!0);return B.jsx("primitive",{object:t.scene,scale:1.5,position:[0,-2.5,0]})},She=()=>B.jsx(Cfe,{center:!0,children:B.jsx("div",{className:"text-text text-center",children:"Loading 3D model..."})}),Mhe=()=>B.jsx(yfe,{camera:{position:[0,0,25],fov:45},style:{height:"100%"},children:B.jsxs(ce.Suspense,{fallback:B.jsx(She,{}),children:[B.jsx("ambientLight",{intensity:1.5}),B.jsx("directionalLight",{position:[10,10,5],intensity:2}),B.jsx(Ahe,{}),B.jsx(bhe,{enableZoom:!0,enablePan:!0,enableRotate:!0,minPolarAngle:Math.PI/4,maxPolarAngle:Math.PI/1.5,minDistance:30,maxDistance:40})]})}),BI=({orient:t,value:e,side:n})=>{yr();const i=typeof e=="object"&&e.value!==void 0?e.value.batteryStatus:e;return B.jsx("div",{className:"px-5",children:B.jsxs("div",{className:`${t==="height"?"flex":"flex  flex-col"} items-center h-full`,children:[B.jsx("div",{className:`${t==="height"?"h-10 md:h-8 2xl:h-10 w-1 md:w-0.5 2xl:w-1":"h-1 w-10"} bg-text/75 rounded-lg sm:order-2`}),B.jsxs("div",{className:`${t==="height"?"w-full h-20 md:h-15 lg:h-12 2xl:h-20":"w-20 h-9/12"} relative border border-text/75 rounded-lg`,children:[B.jsx("div",{className:`absolute bottom-0 left-0 w-full h-full rounded-lg transition-all duration-300 ${i>50?"bg-gradient-to-t md:bg-gradient-to-l 2xl:bg-gradient-to-l from-primary to-primary/90":i>20?"bg-gradient-to-t md:bg-gradient-to-l 2xl:bg-gradient-to-l from-primary/50 to-primary/30":"bg-gradient-to-t md:bg-gradient-to-l 2xl:bg-gradient-to-l from-primary/30 to-primary/10"}`,style:{width:t==="height"?`${i}%`:"100%",height:t==="height"?"100%":`${i}%`}}),B.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:B.jsxs("span",{className:"text-text text-sm md:text-xs 2xl:text-sm z-60",children:[n," ",i," %"]})})]})]})})},OI=({data:t,side:e})=>{var n;return yr(),B.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:gap-1 2xl:gap-2 mx-2 md:mx-1 2xl:mx-2 items-center",children:[B.jsxs("div",{className:"flex gap-1",children:[B.jsxs("p",{className:"text-sm md:text-[8px] xl:text-[10px] 2xl:text-sm",children:["Active:"," ",B.jsx("span",{className:"text-primary font-medium text-sm md:text-[9px] xl:text-[10px] 2xl:text-base ml-1",children:e==="A"?Object.entries(t.value.voltages).filter(([i,r])=>parseInt(i.slice(1))<=20&&r!==void 0).length:Object.entries(t.value.voltages).filter(([i,r])=>parseInt(i.slice(1))>20&&r!==void 0).length})," "]}),B.jsxs("p",{className:"text-sm md:text-[8px] xl:text-[10px] 2xl:text-sm",children:["Inactive:"," ",B.jsx("span",{className:"text-primary font-medium text-sm md:text-[9px] xl:text-[10px] 2xl:text-base ml-1",children:e==="A"?Object.entries(t.value.voltages).filter(([i,r])=>parseInt(i.slice(1))<=20&&r===void 0).length:Object.entries(t.value.voltages).filter(([i,r])=>parseInt(i.slice(1))>20&&r===void 0).length})," "]})]}),B.jsxs("p",{className:"text-sm md:text-[8px] xl:text-[10px] 2xl:text-sm",children:["Lt.Upd:"," ",B.jsx("span",{className:"text-primary font-medium text-sm md:text-[8px] xl:text-[10px] 2xl:text-base ml-1",children:((n=t.value.timestamp)==null?void 0:n.toLocaleString())||"--:--:--"})," "]})]})},Y_=en({voltages:{},batteryStatus:0,signalStrength:0,timestamp:null}),TA=en({voltages:{},batteryStatus:0,signalStrength:0,timestamp:null}),xn=en([1]),rh=en("A"),lh=en([]),xV=en([]),Ay=en("minute"),Bs=en({from:new Date,to:new Date}),so=en("last100"),FS=en(100),KT=en(!1);lh.value=[];const Ia=en({A:!1,B:!1,ALL:!1}),S2=en(!1),bd=en({max:7,min:3}),_V=(t,e)=>{if(!t||Object.keys(t).length===0)return 0;const n=Object.values(t).filter(i=>i!=null);return n.length===0?0:e(n)},whe=t=>K5(()=>_V(t,e=>Math.min(...e))),Ehe=t=>K5(()=>{const e=t.value.voltages;return _V(e,n=>Math.max(...n))}),The=K5(()=>{const t=rh.value,e=xn.value;return t==="A"?e.filter(n=>n<=20):t==="B"?e.filter(n=>n>=21&&n<=40):e}),Che=t=>t==null?"bg-secondary/20 text-text/50":t>=bd.value.max?"bg-secondary text-red-400":t<=bd.value.min?"bg-secondary text-blue-400":"bg-secondary text-yellow-500",$T=async()=>{try{const t=await Bn("/voltage-history");if(t.data&&t.data.length>0){const e=t.data.find(i=>i.sensorGroup==="1-20"),n=t.data.find(i=>i.sensorGroup==="21-40");e&&(Y_.value={voltages:e.voltages||{},batteryStatus:e.batteryStatus||0,signalStrength:e.signalStrength||-100,timestamp:new Date(e.timestamp||0)}),n&&(TA.value={voltages:n.voltages||{},batteryStatus:n.batteryStatus||0,signalStrength:n.signalStrength||-100,timestamp:new Date(n.timestamp||0)})}}catch(t){console.error("Error fetching voltages:",t)}},LI=async(t={})=>{const{isDashboard:e=!1}=t;try{if(!e&&xn.value.length===0){lh.value=[];return}if(console.log(xn.value),KT.value=!0,e){const a=await Bn.get("/voltage-history/raw",{params:{from:new Date(Date.now()-864e5).toISOString(),to:new Date().toISOString(),sensorIds:xn.value.join(",")}});if(console.log("Dashboard response:",a.data),a.data&&Array.isArray(a.data)){const s=a.data.map(o=>({...o,data:(o.data||[]).map(l=>({...l,timestamp:l.timestamp?new Date(l.timestamp).toISOString():new Date().toISOString(),value:Number(l.value)||0,label:l.timestamp?new Date(l.timestamp).toLocaleTimeString():""}))}));lh.value=s}else console.log("No data found"),lh.value=[];return}const n={reportType:Sa.value,configuration:rh.value,sensorIds:The.value};switch(Bs.value.from&&Bs.value.to&&(n.dateRange={from:new Date(Bs.value.from).toISOString(),to:new Date(Bs.value.to).toISOString()}),Sa.value){case"average":n.averageBy=Ay.value;break;case"interval":n.interval="hour";break;case"count":n.selectedCounts=JSON.stringify({last100:so.value==="last100",last500:so.value==="last500",last1000:so.value==="last1000",custom:so.value==="custom"}),n.customCount=FS.value;break}console.log({params:n});const i=await Bn.post("/reports/fetch-data",n);console.log("Raw API Response:",i.data),console.log("Response type:",typeof i.data);let r=[];if(Array.isArray(i.data)?r=i.data:i.data&&typeof i.data=="object"&&(i.data.data&&Array.isArray(i.data.data)?r=i.data.data:i.data.results&&Array.isArray(i.data.results)?r=i.data.results:r=Object.values(i.data)),console.log("Data to process:",r),Array.isArray(r)&&r.length>0){console.log("Starting data processing...");const a=r.map((s,o)=>{if(!s)return null;const l=s.sensorId||s.id||o;console.log(`Processing sensor ${o+1}/${r.length}:`,l);let c=s.data||s.values||s.readings||[];if(!Array.isArray(c))return console.warn(`Sensor ${l} has invalid data:`,s),null;console.log(`Sensor ${l} has ${c.length} data points`);const f={sensorId:l,data:c.map((d,p)=>{try{if(!d||d.value===void 0)return console.warn(`Invalid item at index ${p} for sensor ${l}:`,d),null;const v=d.timestamp||d.time||d.date,_=Number(d.value);return isNaN(_)?(console.warn(`Invalid value at index ${p} for sensor ${l}:`,d.value),null):{...d,timestamp:v?new Date(v).toISOString():new Date().toISOString(),value:_,label:d.label||new Date(v).toLocaleTimeString()}}catch(v){return console.error(`Error processing item ${p} for sensor ${l}:`,v),null}}).filter(d=>d!==null)};return f.data.length>0?f:null}).filter(s=>s!==null);console.log("Final processed data:",a),lh.value=a}else lh.value=[]}catch(n){console.error("Error loading chart:",n),lh.value=[]}finally{KT.value=!1}},PI=async()=>{try{const t=await Bn.get("/voltage-history/signal",{params:{hours:12}});t.data&&Array.isArray(t.data)&&(xV.value=t.data.map(e=>({time:new Date(e.timestamp).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),strength:Math.ceil(e.signalStrength/25)})))}catch(t){console.error("Error fetching signal history:",t)}},UI=({sensorId:t,voltage:e})=>{var i;yr();const n=()=>{xn.value.includes(t)?xn.value=xn.value.filter(r=>r!==t):xn.value=[...xn.value,t]};return B.jsxs("button",{onClick:n,className:`${Che(e.value.voltages[`v${t}`])}
            p-1 rounded-lg transition-all hover:scale-105
            ${xn.value.includes(t)?"ring-1 ring-primary":""}`,children:[B.jsxs("div",{className:"text-xs md:text-[10px] 2xl:text-xs font-medium tracking-wider opacity-55 mb-0.5",children:["S",t]}),B.jsx("div",{className:"text-sm md:text-xs 2xl:text-lg font-semibold tracking-wider mb-1 md:mb-0.5 xl:mb-1",children:((i=e.value.voltages[`v${t}`])==null?void 0:i.toFixed(2))||"--"}),B.jsx("div",{className:"text-[10px] md:text-[10px] 2xl:text-xs opacity-75",children:"mV"})]})},Zg=en("A"),uh=en([]),ZT=en("1h"),CE=en([]),uO=en(!1),fO=en(null),Rhe=async()=>{var t,e;uO.value=!0,fO.value=null;try{const n={side:Zg.value,timeRange:ZT.value};uh.value.length===0?n.sensorIds="all":n.sensorIds=uh.value.join(","),console.log("[DashboardChart] Fetching data with params:",n);const i=await Bn.get("/voltage-history/dashboard-chart",{params:n});if(i.data&&Array.isArray(i.data)){const r=i.data.map(a=>({...a,data:(a.data||[]).map(s=>({...s,timestamp:s.timestamp?new Date(s.timestamp).toISOString():new Date().toISOString(),value:Number(s.value)||0}))}));CE.value=r,console.log("[DashboardChart] Data fetched and transformed:",r)}else console.warn("[DashboardChart] No data or unexpected format received:",i.data),CE.value=[]}catch(n){console.error("[DashboardChart] Error fetching chart data:",n),fO.value=((e=(t=n.response)==null?void 0:t.data)==null?void 0:e.message)||"Error fetching chart data",CE.value=[]}finally{uO.value=!1}},Nhe=()=>(yr(),B.jsx("div",{className:"flex items-center gap-2 md:gap-1.5 2xl:gap-2",children:[{value:"A",label:"A Side",action:()=>{Zg.value="A",uh.value=[]}},{value:"B",label:"B Side",action:()=>{Zg.value="B",uh.value=[]}},{value:"clear",label:"Clear",action:()=>{Zg.value="A",uh.value=[]}}].map(t=>B.jsx("button",{onClick:t.action,className:`px-4 md:px-2 py-2 md:py-1 rounded-lg text-sm md:text-[8px] 2xl:text-sm outline-none ${t.value==="A"&&Zg.value==="A"||t.value==="B"&&Zg.value==="B"?"bg-primary text-white":"bg-background/20 hover:bg-background/30 text-text"}`,children:t.label},t.value))})),Dhe=()=>{yr();const t=(e,n)=>{e.target.checked?uh.value=[...uh.value,n]:uh.value=uh.value.filter(i=>i!==n)};return B.jsx("div",{className:"grid grid-cols-10 place-items-center gap-1 md:gap-0.5 2xl:gap-1 p-2 md:p-1 2xl:p-2",children:[...Array(20)].map((e,n)=>{const i=Zg.value==="A"?n+1:n+21;return B.jsxs("label",{className:"container relative flex items-center gap-1 md:gap-0.5 2xl:gap-1 cursor-pointer select-none text-text text-[10px] md:text-[7px] 2xl:text-[10px] pl-4 md:pl-1.5 2xl:pl-4",children:[B.jsx("input",{type:"checkbox",checked:uh.value.includes(i),onChange:r=>t(r,i),className:"absolute opacity-0 cursor-pointer h-0 w-0"}),B.jsx("span",{className:"checkmark absolute left-0 top-1/2 -translate-y-1/2 h-3 w-3 md:h-1 md:w-1 xl:h-1.5 xl:w-1.5 bg-text/20 rounded transition-colors duration-200 hover:bg-text/30"}),B.jsxs("span",{className:"tracking-wide md:tracking-wider xl:tracking-wide",children:["S",i]})]},i)})})},Bhe=()=>(yr(),B.jsx("div",{className:"flex items-center gap-2 md:gap-1 xl:gap-2",children:["1h","6h","12h","24h"].map(t=>B.jsx("button",{onClick:()=>ZT.value=t,className:`px-3 md:px-1.5 xl:px-3 py-1.5 md:py-0.5 xl:py-1.5 rounded-lg md:rounded xl:rounded-lg text-sm md:text-[8px] xl:text-sm ${ZT.value===t?"bg-primary text-white":"bg-background/20 hover:bg-background/30 text-text"}`,children:t},t))}));var tB,II;function bV(){if(II)return tB;II=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return tB=t,tB}var nB,FI;function Ohe(){if(FI)return nB;FI=1;var t=typeof Qg=="object"&&Qg&&Qg.Object===Object&&Qg;return nB=t,nB}var iB,zI;function AV(){if(zI)return iB;zI=1;var t=Ohe(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return iB=n,iB}var rB,HI;function Lhe(){if(HI)return rB;HI=1;var t=AV(),e=function(){return t.Date.now()};return rB=e,rB}var aB,kI;function Phe(){if(kI)return aB;kI=1;var t=/\s/;function e(n){for(var i=n.length;i--&&t.test(n.charAt(i)););return i}return aB=e,aB}var sB,GI;function Uhe(){if(GI)return sB;GI=1;var t=Phe(),e=/^\s+/;function n(i){return i&&i.slice(0,t(i)+1).replace(e,"")}return sB=n,sB}var oB,jI;function SV(){if(jI)return oB;jI=1;var t=AV(),e=t.Symbol;return oB=e,oB}var lB,VI;function Ihe(){if(VI)return lB;VI=1;var t=SV(),e=Object.prototype,n=e.hasOwnProperty,i=e.toString,r=t?t.toStringTag:void 0;function a(s){var o=n.call(s,r),l=s[r];try{s[r]=void 0;var c=!0}catch{}var f=i.call(s);return c&&(o?s[r]=l:delete s[r]),f}return lB=a,lB}var cB,XI;function Fhe(){if(XI)return cB;XI=1;var t=Object.prototype,e=t.toString;function n(i){return e.call(i)}return cB=n,cB}var uB,qI;function zhe(){if(qI)return uB;qI=1;var t=SV(),e=Ihe(),n=Fhe(),i="[object Null]",r="[object Undefined]",a=t?t.toStringTag:void 0;function s(o){return o==null?o===void 0?r:i:a&&a in Object(o)?e(o):n(o)}return uB=s,uB}var fB,YI;function Hhe(){if(YI)return fB;YI=1;function t(e){return e!=null&&typeof e=="object"}return fB=t,fB}var hB,WI;function khe(){if(WI)return hB;WI=1;var t=zhe(),e=Hhe(),n="[object Symbol]";function i(r){return typeof r=="symbol"||e(r)&&t(r)==n}return hB=i,hB}var dB,JI;function Ghe(){if(JI)return dB;JI=1;var t=Uhe(),e=bV(),n=khe(),i=NaN,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return i;if(e(c)){var f=typeof c.valueOf=="function"?c.valueOf():c;c=e(f)?f+"":f}if(typeof c!="string")return c===0?c:+c;c=t(c);var d=a.test(c);return d||s.test(c)?o(c.slice(2),d?2:8):r.test(c)?i:+c}return dB=l,dB}var pB,KI;function jhe(){if(KI)return pB;KI=1;var t=bV(),e=Lhe(),n=Ghe(),i="Expected a function",r=Math.max,a=Math.min;function s(o,l,c){var f,d,p,v,_,S,b=0,A=!1,T=!1,R=!0;if(typeof o!="function")throw new TypeError(i);l=n(l)||0,t(c)&&(A=!!c.leading,T="maxWait"in c,p=T?r(n(c.maxWait)||0,l):p,R="trailing"in c?!!c.trailing:R);function C(W){var Y=f,K=d;return f=d=void 0,b=W,v=o.apply(K,Y),v}function L(W){return b=W,_=setTimeout(G,l),A?C(W):v}function P(W){var Y=W-S,K=W-b,H=l-Y;return T?a(H,p-K):H}function k(W){var Y=W-S,K=W-b;return S===void 0||Y>=l||Y<0||T&&K>=p}function G(){var W=e();if(k(W))return z(W);_=setTimeout(G,P(W))}function z(W){return _=void 0,R&&f?C(W):(f=d=void 0,v)}function F(){_!==void 0&&clearTimeout(_),b=0,f=S=d=_=void 0}function j(){return _===void 0?v:z(e())}function ne(){var W=e(),Y=k(W);if(f=arguments,d=this,S=W,Y){if(_===void 0)return L(S);if(T)return clearTimeout(_),_=setTimeout(G,l),C(S)}return _===void 0&&(_=setTimeout(G,l)),v}return ne.cancel=F,ne.flush=j,ne}return pB=s,pB}jhe();function la(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function MV(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function DM(t){let e,n,i;t.length!==2?(e=la,n=(o,l)=>la(t(o),l),i=(o,l)=>t(o)-l):(e=t===la||t===MV?t:Vhe,n=t,i=t);function r(o,l,c=0,f=o.length){if(c<f){if(e(l,l)!==0)return f;do{const d=c+f>>>1;n(o[d],l)<0?c=d+1:f=d}while(c<f)}return c}function a(o,l,c=0,f=o.length){if(c<f){if(e(l,l)!==0)return f;do{const d=c+f>>>1;n(o[d],l)<=0?c=d+1:f=d}while(c<f)}return c}function s(o,l,c=0,f=o.length){const d=r(o,l,c,f-1);return d>c&&i(o[d-1],l)>-i(o[d],l)?d-1:d}return{left:r,center:s,right:a}}function Vhe(){return 0}function QT(t){return t===null?NaN:+t}function*Xhe(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(i=+i)>=i&&(yield i)}}const wV=DM(la),h0=wV.right,qhe=wV.left,Yhe=DM(QT).center;function Whe(t,e){if(!((e=+e)>=0))throw new RangeError("invalid r");let n=t.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!e)return t;const i=KL(e),r=t.slice();return i(t,r,0,n,1),i(r,t,0,n,1),i(t,r,0,n,1),t}const EV=TV(KL),Jhe=TV(Khe);function TV(t){return function(e,n,i=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((i=+i)>=0))throw new RangeError("invalid ry");let{data:r,width:a,height:s}=e;if(!((a=Math.floor(a))>=0))throw new RangeError("invalid width");if(!((s=Math.floor(s!==void 0?s:r.length/a))>=0))throw new RangeError("invalid height");if(!a||!s||!n&&!i)return e;const o=n&&t(n),l=i&&t(i),c=r.slice();return o&&l?(P_(o,c,r,a,s),P_(o,r,c,a,s),P_(o,c,r,a,s),U_(l,r,c,a,s),U_(l,c,r,a,s),U_(l,r,c,a,s)):o?(P_(o,r,c,a,s),P_(o,c,r,a,s),P_(o,r,c,a,s)):l&&(U_(l,r,c,a,s),U_(l,c,r,a,s),U_(l,r,c,a,s)),e}}function P_(t,e,n,i,r){for(let a=0,s=i*r;a<s;)t(e,n,a,a+=i,1)}function U_(t,e,n,i,r){for(let a=0,s=i*r;a<i;++a)t(e,n,a,a+s,i)}function Khe(t){const e=KL(t);return(n,i,r,a,s)=>{r<<=2,a<<=2,s<<=2,e(n,i,r+0,a+0,s),e(n,i,r+1,a+1,s),e(n,i,r+2,a+2,s),e(n,i,r+3,a+3,s)}}function KL(t){const e=Math.floor(t);if(e===t)return $he(t);const n=t-e,i=2*t+1;return(r,a,s,o,l)=>{if(!((o-=l)>=s))return;let c=e*a[s];const f=l*e,d=f+l;for(let p=s,v=s+f;p<v;p+=l)c+=a[Math.min(o,p)];for(let p=s,v=o;p<=v;p+=l)c+=a[Math.min(o,p+f)],r[p]=(c+n*(a[Math.max(s,p-d)]+a[Math.min(o,p+d)]))/i,c-=a[Math.max(s,p-f)]}}function $he(t){const e=2*t+1;return(n,i,r,a,s)=>{if(!((a-=s)>=r))return;let o=t*i[r];const l=s*t;for(let c=r,f=r+l;c<f;c+=s)o+=i[Math.min(a,c)];for(let c=r,f=a;c<=f;c+=s)o+=i[Math.min(a,c+l)],n[c]=o/e,o-=i[Math.max(r,c-l)]}}function l3(t,e){let n=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&++n;else{let i=-1;for(let r of t)(r=e(r,++i,t))!=null&&(r=+r)>=r&&++n}return n}function Zhe(t){return t.length|0}function Qhe(t){return!(t>0)}function ede(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function tde(t){return e=>t(...e)}function nde(...t){const e=typeof t[t.length-1]=="function"&&tde(t.pop());t=t.map(ede);const n=t.map(Zhe),i=t.length-1,r=new Array(i+1).fill(0),a=[];if(i<0||n.some(Qhe))return a;for(;;){a.push(r.map((o,l)=>t[l][o]));let s=i;for(;++r[s]===n[s];){if(s===0)return e?a.map(e):a;r[s--]=0}}}function ide(t,e){var n=0,i=0;return Float64Array.from(t,e===void 0?r=>n+=+r||0:r=>n+=+e(r,i++,t)||0)}function CV(t,e){let n=0,i,r=0,a=0;if(e===void 0)for(let s of t)s!=null&&(s=+s)>=s&&(i=s-r,r+=i/++n,a+=i*(s-r));else{let s=-1;for(let o of t)(o=e(o,++s,t))!=null&&(o=+o)>=o&&(i=o-r,r+=i/++n,a+=i*(o-r))}if(n>1)return a/(n-1)}function RV(t,e){const n=CV(t,e);return n&&Math.sqrt(n)}function Dy(t,e){let n,i;if(e===void 0)for(const r of t)r!=null&&(n===void 0?r>=r&&(n=i=r):(n>r&&(n=r),i<r&&(i=r)));else{let r=-1;for(let a of t)(a=e(a,++r,t))!=null&&(n===void 0?a>=a&&(n=i=a):(n>a&&(n=a),i<a&&(i=a)))}return[n,i]}class gs{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const a=n[r],s=e+a,o=Math.abs(e)<Math.abs(a)?e-(s-a):a-(s-e);o&&(n[i++]=o),e=s}return n[i]=e,this._n=i+1,this}valueOf(){const e=this._partials;let n=this._n,i,r,a,s=0;if(n>0){for(s=e[--n];n>0&&(i=s,r=e[--n],s=i+r,a=r-(s-i),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(r=a*2,i=s+r,r==i-s&&(s=i))}return s}}function rde(t,e){const n=new gs;if(e===void 0)for(let i of t)(i=+i)&&n.add(i);else{let i=-1;for(let r of t)(r=+e(r,++i,t))&&n.add(r)}return+n}function ade(t,e){const n=new gs;let i=-1;return Float64Array.from(t,e===void 0?r=>n.add(+r||0):r=>n.add(+e(r,++i,t)||0))}class zS extends Map{constructor(e,n=BV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(hO(this,e))}has(e){return super.has(hO(this,e))}set(e,n){return super.set(NV(this,e),n)}delete(e){return super.delete(DV(this,e))}}class qy extends Set{constructor(e,n=BV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const i of e)this.add(i)}has(e){return super.has(hO(this,e))}add(e){return super.add(NV(this,e))}delete(e){return super.delete(DV(this,e))}}function hO({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function NV({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function DV({_intern:t,_key:e},n){const i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function BV(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Db(t){return t}function OV(t,...e){return d1(t,Db,Db,e)}function LV(t,...e){return d1(t,Array.from,Db,e)}function PV(t,e){for(let n=1,i=e.length;n<i;++n)t=t.flatMap(r=>r.pop().map(([a,s])=>[...r,a,s]));return t}function sde(t,...e){return PV(LV(t,...e),e)}function ode(t,e,...n){return PV(IV(t,e,...n),n)}function UV(t,e,...n){return d1(t,Db,e,n)}function IV(t,e,...n){return d1(t,Array.from,e,n)}function lde(t,...e){return d1(t,Db,FV,e)}function cde(t,...e){return d1(t,Array.from,FV,e)}function FV(t){if(t.length!==1)throw new Error("duplicate key");return t[0]}function d1(t,e,n,i){return function r(a,s){if(s>=i.length)return n(a);const o=new zS,l=i[s++];let c=-1;for(const f of a){const d=l(f,++c,a),p=o.get(d);p?p.push(f):o.set(d,[f])}for(const[f,d]of o)o.set(f,r(d,s));return e(o)}(t,0)}function zV(t,e){return Array.from(e,n=>t[n])}function dO(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const i=Uint32Array.from(t,(r,a)=>a);return e.length>1?(e=e.map(r=>t.map(r)),i.sort((r,a)=>{for(const s of e){const o=Bb(s[r],s[a]);if(o)return o}})):(n=t.map(n),i.sort((r,a)=>Bb(n[r],n[a]))),zV(t,i)}return t.sort($L(n))}function $L(t=la){if(t===la)return Bb;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const i=t(e,n);return i||i===0?i:(t(n,n)===0)-(t(e,e)===0)}}function Bb(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function ude(t,e,n){return(e.length!==2?dO(UV(t,e,n),([i,r],[a,s])=>la(r,s)||la(i,a)):dO(OV(t,n),([i,r],[a,s])=>e(r,s)||la(i,a))).map(([i])=>i)}var fde=Array.prototype,hde=fde.slice;function mB(t){return()=>t}const dde=Math.sqrt(50),pde=Math.sqrt(10),mde=Math.sqrt(2);function eC(t,e,n){const i=(e-t)/Math.max(0,n),r=Math.floor(Math.log10(i)),a=i/Math.pow(10,r),s=a>=dde?10:a>=pde?5:a>=mde?2:1;let o,l,c;return r<0?(c=Math.pow(10,-r)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,r)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?eC(t,e,n*2):[o,l,c]}function Yy(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const i=e<t,[r,a,s]=i?eC(e,t,n):eC(t,e,n);if(!(a>=r))return[];const o=a-r+1,l=new Array(o);if(i)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(r+c)/-s;else for(let c=0;c<o;++c)l[c]=(r+c)*s;return l}function Wy(t,e,n){return e=+e,t=+t,n=+n,eC(t,e,n)[2]}function tC(t,e,n){e=+e,t=+t,n=+n;const i=e<t,r=i?Wy(e,t,n):Wy(t,e,n);return(i?-1:1)*(r<0?1/-r:r)}function ZL(t,e,n){let i;for(;;){const r=Wy(t,e,n);if(r===i||r===0||!isFinite(r))return[t,e];r>0?(t=Math.floor(t/r)*r,e=Math.ceil(e/r)*r):r<0&&(t=Math.ceil(t*r)/r,e=Math.floor(e*r)/r),i=r}}function QL(t){return Math.max(1,Math.ceil(Math.log(l3(t))/Math.LN2)+1)}function $I(){var t=Db,e=Dy,n=QL;function i(r){Array.isArray(r)||(r=Array.from(r));var a,s=r.length,o,l,c=new Array(s);for(a=0;a<s;++a)c[a]=t(r[a],a,r);var f=e(c),d=f[0],p=f[1],v=n(c,d,p);if(!Array.isArray(v)){const R=p,C=+v;if(e===Dy&&([d,p]=ZL(d,p,C)),v=Yy(d,p,C),v[0]<=d&&(l=Wy(d,p,C)),v[v.length-1]>=p)if(R>=p&&e===Dy){const L=Wy(d,p,C);isFinite(L)&&(L>0?p=(Math.floor(p/L)+1)*L:L<0&&(p=(Math.ceil(p*-L)+1)/-L))}else v.pop()}for(var _=v.length,S=0,b=_;v[S]<=d;)++S;for(;v[b-1]>p;)--b;(S||b<_)&&(v=v.slice(S,b),_=b-S);var A=new Array(_+1),T;for(a=0;a<=_;++a)T=A[a]=[],T.x0=a>0?v[a-1]:d,T.x1=a<_?v[a]:p;if(isFinite(l)){if(l>0)for(a=0;a<s;++a)(o=c[a])!=null&&d<=o&&o<=p&&A[Math.min(_,Math.floor((o-d)/l))].push(r[a]);else if(l<0){for(a=0;a<s;++a)if((o=c[a])!=null&&d<=o&&o<=p){const R=Math.floor((d-o)*l);A[Math.min(_,R+(v[R]<=o))].push(r[a])}}}else for(a=0;a<s;++a)(o=c[a])!=null&&d<=o&&o<=p&&A[h0(v,o,0,_)].push(r[a]);return A}return i.value=function(r){return arguments.length?(t=typeof r=="function"?r:mB(r),i):t},i.domain=function(r){return arguments.length?(e=typeof r=="function"?r:mB([r[0],r[1]]),i):e},i.thresholds=function(r){return arguments.length?(n=typeof r=="function"?r:mB(Array.isArray(r)?hde.call(r):r),i):n},i}function Ob(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of t)(r=e(r,++i,t))!=null&&(n<r||n===void 0&&r>=r)&&(n=r)}return n}function eP(t,e){let n,i=-1,r=-1;if(e===void 0)for(const a of t)++r,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,i=r);else for(let a of t)(a=e(a,++r,t))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,i=r);return i}function HS(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of t)(r=e(r,++i,t))!=null&&(n>r||n===void 0&&r>=r)&&(n=r)}return n}function tP(t,e){let n,i=-1,r=-1;if(e===void 0)for(const a of t)++r,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,i=r);else for(let a of t)(a=e(a,++r,t))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,i=r);return i}function c3(t,e,n=0,i=1/0,r){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(t.length-1,i)),!(n<=e&&e<=i))return t;for(r=r===void 0?Bb:$L(r);i>n;){if(i-n>600){const l=i-n+1,c=e-n+1,f=Math.log(l),d=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*d*(l-d)/l)*(c-l/2<0?-1:1),v=Math.max(n,Math.floor(e-c*d/l+p)),_=Math.min(i,Math.floor(e+(l-c)*d/l+p));c3(t,e,v,_,r)}const a=t[e];let s=n,o=i;for(aA(t,n,e),r(t[i],a)>0&&aA(t,n,i);s<o;){for(aA(t,s,o),++s,--o;r(t[s],a)<0;)++s;for(;r(t[o],a)>0;)--o}r(t[n],a)===0?aA(t,n,o):(++o,aA(t,o,i)),o<=e&&(n=o+1),e<=o&&(i=o-1)}return t}function aA(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function HV(t,e=la){let n,i=!1;if(e.length===1){let r;for(const a of t){const s=e(a);(i?la(s,r)>0:la(s,s)===0)&&(n=a,r=s,i=!0)}}else for(const r of t)(i?e(r,n)>0:e(r,r)===0)&&(n=r,i=!0);return n}function kS(t,e,n){if(t=Float64Array.from(Xhe(t,n)),!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return HS(t);if(e>=1)return Ob(t);var i,r=(i-1)*e,a=Math.floor(r),s=Ob(c3(t,a).subarray(0,a+1)),o=HS(t.subarray(a+1));return s+(o-s)*(r-a)}}function kV(t,e,n=QT){if(!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,a=Math.floor(r),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(r-a)}}function GV(t,e,n=QT){if(!isNaN(e=+e)){if(i=Float64Array.from(t,(o,l)=>QT(n(t[l],l,t))),e<=0)return tP(i);if(e>=1)return eP(i);var i,r=Uint32Array.from(t,(o,l)=>l),a=i.length-1,s=Math.floor(a*e);return c3(r,s,0,a,(o,l)=>Bb(i[o],i[l])),s=HV(r.subarray(0,s+1),o=>i[o]),s>=0?s:-1}}function gde(t,e,n){const i=l3(t),r=kS(t,.75)-kS(t,.25);return i&&r?Math.ceil((n-e)/(2*r*Math.pow(i,-1/3))):1}function vde(t,e,n){const i=l3(t),r=RV(t);return i&&r?Math.ceil((n-e)*Math.cbrt(i)/(3.49*r)):1}function yde(t,e){let n=0,i=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&(++n,i+=r);else{let r=-1;for(let a of t)(a=e(a,++r,t))!=null&&(a=+a)>=a&&(++n,i+=a)}if(n)return i/n}function xde(t,e){return kS(t,.5,e)}function _de(t,e){return GV(t,.5,e)}function*bde(t){for(const e of t)yield*e}function nP(t){return Array.from(bde(t))}function Ade(t,e){const n=new zS;if(e===void 0)for(let a of t)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let s of t)(s=e(s,++a,t))!=null&&s>=s&&n.set(s,(n.get(s)||0)+1)}let i,r=0;for(const[a,s]of n)s>r&&(r=s,i=a);return i}function Sde(t,e=Mde){const n=[];let i,r=!1;for(const a of t)r&&n.push(e(i,a)),i=a,r=!0;return n}function Mde(t,e){return[t,e]}function t0(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(r);++i<r;)a[i]=t+i*n;return a}function wde(t,e=la){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let n=Array.from(t);const i=new Float64Array(n.length);e.length!==2&&(n=n.map(e),e=la);const r=(o,l)=>e(n[o],n[l]);let a,s;return t=Uint32Array.from(n,(o,l)=>l),t.sort(e===la?(o,l)=>Bb(n[o],n[l]):$L(r)),t.forEach((o,l)=>{const c=r(o,a===void 0?o:a);c>=0?((a===void 0||c>0)&&(a=o,s=l),i[o]=s):i[o]=NaN}),i}function Ede(t,e=la){let n,i=!1;if(e.length===1){let r;for(const a of t){const s=e(a);(i?la(s,r)<0:la(s,s)===0)&&(n=a,r=s,i=!0)}}else for(const r of t)(i?e(r,n)<0:e(r,r)===0)&&(n=r,i=!0);return n}function jV(t,e=la){if(e.length===1)return tP(t,e);let n,i=-1,r=-1;for(const a of t)++r,(i<0?e(a,a)===0:e(a,n)<0)&&(n=a,i=r);return i}function Tde(t,e=la){if(e.length===1)return eP(t,e);let n,i=-1,r=-1;for(const a of t)++r,(i<0?e(a,a)===0:e(a,n)>0)&&(n=a,i=r);return i}function Cde(t,e){const n=jV(t,e);return n<0?void 0:n}const Rde=VV(Math.random);function VV(t){return function(n,i=0,r=n.length){let a=r-(i=+i);for(;a;){const s=t()*a--|0,o=n[a+i];n[a+i]=n[s+i],n[s+i]=o}return n}}function Nde(t,e){let n=0;if(e===void 0)for(let i of t)(i=+i)&&(n+=i);else{let i=-1;for(let r of t)(r=+e(r,++i,t))&&(n+=r)}return n}function XV(t){if(!(a=t.length))return[];for(var e=-1,n=HS(t,Dde),i=new Array(n);++e<n;)for(var r=-1,a,s=i[e]=new Array(a);++r<a;)s[r]=t[r][e];return i}function Dde(t){return t.length}function Bde(){return XV(arguments)}function Ode(t,e){if(typeof e!="function")throw new TypeError("test is not a function");let n=-1;for(const i of t)if(!e(i,++n,t))return!1;return!0}function Lde(t,e){if(typeof e!="function")throw new TypeError("test is not a function");let n=-1;for(const i of t)if(e(i,++n,t))return!0;return!1}function Pde(t,e){if(typeof e!="function")throw new TypeError("test is not a function");const n=[];let i=-1;for(const r of t)e(r,++i,t)&&n.push(r);return n}function Ude(t,e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof e!="function")throw new TypeError("mapper is not a function");return Array.from(t,(n,i)=>e(n,i,t))}function Ide(t,e,n){if(typeof e!="function")throw new TypeError("reducer is not a function");const i=t[Symbol.iterator]();let r,a,s=-1;if(arguments.length<3){if({done:r,value:n}=i.next(),r)return;++s}for(;{done:r,value:a}=i.next(),!r;)n=e(n,a,++s,t);return n}function Fde(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function zde(t,...e){t=new qy(t);for(const n of e)for(const i of n)t.delete(i);return t}function Hde(t,e){const n=e[Symbol.iterator](),i=new qy;for(const r of t){if(i.has(r))return!1;let a,s;for(;({value:a,done:s}=n.next())&&!s;){if(Object.is(r,a))return!1;i.add(a)}}return!0}function kde(t,...e){t=new qy(t),e=e.map(Gde);e:for(const n of t)for(const i of e)if(!i.has(n)){t.delete(n);continue e}return t}function Gde(t){return t instanceof qy?t:new qy(t)}function qV(t,e){const n=t[Symbol.iterator](),i=new Set;for(const r of e){const a=ZI(r);if(i.has(a))continue;let s,o;for(;{value:s,done:o}=n.next();){if(o)return!1;const l=ZI(s);if(i.add(l),Object.is(a,l))break}}return!0}function ZI(t){return t!==null&&typeof t=="object"?t.valueOf():t}function jde(t,e){return qV(e,t)}function Vde(...t){const e=new qy;for(const n of t)for(const i of n)e.add(i);return e}function Xde(t){return t}var RE=1,NE=2,pO=3,CA=4,QI=1e-6;function qde(t){return"translate("+t+",0)"}function Yde(t){return"translate(0,"+t+")"}function Wde(t){return e=>+t(e)}function Jde(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Kde(){return!this.__axis}function u3(t,e){var n=[],i=null,r=null,a=6,s=6,o=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=t===RE||t===CA?-1:1,f=t===CA||t===NE?"x":"y",d=t===RE||t===pO?qde:Yde;function p(v){var _=i??(e.ticks?e.ticks.apply(e,n):e.domain()),S=r??(e.tickFormat?e.tickFormat.apply(e,n):Xde),b=Math.max(a,0)+o,A=e.range(),T=+A[0]+l,R=+A[A.length-1]+l,C=(e.bandwidth?Jde:Wde)(e.copy(),l),L=v.selection?v.selection():v,P=L.selectAll(".domain").data([null]),k=L.selectAll(".tick").data(_,e).order(),G=k.exit(),z=k.enter().append("g").attr("class","tick"),F=k.select("line"),j=k.select("text");P=P.merge(P.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge(z),F=F.merge(z.append("line").attr("stroke","currentColor").attr(f+"2",c*a)),j=j.merge(z.append("text").attr("fill","currentColor").attr(f,c*b).attr("dy",t===RE?"0em":t===pO?"0.71em":"0.32em")),v!==L&&(P=P.transition(v),k=k.transition(v),F=F.transition(v),j=j.transition(v),G=G.transition(v).attr("opacity",QI).attr("transform",function(ne){return isFinite(ne=C(ne))?d(ne+l):this.getAttribute("transform")}),z.attr("opacity",QI).attr("transform",function(ne){var W=this.parentNode.__axis;return d((W&&isFinite(W=W(ne))?W:C(ne))+l)})),G.remove(),P.attr("d",t===CA||t===NE?s?"M"+c*s+","+T+"H"+l+"V"+R+"H"+c*s:"M"+l+","+T+"V"+R:s?"M"+T+","+c*s+"V"+l+"H"+R+"V"+c*s:"M"+T+","+l+"H"+R),k.attr("opacity",1).attr("transform",function(ne){return d(C(ne)+l)}),F.attr(f+"2",c*a),j.attr(f,c*b).text(S),L.filter(Kde).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===NE?"start":t===CA?"end":"middle"),L.each(function(){this.__axis=C})}return p.scale=function(v){return arguments.length?(e=v,p):e},p.ticks=function(){return n=Array.from(arguments),p},p.tickArguments=function(v){return arguments.length?(n=v==null?[]:Array.from(v),p):n.slice()},p.tickValues=function(v){return arguments.length?(i=v==null?null:Array.from(v),p):i&&i.slice()},p.tickFormat=function(v){return arguments.length?(r=v,p):r},p.tickSize=function(v){return arguments.length?(a=s=+v,p):a},p.tickSizeInner=function(v){return arguments.length?(a=+v,p):a},p.tickSizeOuter=function(v){return arguments.length?(s=+v,p):s},p.tickPadding=function(v){return arguments.length?(o=+v,p):o},p.offset=function(v){return arguments.length?(l=+v,p):l},p}function $de(t){return u3(RE,t)}function Zde(t){return u3(NE,t)}function RA(t){return u3(pO,t)}function mO(t){return u3(CA,t)}var Qde={value:()=>{}};function hx(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new DE(n)}function DE(t){this._=t}function epe(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}DE.prototype=hx.prototype={constructor:DE,on:function(t,e){var n=this._,i=epe(t+"",n),r,a=-1,s=i.length;if(arguments.length<2){for(;++a<s;)if((r=(t=i[a]).type)&&(r=tpe(n[r],t.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<s;)if(r=(t=i[a]).type)n[r]=e9(n[r],t.name,e);else if(e==null)for(r in n)n[r]=e9(n[r],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new DE(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,a;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],i=0,r=a.length;i<r;++i)a[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(e,n)}};function tpe(t,e){for(var n=0,i=t.length,r;n<i;++n)if((r=t[n]).name===e)return r.value}function e9(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=Qde,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var gO="http://www.w3.org/1999/xhtml";const vO={svg:"http://www.w3.org/2000/svg",xhtml:gO,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function BM(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),vO.hasOwnProperty(e)?{space:vO[e],local:t}:t}function npe(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===gO&&e.documentElement.namespaceURI===gO?e.createElement(t):e.createElementNS(n,t)}}function ipe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function f3(t){var e=BM(t);return(e.local?ipe:npe)(e)}function rpe(){}function h3(t){return t==null?rpe:function(){return this.querySelector(t)}}function ape(t){typeof t!="function"&&(t=h3(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a=e[r],s=a.length,o=i[r]=new Array(s),l,c,f=0;f<s;++f)(l=a[f])&&(c=t.call(l,l.__data__,f,a))&&("__data__"in l&&(c.__data__=l.__data__),o[f]=c);return new zl(i,this._parents)}function YV(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function spe(){return[]}function iP(t){return t==null?spe:function(){return this.querySelectorAll(t)}}function ope(t){return function(){return YV(t.apply(this,arguments))}}function lpe(t){typeof t=="function"?t=ope(t):t=iP(t);for(var e=this._groups,n=e.length,i=[],r=[],a=0;a<n;++a)for(var s=e[a],o=s.length,l,c=0;c<o;++c)(l=s[c])&&(i.push(t.call(l,l.__data__,c,s)),r.push(l));return new zl(i,r)}function rP(t){return function(){return this.matches(t)}}function WV(t){return function(e){return e.matches(t)}}var cpe=Array.prototype.find;function upe(t){return function(){return cpe.call(this.children,t)}}function fpe(){return this.firstElementChild}function hpe(t){return this.select(t==null?fpe:upe(typeof t=="function"?t:WV(t)))}var dpe=Array.prototype.filter;function ppe(){return Array.from(this.children)}function mpe(t){return function(){return dpe.call(this.children,t)}}function gpe(t){return this.selectAll(t==null?ppe:mpe(typeof t=="function"?t:WV(t)))}function vpe(t){typeof t!="function"&&(t=rP(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a=e[r],s=a.length,o=i[r]=[],l,c=0;c<s;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&o.push(l);return new zl(i,this._parents)}function JV(t){return new Array(t.length)}function ype(){return new zl(this._enter||this._groups.map(JV),this._parents)}function nC(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}nC.prototype={constructor:nC,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function xpe(t){return function(){return t}}function _pe(t,e,n,i,r,a){for(var s=0,o,l=e.length,c=a.length;s<c;++s)(o=e[s])?(o.__data__=a[s],i[s]=o):n[s]=new nC(t,a[s]);for(;s<l;++s)(o=e[s])&&(r[s]=o)}function bpe(t,e,n,i,r,a,s){var o,l,c=new Map,f=e.length,d=a.length,p=new Array(f),v;for(o=0;o<f;++o)(l=e[o])&&(p[o]=v=s.call(l,l.__data__,o,e)+"",c.has(v)?r[o]=l:c.set(v,l));for(o=0;o<d;++o)v=s.call(t,a[o],o,a)+"",(l=c.get(v))?(i[o]=l,l.__data__=a[o],c.delete(v)):n[o]=new nC(t,a[o]);for(o=0;o<f;++o)(l=e[o])&&c.get(p[o])===l&&(r[o]=l)}function Ape(t){return t.__data__}function Spe(t,e){if(!arguments.length)return Array.from(this,Ape);var n=e?bpe:_pe,i=this._parents,r=this._groups;typeof t!="function"&&(t=xpe(t));for(var a=r.length,s=new Array(a),o=new Array(a),l=new Array(a),c=0;c<a;++c){var f=i[c],d=r[c],p=d.length,v=Mpe(t.call(f,f&&f.__data__,c,i)),_=v.length,S=o[c]=new Array(_),b=s[c]=new Array(_),A=l[c]=new Array(p);n(f,d,S,b,A,v,e);for(var T=0,R=0,C,L;T<_;++T)if(C=S[T]){for(T>=R&&(R=T+1);!(L=b[R])&&++R<_;);C._next=L||null}}return s=new zl(s,i),s._enter=o,s._exit=l,s}function Mpe(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function wpe(){return new zl(this._exit||this._groups.map(JV),this._parents)}function Epe(t,e,n){var i=this.enter(),r=this,a=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(r=e(r),r&&(r=r.selection())),n==null?a.remove():n(a),i&&r?i.merge(r).order():r}function Tpe(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,a=i.length,s=Math.min(r,a),o=new Array(r),l=0;l<s;++l)for(var c=n[l],f=i[l],d=c.length,p=o[l]=new Array(d),v,_=0;_<d;++_)(v=c[_]||f[_])&&(p[_]=v);for(;l<r;++l)o[l]=n[l];return new zl(o,this._parents)}function Cpe(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],r=i.length-1,a=i[r],s;--r>=0;)(s=i[r])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function Rpe(t){t||(t=Npe);function e(d,p){return d&&p?t(d.__data__,p.__data__):!d-!p}for(var n=this._groups,i=n.length,r=new Array(i),a=0;a<i;++a){for(var s=n[a],o=s.length,l=r[a]=new Array(o),c,f=0;f<o;++f)(c=s[f])&&(l[f]=c);l.sort(e)}return new zl(r,this._parents).order()}function Npe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Dpe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Bpe(){return Array.from(this)}function Ope(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,a=i.length;r<a;++r){var s=i[r];if(s)return s}return null}function Lpe(){let t=0;for(const e of this)++t;return t}function Ppe(){return!this.node()}function Upe(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r=e[n],a=0,s=r.length,o;a<s;++a)(o=r[a])&&t.call(o,o.__data__,a,r);return this}function Ipe(t){return function(){this.removeAttribute(t)}}function Fpe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function zpe(t,e){return function(){this.setAttribute(t,e)}}function Hpe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function kpe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Gpe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function jpe(t,e){var n=BM(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?Fpe:Ipe:typeof e=="function"?n.local?Gpe:kpe:n.local?Hpe:zpe)(n,e))}function aP(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Vpe(t){return function(){this.style.removeProperty(t)}}function Xpe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function qpe(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Ype(t,e,n){return arguments.length>1?this.each((e==null?Vpe:typeof e=="function"?qpe:Xpe)(t,e,n??"")):Jy(this.node(),t)}function Jy(t,e){return t.style.getPropertyValue(e)||aP(t).getComputedStyle(t,null).getPropertyValue(e)}function Wpe(t){return function(){delete this[t]}}function Jpe(t,e){return function(){this[t]=e}}function Kpe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function $pe(t,e){return arguments.length>1?this.each((e==null?Wpe:typeof e=="function"?Kpe:Jpe)(t,e)):this.node()[t]}function KV(t){return t.trim().split(/^|\s+/)}function sP(t){return t.classList||new $V(t)}function $V(t){this._node=t,this._names=KV(t.getAttribute("class")||"")}$V.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ZV(t,e){for(var n=sP(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function QV(t,e){for(var n=sP(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function Zpe(t){return function(){ZV(this,t)}}function Qpe(t){return function(){QV(this,t)}}function eme(t,e){return function(){(e.apply(this,arguments)?ZV:QV)(this,t)}}function tme(t,e){var n=KV(t+"");if(arguments.length<2){for(var i=sP(this.node()),r=-1,a=n.length;++r<a;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof e=="function"?eme:e?Zpe:Qpe)(n,e))}function nme(){this.textContent=""}function ime(t){return function(){this.textContent=t}}function rme(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ame(t){return arguments.length?this.each(t==null?nme:(typeof t=="function"?rme:ime)(t)):this.node().textContent}function sme(){this.innerHTML=""}function ome(t){return function(){this.innerHTML=t}}function lme(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function cme(t){return arguments.length?this.each(t==null?sme:(typeof t=="function"?lme:ome)(t)):this.node().innerHTML}function ume(){this.nextSibling&&this.parentNode.appendChild(this)}function fme(){return this.each(ume)}function hme(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function dme(){return this.each(hme)}function pme(t){var e=typeof t=="function"?t:f3(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function mme(){return null}function gme(t,e){var n=typeof t=="function"?t:f3(t),i=e==null?mme:typeof e=="function"?e:h3(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function vme(){var t=this.parentNode;t&&t.removeChild(this)}function yme(){return this.each(vme)}function xme(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function _me(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function bme(t){return this.select(t?_me:xme)}function Ame(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Sme(t){return function(e){t.call(this,e,this.__data__)}}function Mme(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function wme(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,r=e.length,a;n<r;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++i]=a;++i?e.length=i:delete this.__on}}}function Eme(t,e,n){return function(){var i=this.__on,r,a=Sme(e);if(i){for(var s=0,o=i.length;s<o;++s)if((r=i[s]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),r.value=e;return}}this.addEventListener(t.type,a,n),r={type:t.type,name:t.name,value:e,listener:a,options:n},i?i.push(r):this.__on=[r]}}function Tme(t,e,n){var i=Mme(t+""),r,a=i.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,c=o.length,f;l<c;++l)for(r=0,f=o[l];r<a;++r)if((s=i[r]).type===f.type&&s.name===f.name)return f.value}return}for(o=e?Eme:wme,r=0;r<a;++r)this.each(o(i[r],e,n));return this}function eX(t,e,n){var i=aP(t),r=i.CustomEvent;typeof r=="function"?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function Cme(t,e){return function(){return eX(this,t,e)}}function Rme(t,e){return function(){return eX(this,t,e.apply(this,arguments))}}function Nme(t,e){return this.each((typeof e=="function"?Rme:Cme)(t,e))}function*Dme(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,a=i.length,s;r<a;++r)(s=i[r])&&(yield s)}var oP=[null];function zl(t,e){this._groups=t,this._parents=e}function dx(){return new zl([[document.documentElement]],oP)}function Bme(){return this}zl.prototype=dx.prototype={constructor:zl,select:ape,selectAll:lpe,selectChild:hpe,selectChildren:gpe,filter:vpe,data:Spe,enter:ype,exit:wpe,join:Epe,merge:Tpe,selection:Bme,order:Cpe,sort:Rpe,call:Dpe,nodes:Bpe,node:Ope,size:Lpe,empty:Ppe,each:Upe,attr:jpe,style:Ype,property:$pe,classed:tme,text:ame,html:cme,raise:fme,lower:dme,append:pme,insert:gme,remove:yme,clone:bme,datum:Ame,on:Tme,dispatch:Nme,[Symbol.iterator]:Dme};function es(t){return typeof t=="string"?new zl([[document.querySelector(t)]],[document.documentElement]):new zl([[t]],oP)}function Ome(t){return es(f3(t).call(document.documentElement))}var Lme=0;function tX(){return new yO}function yO(){this._="@"+(++Lme).toString(36)}yO.prototype=tX.prototype={constructor:yO,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function nX(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Cc(t,e){if(t=nX(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}}return[t.pageX,t.pageY]}function Pme(t,e){return t.target&&(t=nX(t),e===void 0&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,n=>Cc(n,e))}function Ume(t){return typeof t=="string"?new zl([document.querySelectorAll(t)],[document.documentElement]):new zl([YV(t)],oP)}const Ime={passive:!1},GS={capture:!0,passive:!1};function gB(t){t.stopImmediatePropagation()}function cb(t){t.preventDefault(),t.stopImmediatePropagation()}function d3(t){var e=t.document.documentElement,n=es(t).on("dragstart.drag",cb,GS);"onselectstart"in e?n.on("selectstart.drag",cb,GS):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function p3(t,e){var n=t.document.documentElement,i=es(t).on("dragstart.drag",null);e&&(i.on("click.drag",cb,GS),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const M2=t=>()=>t;function xO(t,{sourceEvent:e,subject:n,target:i,identifier:r,active:a,x:s,y:o,dx:l,dy:c,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:f}})}xO.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Fme(t){return!t.ctrlKey&&!t.button}function zme(){return this.parentNode}function Hme(t,e){return e??{x:t.x,y:t.y}}function kme(){return navigator.maxTouchPoints||"ontouchstart"in this}function Gme(){var t=Fme,e=zme,n=Hme,i=kme,r={},a=hx("start","drag","end"),s=0,o,l,c,f,d=0;function p(C){C.on("mousedown.drag",v).filter(i).on("touchstart.drag",b).on("touchmove.drag",A,Ime).on("touchend.drag touchcancel.drag",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(C,L){if(!(f||!t.call(this,C,L))){var P=R(this,e.call(this,C,L),C,L,"mouse");P&&(es(C.view).on("mousemove.drag",_,GS).on("mouseup.drag",S,GS),d3(C.view),gB(C),c=!1,o=C.clientX,l=C.clientY,P("start",C))}}function _(C){if(cb(C),!c){var L=C.clientX-o,P=C.clientY-l;c=L*L+P*P>d}r.mouse("drag",C)}function S(C){es(C.view).on("mousemove.drag mouseup.drag",null),p3(C.view,c),cb(C),r.mouse("end",C)}function b(C,L){if(t.call(this,C,L)){var P=C.changedTouches,k=e.call(this,C,L),G=P.length,z,F;for(z=0;z<G;++z)(F=R(this,k,C,L,P[z].identifier,P[z]))&&(gB(C),F("start",C,P[z]))}}function A(C){var L=C.changedTouches,P=L.length,k,G;for(k=0;k<P;++k)(G=r[L[k].identifier])&&(cb(C),G("drag",C,L[k]))}function T(C){var L=C.changedTouches,P=L.length,k,G;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),k=0;k<P;++k)(G=r[L[k].identifier])&&(gB(C),G("end",C,L[k]))}function R(C,L,P,k,G,z){var F=a.copy(),j=Cc(z||P,L),ne,W,Y;if((Y=n.call(C,new xO("beforestart",{sourceEvent:P,target:p,identifier:G,active:s,x:j[0],y:j[1],dx:0,dy:0,dispatch:F}),k))!=null)return ne=Y.x-j[0]||0,W=Y.y-j[1]||0,function K(H,J,Q){var ie=j,V;switch(H){case"start":r[G]=K,V=s++;break;case"end":delete r[G],--s;case"drag":j=Cc(Q||J,L),V=s;break}F.call(H,C,new xO(H,{sourceEvent:J,subject:Y,target:p,identifier:G,active:V,x:j[0]+ne,y:j[1]+W,dx:j[0]-ie[0],dy:j[1]-ie[1],dispatch:F}),k)}}return p.filter=function(C){return arguments.length?(t=typeof C=="function"?C:M2(!!C),p):t},p.container=function(C){return arguments.length?(e=typeof C=="function"?C:M2(C),p):e},p.subject=function(C){return arguments.length?(n=typeof C=="function"?C:M2(C),p):n},p.touchable=function(C){return arguments.length?(i=typeof C=="function"?C:M2(!!C),p):i},p.on=function(){var C=a.on.apply(a,arguments);return C===a?p:C},p.clickDistance=function(C){return arguments.length?(d=(C=+C)*C,p):Math.sqrt(d)},p}function p1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function OM(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function S0(){}var Ky=.7,Lb=1/Ky,ub="\\s*([+-]?\\d+)\\s*",jS="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ld="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jme=/^#([0-9a-f]{3,8})$/,Vme=new RegExp(`^rgb\\(${ub},${ub},${ub}\\)$`),Xme=new RegExp(`^rgb\\(${Ld},${Ld},${Ld}\\)$`),qme=new RegExp(`^rgba\\(${ub},${ub},${ub},${jS}\\)$`),Yme=new RegExp(`^rgba\\(${Ld},${Ld},${Ld},${jS}\\)$`),Wme=new RegExp(`^hsl\\(${jS},${Ld},${Ld}\\)$`),Jme=new RegExp(`^hsla\\(${jS},${Ld},${Ld},${jS}\\)$`),t9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};p1(S0,d0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:n9,formatHex:n9,formatHex8:Kme,formatHsl:$me,formatRgb:i9,toString:i9});function n9(){return this.rgb().formatHex()}function Kme(){return this.rgb().formatHex8()}function $me(){return iX(this).formatHsl()}function i9(){return this.rgb().formatRgb()}function d0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=jme.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?r9(e):n===3?new Ps(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?w2(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?w2(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Vme.exec(t))?new Ps(e[1],e[2],e[3],1):(e=Xme.exec(t))?new Ps(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=qme.exec(t))?w2(e[1],e[2],e[3],e[4]):(e=Yme.exec(t))?w2(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Wme.exec(t))?o9(e[1],e[2]/100,e[3]/100,1):(e=Jme.exec(t))?o9(e[1],e[2]/100,e[3]/100,e[4]):t9.hasOwnProperty(t)?r9(t9[t]):t==="transparent"?new Ps(NaN,NaN,NaN,0):null}function r9(t){return new Ps(t>>16&255,t>>8&255,t&255,1)}function w2(t,e,n,i){return i<=0&&(t=e=n=NaN),new Ps(t,e,n,i)}function lP(t){return t instanceof S0||(t=d0(t)),t?(t=t.rgb(),new Ps(t.r,t.g,t.b,t.opacity)):new Ps}function Pb(t,e,n,i){return arguments.length===1?lP(t):new Ps(t,e,n,i??1)}function Ps(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}p1(Ps,Pb,OM(S0,{brighter(t){return t=t==null?Lb:Math.pow(Lb,t),new Ps(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ky:Math.pow(Ky,t),new Ps(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ps(By(this.r),By(this.g),By(this.b),iC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:a9,formatHex:a9,formatHex8:Zme,formatRgb:s9,toString:s9}));function a9(){return`#${Sy(this.r)}${Sy(this.g)}${Sy(this.b)}`}function Zme(){return`#${Sy(this.r)}${Sy(this.g)}${Sy(this.b)}${Sy((isNaN(this.opacity)?1:this.opacity)*255)}`}function s9(){const t=iC(this.opacity);return`${t===1?"rgb(":"rgba("}${By(this.r)}, ${By(this.g)}, ${By(this.b)}${t===1?")":`, ${t})`}`}function iC(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function By(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Sy(t){return t=By(t),(t<16?"0":"")+t.toString(16)}function o9(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new fh(t,e,n,i)}function iX(t){if(t instanceof fh)return new fh(t.h,t.s,t.l,t.opacity);if(t instanceof S0||(t=d0(t)),!t)return new fh;if(t instanceof fh)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),a=Math.max(e,n,i),s=NaN,o=a-r,l=(a+r)/2;return o?(e===a?s=(n-i)/o+(n<i)*6:n===a?s=(i-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+r:2-a-r,s*=60):o=l>0&&l<1?0:s,new fh(s,o,l,t.opacity)}function rC(t,e,n,i){return arguments.length===1?iX(t):new fh(t,e,n,i??1)}function fh(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}p1(fh,rC,OM(S0,{brighter(t){return t=t==null?Lb:Math.pow(Lb,t),new fh(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ky:Math.pow(Ky,t),new fh(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Ps(vB(t>=240?t-240:t+120,r,i),vB(t,r,i),vB(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new fh(l9(this.h),E2(this.s),E2(this.l),iC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=iC(this.opacity);return`${t===1?"hsl(":"hsla("}${l9(this.h)}, ${E2(this.s)*100}%, ${E2(this.l)*100}%${t===1?")":`, ${t})`}`}}));function l9(t){return t=(t||0)%360,t<0?t+360:t}function E2(t){return Math.max(0,Math.min(1,t||0))}function vB(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const rX=Math.PI/180,aX=180/Math.PI,aC=18,sX=.96422,oX=1,lX=.82521,cX=4/29,fb=6/29,uX=3*fb*fb,Qme=fb*fb*fb;function fX(t){if(t instanceof vh)return new vh(t.l,t.a,t.b,t.opacity);if(t instanceof Td)return dX(t);t instanceof Ps||(t=lP(t));var e=bB(t.r),n=bB(t.g),i=bB(t.b),r=yB((.2225045*e+.7168786*n+.0606169*i)/oX),a,s;return e===n&&n===i?a=s=r:(a=yB((.4360747*e+.3850649*n+.1430804*i)/sX),s=yB((.0139322*e+.0971045*n+.7141733*i)/lX)),new vh(116*r-16,500*(a-r),200*(r-s),t.opacity)}function ege(t,e){return new vh(t,0,0,e??1)}function sC(t,e,n,i){return arguments.length===1?fX(t):new vh(t,e,n,i??1)}function vh(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}p1(vh,sC,OM(S0,{brighter(t){return new vh(this.l+aC*(t??1),this.a,this.b,this.opacity)},darker(t){return new vh(this.l-aC*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=sX*xB(e),t=oX*xB(t),n=lX*xB(n),new Ps(_B(3.1338561*e-1.6168667*t-.4906146*n),_B(-.9787684*e+1.9161415*t+.033454*n),_B(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function yB(t){return t>Qme?Math.pow(t,1/3):t/uX+cX}function xB(t){return t>fb?t*t*t:uX*(t-cX)}function _B(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function bB(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function hX(t){if(t instanceof Td)return new Td(t.h,t.c,t.l,t.opacity);if(t instanceof vh||(t=fX(t)),t.a===0&&t.b===0)return new Td(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*aX;return new Td(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function tge(t,e,n,i){return arguments.length===1?hX(t):new Td(n,e,t,i??1)}function oC(t,e,n,i){return arguments.length===1?hX(t):new Td(t,e,n,i??1)}function Td(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function dX(t){if(isNaN(t.h))return new vh(t.l,0,0,t.opacity);var e=t.h*rX;return new vh(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}p1(Td,oC,OM(S0,{brighter(t){return new Td(this.h,this.c,this.l+aC*(t??1),this.opacity)},darker(t){return new Td(this.h,this.c,this.l-aC*(t??1),this.opacity)},rgb(){return dX(this).rgb()}}));var pX=-.14861,cP=1.78277,uP=-.29227,m3=-.90649,VS=1.97294,c9=VS*m3,u9=VS*cP,f9=cP*uP-m3*pX;function nge(t){if(t instanceof Oy)return new Oy(t.h,t.s,t.l,t.opacity);t instanceof Ps||(t=lP(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(f9*i+c9*e-u9*n)/(f9+c9-u9),a=i-r,s=(VS*(n-r)-uP*a)/m3,o=Math.sqrt(s*s+a*a)/(VS*r*(1-r)),l=o?Math.atan2(s,a)*aX-120:NaN;return new Oy(l<0?l+360:l,o,r,t.opacity)}function bh(t,e,n,i){return arguments.length===1?nge(t):new Oy(t,e,n,i??1)}function Oy(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}p1(Oy,bh,OM(S0,{brighter(t){return t=t==null?Lb:Math.pow(Lb,t),new Oy(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ky:Math.pow(Ky,t),new Oy(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*rX,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new Ps(255*(e+n*(pX*i+cP*r)),255*(e+n*(uP*i+m3*r)),255*(e+n*(VS*i)),this.opacity)}}));function mX(t,e,n,i,r){var a=t*t,s=a*t;return((1-3*t+3*a-s)*e+(4-6*a+3*s)*n+(1+3*t+3*a-3*s)*i+s*r)/6}function gX(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],a=t[i+1],s=i>0?t[i-1]:2*r-a,o=i<e-1?t[i+2]:2*a-r;return mX((n-i/e)*e,s,r,a,o)}}function vX(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],a=t[i%e],s=t[(i+1)%e],o=t[(i+2)%e];return mX((n-i/e)*e,r,a,s,o)}}const g3=t=>()=>t;function yX(t,e){return function(n){return t+n*e}}function ige(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function v3(t,e){var n=e-t;return n?yX(t,n>180||n<-180?n-360*Math.round(n/360):n):g3(isNaN(t)?e:t)}function rge(t){return(t=+t)==1?Us:function(e,n){return n-e?ige(e,n,t):g3(isNaN(e)?n:e)}}function Us(t,e){var n=e-t;return n?yX(t,n):g3(isNaN(t)?e:t)}const XS=function t(e){var n=rge(e);function i(r,a){var s=n((r=Pb(r)).r,(a=Pb(a)).r),o=n(r.g,a.g),l=n(r.b,a.b),c=Us(r.opacity,a.opacity);return function(f){return r.r=s(f),r.g=o(f),r.b=l(f),r.opacity=c(f),r+""}}return i.gamma=t,i}(1);function xX(t){return function(e){var n=e.length,i=new Array(n),r=new Array(n),a=new Array(n),s,o;for(s=0;s<n;++s)o=Pb(e[s]),i[s]=o.r||0,r[s]=o.g||0,a[s]=o.b||0;return i=t(i),r=t(r),a=t(a),o.opacity=1,function(l){return o.r=i(l),o.g=r(l),o.b=a(l),o+""}}}var _X=xX(gX),age=xX(vX);function fP(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),r;return function(a){for(r=0;r<n;++r)i[r]=t[r]*(1-a)+e[r]*a;return i}}function bX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function sge(t,e){return(bX(e)?fP:AX)(t,e)}function AX(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,r=new Array(i),a=new Array(n),s;for(s=0;s<i;++s)r[s]=M0(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<i;++s)a[s]=r[s](o);return a}}function SX(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function of(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function MX(t,e){var n={},i={},r;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in t?n[r]=M0(t[r],e[r]):i[r]=e[r];return function(a){for(r in n)i[r]=n[r](a);return i}}var _O=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,AB=new RegExp(_O.source,"g");function oge(t){return function(){return t}}function lge(t){return function(e){return t(e)+""}}function hP(t,e){var n=_O.lastIndex=AB.lastIndex=0,i,r,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(i=_O.exec(t))&&(r=AB.exec(e));)(a=r.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(i=i[0])===(r=r[0])?o[s]?o[s]+=r:o[++s]=r:(o[++s]=null,l.push({i:s,x:of(i,r)})),n=AB.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?lge(l[0].x):oge(e):(e=l.length,function(c){for(var f=0,d;f<e;++f)o[(d=l[f]).i]=d.x(c);return o.join("")})}function M0(t,e){var n=typeof e,i;return e==null||n==="boolean"?g3(e):(n==="number"?of:n==="string"?(i=d0(e))?(e=i,XS):hP:e instanceof d0?XS:e instanceof Date?SX:bX(e)?fP:Array.isArray(e)?AX:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?MX:of)(t,e)}function cge(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function uge(t,e){var n=v3(+t,+e);return function(i){var r=n(i);return r-360*Math.floor(r/360)}}function y3(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var h9=180/Math.PI,bO={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function wX(t,e,n,i,r,a){var s,o,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(o=Math.sqrt(n*n+i*i))&&(n/=o,i/=o,l/=o),t*i<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:r,translateY:a,rotate:Math.atan2(e,t)*h9,skewX:Math.atan(l)*h9,scaleX:s,scaleY:o}}var T2;function fge(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?bO:wX(e.a,e.b,e.c,e.d,e.e,e.f)}function hge(t){return t==null||(T2||(T2=document.createElementNS("http://www.w3.org/2000/svg","g")),T2.setAttribute("transform",t),!(t=T2.transform.baseVal.consolidate()))?bO:(t=t.matrix,wX(t.a,t.b,t.c,t.d,t.e,t.f))}function EX(t,e,n,i){function r(c){return c.length?c.pop()+" ":""}function a(c,f,d,p,v,_){if(c!==d||f!==p){var S=v.push("translate(",null,e,null,n);_.push({i:S-4,x:of(c,d)},{i:S-2,x:of(f,p)})}else(d||p)&&v.push("translate("+d+e+p+n)}function s(c,f,d,p){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),p.push({i:d.push(r(d)+"rotate(",null,i)-2,x:of(c,f)})):f&&d.push(r(d)+"rotate("+f+i)}function o(c,f,d,p){c!==f?p.push({i:d.push(r(d)+"skewX(",null,i)-2,x:of(c,f)}):f&&d.push(r(d)+"skewX("+f+i)}function l(c,f,d,p,v,_){if(c!==d||f!==p){var S=v.push(r(v)+"scale(",null,",",null,")");_.push({i:S-4,x:of(c,d)},{i:S-2,x:of(f,p)})}else(d!==1||p!==1)&&v.push(r(v)+"scale("+d+","+p+")")}return function(c,f){var d=[],p=[];return c=t(c),f=t(f),a(c.translateX,c.translateY,f.translateX,f.translateY,d,p),s(c.rotate,f.rotate,d,p),o(c.skewX,f.skewX,d,p),l(c.scaleX,c.scaleY,f.scaleX,f.scaleY,d,p),c=f=null,function(v){for(var _=-1,S=p.length,b;++_<S;)d[(b=p[_]).i]=b.x(v);return d.join("")}}}var TX=EX(fge,"px, ","px)","deg)"),CX=EX(hge,", ",")",")"),dge=1e-12;function d9(t){return((t=Math.exp(t))+1/t)/2}function pge(t){return((t=Math.exp(t))-1/t)/2}function mge(t){return((t=Math.exp(2*t))-1)/(t+1)}const RX=function t(e,n,i){function r(a,s){var o=a[0],l=a[1],c=a[2],f=s[0],d=s[1],p=s[2],v=f-o,_=d-l,S=v*v+_*_,b,A;if(S<dge)A=Math.log(p/c)/e,b=function(k){return[o+k*v,l+k*_,c*Math.exp(e*k*A)]};else{var T=Math.sqrt(S),R=(p*p-c*c+i*S)/(2*c*n*T),C=(p*p-c*c-i*S)/(2*p*n*T),L=Math.log(Math.sqrt(R*R+1)-R),P=Math.log(Math.sqrt(C*C+1)-C);A=(P-L)/e,b=function(k){var G=k*A,z=d9(L),F=c/(n*T)*(z*mge(e*G+L)-pge(L));return[o+F*v,l+F*_,c*z/d9(e*G+L)]}}return b.duration=A*1e3*e/Math.SQRT2,b}return r.rho=function(a){var s=Math.max(.001,+a),o=s*s,l=o*o;return t(s,o,l)},r}(Math.SQRT2,2,4);function NX(t){return function(e,n){var i=t((e=rC(e)).h,(n=rC(n)).h),r=Us(e.s,n.s),a=Us(e.l,n.l),s=Us(e.opacity,n.opacity);return function(o){return e.h=i(o),e.s=r(o),e.l=a(o),e.opacity=s(o),e+""}}}const gge=NX(v3);var vge=NX(Us);function yge(t,e){var n=Us((t=sC(t)).l,(e=sC(e)).l),i=Us(t.a,e.a),r=Us(t.b,e.b),a=Us(t.opacity,e.opacity);return function(s){return t.l=n(s),t.a=i(s),t.b=r(s),t.opacity=a(s),t+""}}function DX(t){return function(e,n){var i=t((e=oC(e)).h,(n=oC(n)).h),r=Us(e.c,n.c),a=Us(e.l,n.l),s=Us(e.opacity,n.opacity);return function(o){return e.h=i(o),e.c=r(o),e.l=a(o),e.opacity=s(o),e+""}}}const xge=DX(v3);var _ge=DX(Us);function BX(t){return function e(n){n=+n;function i(r,a){var s=t((r=bh(r)).h,(a=bh(a)).h),o=Us(r.s,a.s),l=Us(r.l,a.l),c=Us(r.opacity,a.opacity);return function(f){return r.h=s(f),r.s=o(f),r.l=l(Math.pow(f,n)),r.opacity=c(f),r+""}}return i.gamma=e,i}(1)}const bge=BX(v3);var x3=BX(Us);function OX(t,e){e===void 0&&(e=t,t=M0);for(var n=0,i=e.length-1,r=e[0],a=new Array(i<0?0:i);n<i;)a[n]=t(r,r=e[++n]);return function(s){var o=Math.max(0,Math.min(i-1,Math.floor(s*=i)));return a[o](s-o)}}function Age(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n}var Ub=0,NA=0,sA=0,LX=1e3,lC,DA,cC=0,$y=0,_3=0,qS=typeof performance=="object"&&performance.now?performance:Date,PX=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function LM(){return $y||(PX(Sge),$y=qS.now()+_3)}function Sge(){$y=0}function YS(){this._call=this._time=this._next=null}YS.prototype=b3.prototype={constructor:YS,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?LM():+n)+(e==null?0:+e),!this._next&&DA!==this&&(DA?DA._next=this:lC=this,DA=this),this._call=t,this._time=n,AO()},stop:function(){this._call&&(this._call=null,this._time=1/0,AO())}};function b3(t,e,n){var i=new YS;return i.restart(t,e,n),i}function UX(){LM(),++Ub;for(var t=lC,e;t;)(e=$y-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ub}function p9(){$y=(cC=qS.now())+_3,Ub=NA=0;try{UX()}finally{Ub=0,wge(),$y=0}}function Mge(){var t=qS.now(),e=t-cC;e>LX&&(_3-=e,cC=t)}function wge(){for(var t,e=lC,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:lC=n);DA=t,AO(i)}function AO(t){if(!Ub){NA&&(NA=clearTimeout(NA));var e=t-$y;e>24?(t<1/0&&(NA=setTimeout(p9,t-qS.now()-_3)),sA&&(sA=clearInterval(sA))):(sA||(cC=qS.now(),sA=setInterval(Mge,LX)),Ub=1,PX(p9))}}function SO(t,e,n){var i=new YS;return e=e==null?0:+e,i.restart(r=>{i.stop(),t(r+e)},e,n),i}function Ege(t,e,n){var i=new YS,r=e;return e==null?(i.restart(t,e,n),i):(i._restart=i.restart,i.restart=function(a,s,o){s=+s,o=o==null?LM():+o,i._restart(function l(c){c+=r,i._restart(l,r+=s,o),a(c)},s,o)},i.restart(t,e,n),i)}var Tge=hx("start","end","cancel","interrupt"),Cge=[],IX=0,MO=1,wO=2,BE=3,m9=4,EO=5,OE=6;function A3(t,e,n,i,r,a){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Rge(t,n,{name:e,index:i,group:r,on:Tge,tween:Cge,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:IX})}function dP(t,e){var n=Eh(t,e);if(n.state>IX)throw new Error("too late; already scheduled");return n}function Xd(t,e){var n=Eh(t,e);if(n.state>BE)throw new Error("too late; already running");return n}function Eh(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Rge(t,e,n){var i=t.__transition,r;i[e]=n,n.timer=b3(a,0,n.time);function a(c){n.state=MO,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var f,d,p,v;if(n.state!==MO)return l();for(f in i)if(v=i[f],v.name===n.name){if(v.state===BE)return SO(s);v.state===m9?(v.state=OE,v.timer.stop(),v.on.call("interrupt",t,t.__data__,v.index,v.group),delete i[f]):+f<e&&(v.state=OE,v.timer.stop(),v.on.call("cancel",t,t.__data__,v.index,v.group),delete i[f])}if(SO(function(){n.state===BE&&(n.state=m9,n.timer.restart(o,n.delay,n.time),o(c))}),n.state=wO,n.on.call("start",t,t.__data__,n.index,n.group),n.state===wO){for(n.state=BE,r=new Array(p=n.tween.length),f=0,d=-1;f<p;++f)(v=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(r[++d]=v);r.length=d+1}}function o(c){for(var f=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=EO,1),d=-1,p=r.length;++d<p;)r[d].call(t,f);n.state===EO&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=OE,n.timer.stop(),delete i[e];for(var c in i)return;delete t.__transition}}function Ly(t,e){var n=t.__transition,i,r,a=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((i=n[s]).name!==e){a=!1;continue}r=i.state>wO&&i.state<EO,i.state=OE,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[s]}a&&delete t.__transition}}function Nge(t){return this.each(function(){Ly(this,t)})}function Dge(t,e){var n,i;return function(){var r=Xd(this,t),a=r.tween;if(a!==n){i=n=a;for(var s=0,o=i.length;s<o;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}r.tween=i}}function Bge(t,e,n){var i,r;if(typeof n!="function")throw new Error;return function(){var a=Xd(this,t),s=a.tween;if(s!==i){r=(i=s).slice();for(var o={name:e,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===e){r[l]=o;break}l===c&&r.push(o)}a.tween=r}}function Oge(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=Eh(this.node(),n).tween,r=0,a=i.length,s;r<a;++r)if((s=i[r]).name===t)return s.value;return null}return this.each((e==null?Dge:Bge)(n,t,e))}function pP(t,e,n){var i=t._id;return t.each(function(){var r=Xd(this,i);(r.value||(r.value={}))[e]=n.apply(this,arguments)}),function(r){return Eh(r,i).value[e]}}function FX(t,e){var n;return(typeof e=="number"?of:e instanceof d0?XS:(n=d0(e))?(e=n,XS):hP)(t,e)}function Lge(t){return function(){this.removeAttribute(t)}}function Pge(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Uge(t,e,n){var i,r=n+"",a;return function(){var s=this.getAttribute(t);return s===r?null:s===i?a:a=e(i=s,n)}}function Ige(t,e,n){var i,r=n+"",a;return function(){var s=this.getAttributeNS(t.space,t.local);return s===r?null:s===i?a:a=e(i=s,n)}}function Fge(t,e,n){var i,r,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=o+"",s===l?null:s===i&&l===r?a:(r=l,a=e(i=s,o)))}}function zge(t,e,n){var i,r,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=o+"",s===l?null:s===i&&l===r?a:(r=l,a=e(i=s,o)))}}function Hge(t,e){var n=BM(t),i=n==="transform"?CX:FX;return this.attrTween(t,typeof e=="function"?(n.local?zge:Fge)(n,i,pP(this,"attr."+t,e)):e==null?(n.local?Pge:Lge)(n):(n.local?Ige:Uge)(n,i,e))}function kge(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Gge(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function jge(t,e){var n,i;function r(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&Gge(t,a)),n}return r._value=e,r}function Vge(t,e){var n,i;function r(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&kge(t,a)),n}return r._value=e,r}function Xge(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=BM(t);return this.tween(n,(i.local?jge:Vge)(i,e))}function qge(t,e){return function(){dP(this,t).delay=+e.apply(this,arguments)}}function Yge(t,e){return e=+e,function(){dP(this,t).delay=e}}function Wge(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?qge:Yge)(e,t)):Eh(this.node(),e).delay}function Jge(t,e){return function(){Xd(this,t).duration=+e.apply(this,arguments)}}function Kge(t,e){return e=+e,function(){Xd(this,t).duration=e}}function $ge(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Jge:Kge)(e,t)):Eh(this.node(),e).duration}function Zge(t,e){if(typeof e!="function")throw new Error;return function(){Xd(this,t).ease=e}}function Qge(t){var e=this._id;return arguments.length?this.each(Zge(e,t)):Eh(this.node(),e).ease}function e0e(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Xd(this,t).ease=n}}function t0e(t){if(typeof t!="function")throw new Error;return this.each(e0e(this._id,t))}function n0e(t){typeof t!="function"&&(t=rP(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a=e[r],s=a.length,o=i[r]=[],l,c=0;c<s;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&o.push(l);return new Fd(i,this._parents,this._name,this._id)}function i0e(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,a=Math.min(i,r),s=new Array(i),o=0;o<a;++o)for(var l=e[o],c=n[o],f=l.length,d=s[o]=new Array(f),p,v=0;v<f;++v)(p=l[v]||c[v])&&(d[v]=p);for(;o<i;++o)s[o]=e[o];return new Fd(s,this._parents,this._name,this._id)}function r0e(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function a0e(t,e,n){var i,r,a=r0e(e)?dP:Xd;return function(){var s=a(this,t),o=s.on;o!==i&&(r=(i=o).copy()).on(e,n),s.on=r}}function s0e(t,e){var n=this._id;return arguments.length<2?Eh(this.node(),n).on.on(t):this.each(a0e(n,t,e))}function o0e(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function l0e(){return this.on("end.remove",o0e(this._id))}function c0e(t){var e=this._name,n=this._id;typeof t!="function"&&(t=h3(t));for(var i=this._groups,r=i.length,a=new Array(r),s=0;s<r;++s)for(var o=i[s],l=o.length,c=a[s]=new Array(l),f,d,p=0;p<l;++p)(f=o[p])&&(d=t.call(f,f.__data__,p,o))&&("__data__"in f&&(d.__data__=f.__data__),c[p]=d,A3(c[p],e,n,p,c,Eh(f,n)));return new Fd(a,this._parents,e,n)}function u0e(t){var e=this._name,n=this._id;typeof t!="function"&&(t=iP(t));for(var i=this._groups,r=i.length,a=[],s=[],o=0;o<r;++o)for(var l=i[o],c=l.length,f,d=0;d<c;++d)if(f=l[d]){for(var p=t.call(f,f.__data__,d,l),v,_=Eh(f,n),S=0,b=p.length;S<b;++S)(v=p[S])&&A3(v,e,n,S,p,_);a.push(p),s.push(f)}return new Fd(a,s,e,n)}var f0e=dx.prototype.constructor;function h0e(){return new f0e(this._groups,this._parents)}function d0e(t,e){var n,i,r;return function(){var a=Jy(this,t),s=(this.style.removeProperty(t),Jy(this,t));return a===s?null:a===n&&s===i?r:r=e(n=a,i=s)}}function zX(t){return function(){this.style.removeProperty(t)}}function p0e(t,e,n){var i,r=n+"",a;return function(){var s=Jy(this,t);return s===r?null:s===i?a:a=e(i=s,n)}}function m0e(t,e,n){var i,r,a;return function(){var s=Jy(this,t),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),Jy(this,t))),s===l?null:s===i&&l===r?a:(r=l,a=e(i=s,o))}}function g0e(t,e){var n,i,r,a="style."+e,s="end."+a,o;return function(){var l=Xd(this,t),c=l.on,f=l.value[a]==null?o||(o=zX(e)):void 0;(c!==n||r!==f)&&(i=(n=c).copy()).on(s,r=f),l.on=i}}function v0e(t,e,n){var i=(t+="")=="transform"?TX:FX;return e==null?this.styleTween(t,d0e(t,i)).on("end.style."+t,zX(t)):typeof e=="function"?this.styleTween(t,m0e(t,i,pP(this,"style."+t,e))).each(g0e(this._id,t)):this.styleTween(t,p0e(t,i,e),n).on("end.style."+t,null)}function y0e(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function x0e(t,e,n){var i,r;function a(){var s=e.apply(this,arguments);return s!==r&&(i=(r=s)&&y0e(t,s,n)),i}return a._value=e,a}function _0e(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,x0e(t,e,n??""))}function b0e(t){return function(){this.textContent=t}}function A0e(t){return function(){var e=t(this);this.textContent=e??""}}function S0e(t){return this.tween("text",typeof t=="function"?A0e(pP(this,"text",t)):b0e(t==null?"":t+""))}function M0e(t){return function(e){this.textContent=t.call(this,e)}}function w0e(t){var e,n;function i(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&M0e(r)),e}return i._value=t,i}function E0e(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,w0e(t))}function T0e(){for(var t=this._name,e=this._id,n=kX(),i=this._groups,r=i.length,a=0;a<r;++a)for(var s=i[a],o=s.length,l,c=0;c<o;++c)if(l=s[c]){var f=Eh(l,e);A3(l,t,n,c,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Fd(i,this._parents,t,n)}function C0e(){var t,e,n=this,i=n._id,r=n.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--r===0&&a()}};n.each(function(){var c=Xd(this,i),f=c.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),c.on=e}),r===0&&a()})}var R0e=0;function Fd(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function HX(t){return dx().transition(t)}function kX(){return++R0e}var Jp=dx.prototype;Fd.prototype=HX.prototype={constructor:Fd,select:c0e,selectAll:u0e,selectChild:Jp.selectChild,selectChildren:Jp.selectChildren,filter:n0e,merge:i0e,selection:h0e,transition:T0e,call:Jp.call,nodes:Jp.nodes,node:Jp.node,size:Jp.size,empty:Jp.empty,each:Jp.each,on:s0e,attr:Hge,attrTween:Xge,style:v0e,styleTween:_0e,text:S0e,textTween:E0e,remove:l0e,tween:Oge,delay:Wge,duration:$ge,ease:Qge,easeVarying:t0e,end:C0e,[Symbol.iterator]:Jp[Symbol.iterator]};const N0e=t=>+t;function D0e(t){return t*t}function B0e(t){return t*(2-t)}function g9(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function O0e(t){return t*t*t}function L0e(t){return--t*t*t+1}function TO(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var mP=3,P0e=function t(e){e=+e;function n(i){return Math.pow(i,e)}return n.exponent=t,n}(mP),U0e=function t(e){e=+e;function n(i){return 1-Math.pow(1-i,e)}return n.exponent=t,n}(mP),v9=function t(e){e=+e;function n(i){return((i*=2)<=1?Math.pow(i,e):2-Math.pow(2-i,e))/2}return n.exponent=t,n}(mP),GX=Math.PI,jX=GX/2;function I0e(t){return+t==1?1:1-Math.cos(t*jX)}function F0e(t){return Math.sin(t*jX)}function y9(t){return(1-Math.cos(GX*t))/2}function p0(t){return(Math.pow(2,-10*t)-.0009765625)*1.0009775171065494}function z0e(t){return p0(1-+t)}function H0e(t){return 1-p0(t)}function x9(t){return((t*=2)<=1?p0(1-t):2-p0(t-1))/2}function k0e(t){return 1-Math.sqrt(1-t*t)}function G0e(t){return Math.sqrt(1- --t*t)}function _9(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var CO=4/11,j0e=6/11,V0e=8/11,X0e=3/4,q0e=9/11,Y0e=10/11,W0e=15/16,J0e=21/22,K0e=63/64,C2=1/CO/CO;function $0e(t){return 1-WS(1-t)}function WS(t){return(t=+t)<CO?C2*t*t:t<V0e?C2*(t-=j0e)*t+X0e:t<Y0e?C2*(t-=q0e)*t+W0e:C2*(t-=J0e)*t+K0e}function Z0e(t){return((t*=2)<=1?1-WS(1-t):WS(t-1)+1)/2}var gP=1.70158,Q0e=function t(e){e=+e;function n(i){return(i=+i)*i*(e*(i-1)+i)}return n.overshoot=t,n}(gP),eve=function t(e){e=+e;function n(i){return--i*i*((i+1)*e+i)+1}return n.overshoot=t,n}(gP),b9=function t(e){e=+e;function n(i){return((i*=2)<1?i*i*((e+1)*i-e):(i-=2)*i*((e+1)*i+e)+2)/2}return n.overshoot=t,n}(gP),Ib=2*Math.PI,vP=1,yP=.3,tve=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Ib);function r(a){return e*p0(- --a)*Math.sin((i-a)/n)}return r.amplitude=function(a){return t(a,n*Ib)},r.period=function(a){return t(e,a)},r}(vP,yP),A9=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Ib);function r(a){return 1-e*p0(a=+a)*Math.sin((a+i)/n)}return r.amplitude=function(a){return t(a,n*Ib)},r.period=function(a){return t(e,a)},r}(vP,yP),nve=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Ib);function r(a){return((a=a*2-1)<0?e*p0(-a)*Math.sin((i-a)/n):2-e*p0(a)*Math.sin((i+a)/n))/2}return r.amplitude=function(a){return t(a,n*Ib)},r.period=function(a){return t(e,a)},r}(vP,yP),ive={time:null,delay:0,duration:250,ease:TO};function rve(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function ave(t){var e,n;t instanceof Fd?(e=t._id,t=t._name):(e=kX(),(n=ive).time=LM(),t=t==null?null:t+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var s=i[a],o=s.length,l,c=0;c<o;++c)(l=s[c])&&A3(l,t,e,c,s,n||rve(l,e));return new Fd(i,this._parents,t,e)}dx.prototype.interrupt=Nge;dx.prototype.transition=ave;var sve=[null];function ove(t,e){var n=t.__transition,i,r;if(n){e=e==null?null:e+"";for(r in n)if((i=n[r]).state>MO&&i.name===e)return new Fd([[t]],sve,e,+r)}return null}const SB=t=>()=>t;function lve(t,{sourceEvent:e,target:n,selection:i,mode:r,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function cve(t){t.stopImmediatePropagation()}function MB(t){t.preventDefault(),t.stopImmediatePropagation()}var S9={name:"drag"},wB={name:"space"},I_={name:"handle"},F_={name:"center"};const{abs:M9,max:Lo,min:Po}=Math;function w9(t){return[+t[0],+t[1]]}function RO(t){return[w9(t[0]),w9(t[1])]}var LE={name:"x",handles:["w","e"].map(JS),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},PE={name:"y",handles:["n","s"].map(JS),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},uve={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(JS),input:function(t){return t==null?null:RO(t)},output:function(t){return t}},Kp={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},E9={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},T9={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},fve={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},hve={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function JS(t){return{type:t}}function dve(t){return!t.ctrlKey&&!t.button}function pve(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function mve(){return navigator.maxTouchPoints||"ontouchstart"in this}function EB(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function gve(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function vve(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function VX(){return xP(LE)}function yve(){return xP(PE)}function xve(){return xP(uve)}function xP(t){var e=pve,n=dve,i=mve,r=!0,a=hx("start","brush","end"),s=6,o;function l(b){var A=b.property("__brush",S).selectAll(".overlay").data([JS("overlay")]);A.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Kp.overlay).merge(A).each(function(){var R=EB(this).extent;es(this).attr("x",R[0][0]).attr("y",R[0][1]).attr("width",R[1][0]-R[0][0]).attr("height",R[1][1]-R[0][1])}),b.selectAll(".selection").data([JS("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Kp.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var T=b.selectAll(".handle").data(t.handles,function(R){return R.type});T.exit().remove(),T.enter().append("rect").attr("class",function(R){return"handle handle--"+R.type}).attr("cursor",function(R){return Kp[R.type]}),b.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",p).filter(i).on("touchstart.brush",p).on("touchmove.brush",v).on("touchend.brush touchcancel.brush",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(b,A,T){b.tween?b.on("start.brush",function(R){f(this,arguments).beforestart().start(R)}).on("interrupt.brush end.brush",function(R){f(this,arguments).end(R)}).tween("brush",function(){var R=this,C=R.__brush,L=f(R,arguments),P=C.selection,k=t.input(typeof A=="function"?A.apply(this,arguments):A,C.extent),G=M0(P,k);function z(F){C.selection=F===1&&k===null?null:G(F),c.call(R),L.brush()}return P!==null&&k!==null?z:z(1)}):b.each(function(){var R=this,C=arguments,L=R.__brush,P=t.input(typeof A=="function"?A.apply(R,C):A,L.extent),k=f(R,C).beforestart();Ly(R),L.selection=P===null?null:P,c.call(R),k.start(T).brush(T).end(T)})},l.clear=function(b,A){l.move(b,null,A)};function c(){var b=es(this),A=EB(this).selection;A?(b.selectAll(".selection").style("display",null).attr("x",A[0][0]).attr("y",A[0][1]).attr("width",A[1][0]-A[0][0]).attr("height",A[1][1]-A[0][1]),b.selectAll(".handle").style("display",null).attr("x",function(T){return T.type[T.type.length-1]==="e"?A[1][0]-s/2:A[0][0]-s/2}).attr("y",function(T){return T.type[0]==="s"?A[1][1]-s/2:A[0][1]-s/2}).attr("width",function(T){return T.type==="n"||T.type==="s"?A[1][0]-A[0][0]+s:s}).attr("height",function(T){return T.type==="e"||T.type==="w"?A[1][1]-A[0][1]+s:s})):b.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(b,A,T){var R=b.__brush.emitter;return R&&(!T||!R.clean)?R:new d(b,A,T)}function d(b,A,T){this.that=b,this.args=A,this.state=b.__brush,this.active=0,this.clean=T}d.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(b,A){return this.starting?(this.starting=!1,this.emit("start",b,A)):this.emit("brush",b),this},brush:function(b,A){return this.emit("brush",b,A),this},end:function(b,A){return--this.active===0&&(delete this.state.emitter,this.emit("end",b,A)),this},emit:function(b,A,T){var R=es(this.that).datum();a.call(b,this.that,new lve(b,{sourceEvent:A,target:l,selection:t.output(this.state.selection),mode:T,dispatch:a}),R)}};function p(b){if(o&&!b.touches||!n.apply(this,arguments))return;var A=this,T=b.target.__data__.type,R=(r&&b.metaKey?T="overlay":T)==="selection"?S9:r&&b.altKey?F_:I_,C=t===PE?null:fve[T],L=t===LE?null:hve[T],P=EB(A),k=P.extent,G=P.selection,z=k[0][0],F,j,ne=k[0][1],W,Y,K=k[1][0],H,J,Q=k[1][1],ie,V,$=0,oe=0,de,fe=C&&L&&r&&b.shiftKey,ge,Se,De=Array.from(b.touches||[b],_e=>{const Le=_e.identifier;return _e=Cc(_e,A),_e.point0=_e.slice(),_e.identifier=Le,_e});Ly(A);var He=f(A,arguments,!0).beforestart();if(T==="overlay"){G&&(de=!0);const _e=[De[0],De[1]||De[0]];P.selection=G=[[F=t===PE?z:Po(_e[0][0],_e[1][0]),W=t===LE?ne:Po(_e[0][1],_e[1][1])],[H=t===PE?K:Lo(_e[0][0],_e[1][0]),ie=t===LE?Q:Lo(_e[0][1],_e[1][1])]],De.length>1&&st(b)}else F=G[0][0],W=G[0][1],H=G[1][0],ie=G[1][1];j=F,Y=W,J=H,V=ie;var Fe=es(A).attr("pointer-events","none"),ke=Fe.selectAll(".overlay").attr("cursor",Kp[T]);if(b.touches)He.moved=Re,He.ended=pe;else{var Qe=es(b.view).on("mousemove.brush",Re,!0).on("mouseup.brush",pe,!0);r&&Qe.on("keydown.brush",St,!0).on("keyup.brush",Ie,!0),d3(b.view)}c.call(A),He.start(b,R.name);function Re(_e){for(const Le of _e.changedTouches||[_e])for(const pt of De)pt.identifier===Le.identifier&&(pt.cur=Cc(Le,A));if(fe&&!ge&&!Se&&De.length===1){const Le=De[0];M9(Le.cur[0]-Le[0])>M9(Le.cur[1]-Le[1])?Se=!0:ge=!0}for(const Le of De)Le.cur&&(Le[0]=Le.cur[0],Le[1]=Le.cur[1]);de=!0,MB(_e),st(_e)}function st(_e){const Le=De[0],pt=Le.point0;var ze;switch($=Le[0]-pt[0],oe=Le[1]-pt[1],R){case wB:case S9:{C&&($=Lo(z-F,Po(K-H,$)),j=F+$,J=H+$),L&&(oe=Lo(ne-W,Po(Q-ie,oe)),Y=W+oe,V=ie+oe);break}case I_:{De[1]?(C&&(j=Lo(z,Po(K,De[0][0])),J=Lo(z,Po(K,De[1][0])),C=1),L&&(Y=Lo(ne,Po(Q,De[0][1])),V=Lo(ne,Po(Q,De[1][1])),L=1)):(C<0?($=Lo(z-F,Po(K-F,$)),j=F+$,J=H):C>0&&($=Lo(z-H,Po(K-H,$)),j=F,J=H+$),L<0?(oe=Lo(ne-W,Po(Q-W,oe)),Y=W+oe,V=ie):L>0&&(oe=Lo(ne-ie,Po(Q-ie,oe)),Y=W,V=ie+oe));break}case F_:{C&&(j=Lo(z,Po(K,F-$*C)),J=Lo(z,Po(K,H+$*C))),L&&(Y=Lo(ne,Po(Q,W-oe*L)),V=Lo(ne,Po(Q,ie+oe*L)));break}}J<j&&(C*=-1,ze=F,F=H,H=ze,ze=j,j=J,J=ze,T in E9&&ke.attr("cursor",Kp[T=E9[T]])),V<Y&&(L*=-1,ze=W,W=ie,ie=ze,ze=Y,Y=V,V=ze,T in T9&&ke.attr("cursor",Kp[T=T9[T]])),P.selection&&(G=P.selection),ge&&(j=G[0][0],J=G[1][0]),Se&&(Y=G[0][1],V=G[1][1]),(G[0][0]!==j||G[0][1]!==Y||G[1][0]!==J||G[1][1]!==V)&&(P.selection=[[j,Y],[J,V]],c.call(A),He.brush(_e,R.name))}function pe(_e){if(cve(_e),_e.touches){if(_e.touches.length)return;o&&clearTimeout(o),o=setTimeout(function(){o=null},500)}else p3(_e.view,de),Qe.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Fe.attr("pointer-events","all"),ke.attr("cursor",Kp.overlay),P.selection&&(G=P.selection),gve(G)&&(P.selection=null,c.call(A)),He.end(_e,R.name)}function St(_e){switch(_e.keyCode){case 16:{fe=C&&L;break}case 18:{R===I_&&(C&&(H=J-$*C,F=j+$*C),L&&(ie=V-oe*L,W=Y+oe*L),R=F_,st(_e));break}case 32:{(R===I_||R===F_)&&(C<0?H=J-$:C>0&&(F=j-$),L<0?ie=V-oe:L>0&&(W=Y-oe),R=wB,ke.attr("cursor",Kp.selection),st(_e));break}default:return}MB(_e)}function Ie(_e){switch(_e.keyCode){case 16:{fe&&(ge=Se=fe=!1,st(_e));break}case 18:{R===F_&&(C<0?H=J:C>0&&(F=j),L<0?ie=V:L>0&&(W=Y),R=I_,st(_e));break}case 32:{R===wB&&(_e.altKey?(C&&(H=J-$*C,F=j+$*C),L&&(ie=V-oe*L,W=Y+oe*L),R=F_):(C<0?H=J:C>0&&(F=j),L<0?ie=V:L>0&&(W=Y),R=I_),ke.attr("cursor",Kp[T]),st(_e));break}default:return}MB(_e)}}function v(b){f(this,arguments).moved(b)}function _(b){f(this,arguments).ended(b)}function S(){var b=this.__brush||{selection:null};return b.extent=RO(e.apply(this,arguments)),b.dim=t,b}return l.extent=function(b){return arguments.length?(e=typeof b=="function"?b:SB(RO(b)),l):e},l.filter=function(b){return arguments.length?(n=typeof b=="function"?b:SB(!!b),l):n},l.touchable=function(b){return arguments.length?(i=typeof b=="function"?b:SB(!!b),l):i},l.handleSize=function(b){return arguments.length?(s=+b,l):s},l.keyModifiers=function(b){return arguments.length?(r=!!b,l):r},l.on=function(){var b=a.on.apply(a,arguments);return b===a?l:b},l}var C9=Math.abs,z_=Math.cos,H_=Math.sin,XX=Math.PI,R2=XX/2,R9=XX*2,N9=Math.max,TB=1e-12;function CB(t,e){return Array.from({length:e-t},(n,i)=>t+i)}function _ve(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function bve(){return _P(!1,!1)}function Ave(){return _P(!1,!0)}function Sve(){return _P(!0,!1)}function _P(t,e){var n=0,i=null,r=null,a=null;function s(o){var l=o.length,c=new Array(l),f=CB(0,l),d=new Array(l*l),p=new Array(l),v=0,_;o=Float64Array.from({length:l*l},e?(S,b)=>o[b%l][b/l|0]:(S,b)=>o[b/l|0][b%l]);for(let S=0;S<l;++S){let b=0;for(let A=0;A<l;++A)b+=o[S*l+A]+t*o[A*l+S];v+=c[S]=b}v=N9(0,R9-n*l)/v,_=v?n:R9/l;{let S=0;i&&f.sort((b,A)=>i(c[b],c[A]));for(const b of f){const A=S;if(t){const T=CB(~l+1,l).filter(R=>R<0?o[~R*l+b]:o[b*l+R]);r&&T.sort((R,C)=>r(R<0?-o[~R*l+b]:o[b*l+R],C<0?-o[~C*l+b]:o[b*l+C]));for(const R of T)if(R<0){const C=d[~R*l+b]||(d[~R*l+b]={source:null,target:null});C.target={index:b,startAngle:S,endAngle:S+=o[~R*l+b]*v,value:o[~R*l+b]}}else{const C=d[b*l+R]||(d[b*l+R]={source:null,target:null});C.source={index:b,startAngle:S,endAngle:S+=o[b*l+R]*v,value:o[b*l+R]}}p[b]={index:b,startAngle:A,endAngle:S,value:c[b]}}else{const T=CB(0,l).filter(R=>o[b*l+R]||o[R*l+b]);r&&T.sort((R,C)=>r(o[b*l+R],o[b*l+C]));for(const R of T){let C;if(b<R?(C=d[b*l+R]||(d[b*l+R]={source:null,target:null}),C.source={index:b,startAngle:S,endAngle:S+=o[b*l+R]*v,value:o[b*l+R]}):(C=d[R*l+b]||(d[R*l+b]={source:null,target:null}),C.target={index:b,startAngle:S,endAngle:S+=o[b*l+R]*v,value:o[b*l+R]},b===R&&(C.source=C.target)),C.source&&C.target&&C.source.value<C.target.value){const L=C.source;C.source=C.target,C.target=L}}p[b]={index:b,startAngle:A,endAngle:S,value:c[b]}}S+=_}}return d=Object.values(d),d.groups=p,a?d.sort(a):d}return s.padAngle=function(o){return arguments.length?(n=N9(0,o),s):n},s.sortGroups=function(o){return arguments.length?(i=o,s):i},s.sortSubgroups=function(o){return arguments.length?(r=o,s):r},s.sortChords=function(o){return arguments.length?(o==null?a=null:(a=_ve(o))._=o,s):a&&a._},s}const NO=Math.PI,DO=2*NO,ny=1e-6,Mve=DO-ny;function qX(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function wve(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return qX;const n=10**e;return function(i){this._+=i[0];for(let r=1,a=i.length;r<a;++r)this._+=Math.round(arguments[r]*n)/n+i[r]}}let PM=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?qX:wve(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,r){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,n,i,r,a,s){this._append`C${+e},${+n},${+i},${+r},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,i,r,a){if(e=+e,n=+n,i=+i,r=+r,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=i-e,c=r-n,f=s-e,d=o-n,p=f*f+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>ny)if(!(Math.abs(d*l-c*f)>ny)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let v=i-s,_=r-o,S=l*l+c*c,b=v*v+_*_,A=Math.sqrt(S),T=Math.sqrt(p),R=a*Math.tan((NO-Math.acos((S+p-b)/(2*A*T)))/2),C=R/T,L=R/A;Math.abs(C-1)>ny&&this._append`L${e+C*f},${n+C*d}`,this._append`A${a},${a},0,0,${+(d*v>f*_)},${this._x1=e+L*l},${this._y1=n+L*c}`}}arc(e,n,i,r,a,s){if(e=+e,n=+n,i=+i,s=!!s,i<0)throw new Error(`negative radius: ${i}`);let o=i*Math.cos(r),l=i*Math.sin(r),c=e+o,f=n+l,d=1^s,p=s?r-a:a-r;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>ny||Math.abs(this._y1-f)>ny)&&this._append`L${c},${f}`,i&&(p<0&&(p=p%DO+DO),p>Mve?this._append`A${i},${i},0,1,${d},${e-o},${n-l}A${i},${i},0,1,${d},${this._x1=c},${this._y1=f}`:p>ny&&this._append`A${i},${i},0,${+(p>=NO)},${d},${this._x1=e+i*Math.cos(a)},${this._y1=n+i*Math.sin(a)}`)}rect(e,n,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}};function bP(){return new PM}bP.prototype=PM.prototype;function Eve(t=3){return new PM(+t)}var Tve=Array.prototype.slice;function qv(t){return function(){return t}}function Cve(t){return t.source}function Rve(t){return t.target}function D9(t){return t.radius}function Nve(t){return t.startAngle}function Dve(t){return t.endAngle}function Bve(){return 0}function Ove(){return 10}function YX(t){var e=Cve,n=Rve,i=D9,r=D9,a=Nve,s=Dve,o=Bve,l=null;function c(){var f,d=e.apply(this,arguments),p=n.apply(this,arguments),v=o.apply(this,arguments)/2,_=Tve.call(arguments),S=+i.apply(this,(_[0]=d,_)),b=a.apply(this,_)-R2,A=s.apply(this,_)-R2,T=+r.apply(this,(_[0]=p,_)),R=a.apply(this,_)-R2,C=s.apply(this,_)-R2;if(l||(l=f=bP()),v>TB&&(C9(A-b)>v*2+TB?A>b?(b+=v,A-=v):(b-=v,A+=v):b=A=(b+A)/2,C9(C-R)>v*2+TB?C>R?(R+=v,C-=v):(R-=v,C+=v):R=C=(R+C)/2),l.moveTo(S*z_(b),S*H_(b)),l.arc(0,0,S,b,A),b!==R||A!==C)if(t){var L=+t.apply(this,arguments),P=T-L,k=(R+C)/2;l.quadraticCurveTo(0,0,P*z_(R),P*H_(R)),l.lineTo(T*z_(k),T*H_(k)),l.lineTo(P*z_(C),P*H_(C))}else l.quadraticCurveTo(0,0,T*z_(R),T*H_(R)),l.arc(0,0,T,R,C);if(l.quadraticCurveTo(0,0,S*z_(b),S*H_(b)),l.closePath(),f)return l=null,f+""||null}return t&&(c.headRadius=function(f){return arguments.length?(t=typeof f=="function"?f:qv(+f),c):t}),c.radius=function(f){return arguments.length?(i=r=typeof f=="function"?f:qv(+f),c):i},c.sourceRadius=function(f){return arguments.length?(i=typeof f=="function"?f:qv(+f),c):i},c.targetRadius=function(f){return arguments.length?(r=typeof f=="function"?f:qv(+f),c):r},c.startAngle=function(f){return arguments.length?(a=typeof f=="function"?f:qv(+f),c):a},c.endAngle=function(f){return arguments.length?(s=typeof f=="function"?f:qv(+f),c):s},c.padAngle=function(f){return arguments.length?(o=typeof f=="function"?f:qv(+f),c):o},c.source=function(f){return arguments.length?(e=f,c):e},c.target=function(f){return arguments.length?(n=f,c):n},c.context=function(f){return arguments.length?(l=f??null,c):l},c}function Lve(){return YX()}function Pve(){return YX(Ove)}var Uve=Array.prototype,WX=Uve.slice;function Ive(t,e){return t-e}function Fve(t){for(var e=0,n=t.length,i=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)i+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return i}const Xg=t=>()=>t;function zve(t,e){for(var n=-1,i=e.length,r;++n<i;)if(r=Hve(t,e[n]))return r;return 0}function Hve(t,e){for(var n=e[0],i=e[1],r=-1,a=0,s=t.length,o=s-1;a<s;o=a++){var l=t[a],c=l[0],f=l[1],d=t[o],p=d[0],v=d[1];if(kve(l,d,e))return 0;f>i!=v>i&&n<(p-c)*(i-f)/(v-f)+c&&(r=-r)}return r}function kve(t,e,n){var i;return Gve(t,e,n)&&jve(t[i=+(t[0]===e[0])],n[i],e[i])}function Gve(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}function jve(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}function Vve(){}var $p=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function BO(){var t=1,e=1,n=QL,i=l;function r(c){var f=n(c);if(Array.isArray(f))f=f.slice().sort(Ive);else{const d=Dy(c,Xve);for(f=Yy(...ZL(d[0],d[1],f),f);f[f.length-1]>=d[1];)f.pop();for(;f[1]<d[0];)f.shift()}return f.map(d=>a(c,d))}function a(c,f){const d=f==null?NaN:+f;if(isNaN(d))throw new Error(`invalid value: ${f}`);var p=[],v=[];return s(c,d,function(_){i(_,c,d),Fve(_)>0?p.push([_]):v.push(_)}),v.forEach(function(_){for(var S=0,b=p.length,A;S<b;++S)if(zve((A=p[S])[0],_)!==-1){A.push(_);return}}),{type:"MultiPolygon",value:f,coordinates:p}}function s(c,f,d){var p=new Array,v=new Array,_,S,b,A,T,R;for(_=S=-1,A=Yv(c[0],f),$p[A<<1].forEach(C);++_<t-1;)b=A,A=Yv(c[_+1],f),$p[b|A<<1].forEach(C);for($p[A<<0].forEach(C);++S<e-1;){for(_=-1,A=Yv(c[S*t+t],f),T=Yv(c[S*t],f),$p[A<<1|T<<2].forEach(C);++_<t-1;)b=A,A=Yv(c[S*t+t+_+1],f),R=T,T=Yv(c[S*t+_+1],f),$p[b|A<<1|T<<2|R<<3].forEach(C);$p[A|T<<3].forEach(C)}for(_=-1,T=c[S*t]>=f,$p[T<<2].forEach(C);++_<t-1;)R=T,T=Yv(c[S*t+_+1],f),$p[T<<2|R<<3].forEach(C);$p[T<<3].forEach(C);function C(L){var P=[L[0][0]+_,L[0][1]+S],k=[L[1][0]+_,L[1][1]+S],G=o(P),z=o(k),F,j;(F=v[G])?(j=p[z])?(delete v[F.end],delete p[j.start],F===j?(F.ring.push(k),d(F.ring)):p[F.start]=v[j.end]={start:F.start,end:j.end,ring:F.ring.concat(j.ring)}):(delete v[F.end],F.ring.push(k),v[F.end=z]=F):(F=p[z])?(j=v[G])?(delete p[F.start],delete v[j.end],F===j?(F.ring.push(k),d(F.ring)):p[j.start]=v[F.end]={start:j.start,end:F.end,ring:j.ring.concat(F.ring)}):(delete p[F.start],F.ring.unshift(P),p[F.start=G]=F):p[G]=v[z]={start:G,end:z,ring:[P,k]}}}function o(c){return c[0]*2+c[1]*(t+1)*4}function l(c,f,d){c.forEach(function(p){var v=p[0],_=p[1],S=v|0,b=_|0,A=RB(f[b*t+S]);v>0&&v<t&&S===v&&(p[0]=B9(v,RB(f[b*t+S-1]),A,d)),_>0&&_<e&&b===_&&(p[1]=B9(_,RB(f[(b-1)*t+S]),A,d))})}return r.contour=a,r.size=function(c){if(!arguments.length)return[t,e];var f=Math.floor(c[0]),d=Math.floor(c[1]);if(!(f>=0&&d>=0))throw new Error("invalid size");return t=f,e=d,r},r.thresholds=function(c){return arguments.length?(n=typeof c=="function"?c:Array.isArray(c)?Xg(WX.call(c)):Xg(c),r):n},r.smooth=function(c){return arguments.length?(i=c?l:Vve,r):i===l},r}function Xve(t){return isFinite(t)?t:NaN}function Yv(t,e){return t==null?!1:+t>=e}function RB(t){return t==null||isNaN(t=+t)?-1/0:t}function B9(t,e,n,i){const r=i-e,a=n-e,s=isFinite(r)||isFinite(a)?r/a:Math.sign(r)/Math.sign(a);return isNaN(s)?t:t+s-.5}function qve(t){return t[0]}function Yve(t){return t[1]}function Wve(){return 1}function Jve(){var t=qve,e=Yve,n=Wve,i=960,r=500,a=20,s=2,o=a*3,l=i+o*2>>s,c=r+o*2>>s,f=Xg(20);function d(T){var R=new Float32Array(l*c),C=Math.pow(2,-s),L=-1;for(const W of T){var P=(t(W,++L,T)+o)*C,k=(e(W,L,T)+o)*C,G=+n(W,L,T);if(G&&P>=0&&P<l&&k>=0&&k<c){var z=Math.floor(P),F=Math.floor(k),j=P-z-.5,ne=k-F-.5;R[z+F*l]+=(1-j)*(1-ne)*G,R[z+1+F*l]+=j*(1-ne)*G,R[z+1+(F+1)*l]+=j*ne*G,R[z+(F+1)*l]+=(1-j)*ne*G}}return EV({data:R,width:l,height:c},a*C),R}function p(T){var R=d(T),C=f(R),L=Math.pow(2,2*s);return Array.isArray(C)||(C=Yy(Number.MIN_VALUE,Ob(R)/L,C)),BO().size([l,c]).thresholds(C.map(P=>P*L))(R).map((P,k)=>(P.value=+C[k],v(P)))}p.contours=function(T){var R=d(T),C=BO().size([l,c]),L=Math.pow(2,2*s),P=k=>{k=+k;var G=v(C.contour(R,k*L));return G.value=k,G};return Object.defineProperty(P,"max",{get:()=>Ob(R)/L}),P};function v(T){return T.coordinates.forEach(_),T}function _(T){T.forEach(S)}function S(T){T.forEach(b)}function b(T){T[0]=T[0]*Math.pow(2,s)-o,T[1]=T[1]*Math.pow(2,s)-o}function A(){return o=a*3,l=i+o*2>>s,c=r+o*2>>s,p}return p.x=function(T){return arguments.length?(t=typeof T=="function"?T:Xg(+T),p):t},p.y=function(T){return arguments.length?(e=typeof T=="function"?T:Xg(+T),p):e},p.weight=function(T){return arguments.length?(n=typeof T=="function"?T:Xg(+T),p):n},p.size=function(T){if(!arguments.length)return[i,r];var R=+T[0],C=+T[1];if(!(R>=0&&C>=0))throw new Error("invalid size");return i=R,r=C,A()},p.cellSize=function(T){if(!arguments.length)return 1<<s;if(!((T=+T)>=1))throw new Error("invalid cell size");return s=Math.floor(Math.log(T)/Math.LN2),A()},p.thresholds=function(T){return arguments.length?(f=typeof T=="function"?T:Array.isArray(T)?Xg(WX.call(T)):Xg(T),p):f},p.bandwidth=function(T){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((T=+T)>=0))throw new Error("invalid bandwidth");return a=(Math.sqrt(4*T*T+1)-1)/2,A()},p}const Em=11102230246251565e-32,Uo=134217729,Kve=(3+8*Em)*Em;function NB(t,e,n,i,r){let a,s,o,l,c=e[0],f=i[0],d=0,p=0;f>c==f>-c?(a=c,c=e[++d]):(a=f,f=i[++p]);let v=0;if(d<t&&p<n)for(f>c==f>-c?(s=c+a,o=a-(s-c),c=e[++d]):(s=f+a,o=a-(s-f),f=i[++p]),a=s,o!==0&&(r[v++]=o);d<t&&p<n;)f>c==f>-c?(s=a+c,l=s-a,o=a-(s-l)+(c-l),c=e[++d]):(s=a+f,l=s-a,o=a-(s-l)+(f-l),f=i[++p]),a=s,o!==0&&(r[v++]=o);for(;d<t;)s=a+c,l=s-a,o=a-(s-l)+(c-l),c=e[++d],a=s,o!==0&&(r[v++]=o);for(;p<n;)s=a+f,l=s-a,o=a-(s-l)+(f-l),f=i[++p],a=s,o!==0&&(r[v++]=o);return(a!==0||v===0)&&(r[v++]=a),v}function $ve(t,e){let n=e[0];for(let i=1;i<t;i++)n+=e[i];return n}function UM(t){return new Float64Array(t)}const Zve=(3+16*Em)*Em,Qve=(2+12*Em)*Em,eye=(9+64*Em)*Em*Em,k_=UM(4),O9=UM(8),L9=UM(12),P9=UM(16),El=UM(4);function tye(t,e,n,i,r,a,s){let o,l,c,f,d,p,v,_,S,b,A,T,R,C,L,P,k,G;const z=t-r,F=n-r,j=e-a,ne=i-a;C=z*ne,p=Uo*z,v=p-(p-z),_=z-v,p=Uo*ne,S=p-(p-ne),b=ne-S,L=_*b-(C-v*S-_*S-v*b),P=j*F,p=Uo*j,v=p-(p-j),_=j-v,p=Uo*F,S=p-(p-F),b=F-S,k=_*b-(P-v*S-_*S-v*b),A=L-k,d=L-A,k_[0]=L-(A+d)+(d-k),T=C+A,d=T-C,R=C-(T-d)+(A-d),A=R-P,d=R-A,k_[1]=R-(A+d)+(d-P),G=T+A,d=G-T,k_[2]=T-(G-d)+(A-d),k_[3]=G;let W=$ve(4,k_),Y=Qve*s;if(W>=Y||-W>=Y||(d=t-z,o=t-(z+d)+(d-r),d=n-F,c=n-(F+d)+(d-r),d=e-j,l=e-(j+d)+(d-a),d=i-ne,f=i-(ne+d)+(d-a),o===0&&l===0&&c===0&&f===0)||(Y=eye*s+Kve*Math.abs(W),W+=z*f+ne*o-(j*c+F*l),W>=Y||-W>=Y))return W;C=o*ne,p=Uo*o,v=p-(p-o),_=o-v,p=Uo*ne,S=p-(p-ne),b=ne-S,L=_*b-(C-v*S-_*S-v*b),P=l*F,p=Uo*l,v=p-(p-l),_=l-v,p=Uo*F,S=p-(p-F),b=F-S,k=_*b-(P-v*S-_*S-v*b),A=L-k,d=L-A,El[0]=L-(A+d)+(d-k),T=C+A,d=T-C,R=C-(T-d)+(A-d),A=R-P,d=R-A,El[1]=R-(A+d)+(d-P),G=T+A,d=G-T,El[2]=T-(G-d)+(A-d),El[3]=G;const K=NB(4,k_,4,El,O9);C=z*f,p=Uo*z,v=p-(p-z),_=z-v,p=Uo*f,S=p-(p-f),b=f-S,L=_*b-(C-v*S-_*S-v*b),P=j*c,p=Uo*j,v=p-(p-j),_=j-v,p=Uo*c,S=p-(p-c),b=c-S,k=_*b-(P-v*S-_*S-v*b),A=L-k,d=L-A,El[0]=L-(A+d)+(d-k),T=C+A,d=T-C,R=C-(T-d)+(A-d),A=R-P,d=R-A,El[1]=R-(A+d)+(d-P),G=T+A,d=G-T,El[2]=T-(G-d)+(A-d),El[3]=G;const H=NB(K,O9,4,El,L9);C=o*f,p=Uo*o,v=p-(p-o),_=o-v,p=Uo*f,S=p-(p-f),b=f-S,L=_*b-(C-v*S-_*S-v*b),P=l*c,p=Uo*l,v=p-(p-l),_=l-v,p=Uo*c,S=p-(p-c),b=c-S,k=_*b-(P-v*S-_*S-v*b),A=L-k,d=L-A,El[0]=L-(A+d)+(d-k),T=C+A,d=T-C,R=C-(T-d)+(A-d),A=R-P,d=R-A,El[1]=R-(A+d)+(d-P),G=T+A,d=G-T,El[2]=T-(G-d)+(A-d),El[3]=G;const J=NB(H,L9,4,El,P9);return P9[J-1]}function N2(t,e,n,i,r,a){const s=(e-a)*(n-r),o=(t-r)*(i-a),l=s-o,c=Math.abs(s+o);return Math.abs(l)>=Zve*c?l:-tye(t,e,n,i,r,a,c)}const U9=Math.pow(2,-52),D2=new Uint32Array(512);class uC{static from(e,n=sye,i=oye){const r=e.length,a=new Float64Array(r*2);for(let s=0;s<r;s++){const o=e[s];a[2*s]=n(o),a[2*s+1]=i(o)}return new uC(a)}constructor(e){const n=e.length>>1;if(n>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const i=Math.max(2*n-5,0);this._triangles=new Uint32Array(i*3),this._halfedges=new Int32Array(i*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:e,_hullPrev:n,_hullNext:i,_hullTri:r,_hullHash:a}=this,s=e.length>>1;let o=1/0,l=1/0,c=-1/0,f=-1/0;for(let z=0;z<s;z++){const F=e[2*z],j=e[2*z+1];F<o&&(o=F),j<l&&(l=j),F>c&&(c=F),j>f&&(f=j),this._ids[z]=z}const d=(o+c)/2,p=(l+f)/2;let v,_,S;for(let z=0,F=1/0;z<s;z++){const j=DB(d,p,e[2*z],e[2*z+1]);j<F&&(v=z,F=j)}const b=e[2*v],A=e[2*v+1];for(let z=0,F=1/0;z<s;z++){if(z===v)continue;const j=DB(b,A,e[2*z],e[2*z+1]);j<F&&j>0&&(_=z,F=j)}let T=e[2*_],R=e[2*_+1],C=1/0;for(let z=0;z<s;z++){if(z===v||z===_)continue;const F=rye(b,A,T,R,e[2*z],e[2*z+1]);F<C&&(S=z,C=F)}let L=e[2*S],P=e[2*S+1];if(C===1/0){for(let j=0;j<s;j++)this._dists[j]=e[2*j]-e[0]||e[2*j+1]-e[1];Q_(this._ids,this._dists,0,s-1);const z=new Uint32Array(s);let F=0;for(let j=0,ne=-1/0;j<s;j++){const W=this._ids[j],Y=this._dists[W];Y>ne&&(z[F++]=W,ne=Y)}this.hull=z.subarray(0,F),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(N2(b,A,T,R,L,P)<0){const z=_,F=T,j=R;_=S,T=L,R=P,S=z,L=F,P=j}const k=aye(b,A,T,R,L,P);this._cx=k.x,this._cy=k.y;for(let z=0;z<s;z++)this._dists[z]=DB(e[2*z],e[2*z+1],k.x,k.y);Q_(this._ids,this._dists,0,s-1),this._hullStart=v;let G=3;i[v]=n[S]=_,i[_]=n[v]=S,i[S]=n[_]=v,r[v]=0,r[_]=1,r[S]=2,a.fill(-1),a[this._hashKey(b,A)]=v,a[this._hashKey(T,R)]=_,a[this._hashKey(L,P)]=S,this.trianglesLen=0,this._addTriangle(v,_,S,-1,-1,-1);for(let z=0,F,j;z<this._ids.length;z++){const ne=this._ids[z],W=e[2*ne],Y=e[2*ne+1];if(z>0&&Math.abs(W-F)<=U9&&Math.abs(Y-j)<=U9||(F=W,j=Y,ne===v||ne===_||ne===S))continue;let K=0;for(let V=0,$=this._hashKey(W,Y);V<this._hashSize&&(K=a[($+V)%this._hashSize],!(K!==-1&&K!==i[K]));V++);K=n[K];let H=K,J;for(;J=i[H],N2(W,Y,e[2*H],e[2*H+1],e[2*J],e[2*J+1])>=0;)if(H=J,H===K){H=-1;break}if(H===-1)continue;let Q=this._addTriangle(H,ne,i[H],-1,-1,r[H]);r[ne]=this._legalize(Q+2),r[H]=Q,G++;let ie=i[H];for(;J=i[ie],N2(W,Y,e[2*ie],e[2*ie+1],e[2*J],e[2*J+1])<0;)Q=this._addTriangle(ie,ne,J,r[ne],-1,r[ie]),r[ne]=this._legalize(Q+2),i[ie]=ie,G--,ie=J;if(H===K)for(;J=n[H],N2(W,Y,e[2*J],e[2*J+1],e[2*H],e[2*H+1])<0;)Q=this._addTriangle(J,ne,H,-1,r[H],r[J]),this._legalize(Q+2),r[J]=Q,i[H]=H,G--,H=J;this._hullStart=n[ne]=H,i[H]=n[ie]=ne,i[ne]=ie,a[this._hashKey(W,Y)]=ne,a[this._hashKey(e[2*H],e[2*H+1])]=H}this.hull=new Uint32Array(G);for(let z=0,F=this._hullStart;z<G;z++)this.hull[z]=F,F=i[F];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,n){return Math.floor(nye(e-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:n,_halfedges:i,coords:r}=this;let a=0,s=0;for(;;){const o=i[e],l=e-e%3;if(s=l+(e+2)%3,o===-1){if(a===0)break;e=D2[--a];continue}const c=o-o%3,f=l+(e+1)%3,d=c+(o+2)%3,p=n[s],v=n[e],_=n[f],S=n[d];if(iye(r[2*p],r[2*p+1],r[2*v],r[2*v+1],r[2*_],r[2*_+1],r[2*S],r[2*S+1])){n[e]=S,n[o]=p;const A=i[d];if(A===-1){let R=this._hullStart;do{if(this._hullTri[R]===d){this._hullTri[R]=e;break}R=this._hullPrev[R]}while(R!==this._hullStart)}this._link(e,A),this._link(o,i[s]),this._link(s,d);const T=c+(o+1)%3;a<D2.length&&(D2[a++]=T)}else{if(a===0)break;e=D2[--a]}}return s}_link(e,n){this._halfedges[e]=n,n!==-1&&(this._halfedges[n]=e)}_addTriangle(e,n,i,r,a,s){const o=this.trianglesLen;return this._triangles[o]=e,this._triangles[o+1]=n,this._triangles[o+2]=i,this._link(o,r),this._link(o+1,a),this._link(o+2,s),this.trianglesLen+=3,o}}function nye(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}function DB(t,e,n,i){const r=t-n,a=e-i;return r*r+a*a}function iye(t,e,n,i,r,a,s,o){const l=t-s,c=e-o,f=n-s,d=i-o,p=r-s,v=a-o,_=l*l+c*c,S=f*f+d*d,b=p*p+v*v;return l*(d*b-S*v)-c*(f*b-S*p)+_*(f*v-d*p)<0}function rye(t,e,n,i,r,a){const s=n-t,o=i-e,l=r-t,c=a-e,f=s*s+o*o,d=l*l+c*c,p=.5/(s*c-o*l),v=(c*f-o*d)*p,_=(s*d-l*f)*p;return v*v+_*_}function aye(t,e,n,i,r,a){const s=n-t,o=i-e,l=r-t,c=a-e,f=s*s+o*o,d=l*l+c*c,p=.5/(s*c-o*l),v=t+(c*f-o*d)*p,_=e+(s*d-l*f)*p;return{x:v,y:_}}function Q_(t,e,n,i){if(i-n<=20)for(let r=n+1;r<=i;r++){const a=t[r],s=e[a];let o=r-1;for(;o>=n&&e[t[o]]>s;)t[o+1]=t[o--];t[o+1]=a}else{const r=n+i>>1;let a=n+1,s=i;oA(t,r,a),e[t[n]]>e[t[i]]&&oA(t,n,i),e[t[a]]>e[t[i]]&&oA(t,a,i),e[t[n]]>e[t[a]]&&oA(t,n,a);const o=t[a],l=e[o];for(;;){do a++;while(e[t[a]]<l);do s--;while(e[t[s]]>l);if(s<a)break;oA(t,a,s)}t[n+1]=t[s],t[s]=o,i-a+1>=s-n?(Q_(t,e,a,i),Q_(t,e,n,s-1)):(Q_(t,e,n,s-1),Q_(t,e,a,i))}}function oA(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function sye(t){return t[0]}function oye(t){return t[1]}const I9=1e-6;class My{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,n){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,n){this._+=`L${this._x1=+e},${this._y1=+n}`}arc(e,n,i){e=+e,n=+n,i=+i;const r=e+i,a=n;if(i<0)throw new Error("negative radius");this._x1===null?this._+=`M${r},${a}`:(Math.abs(this._x1-r)>I9||Math.abs(this._y1-a)>I9)&&(this._+="L"+r+","+a),i&&(this._+=`A${i},${i},0,1,1,${e-i},${n}A${i},${i},0,1,1,${this._x1=r},${this._y1=a}`)}rect(e,n,i,r){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${+i}v${+r}h${-i}Z`}value(){return this._||null}}class OO{constructor(){this._=[]}moveTo(e,n){this._.push([e,n])}closePath(){this._.push(this._[0].slice())}lineTo(e,n){this._.push([e,n])}value(){return this._.length?this._:null}}class JX{constructor(e,[n,i,r,a]=[0,0,960,500]){if(!((r=+r)>=(n=+n))||!((a=+a)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=r,this.xmin=n,this.ymax=a,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:n,triangles:i},vectors:r}=this;let a,s;const o=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let S=0,b=0,A=i.length,T,R;S<A;S+=3,b+=2){const C=i[S]*2,L=i[S+1]*2,P=i[S+2]*2,k=e[C],G=e[C+1],z=e[L],F=e[L+1],j=e[P],ne=e[P+1],W=z-k,Y=F-G,K=j-k,H=ne-G,J=(W*H-Y*K)*2;if(Math.abs(J)<1e-9){if(a===void 0){a=s=0;for(const ie of n)a+=e[ie*2],s+=e[ie*2+1];a/=n.length,s/=n.length}const Q=1e9*Math.sign((a-k)*H-(s-G)*K);T=(k+j)/2-Q*H,R=(G+ne)/2+Q*K}else{const Q=1/J,ie=W*W+Y*Y,V=K*K+H*H;T=k+(H*ie-Y*V)*Q,R=G+(W*V-K*ie)*Q}o[b]=T,o[b+1]=R}let l=n[n.length-1],c,f=l*4,d,p=e[2*l],v,_=e[2*l+1];r.fill(0);for(let S=0;S<n.length;++S)l=n[S],c=f,d=p,v=_,f=l*4,p=e[2*l],_=e[2*l+1],r[c+2]=r[f]=v-_,r[c+3]=r[f+1]=p-d}render(e){const n=e==null?e=new My:void 0,{delaunay:{halfedges:i,inedges:r,hull:a},circumcenters:s,vectors:o}=this;if(a.length<=1)return null;for(let f=0,d=i.length;f<d;++f){const p=i[f];if(p<f)continue;const v=Math.floor(f/3)*2,_=Math.floor(p/3)*2,S=s[v],b=s[v+1],A=s[_],T=s[_+1];this._renderSegment(S,b,A,T,e)}let l,c=a[a.length-1];for(let f=0;f<a.length;++f){l=c,c=a[f];const d=Math.floor(r[c]/3)*2,p=s[d],v=s[d+1],_=l*4,S=this._project(p,v,o[_+2],o[_+3]);S&&this._renderSegment(p,v,S[0],S[1],e)}return n&&n.value()}renderBounds(e){const n=e==null?e=new My:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(e,n){const i=n==null?n=new My:void 0,r=this._clip(e);if(r===null||!r.length)return;n.moveTo(r[0],r[1]);let a=r.length;for(;r[0]===r[a-2]&&r[1]===r[a-1]&&a>1;)a-=2;for(let s=2;s<a;s+=2)(r[s]!==r[s-2]||r[s+1]!==r[s-1])&&n.lineTo(r[s],r[s+1]);return n.closePath(),i&&i.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let n=0,i=e.length/2;n<i;++n){const r=this.cellPolygon(n);r&&(r.index=n,yield r)}}cellPolygon(e){const n=new OO;return this.renderCell(e,n),n.value()}_renderSegment(e,n,i,r,a){let s;const o=this._regioncode(e,n),l=this._regioncode(i,r);o===0&&l===0?(a.moveTo(e,n),a.lineTo(i,r)):(s=this._clipSegment(e,n,i,r,o,l))&&(a.moveTo(s[0],s[1]),a.lineTo(s[2],s[3]))}contains(e,n,i){return n=+n,n!==n||(i=+i,i!==i)?!1:this.delaunay._step(e,n,i)===e}*neighbors(e){const n=this._clip(e);if(n)for(const i of this.delaunay.neighbors(e)){const r=this._clip(i);if(r){e:for(let a=0,s=n.length;a<s;a+=2)for(let o=0,l=r.length;o<l;o+=2)if(n[a]===r[o]&&n[a+1]===r[o+1]&&n[(a+2)%s]===r[(o+l-2)%l]&&n[(a+3)%s]===r[(o+l-1)%l]){yield i;break e}}}}_cell(e){const{circumcenters:n,delaunay:{inedges:i,halfedges:r,triangles:a}}=this,s=i[e];if(s===-1)return null;const o=[];let l=s;do{const c=Math.floor(l/3);if(o.push(n[c*2],n[c*2+1]),l=l%3===2?l-2:l+1,a[l]!==e)break;l=r[l]}while(l!==s&&l!==-1);return o}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(e);if(n===null)return null;const{vectors:i}=this,r=e*4;return this._simplify(i[r]||i[r+1]?this._clipInfinite(e,n,i[r],i[r+1],i[r+2],i[r+3]):this._clipFinite(e,n))}_clipFinite(e,n){const i=n.length;let r=null,a,s,o=n[i-2],l=n[i-1],c,f=this._regioncode(o,l),d,p=0;for(let v=0;v<i;v+=2)if(a=o,s=l,o=n[v],l=n[v+1],c=f,f=this._regioncode(o,l),c===0&&f===0)d=p,p=0,r?r.push(o,l):r=[o,l];else{let _,S,b,A,T;if(c===0){if((_=this._clipSegment(a,s,o,l,c,f))===null)continue;[S,b,A,T]=_}else{if((_=this._clipSegment(o,l,a,s,f,c))===null)continue;[A,T,S,b]=_,d=p,p=this._edgecode(S,b),d&&p&&this._edge(e,d,p,r,r.length),r?r.push(S,b):r=[S,b]}d=p,p=this._edgecode(A,T),d&&p&&this._edge(e,d,p,r,r.length),r?r.push(A,T):r=[A,T]}if(r)d=p,p=this._edgecode(r[0],r[1]),d&&p&&this._edge(e,d,p,r,r.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return r}_clipSegment(e,n,i,r,a,s){const o=a<s;for(o&&([e,n,i,r,a,s]=[i,r,e,n,s,a]);;){if(a===0&&s===0)return o?[i,r,e,n]:[e,n,i,r];if(a&s)return null;let l,c,f=a||s;f&8?(l=e+(i-e)*(this.ymax-n)/(r-n),c=this.ymax):f&4?(l=e+(i-e)*(this.ymin-n)/(r-n),c=this.ymin):f&2?(c=n+(r-n)*(this.xmax-e)/(i-e),l=this.xmax):(c=n+(r-n)*(this.xmin-e)/(i-e),l=this.xmin),a?(e=l,n=c,a=this._regioncode(e,n)):(i=l,r=c,s=this._regioncode(i,r))}}_clipInfinite(e,n,i,r,a,s){let o=Array.from(n),l;if((l=this._project(o[0],o[1],i,r))&&o.unshift(l[0],l[1]),(l=this._project(o[o.length-2],o[o.length-1],a,s))&&o.push(l[0],l[1]),o=this._clipFinite(e,o))for(let c=0,f=o.length,d,p=this._edgecode(o[f-2],o[f-1]);c<f;c+=2)d=p,p=this._edgecode(o[c],o[c+1]),d&&p&&(c=this._edge(e,d,p,o,c),f=o.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(o=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return o}_edge(e,n,i,r,a){for(;n!==i;){let s,o;switch(n){case 5:n=4;continue;case 4:n=6,s=this.xmax,o=this.ymin;break;case 6:n=2;continue;case 2:n=10,s=this.xmax,o=this.ymax;break;case 10:n=8;continue;case 8:n=9,s=this.xmin,o=this.ymax;break;case 9:n=1;continue;case 1:n=5,s=this.xmin,o=this.ymin;break}(r[a]!==s||r[a+1]!==o)&&this.contains(e,s,o)&&(r.splice(a,0,s,o),a+=2)}return a}_project(e,n,i,r){let a=1/0,s,o,l;if(r<0){if(n<=this.ymin)return null;(s=(this.ymin-n)/r)<a&&(l=this.ymin,o=e+(a=s)*i)}else if(r>0){if(n>=this.ymax)return null;(s=(this.ymax-n)/r)<a&&(l=this.ymax,o=e+(a=s)*i)}if(i>0){if(e>=this.xmax)return null;(s=(this.xmax-e)/i)<a&&(o=this.xmax,l=n+(a=s)*r)}else if(i<0){if(e<=this.xmin)return null;(s=(this.xmin-e)/i)<a&&(o=this.xmin,l=n+(a=s)*r)}return[o,l]}_edgecode(e,n){return(e===this.xmin?1:e===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(e,n){return(e<this.xmin?1:e>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let n=0;n<e.length;n+=2){const i=(n+2)%e.length,r=(n+4)%e.length;(e[n]===e[i]&&e[i]===e[r]||e[n+1]===e[i+1]&&e[i+1]===e[r+1])&&(e.splice(i,2),n-=2)}e.length||(e=null)}return e}}const lye=2*Math.PI,G_=Math.pow;function cye(t){return t[0]}function uye(t){return t[1]}function fye(t){const{triangles:e,coords:n}=t;for(let i=0;i<e.length;i+=3){const r=2*e[i],a=2*e[i+1],s=2*e[i+2];if((n[s]-n[r])*(n[a+1]-n[r+1])-(n[a]-n[r])*(n[s+1]-n[r+1])>1e-10)return!1}return!0}function hye(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class AP{static from(e,n=cye,i=uye,r){return new AP("length"in e?dye(e,n,i,r):Float64Array.from(pye(e,n,i,r)))}constructor(e){this._delaunator=new uC(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,n=this.points;if(e.hull&&e.hull.length>2&&fye(e)){this.collinear=Int32Array.from({length:n.length/2},(p,v)=>v).sort((p,v)=>n[2*p]-n[2*v]||n[2*p+1]-n[2*v+1]);const l=this.collinear[0],c=this.collinear[this.collinear.length-1],f=[n[2*l],n[2*l+1],n[2*c],n[2*c+1]],d=1e-8*Math.hypot(f[3]-f[1],f[2]-f[0]);for(let p=0,v=n.length/2;p<v;++p){const _=hye(n[2*p],n[2*p+1],d);n[2*p]=_[0],n[2*p+1]=_[1]}this._delaunator=new uC(n)}else delete this.collinear;const i=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,a=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),o=this._hullIndex.fill(-1);for(let l=0,c=i.length;l<c;++l){const f=a[l%3===2?l-2:l+1];(i[l]===-1||s[f]===-1)&&(s[f]=l)}for(let l=0,c=r.length;l<c;++l)o[r[l]]=l;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],s[r[0]]=1,r.length===2&&(s[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(e){return new JX(this,e)}*neighbors(e){const{inedges:n,hull:i,_hullIndex:r,halfedges:a,triangles:s,collinear:o}=this;if(o){const d=o.indexOf(e);d>0&&(yield o[d-1]),d<o.length-1&&(yield o[d+1]);return}const l=n[e];if(l===-1)return;let c=l,f=-1;do{if(yield f=s[c],c=c%3===2?c-2:c+1,s[c]!==e)return;if(c=a[c],c===-1){const d=i[(r[e]+1)%i.length];d!==f&&(yield d);return}}while(c!==l)}find(e,n,i=0){if(e=+e,e!==e||(n=+n,n!==n))return-1;const r=i;let a;for(;(a=this._step(i,e,n))>=0&&a!==i&&a!==r;)i=a;return a}_step(e,n,i){const{inedges:r,hull:a,_hullIndex:s,halfedges:o,triangles:l,points:c}=this;if(r[e]===-1||!c.length)return(e+1)%(c.length>>1);let f=e,d=G_(n-c[e*2],2)+G_(i-c[e*2+1],2);const p=r[e];let v=p;do{let _=l[v];const S=G_(n-c[_*2],2)+G_(i-c[_*2+1],2);if(S<d&&(d=S,f=_),v=v%3===2?v-2:v+1,l[v]!==e)break;if(v=o[v],v===-1){if(v=a[(s[e]+1)%a.length],v!==_&&G_(n-c[v*2],2)+G_(i-c[v*2+1],2)<d)return v;break}}while(v!==p);return f}render(e){const n=e==null?e=new My:void 0,{points:i,halfedges:r,triangles:a}=this;for(let s=0,o=r.length;s<o;++s){const l=r[s];if(l<s)continue;const c=a[s]*2,f=a[l]*2;e.moveTo(i[c],i[c+1]),e.lineTo(i[f],i[f+1])}return this.renderHull(e),n&&n.value()}renderPoints(e,n){n===void 0&&(!e||typeof e.moveTo!="function")&&(n=e,e=null),n=n==null?2:+n;const i=e==null?e=new My:void 0,{points:r}=this;for(let a=0,s=r.length;a<s;a+=2){const o=r[a],l=r[a+1];e.moveTo(o+n,l),e.arc(o,l,n,0,lye)}return i&&i.value()}renderHull(e){const n=e==null?e=new My:void 0,{hull:i,points:r}=this,a=i[0]*2,s=i.length;e.moveTo(r[a],r[a+1]);for(let o=1;o<s;++o){const l=2*i[o];e.lineTo(r[l],r[l+1])}return e.closePath(),n&&n.value()}hullPolygon(){const e=new OO;return this.renderHull(e),e.value()}renderTriangle(e,n){const i=n==null?n=new My:void 0,{points:r,triangles:a}=this,s=a[e*=3]*2,o=a[e+1]*2,l=a[e+2]*2;return n.moveTo(r[s],r[s+1]),n.lineTo(r[o],r[o+1]),n.lineTo(r[l],r[l+1]),n.closePath(),i&&i.value()}*trianglePolygons(){const{triangles:e}=this;for(let n=0,i=e.length/3;n<i;++n)yield this.trianglePolygon(n)}trianglePolygon(e){const n=new OO;return this.renderTriangle(e,n),n.value()}}function dye(t,e,n,i){const r=t.length,a=new Float64Array(r*2);for(let s=0;s<r;++s){const o=t[s];a[s*2]=e.call(i,o,s,t),a[s*2+1]=n.call(i,o,s,t)}return a}function*pye(t,e,n,i){let r=0;for(const a of t)yield e.call(i,a,r,t),yield n.call(i,a,r,t),++r}var F9={},BB={},OB=34,lA=10,LB=13;function KX(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function mye(t,e){var n=KX(t);return function(i,r){return e(n(i),r,t)}}function z9(t){var e=Object.create(null),n=[];return t.forEach(function(i){for(var r in i)r in e||n.push(e[r]=r)}),n}function wc(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}function gye(t){return t<0?"-"+wc(-t,6):t>9999?"+"+wc(t,6):wc(t,4)}function vye(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),i=t.getUTCSeconds(),r=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":gye(t.getUTCFullYear())+"-"+wc(t.getUTCMonth()+1,2)+"-"+wc(t.getUTCDate(),2)+(r?"T"+wc(e,2)+":"+wc(n,2)+":"+wc(i,2)+"."+wc(r,3)+"Z":i?"T"+wc(e,2)+":"+wc(n,2)+":"+wc(i,2)+"Z":n||e?"T"+wc(e,2)+":"+wc(n,2)+"Z":"")}function S3(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function i(d,p){var v,_,S=r(d,function(b,A){if(v)return v(b,A-1);_=b,v=p?mye(b,p):KX(b)});return S.columns=_||[],S}function r(d,p){var v=[],_=d.length,S=0,b=0,A,T=_<=0,R=!1;d.charCodeAt(_-1)===lA&&--_,d.charCodeAt(_-1)===LB&&--_;function C(){if(T)return BB;if(R)return R=!1,F9;var P,k=S,G;if(d.charCodeAt(k)===OB){for(;S++<_&&d.charCodeAt(S)!==OB||d.charCodeAt(++S)===OB;);return(P=S)>=_?T=!0:(G=d.charCodeAt(S++))===lA?R=!0:G===LB&&(R=!0,d.charCodeAt(S)===lA&&++S),d.slice(k+1,P-1).replace(/""/g,'"')}for(;S<_;){if((G=d.charCodeAt(P=S++))===lA)R=!0;else if(G===LB)R=!0,d.charCodeAt(S)===lA&&++S;else if(G!==n)continue;return d.slice(k,P)}return T=!0,d.slice(k,_)}for(;(A=C())!==BB;){for(var L=[];A!==F9&&A!==BB;)L.push(A),A=C();p&&(L=p(L,b++))==null||v.push(L)}return v}function a(d,p){return d.map(function(v){return p.map(function(_){return f(v[_])}).join(t)})}function s(d,p){return p==null&&(p=z9(d)),[p.map(f).join(t)].concat(a(d,p)).join(`
`)}function o(d,p){return p==null&&(p=z9(d)),a(d,p).join(`
`)}function l(d){return d.map(c).join(`
`)}function c(d){return d.map(f).join(t)}function f(d){return d==null?"":d instanceof Date?vye(d):e.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:i,parseRows:r,format:s,formatBody:o,formatRows:l,formatRow:c,formatValue:f}}var px=S3(","),$X=px.parse,yye=px.parseRows,xye=px.format,_ye=px.formatBody,bye=px.formatRows,Aye=px.formatRow,Sye=px.formatValue,mx=S3("	"),ZX=mx.parse,Mye=mx.parseRows,wye=mx.format,Eye=mx.formatBody,Tye=mx.formatRows,Cye=mx.formatRow,Rye=mx.formatValue;function Nye(t){for(var e in t){var n=t[e].trim(),i,r;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(i=+n))n=i;else if(r=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))Dye&&r[4]&&!r[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;t[e]=n}return t}const Dye=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Bye(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function Oye(t,e){return fetch(t,e).then(Bye)}function Lye(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function Pye(t,e){return fetch(t,e).then(Lye)}function Uye(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function M3(t,e){return fetch(t,e).then(Uye)}function QX(t){return function(e,n,i){return arguments.length===2&&typeof n=="function"&&(i=n,n=void 0),M3(e,n).then(function(r){return t(r,i)})}}function Iye(t,e,n,i){arguments.length===3&&typeof n=="function"&&(i=n,n=void 0);var r=S3(t);return M3(e,n).then(function(a){return r.parse(a,i)})}var Fye=QX($X),zye=QX(ZX);function Hye(t,e){return new Promise(function(n,i){var r=new Image;for(var a in e)r[a]=e[a];r.onerror=i,r.onload=function(){n(r)},r.src=t})}function kye(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function Gye(t,e){return fetch(t,e).then(kye)}function SP(t){return(e,n)=>M3(e,n).then(i=>new DOMParser().parseFromString(i,t))}const jye=SP("application/xml");var Vye=SP("text/html"),Xye=SP("image/svg+xml");function qye(t,e){var n,i=1;t==null&&(t=0),e==null&&(e=0);function r(){var a,s=n.length,o,l=0,c=0;for(a=0;a<s;++a)o=n[a],l+=o.x,c+=o.y;for(l=(l/s-t)*i,c=(c/s-e)*i,a=0;a<s;++a)o=n[a],o.x-=l,o.y-=c}return r.initialize=function(a){n=a},r.x=function(a){return arguments.length?(t=+a,r):t},r.y=function(a){return arguments.length?(e=+a,r):e},r.strength=function(a){return arguments.length?(i=+a,r):i},r}function Yye(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return eq(this.cover(e,n),e,n,t)}function eq(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,a=t._root,s={data:i},o=t._x0,l=t._y0,c=t._x1,f=t._y1,d,p,v,_,S,b,A,T;if(!a)return t._root=s,t;for(;a.length;)if((S=e>=(d=(o+c)/2))?o=d:c=d,(b=n>=(p=(l+f)/2))?l=p:f=p,r=a,!(a=a[A=b<<1|S]))return r[A]=s,t;if(v=+t._x.call(null,a.data),_=+t._y.call(null,a.data),e===v&&n===_)return s.next=a,r?r[A]=s:t._root=s,t;do r=r?r[A]=new Array(4):t._root=new Array(4),(S=e>=(d=(o+c)/2))?o=d:c=d,(b=n>=(p=(l+f)/2))?l=p:f=p;while((A=b<<1|S)===(T=(_>=p)<<1|v>=d));return r[T]=a,r[A]=s,t}function Wye(t){var e,n,i=t.length,r,a,s=new Array(i),o=new Array(i),l=1/0,c=1/0,f=-1/0,d=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(a=+this._y.call(null,e))||(s[n]=r,o[n]=a,r<l&&(l=r),r>f&&(f=r),a<c&&(c=a),a>d&&(d=a));if(l>f||c>d)return this;for(this.cover(l,c).cover(f,d),n=0;n<i;++n)eq(this,s[n],o[n],t[n]);return this}function Jye(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,a=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,a=(i=Math.floor(e))+1;else{for(var s=r-n||1,o=this._root,l,c;n>t||t>=r||i>e||e>=a;)switch(c=(e<i)<<1|t<n,l=new Array(4),l[c]=o,o=l,s*=2,c){case 0:r=n+s,a=i+s;break;case 1:n=r-s,a=i+s;break;case 2:r=n+s,i=a-s;break;case 3:n=r-s,i=a-s;break}this._root&&this._root.length&&(this._root=o)}return this._x0=n,this._y0=i,this._x1=r,this._y1=a,this}function Kye(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function $ye(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ul(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r}function Zye(t,e,n){var i,r=this._x0,a=this._y0,s,o,l,c,f=this._x1,d=this._y1,p=[],v=this._root,_,S;for(v&&p.push(new Ul(v,r,a,f,d)),n==null?n=1/0:(r=t-n,a=e-n,f=t+n,d=e+n,n*=n);_=p.pop();)if(!(!(v=_.node)||(s=_.x0)>f||(o=_.y0)>d||(l=_.x1)<r||(c=_.y1)<a))if(v.length){var b=(s+l)/2,A=(o+c)/2;p.push(new Ul(v[3],b,A,l,c),new Ul(v[2],s,A,b,c),new Ul(v[1],b,o,l,A),new Ul(v[0],s,o,b,A)),(S=(e>=A)<<1|t>=b)&&(_=p[p.length-1],p[p.length-1]=p[p.length-1-S],p[p.length-1-S]=_)}else{var T=t-+this._x.call(null,v.data),R=e-+this._y.call(null,v.data),C=T*T+R*R;if(C<n){var L=Math.sqrt(n=C);r=t-L,a=e-L,f=t+L,d=e+L,i=v.data}}return i}function Qye(t){if(isNaN(f=+this._x.call(null,t))||isNaN(d=+this._y.call(null,t)))return this;var e,n=this._root,i,r,a,s=this._x0,o=this._y0,l=this._x1,c=this._y1,f,d,p,v,_,S,b,A;if(!n)return this;if(n.length)for(;;){if((_=f>=(p=(s+l)/2))?s=p:l=p,(S=d>=(v=(o+c)/2))?o=v:c=v,e=n,!(n=n[b=S<<1|_]))return this;if(!n.length)break;(e[b+1&3]||e[b+2&3]||e[b+3&3])&&(i=e,A=b)}for(;n.data!==t;)if(r=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,r?(a?r.next=a:delete r.next,this):e?(a?e[b]=a:delete e[b],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(i?i[A]=n:this._root=n),this):(this._root=a,this)}function exe(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function txe(){return this._root}function nxe(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function ixe(t){var e=[],n,i=this._root,r,a,s,o,l;for(i&&e.push(new Ul(i,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(i=n.node,a=n.x0,s=n.y0,o=n.x1,l=n.y1)&&i.length){var c=(a+o)/2,f=(s+l)/2;(r=i[3])&&e.push(new Ul(r,c,f,o,l)),(r=i[2])&&e.push(new Ul(r,a,f,c,l)),(r=i[1])&&e.push(new Ul(r,c,s,o,f)),(r=i[0])&&e.push(new Ul(r,a,s,c,f))}return this}function rxe(t){var e=[],n=[],i;for(this._root&&e.push(new Ul(this._root,this._x0,this._y0,this._x1,this._y1));i=e.pop();){var r=i.node;if(r.length){var a,s=i.x0,o=i.y0,l=i.x1,c=i.y1,f=(s+l)/2,d=(o+c)/2;(a=r[0])&&e.push(new Ul(a,s,o,f,d)),(a=r[1])&&e.push(new Ul(a,f,o,l,d)),(a=r[2])&&e.push(new Ul(a,s,d,f,c)),(a=r[3])&&e.push(new Ul(a,f,d,l,c))}n.push(i)}for(;i=n.pop();)t(i.node,i.x0,i.y0,i.x1,i.y1);return this}function axe(t){return t[0]}function sxe(t){return arguments.length?(this._x=t,this):this._x}function oxe(t){return t[1]}function lxe(t){return arguments.length?(this._y=t,this):this._y}function w3(t,e,n){var i=new MP(e??axe,n??oxe,NaN,NaN,NaN,NaN);return t==null?i:i.addAll(t)}function MP(t,e,n,i,r,a){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=a,this._root=void 0}function H9(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Vl=w3.prototype=MP.prototype;Vl.copy=function(){var t=new MP(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,i;if(!e)return t;if(!e.length)return t._root=H9(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var r=0;r<4;++r)(i=e.source[r])&&(i.length?n.push({source:i,target:e.target[r]=new Array(4)}):e.target[r]=H9(i));return t};Vl.add=Yye;Vl.addAll=Wye;Vl.cover=Jye;Vl.data=Kye;Vl.extent=$ye;Vl.find=Zye;Vl.remove=Qye;Vl.removeAll=exe;Vl.root=txe;Vl.size=nxe;Vl.visit=ixe;Vl.visitAfter=rxe;Vl.x=sxe;Vl.y=lxe;function ps(t){return function(){return t}}function n0(t){return(t()-.5)*1e-6}function cxe(t){return t.x+t.vx}function uxe(t){return t.y+t.vy}function fxe(t){var e,n,i,r=1,a=1;typeof t!="function"&&(t=ps(t==null?1:+t));function s(){for(var c,f=e.length,d,p,v,_,S,b,A=0;A<a;++A)for(d=w3(e,cxe,uxe).visitAfter(o),c=0;c<f;++c)p=e[c],S=n[p.index],b=S*S,v=p.x+p.vx,_=p.y+p.vy,d.visit(T);function T(R,C,L,P,k){var G=R.data,z=R.r,F=S+z;if(G){if(G.index>p.index){var j=v-G.x-G.vx,ne=_-G.y-G.vy,W=j*j+ne*ne;W<F*F&&(j===0&&(j=n0(i),W+=j*j),ne===0&&(ne=n0(i),W+=ne*ne),W=(F-(W=Math.sqrt(W)))/W*r,p.vx+=(j*=W)*(F=(z*=z)/(b+z)),p.vy+=(ne*=W)*F,G.vx-=j*(F=1-F),G.vy-=ne*F)}return}return C>v+F||P<v-F||L>_+F||k<_-F}}function o(c){if(c.data)return c.r=n[c.data.index];for(var f=c.r=0;f<4;++f)c[f]&&c[f].r>c.r&&(c.r=c[f].r)}function l(){if(e){var c,f=e.length,d;for(n=new Array(f),c=0;c<f;++c)d=e[c],n[d.index]=+t(d,c,e)}}return s.initialize=function(c,f){e=c,i=f,l()},s.iterations=function(c){return arguments.length?(a=+c,s):a},s.strength=function(c){return arguments.length?(r=+c,s):r},s.radius=function(c){return arguments.length?(t=typeof c=="function"?c:ps(+c),l(),s):t},s}function hxe(t){return t.index}function k9(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function dxe(t){var e=hxe,n=d,i,r=ps(30),a,s,o,l,c,f=1;t==null&&(t=[]);function d(b){return 1/Math.min(o[b.source.index],o[b.target.index])}function p(b){for(var A=0,T=t.length;A<f;++A)for(var R=0,C,L,P,k,G,z,F;R<T;++R)C=t[R],L=C.source,P=C.target,k=P.x+P.vx-L.x-L.vx||n0(c),G=P.y+P.vy-L.y-L.vy||n0(c),z=Math.sqrt(k*k+G*G),z=(z-a[R])/z*b*i[R],k*=z,G*=z,P.vx-=k*(F=l[R]),P.vy-=G*F,L.vx+=k*(F=1-F),L.vy+=G*F}function v(){if(s){var b,A=s.length,T=t.length,R=new Map(s.map((L,P)=>[e(L,P,s),L])),C;for(b=0,o=new Array(A);b<T;++b)C=t[b],C.index=b,typeof C.source!="object"&&(C.source=k9(R,C.source)),typeof C.target!="object"&&(C.target=k9(R,C.target)),o[C.source.index]=(o[C.source.index]||0)+1,o[C.target.index]=(o[C.target.index]||0)+1;for(b=0,l=new Array(T);b<T;++b)C=t[b],l[b]=o[C.source.index]/(o[C.source.index]+o[C.target.index]);i=new Array(T),_(),a=new Array(T),S()}}function _(){if(s)for(var b=0,A=t.length;b<A;++b)i[b]=+n(t[b],b,t)}function S(){if(s)for(var b=0,A=t.length;b<A;++b)a[b]=+r(t[b],b,t)}return p.initialize=function(b,A){s=b,c=A,v()},p.links=function(b){return arguments.length?(t=b,v(),p):t},p.id=function(b){return arguments.length?(e=b,p):e},p.iterations=function(b){return arguments.length?(f=+b,p):f},p.strength=function(b){return arguments.length?(n=typeof b=="function"?b:ps(+b),_(),p):n},p.distance=function(b){return arguments.length?(r=typeof b=="function"?b:ps(+b),S(),p):r},p}const pxe=1664525,mxe=1013904223,G9=4294967296;function gxe(){let t=1;return()=>(t=(pxe*t+mxe)%G9)/G9}function vxe(t){return t.x}function yxe(t){return t.y}var xxe=10,_xe=Math.PI*(3-Math.sqrt(5));function bxe(t){var e,n=1,i=.001,r=1-Math.pow(i,1/300),a=0,s=.6,o=new Map,l=b3(d),c=hx("tick","end"),f=gxe();t==null&&(t=[]);function d(){p(),c.call("tick",e),n<i&&(l.stop(),c.call("end",e))}function p(S){var b,A=t.length,T;S===void 0&&(S=1);for(var R=0;R<S;++R)for(n+=(a-n)*r,o.forEach(function(C){C(n)}),b=0;b<A;++b)T=t[b],T.fx==null?T.x+=T.vx*=s:(T.x=T.fx,T.vx=0),T.fy==null?T.y+=T.vy*=s:(T.y=T.fy,T.vy=0);return e}function v(){for(var S=0,b=t.length,A;S<b;++S){if(A=t[S],A.index=S,A.fx!=null&&(A.x=A.fx),A.fy!=null&&(A.y=A.fy),isNaN(A.x)||isNaN(A.y)){var T=xxe*Math.sqrt(.5+S),R=S*_xe;A.x=T*Math.cos(R),A.y=T*Math.sin(R)}(isNaN(A.vx)||isNaN(A.vy))&&(A.vx=A.vy=0)}}function _(S){return S.initialize&&S.initialize(t,f),S}return v(),e={tick:p,restart:function(){return l.restart(d),e},stop:function(){return l.stop(),e},nodes:function(S){return arguments.length?(t=S,v(),o.forEach(_),e):t},alpha:function(S){return arguments.length?(n=+S,e):n},alphaMin:function(S){return arguments.length?(i=+S,e):i},alphaDecay:function(S){return arguments.length?(r=+S,e):+r},alphaTarget:function(S){return arguments.length?(a=+S,e):a},velocityDecay:function(S){return arguments.length?(s=1-S,e):1-s},randomSource:function(S){return arguments.length?(f=S,o.forEach(_),e):f},force:function(S,b){return arguments.length>1?(b==null?o.delete(S):o.set(S,_(b)),e):o.get(S)},find:function(S,b,A){var T=0,R=t.length,C,L,P,k,G;for(A==null?A=1/0:A*=A,T=0;T<R;++T)k=t[T],C=S-k.x,L=b-k.y,P=C*C+L*L,P<A&&(G=k,A=P);return G},on:function(S,b){return arguments.length>1?(c.on(S,b),e):c.on(S)}}}function Axe(){var t,e,n,i,r=ps(-30),a,s=1,o=1/0,l=.81;function c(v){var _,S=t.length,b=w3(t,vxe,yxe).visitAfter(d);for(i=v,_=0;_<S;++_)e=t[_],b.visit(p)}function f(){if(t){var v,_=t.length,S;for(a=new Array(_),v=0;v<_;++v)S=t[v],a[S.index]=+r(S,v,t)}}function d(v){var _=0,S,b,A=0,T,R,C;if(v.length){for(T=R=C=0;C<4;++C)(S=v[C])&&(b=Math.abs(S.value))&&(_+=S.value,A+=b,T+=b*S.x,R+=b*S.y);v.x=T/A,v.y=R/A}else{S=v,S.x=S.data.x,S.y=S.data.y;do _+=a[S.data.index];while(S=S.next)}v.value=_}function p(v,_,S,b){if(!v.value)return!0;var A=v.x-e.x,T=v.y-e.y,R=b-_,C=A*A+T*T;if(R*R/l<C)return C<o&&(A===0&&(A=n0(n),C+=A*A),T===0&&(T=n0(n),C+=T*T),C<s&&(C=Math.sqrt(s*C)),e.vx+=A*v.value*i/C,e.vy+=T*v.value*i/C),!0;if(v.length||C>=o)return;(v.data!==e||v.next)&&(A===0&&(A=n0(n),C+=A*A),T===0&&(T=n0(n),C+=T*T),C<s&&(C=Math.sqrt(s*C)));do v.data!==e&&(R=a[v.data.index]*i/C,e.vx+=A*R,e.vy+=T*R);while(v=v.next)}return c.initialize=function(v,_){t=v,n=_,f()},c.strength=function(v){return arguments.length?(r=typeof v=="function"?v:ps(+v),f(),c):r},c.distanceMin=function(v){return arguments.length?(s=v*v,c):Math.sqrt(s)},c.distanceMax=function(v){return arguments.length?(o=v*v,c):Math.sqrt(o)},c.theta=function(v){return arguments.length?(l=v*v,c):Math.sqrt(l)},c}function Sxe(t,e,n){var i,r=ps(.1),a,s;typeof t!="function"&&(t=ps(+t)),e==null&&(e=0),n==null&&(n=0);function o(c){for(var f=0,d=i.length;f<d;++f){var p=i[f],v=p.x-e||1e-6,_=p.y-n||1e-6,S=Math.sqrt(v*v+_*_),b=(s[f]-S)*a[f]*c/S;p.vx+=v*b,p.vy+=_*b}}function l(){if(i){var c,f=i.length;for(a=new Array(f),s=new Array(f),c=0;c<f;++c)s[c]=+t(i[c],c,i),a[c]=isNaN(s[c])?0:+r(i[c],c,i)}}return o.initialize=function(c){i=c,l()},o.strength=function(c){return arguments.length?(r=typeof c=="function"?c:ps(+c),l(),o):r},o.radius=function(c){return arguments.length?(t=typeof c=="function"?c:ps(+c),l(),o):t},o.x=function(c){return arguments.length?(e=+c,o):e},o.y=function(c){return arguments.length?(n=+c,o):n},o}function Mxe(t){var e=ps(.1),n,i,r;typeof t!="function"&&(t=ps(t==null?0:+t));function a(o){for(var l=0,c=n.length,f;l<c;++l)f=n[l],f.vx+=(r[l]-f.x)*i[l]*o}function s(){if(n){var o,l=n.length;for(i=new Array(l),r=new Array(l),o=0;o<l;++o)i[o]=isNaN(r[o]=+t(n[o],o,n))?0:+e(n[o],o,n)}}return a.initialize=function(o){n=o,s()},a.strength=function(o){return arguments.length?(e=typeof o=="function"?o:ps(+o),s(),a):e},a.x=function(o){return arguments.length?(t=typeof o=="function"?o:ps(+o),s(),a):t},a}function wxe(t){var e=ps(.1),n,i,r;typeof t!="function"&&(t=ps(t==null?0:+t));function a(o){for(var l=0,c=n.length,f;l<c;++l)f=n[l],f.vy+=(r[l]-f.y)*i[l]*o}function s(){if(n){var o,l=n.length;for(i=new Array(l),r=new Array(l),o=0;o<l;++o)i[o]=isNaN(r[o]=+t(n[o],o,n))?0:+e(n[o],o,n)}}return a.initialize=function(o){n=o,s()},a.strength=function(o){return arguments.length?(e=typeof o=="function"?o:ps(+o),s(),a):e},a.y=function(o){return arguments.length?(t=typeof o=="function"?o:ps(+o),s(),a):t},a}function Exe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function fC(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Fb(t){return t=fC(Math.abs(t)),t?t[1]:NaN}function Txe(t,e){return function(n,i){for(var r=n.length,a=[],s=0,o=t[0],l=0;r>0&&o>0&&(l+o+1>i&&(o=Math.max(1,i-l)),a.push(n.substring(r-=o,r+o)),!((l+=o+1)>i));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Cxe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Rxe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zb(t){if(!(e=Rxe.exec(t)))throw new Error("invalid format: "+t);var e;return new E3({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}zb.prototype=E3.prototype;function E3(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}E3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Nxe(t){e:for(var e=t.length,n=1,i=-1,r;n<e;++n)switch(t[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+t[n])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(r+1):t}var tq;function Dxe(t,e){var n=fC(t,e);if(!n)return t+"";var i=n[0],r=n[1],a=r-(tq=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+fC(t,Math.max(0,e+a-1))[0]}function j9(t,e){var n=fC(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const V9={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Exe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>j9(t*100,e),r:j9,s:Dxe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function X9(t){return t}var q9=Array.prototype.map,Y9=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function nq(t){var e=t.grouping===void 0||t.thousands===void 0?X9:Txe(q9.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",r=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?X9:Cxe(q9.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=zb(d);var p=d.fill,v=d.align,_=d.sign,S=d.symbol,b=d.zero,A=d.width,T=d.comma,R=d.precision,C=d.trim,L=d.type;L==="n"?(T=!0,L="g"):V9[L]||(R===void 0&&(R=12),C=!0,L="g"),(b||p==="0"&&v==="=")&&(b=!0,p="0",v="=");var P=S==="$"?n:S==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",k=S==="$"?i:/[%p]/.test(L)?s:"",G=V9[L],z=/[defgprs%]/.test(L);R=R===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function F(j){var ne=P,W=k,Y,K,H;if(L==="c")W=G(j)+W,j="";else{j=+j;var J=j<0||1/j<0;if(j=isNaN(j)?l:G(Math.abs(j),R),C&&(j=Nxe(j)),J&&+j==0&&_!=="+"&&(J=!1),ne=(J?_==="("?_:o:_==="-"||_==="("?"":_)+ne,W=(L==="s"?Y9[8+tq/3]:"")+W+(J&&_==="("?")":""),z){for(Y=-1,K=j.length;++Y<K;)if(H=j.charCodeAt(Y),48>H||H>57){W=(H===46?r+j.slice(Y+1):j.slice(Y))+W,j=j.slice(0,Y);break}}}T&&!b&&(j=e(j,1/0));var Q=ne.length+j.length+W.length,ie=Q<A?new Array(A-Q+1).join(p):"";switch(T&&b&&(j=e(ie+j,ie.length?A-W.length:1/0),ie=""),v){case"<":j=ne+j+W+ie;break;case"=":j=ne+ie+j+W;break;case"^":j=ie.slice(0,Q=ie.length>>1)+ne+j+W+ie.slice(Q);break;default:j=ie+ne+j+W;break}return a(j)}return F.toString=function(){return d+""},F}function f(d,p){var v=c((d=zb(d),d.type="f",d)),_=Math.max(-8,Math.min(8,Math.floor(Fb(p)/3)))*3,S=Math.pow(10,-_),b=Y9[8+_/3];return function(A){return v(S*A)+b}}return{format:c,formatPrefix:f}}var B2,T3,wP;iq({thousands:",",grouping:[3],currency:["$",""]});function iq(t){return B2=nq(t),T3=B2.format,wP=B2.formatPrefix,B2}function rq(t){return Math.max(0,-Fb(Math.abs(t)))}function aq(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fb(e)/3)))*3-Fb(Math.abs(t)))}function sq(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Fb(e)-Fb(t))+1}var hn=1e-6,hC=1e-12,si=Math.PI,Ma=si/2,dC=si/4,Hl=si*2,Mr=180/si,ln=si/180,gi=Math.abs,m1=Math.atan,kl=Math.atan2,Wt=Math.cos,O2=Math.ceil,oq=Math.exp,LO=Math.hypot,pC=Math.log,PB=Math.pow,Gt=Math.sin,df=Math.sign||function(t){return t>0?1:t<0?-1:0},zs=Math.sqrt,EP=Math.tan;function lq(t){return t>1?0:t<-1?si:Math.acos(t)}function Gl(t){return t>1?Ma:t<-1?-Ma:Math.asin(t)}function W9(t){return(t=Gt(t/2))*t}function sa(){}function mC(t,e){t&&K9.hasOwnProperty(t.type)&&K9[t.type](t,e)}var J9={Feature:function(t,e){mC(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)mC(n[i].geometry,e)}},K9={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){PO(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)PO(n[i],e,0)},Polygon:function(t,e){$9(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)$9(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)mC(n[i],e)}};function PO(t,e,n){var i=-1,r=t.length-n,a;for(e.lineStart();++i<r;)a=t[i],e.point(a[0],a[1],a[2]);e.lineEnd()}function $9(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)PO(t[n],e,1);e.polygonEnd()}function hh(t,e){t&&J9.hasOwnProperty(t.type)?J9[t.type](t,e):mC(t,e)}var gC=new gs,vC=new gs,cq,uq,UO,IO,FO,zd={point:sa,lineStart:sa,lineEnd:sa,polygonStart:function(){gC=new gs,zd.lineStart=Bxe,zd.lineEnd=Oxe},polygonEnd:function(){var t=+gC;vC.add(t<0?Hl+t:t),this.lineStart=this.lineEnd=this.point=sa},sphere:function(){vC.add(Hl)}};function Bxe(){zd.point=Lxe}function Oxe(){fq(cq,uq)}function Lxe(t,e){zd.point=fq,cq=t,uq=e,t*=ln,e*=ln,UO=t,IO=Wt(e=e/2+dC),FO=Gt(e)}function fq(t,e){t*=ln,e*=ln,e=e/2+dC;var n=t-UO,i=n>=0?1:-1,r=i*n,a=Wt(e),s=Gt(e),o=FO*s,l=IO*a+o*Wt(r),c=o*i*Gt(r);gC.add(kl(c,l)),UO=t,IO=a,FO=s}function Pxe(t){return vC=new gs,hh(t,zd),vC*2}function yC(t){return[kl(t[1],t[0]),Gl(t[2])]}function Zy(t){var e=t[0],n=t[1],i=Wt(n);return[i*Wt(e),i*Gt(e),Gt(n)]}function L2(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Hb(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function UB(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function P2(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function xC(t){var e=zs(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var ra,Rc,ba,xu,iy,hq,dq,hb,oS,qg,Bm,um={point:zO,lineStart:Z9,lineEnd:Q9,polygonStart:function(){um.point=mq,um.lineStart=Uxe,um.lineEnd=Ixe,oS=new gs,zd.polygonStart()},polygonEnd:function(){zd.polygonEnd(),um.point=zO,um.lineStart=Z9,um.lineEnd=Q9,gC<0?(ra=-(ba=180),Rc=-(xu=90)):oS>hn?xu=90:oS<-1e-6&&(Rc=-90),Bm[0]=ra,Bm[1]=ba},sphere:function(){ra=-(ba=180),Rc=-(xu=90)}};function zO(t,e){qg.push(Bm=[ra=t,ba=t]),e<Rc&&(Rc=e),e>xu&&(xu=e)}function pq(t,e){var n=Zy([t*ln,e*ln]);if(hb){var i=Hb(hb,n),r=[i[1],-i[0],0],a=Hb(r,i);xC(a),a=yC(a);var s=t-iy,o=s>0?1:-1,l=a[0]*Mr*o,c,f=gi(s)>180;f^(o*iy<l&&l<o*t)?(c=a[1]*Mr,c>xu&&(xu=c)):(l=(l+360)%360-180,f^(o*iy<l&&l<o*t)?(c=-a[1]*Mr,c<Rc&&(Rc=c)):(e<Rc&&(Rc=e),e>xu&&(xu=e))),f?t<iy?yu(ra,t)>yu(ra,ba)&&(ba=t):yu(t,ba)>yu(ra,ba)&&(ra=t):ba>=ra?(t<ra&&(ra=t),t>ba&&(ba=t)):t>iy?yu(ra,t)>yu(ra,ba)&&(ba=t):yu(t,ba)>yu(ra,ba)&&(ra=t)}else qg.push(Bm=[ra=t,ba=t]);e<Rc&&(Rc=e),e>xu&&(xu=e),hb=n,iy=t}function Z9(){um.point=pq}function Q9(){Bm[0]=ra,Bm[1]=ba,um.point=zO,hb=null}function mq(t,e){if(hb){var n=t-iy;oS.add(gi(n)>180?n+(n>0?360:-360):n)}else hq=t,dq=e;zd.point(t,e),pq(t,e)}function Uxe(){zd.lineStart()}function Ixe(){mq(hq,dq),zd.lineEnd(),gi(oS)>hn&&(ra=-(ba=180)),Bm[0]=ra,Bm[1]=ba,hb=null}function yu(t,e){return(e-=t)<0?e+360:e}function Fxe(t,e){return t[0]-e[0]}function eF(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function zxe(t){var e,n,i,r,a,s,o;if(xu=ba=-(ra=Rc=1/0),qg=[],hh(t,um),n=qg.length){for(qg.sort(Fxe),e=1,i=qg[0],a=[i];e<n;++e)r=qg[e],eF(i,r[0])||eF(i,r[1])?(yu(i[0],r[1])>yu(i[0],i[1])&&(i[1]=r[1]),yu(r[0],i[1])>yu(i[0],i[1])&&(i[0]=r[0])):a.push(i=r);for(s=-1/0,n=a.length-1,e=0,i=a[n];e<=n;i=r,++e)r=a[e],(o=yu(i[1],r[0]))>s&&(s=o,ra=r[0],ba=i[1])}return qg=Bm=null,ra===1/0||Rc===1/0?[[NaN,NaN],[NaN,NaN]]:[[ra,Rc],[ba,xu]]}var BA,_C,bC,AC,SC,MC,wC,EC,HO,kO,GO,gq,vq,Bl,Ol,Ll,mh={sphere:sa,point:TP,lineStart:tF,lineEnd:nF,polygonStart:function(){mh.lineStart=Gxe,mh.lineEnd=jxe},polygonEnd:function(){mh.lineStart=tF,mh.lineEnd=nF}};function TP(t,e){t*=ln,e*=ln;var n=Wt(e);IM(n*Wt(t),n*Gt(t),Gt(e))}function IM(t,e,n){++BA,bC+=(t-bC)/BA,AC+=(e-AC)/BA,SC+=(n-SC)/BA}function tF(){mh.point=Hxe}function Hxe(t,e){t*=ln,e*=ln;var n=Wt(e);Bl=n*Wt(t),Ol=n*Gt(t),Ll=Gt(e),mh.point=kxe,IM(Bl,Ol,Ll)}function kxe(t,e){t*=ln,e*=ln;var n=Wt(e),i=n*Wt(t),r=n*Gt(t),a=Gt(e),s=kl(zs((s=Ol*a-Ll*r)*s+(s=Ll*i-Bl*a)*s+(s=Bl*r-Ol*i)*s),Bl*i+Ol*r+Ll*a);_C+=s,MC+=s*(Bl+(Bl=i)),wC+=s*(Ol+(Ol=r)),EC+=s*(Ll+(Ll=a)),IM(Bl,Ol,Ll)}function nF(){mh.point=TP}function Gxe(){mh.point=Vxe}function jxe(){yq(gq,vq),mh.point=TP}function Vxe(t,e){gq=t,vq=e,t*=ln,e*=ln,mh.point=yq;var n=Wt(e);Bl=n*Wt(t),Ol=n*Gt(t),Ll=Gt(e),IM(Bl,Ol,Ll)}function yq(t,e){t*=ln,e*=ln;var n=Wt(e),i=n*Wt(t),r=n*Gt(t),a=Gt(e),s=Ol*a-Ll*r,o=Ll*i-Bl*a,l=Bl*r-Ol*i,c=LO(s,o,l),f=Gl(c),d=c&&-f/c;HO.add(d*s),kO.add(d*o),GO.add(d*l),_C+=f,MC+=f*(Bl+(Bl=i)),wC+=f*(Ol+(Ol=r)),EC+=f*(Ll+(Ll=a)),IM(Bl,Ol,Ll)}function Xxe(t){BA=_C=bC=AC=SC=MC=wC=EC=0,HO=new gs,kO=new gs,GO=new gs,hh(t,mh);var e=+HO,n=+kO,i=+GO,r=LO(e,n,i);return r<hC&&(e=MC,n=wC,i=EC,_C<hn&&(e=bC,n=AC,i=SC),r=LO(e,n,i),r<hC)?[NaN,NaN]:[kl(n,e)*Mr,Gl(i/r)*Mr]}function j_(t){return function(){return t}}function jO(t,e){function n(i,r){return i=t(i,r),e(i[0],i[1])}return t.invert&&e.invert&&(n.invert=function(i,r){return i=e.invert(i,r),i&&t.invert(i[0],i[1])}),n}function VO(t,e){return gi(t)>si&&(t-=Math.round(t/Hl)*Hl),[t,e]}VO.invert=VO;function CP(t,e,n){return(t%=Hl)?e||n?jO(rF(t),aF(e,n)):rF(t):e||n?aF(e,n):VO}function iF(t){return function(e,n){return e+=t,gi(e)>si&&(e-=Math.round(e/Hl)*Hl),[e,n]}}function rF(t){var e=iF(t);return e.invert=iF(-t),e}function aF(t,e){var n=Wt(t),i=Gt(t),r=Wt(e),a=Gt(e);function s(o,l){var c=Wt(l),f=Wt(o)*c,d=Gt(o)*c,p=Gt(l),v=p*n+f*i;return[kl(d*r-v*a,f*n-p*i),Gl(v*r+d*a)]}return s.invert=function(o,l){var c=Wt(l),f=Wt(o)*c,d=Gt(o)*c,p=Gt(l),v=p*r-d*a;return[kl(d*r+p*a,f*n+v*i),Gl(v*n-f*i)]},s}function xq(t){t=CP(t[0]*ln,t[1]*ln,t.length>2?t[2]*ln:0);function e(n){return n=t(n[0]*ln,n[1]*ln),n[0]*=Mr,n[1]*=Mr,n}return e.invert=function(n){return n=t.invert(n[0]*ln,n[1]*ln),n[0]*=Mr,n[1]*=Mr,n},e}function _q(t,e,n,i,r,a){if(n){var s=Wt(e),o=Gt(e),l=i*n;r==null?(r=e+i*Hl,a=e-l/2):(r=sF(s,r),a=sF(s,a),(i>0?r<a:r>a)&&(r+=i*Hl));for(var c,f=r;i>0?f>a:f<a;f-=l)c=yC([s,-o*Wt(f),-o*Gt(f)]),t.point(c[0],c[1])}}function sF(t,e){e=Zy(e),e[0]-=t,xC(e);var n=lq(-e[1]);return((-e[2]<0?-n:n)+Hl-hn)%Hl}function qxe(){var t=j_([0,0]),e=j_(90),n=j_(2),i,r,a={point:s};function s(l,c){i.push(l=r(l,c)),l[0]*=Mr,l[1]*=Mr}function o(){var l=t.apply(this,arguments),c=e.apply(this,arguments)*ln,f=n.apply(this,arguments)*ln;return i=[],r=CP(-l[0]*ln,-l[1]*ln,0).invert,_q(a,c,f,1),l={type:"Polygon",coordinates:[i]},i=r=null,l}return o.center=function(l){return arguments.length?(t=typeof l=="function"?l:j_([+l[0],+l[1]]),o):t},o.radius=function(l){return arguments.length?(e=typeof l=="function"?l:j_(+l),o):e},o.precision=function(l){return arguments.length?(n=typeof l=="function"?l:j_(+l),o):n},o}function bq(){var t=[],e;return{point:function(n,i,r){e.push([n,i,r])},lineStart:function(){t.push(e=[])},lineEnd:sa,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function UE(t,e){return gi(t[0]-e[0])<hn&&gi(t[1]-e[1])<hn}function U2(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Aq(t,e,n,i,r){var a=[],s=[],o,l;if(t.forEach(function(_){if(!((S=_.length-1)<=0)){var S,b=_[0],A=_[S],T;if(UE(b,A)){if(!b[2]&&!A[2]){for(r.lineStart(),o=0;o<S;++o)r.point((b=_[o])[0],b[1]);r.lineEnd();return}A[0]+=2*hn}a.push(T=new U2(b,_,null,!0)),s.push(T.o=new U2(b,null,T,!1)),a.push(T=new U2(A,_,null,!1)),s.push(T.o=new U2(A,null,T,!0))}}),!!a.length){for(s.sort(e),oF(a),oF(s),o=0,l=s.length;o<l;++o)s[o].e=n=!n;for(var c=a[0],f,d;;){for(var p=c,v=!0;p.v;)if((p=p.n)===c)return;f=p.z,r.lineStart();do{if(p.v=p.o.v=!0,p.e){if(v)for(o=0,l=f.length;o<l;++o)r.point((d=f[o])[0],d[1]);else i(p.x,p.n.x,1,r);p=p.n}else{if(v)for(f=p.p.z,o=f.length-1;o>=0;--o)r.point((d=f[o])[0],d[1]);else i(p.x,p.p.x,-1,r);p=p.p}p=p.o,f=p.z,v=!v}while(!p.v);r.lineEnd()}}}function oF(t){if(e=t.length){for(var e,n=0,i=t[0],r;++n<e;)i.n=r=t[n],r.p=i,i=r;i.n=r=t[0],r.p=i}}function IB(t){return gi(t[0])<=si?t[0]:df(t[0])*((gi(t[0])+si)%Hl-si)}function Sq(t,e){var n=IB(e),i=e[1],r=Gt(i),a=[Gt(n),-Wt(n),0],s=0,o=0,l=new gs;r===1?i=Ma+hn:r===-1&&(i=-Ma-hn);for(var c=0,f=t.length;c<f;++c)if(p=(d=t[c]).length)for(var d,p,v=d[p-1],_=IB(v),S=v[1]/2+dC,b=Gt(S),A=Wt(S),T=0;T<p;++T,_=C,b=P,A=k,v=R){var R=d[T],C=IB(R),L=R[1]/2+dC,P=Gt(L),k=Wt(L),G=C-_,z=G>=0?1:-1,F=z*G,j=F>si,ne=b*P;if(l.add(kl(ne*z*Gt(F),A*k+ne*Wt(F))),s+=j?G+z*Hl:G,j^_>=n^C>=n){var W=Hb(Zy(v),Zy(R));xC(W);var Y=Hb(a,W);xC(Y);var K=(j^G>=0?-1:1)*Gl(Y[2]);(i>K||i===K&&(W[0]||W[1]))&&(o+=j^G>=0?1:-1)}}return(s<-1e-6||s<hn&&l<-1e-12)^o&1}function Mq(t,e,n,i){return function(r){var a=e(r),s=bq(),o=e(s),l=!1,c,f,d,p={point:v,lineStart:S,lineEnd:b,polygonStart:function(){p.point=A,p.lineStart=T,p.lineEnd=R,f=[],c=[]},polygonEnd:function(){p.point=v,p.lineStart=S,p.lineEnd=b,f=nP(f);var C=Sq(c,i);f.length?(l||(r.polygonStart(),l=!0),Aq(f,Wxe,C,n,r)):C&&(l||(r.polygonStart(),l=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),l&&(r.polygonEnd(),l=!1),f=c=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function v(C,L){t(C,L)&&r.point(C,L)}function _(C,L){a.point(C,L)}function S(){p.point=_,a.lineStart()}function b(){p.point=v,a.lineEnd()}function A(C,L){d.push([C,L]),o.point(C,L)}function T(){o.lineStart(),d=[]}function R(){A(d[0][0],d[0][1]),o.lineEnd();var C=o.clean(),L=s.result(),P,k=L.length,G,z,F;if(d.pop(),c.push(d),d=null,!!k){if(C&1){if(z=L[0],(G=z.length-1)>0){for(l||(r.polygonStart(),l=!0),r.lineStart(),P=0;P<G;++P)r.point((F=z[P])[0],F[1]);r.lineEnd()}return}k>1&&C&2&&L.push(L.pop().concat(L.shift())),f.push(L.filter(Yxe))}}return p}}function Yxe(t){return t.length>1}function Wxe(t,e){return((t=t.x)[0]<0?t[1]-Ma-hn:Ma-t[1])-((e=e.x)[0]<0?e[1]-Ma-hn:Ma-e[1])}const XO=Mq(function(){return!0},Jxe,$xe,[-si,-Ma]);function Jxe(t){var e=NaN,n=NaN,i=NaN,r;return{lineStart:function(){t.lineStart(),r=1},point:function(a,s){var o=a>0?si:-si,l=gi(a-e);gi(l-si)<hn?(t.point(e,n=(n+s)/2>0?Ma:-Ma),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(o,n),t.point(a,n),r=0):i!==o&&l>=si&&(gi(e-i)<hn&&(e-=i*hn),gi(a-o)<hn&&(a-=o*hn),n=Kxe(e,n,a,s),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(o,n),r=0),t.point(e=a,n=s),i=o},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-r}}}function Kxe(t,e,n,i){var r,a,s=Gt(t-n);return gi(s)>hn?m1((Gt(e)*(a=Wt(i))*Gt(n)-Gt(i)*(r=Wt(e))*Gt(t))/(r*a*s)):(e+i)/2}function $xe(t,e,n,i){var r;if(t==null)r=n*Ma,i.point(-si,r),i.point(0,r),i.point(si,r),i.point(si,0),i.point(si,-r),i.point(0,-r),i.point(-si,-r),i.point(-si,0),i.point(-si,r);else if(gi(t[0]-e[0])>hn){var a=t[0]<e[0]?si:-si;r=n*a/2,i.point(-a,r),i.point(0,r),i.point(a,r)}else i.point(e[0],e[1])}function wq(t){var e=Wt(t),n=2*ln,i=e>0,r=gi(e)>hn;function a(f,d,p,v){_q(v,t,n,p,f,d)}function s(f,d){return Wt(f)*Wt(d)>e}function o(f){var d,p,v,_,S;return{lineStart:function(){_=v=!1,S=1},point:function(b,A){var T=[b,A],R,C=s(b,A),L=i?C?0:c(b,A):C?c(b+(b<0?si:-si),A):0;if(!d&&(_=v=C)&&f.lineStart(),C!==v&&(R=l(d,T),(!R||UE(d,R)||UE(T,R))&&(T[2]=1)),C!==v)S=0,C?(f.lineStart(),R=l(T,d),f.point(R[0],R[1])):(R=l(d,T),f.point(R[0],R[1],2),f.lineEnd()),d=R;else if(r&&d&&i^C){var P;!(L&p)&&(P=l(T,d,!0))&&(S=0,i?(f.lineStart(),f.point(P[0][0],P[0][1]),f.point(P[1][0],P[1][1]),f.lineEnd()):(f.point(P[1][0],P[1][1]),f.lineEnd(),f.lineStart(),f.point(P[0][0],P[0][1],3)))}C&&(!d||!UE(d,T))&&f.point(T[0],T[1]),d=T,v=C,p=L},lineEnd:function(){v&&f.lineEnd(),d=null},clean:function(){return S|(_&&v)<<1}}}function l(f,d,p){var v=Zy(f),_=Zy(d),S=[1,0,0],b=Hb(v,_),A=L2(b,b),T=b[0],R=A-T*T;if(!R)return!p&&f;var C=e*A/R,L=-e*T/R,P=Hb(S,b),k=P2(S,C),G=P2(b,L);UB(k,G);var z=P,F=L2(k,z),j=L2(z,z),ne=F*F-j*(L2(k,k)-1);if(!(ne<0)){var W=zs(ne),Y=P2(z,(-F-W)/j);if(UB(Y,k),Y=yC(Y),!p)return Y;var K=f[0],H=d[0],J=f[1],Q=d[1],ie;H<K&&(ie=K,K=H,H=ie);var V=H-K,$=gi(V-si)<hn,oe=$||V<hn;if(!$&&Q<J&&(ie=J,J=Q,Q=ie),oe?$?J+Q>0^Y[1]<(gi(Y[0]-K)<hn?J:Q):J<=Y[1]&&Y[1]<=Q:V>si^(K<=Y[0]&&Y[0]<=H)){var de=P2(z,(-F+W)/j);return UB(de,k),[Y,yC(de)]}}}function c(f,d){var p=i?t:si-t,v=0;return f<-p?v|=1:f>p&&(v|=2),d<-p?v|=4:d>p&&(v|=8),v}return Mq(s,o,a,i?[0,-t]:[-si,t-si])}function Zxe(t,e,n,i,r,a){var s=t[0],o=t[1],l=e[0],c=e[1],f=0,d=1,p=l-s,v=c-o,_;if(_=n-s,!(!p&&_>0)){if(_/=p,p<0){if(_<f)return;_<d&&(d=_)}else if(p>0){if(_>d)return;_>f&&(f=_)}if(_=r-s,!(!p&&_<0)){if(_/=p,p<0){if(_>d)return;_>f&&(f=_)}else if(p>0){if(_<f)return;_<d&&(d=_)}if(_=i-o,!(!v&&_>0)){if(_/=v,v<0){if(_<f)return;_<d&&(d=_)}else if(v>0){if(_>d)return;_>f&&(f=_)}if(_=a-o,!(!v&&_<0)){if(_/=v,v<0){if(_>d)return;_>f&&(f=_)}else if(v>0){if(_<f)return;_<d&&(d=_)}return f>0&&(t[0]=s+f*p,t[1]=o+f*v),d<1&&(e[0]=s+d*p,e[1]=o+d*v),!0}}}}}var I2=1e9,F2=-1e9;function C3(t,e,n,i){function r(c,f){return t<=c&&c<=n&&e<=f&&f<=i}function a(c,f,d,p){var v=0,_=0;if(c==null||(v=s(c,d))!==(_=s(f,d))||l(c,f)<0^d>0)do p.point(v===0||v===3?t:n,v>1?i:e);while((v=(v+d+4)%4)!==_);else p.point(f[0],f[1])}function s(c,f){return gi(c[0]-t)<hn?f>0?0:3:gi(c[0]-n)<hn?f>0?2:1:gi(c[1]-e)<hn?f>0?1:0:f>0?3:2}function o(c,f){return l(c.x,f.x)}function l(c,f){var d=s(c,1),p=s(f,1);return d!==p?d-p:d===0?f[1]-c[1]:d===1?c[0]-f[0]:d===2?c[1]-f[1]:f[0]-c[0]}return function(c){var f=c,d=bq(),p,v,_,S,b,A,T,R,C,L,P,k={point:G,lineStart:ne,lineEnd:W,polygonStart:F,polygonEnd:j};function G(K,H){r(K,H)&&f.point(K,H)}function z(){for(var K=0,H=0,J=v.length;H<J;++H)for(var Q=v[H],ie=1,V=Q.length,$=Q[0],oe,de,fe=$[0],ge=$[1];ie<V;++ie)oe=fe,de=ge,$=Q[ie],fe=$[0],ge=$[1],de<=i?ge>i&&(fe-oe)*(i-de)>(ge-de)*(t-oe)&&++K:ge<=i&&(fe-oe)*(i-de)<(ge-de)*(t-oe)&&--K;return K}function F(){f=d,p=[],v=[],P=!0}function j(){var K=z(),H=P&&K,J=(p=nP(p)).length;(H||J)&&(c.polygonStart(),H&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),J&&Aq(p,o,K,a,c),c.polygonEnd()),f=c,p=v=_=null}function ne(){k.point=Y,v&&v.push(_=[]),L=!0,C=!1,T=R=NaN}function W(){p&&(Y(S,b),A&&C&&d.rejoin(),p.push(d.result())),k.point=G,C&&f.lineEnd()}function Y(K,H){var J=r(K,H);if(v&&_.push([K,H]),L)S=K,b=H,A=J,L=!1,J&&(f.lineStart(),f.point(K,H));else if(J&&C)f.point(K,H);else{var Q=[T=Math.max(F2,Math.min(I2,T)),R=Math.max(F2,Math.min(I2,R))],ie=[K=Math.max(F2,Math.min(I2,K)),H=Math.max(F2,Math.min(I2,H))];Zxe(Q,ie,t,e,n,i)?(C||(f.lineStart(),f.point(Q[0],Q[1])),f.point(ie[0],ie[1]),J||f.lineEnd(),P=!1):J&&(f.lineStart(),f.point(K,H),P=!1)}T=K,R=H,C=J}return k}}function Qxe(){var t=0,e=0,n=960,i=500,r,a,s;return s={stream:function(o){return r&&a===o?r:r=C3(t,e,n,i)(a=o)},extent:function(o){return arguments.length?(t=+o[0][0],e=+o[0][1],n=+o[1][0],i=+o[1][1],r=a=null,s):[[t,e],[n,i]]}}}var qO,YO,IE,FE,kb={sphere:sa,point:sa,lineStart:e_e,lineEnd:sa,polygonStart:sa,polygonEnd:sa};function e_e(){kb.point=n_e,kb.lineEnd=t_e}function t_e(){kb.point=kb.lineEnd=sa}function n_e(t,e){t*=ln,e*=ln,YO=t,IE=Gt(e),FE=Wt(e),kb.point=i_e}function i_e(t,e){t*=ln,e*=ln;var n=Gt(e),i=Wt(e),r=gi(t-YO),a=Wt(r),s=Gt(r),o=i*s,l=FE*n-IE*i*a,c=IE*n+FE*i*a;qO.add(kl(zs(o*o+l*l),c)),YO=t,IE=n,FE=i}function Eq(t){return qO=new gs,hh(t,kb),+qO}var WO=[null,null],r_e={type:"LineString",coordinates:WO};function TC(t,e){return WO[0]=t,WO[1]=e,Eq(r_e)}var lF={Feature:function(t,e){return CC(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)if(CC(n[i].geometry,e))return!0;return!1}},cF={Sphere:function(){return!0},Point:function(t,e){return uF(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(uF(n[i],e))return!0;return!1},LineString:function(t,e){return fF(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(fF(n[i],e))return!0;return!1},Polygon:function(t,e){return hF(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(hF(n[i],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)if(CC(n[i],e))return!0;return!1}};function CC(t,e){return t&&cF.hasOwnProperty(t.type)?cF[t.type](t,e):!1}function uF(t,e){return TC(t,e)===0}function fF(t,e){for(var n,i,r,a=0,s=t.length;a<s;a++){if(i=TC(t[a],e),i===0||a>0&&(r=TC(t[a],t[a-1]),r>0&&n<=r&&i<=r&&(n+i-r)*(1-Math.pow((n-i)/r,2))<hC*r))return!0;n=i}return!1}function hF(t,e){return!!Sq(t.map(a_e),Tq(e))}function a_e(t){return t=t.map(Tq),t.pop(),t}function Tq(t){return[t[0]*ln,t[1]*ln]}function s_e(t,e){return(t&&lF.hasOwnProperty(t.type)?lF[t.type]:CC)(t,e)}function dF(t,e,n){var i=t0(t,e-hn,n).concat(e);return function(r){return i.map(function(a){return[r,a]})}}function pF(t,e,n){var i=t0(t,e-hn,n).concat(e);return function(r){return i.map(function(a){return[a,r]})}}function Cq(){var t,e,n,i,r,a,s,o,l=10,c=l,f=90,d=360,p,v,_,S,b=2.5;function A(){return{type:"MultiLineString",coordinates:T()}}function T(){return t0(O2(i/f)*f,n,f).map(_).concat(t0(O2(o/d)*d,s,d).map(S)).concat(t0(O2(e/l)*l,t,l).filter(function(R){return gi(R%f)>hn}).map(p)).concat(t0(O2(a/c)*c,r,c).filter(function(R){return gi(R%d)>hn}).map(v))}return A.lines=function(){return T().map(function(R){return{type:"LineString",coordinates:R}})},A.outline=function(){return{type:"Polygon",coordinates:[_(i).concat(S(s).slice(1),_(n).reverse().slice(1),S(o).reverse().slice(1))]}},A.extent=function(R){return arguments.length?A.extentMajor(R).extentMinor(R):A.extentMinor()},A.extentMajor=function(R){return arguments.length?(i=+R[0][0],n=+R[1][0],o=+R[0][1],s=+R[1][1],i>n&&(R=i,i=n,n=R),o>s&&(R=o,o=s,s=R),A.precision(b)):[[i,o],[n,s]]},A.extentMinor=function(R){return arguments.length?(e=+R[0][0],t=+R[1][0],a=+R[0][1],r=+R[1][1],e>t&&(R=e,e=t,t=R),a>r&&(R=a,a=r,r=R),A.precision(b)):[[e,a],[t,r]]},A.step=function(R){return arguments.length?A.stepMajor(R).stepMinor(R):A.stepMinor()},A.stepMajor=function(R){return arguments.length?(f=+R[0],d=+R[1],A):[f,d]},A.stepMinor=function(R){return arguments.length?(l=+R[0],c=+R[1],A):[l,c]},A.precision=function(R){return arguments.length?(b=+R,p=dF(a,r,90),v=pF(e,t,b),_=dF(o,s,90),S=pF(i,n,b),A):b},A.extentMajor([[-180,-90+hn],[180,90-hn]]).extentMinor([[-180,-80-hn],[180,80+hn]])}function o_e(){return Cq()()}function l_e(t,e){var n=t[0]*ln,i=t[1]*ln,r=e[0]*ln,a=e[1]*ln,s=Wt(i),o=Gt(i),l=Wt(a),c=Gt(a),f=s*Wt(n),d=s*Gt(n),p=l*Wt(r),v=l*Gt(r),_=2*Gl(zs(W9(a-i)+s*l*W9(r-n))),S=Gt(_),b=_?function(A){var T=Gt(A*=_)/S,R=Gt(_-A)/S,C=R*f+T*p,L=R*d+T*v,P=R*o+T*c;return[kl(L,C)*Mr,kl(P,zs(C*C+L*L))*Mr]}:function(){return[n*Mr,i*Mr]};return b.distance=_,b}const KS=t=>t;var FB=new gs,JO=new gs,Rq,Nq,KO,$O,pm={point:sa,lineStart:sa,lineEnd:sa,polygonStart:function(){pm.lineStart=c_e,pm.lineEnd=f_e},polygonEnd:function(){pm.lineStart=pm.lineEnd=pm.point=sa,FB.add(gi(JO)),JO=new gs},result:function(){var t=FB/2;return FB=new gs,t}};function c_e(){pm.point=u_e}function u_e(t,e){pm.point=Dq,Rq=KO=t,Nq=$O=e}function Dq(t,e){JO.add($O*t-KO*e),KO=t,$O=e}function f_e(){Dq(Rq,Nq)}var Gb=1/0,RC=Gb,$S=-Gb,NC=$S,DC={point:h_e,lineStart:sa,lineEnd:sa,polygonStart:sa,polygonEnd:sa,result:function(){var t=[[Gb,RC],[$S,NC]];return $S=NC=-(RC=Gb=1/0),t}};function h_e(t,e){t<Gb&&(Gb=t),t>$S&&($S=t),e<RC&&(RC=e),e>NC&&(NC=e)}var ZO=0,QO=0,OA=0,BC=0,OC=0,eb=0,e5=0,t5=0,LA=0,Bq,Oq,Md,wd,ff={point:Qy,lineStart:mF,lineEnd:gF,polygonStart:function(){ff.lineStart=m_e,ff.lineEnd=g_e},polygonEnd:function(){ff.point=Qy,ff.lineStart=mF,ff.lineEnd=gF},result:function(){var t=LA?[e5/LA,t5/LA]:eb?[BC/eb,OC/eb]:OA?[ZO/OA,QO/OA]:[NaN,NaN];return ZO=QO=OA=BC=OC=eb=e5=t5=LA=0,t}};function Qy(t,e){ZO+=t,QO+=e,++OA}function mF(){ff.point=d_e}function d_e(t,e){ff.point=p_e,Qy(Md=t,wd=e)}function p_e(t,e){var n=t-Md,i=e-wd,r=zs(n*n+i*i);BC+=r*(Md+t)/2,OC+=r*(wd+e)/2,eb+=r,Qy(Md=t,wd=e)}function gF(){ff.point=Qy}function m_e(){ff.point=v_e}function g_e(){Lq(Bq,Oq)}function v_e(t,e){ff.point=Lq,Qy(Bq=Md=t,Oq=wd=e)}function Lq(t,e){var n=t-Md,i=e-wd,r=zs(n*n+i*i);BC+=r*(Md+t)/2,OC+=r*(wd+e)/2,eb+=r,r=wd*t-Md*e,e5+=r*(Md+t),t5+=r*(wd+e),LA+=r*3,Qy(Md=t,wd=e)}function Pq(t){this._context=t}Pq.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Hl);break}}},result:sa};var n5=new gs,zB,Uq,Iq,PA,UA,ZS={point:sa,lineStart:function(){ZS.point=y_e},lineEnd:function(){zB&&Fq(Uq,Iq),ZS.point=sa},polygonStart:function(){zB=!0},polygonEnd:function(){zB=null},result:function(){var t=+n5;return n5=new gs,t}};function y_e(t,e){ZS.point=Fq,Uq=PA=t,Iq=UA=e}function Fq(t,e){PA-=t,UA-=e,n5.add(zs(PA*PA+UA*UA)),PA=t,UA=e}let vF,LC,yF,xF;class _F{constructor(e){this._append=e==null?zq:x_e(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==yF||this._append!==LC){const i=this._radius,r=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,yF=i,LC=this._append,xF=this._,this._=r}this._+=xF;break}}}result(){const e=this._;return this._="",e.length?e:null}}function zq(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function x_e(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return zq;if(e!==vF){const n=10**e;vF=e,LC=function(r){let a=1;this._+=r[0];for(const s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}return LC}function __e(t,e){let n=3,i=4.5,r,a;function s(o){return o&&(typeof i=="function"&&a.pointRadius(+i.apply(this,arguments)),hh(o,r(a))),a.result()}return s.area=function(o){return hh(o,r(pm)),pm.result()},s.measure=function(o){return hh(o,r(ZS)),ZS.result()},s.bounds=function(o){return hh(o,r(DC)),DC.result()},s.centroid=function(o){return hh(o,r(ff)),ff.result()},s.projection=function(o){return arguments.length?(r=o==null?(t=null,KS):(t=o).stream,s):t},s.context=function(o){return arguments.length?(a=o==null?(e=null,new _F(n)):new Pq(e=o),typeof i!="function"&&a.pointRadius(i),s):e},s.pointRadius=function(o){return arguments.length?(i=typeof o=="function"?o:(a.pointRadius(+o),+o),s):i},s.digits=function(o){if(!arguments.length)return n;if(o==null)n=null;else{const l=Math.floor(o);if(!(l>=0))throw new RangeError(`invalid digits: ${o}`);n=l}return e===null&&(a=new _F(n)),s},s.projection(t).digits(n).context(e)}function b_e(t){return{stream:FM(t)}}function FM(t){return function(e){var n=new i5;for(var i in t)n[i]=t[i];return n.stream=e,n}}function i5(){}i5.prototype={constructor:i5,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function RP(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),i!=null&&t.clipExtent(null),hh(n,t.stream(DC)),e(DC.result()),i!=null&&t.clipExtent(i),t}function R3(t,e,n){return RP(t,function(i){var r=e[1][0]-e[0][0],a=e[1][1]-e[0][1],s=Math.min(r/(i[1][0]-i[0][0]),a/(i[1][1]-i[0][1])),o=+e[0][0]+(r-s*(i[1][0]+i[0][0]))/2,l=+e[0][1]+(a-s*(i[1][1]+i[0][1]))/2;t.scale(150*s).translate([o,l])},n)}function NP(t,e,n){return R3(t,[[0,0],e],n)}function DP(t,e,n){return RP(t,function(i){var r=+e,a=r/(i[1][0]-i[0][0]),s=(r-a*(i[1][0]+i[0][0]))/2,o=-a*i[0][1];t.scale(150*a).translate([s,o])},n)}function BP(t,e,n){return RP(t,function(i){var r=+e,a=r/(i[1][1]-i[0][1]),s=-a*i[0][0],o=(r-a*(i[1][1]+i[0][1]))/2;t.scale(150*a).translate([s,o])},n)}var bF=16,A_e=Wt(30*ln);function AF(t,e){return+e?M_e(t,e):S_e(t)}function S_e(t){return FM({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function M_e(t,e){function n(i,r,a,s,o,l,c,f,d,p,v,_,S,b){var A=c-i,T=f-r,R=A*A+T*T;if(R>4*e&&S--){var C=s+p,L=o+v,P=l+_,k=zs(C*C+L*L+P*P),G=Gl(P/=k),z=gi(gi(P)-1)<hn||gi(a-d)<hn?(a+d)/2:kl(L,C),F=t(z,G),j=F[0],ne=F[1],W=j-i,Y=ne-r,K=T*W-A*Y;(K*K/R>e||gi((A*W+T*Y)/R-.5)>.3||s*p+o*v+l*_<A_e)&&(n(i,r,a,s,o,l,j,ne,z,C/=k,L/=k,P,S,b),b.point(j,ne),n(j,ne,z,C,L,P,c,f,d,p,v,_,S,b))}}return function(i){var r,a,s,o,l,c,f,d,p,v,_,S,b={point:A,lineStart:T,lineEnd:C,polygonStart:function(){i.polygonStart(),b.lineStart=L},polygonEnd:function(){i.polygonEnd(),b.lineStart=T}};function A(G,z){G=t(G,z),i.point(G[0],G[1])}function T(){d=NaN,b.point=R,i.lineStart()}function R(G,z){var F=Zy([G,z]),j=t(G,z);n(d,p,f,v,_,S,d=j[0],p=j[1],f=G,v=F[0],_=F[1],S=F[2],bF,i),i.point(d,p)}function C(){b.point=A,i.lineEnd()}function L(){T(),b.point=P,b.lineEnd=k}function P(G,z){R(r=G,z),a=d,s=p,o=v,l=_,c=S,b.point=R}function k(){n(d,p,f,v,_,S,a,s,r,o,l,c,bF,i),b.lineEnd=C,C()}return b}}var w_e=FM({point:function(t,e){this.stream.point(t*ln,e*ln)}});function E_e(t){return FM({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}function T_e(t,e,n,i,r){function a(s,o){return s*=i,o*=r,[e+t*s,n-t*o]}return a.invert=function(s,o){return[(s-e)/t*i,(n-o)/t*r]},a}function SF(t,e,n,i,r,a){if(!a)return T_e(t,e,n,i,r);var s=Wt(a),o=Gt(a),l=s*t,c=o*t,f=s/t,d=o/t,p=(o*n-s*e)/t,v=(o*e+s*n)/t;function _(S,b){return S*=i,b*=r,[l*S-c*b+e,n-c*S-l*b]}return _.invert=function(S,b){return[i*(f*S-d*b+p),r*(v-d*S-f*b)]},_}function qd(t){return OP(function(){return t})()}function OP(t){var e,n=150,i=480,r=250,a=0,s=0,o=0,l=0,c=0,f,d=0,p=1,v=1,_=null,S=XO,b=null,A,T,R,C=KS,L=.5,P,k,G,z,F;function j(K){return G(K[0]*ln,K[1]*ln)}function ne(K){return K=G.invert(K[0],K[1]),K&&[K[0]*Mr,K[1]*Mr]}j.stream=function(K){return z&&F===K?z:z=w_e(E_e(f)(S(P(C(F=K)))))},j.preclip=function(K){return arguments.length?(S=K,_=void 0,Y()):S},j.postclip=function(K){return arguments.length?(C=K,b=A=T=R=null,Y()):C},j.clipAngle=function(K){return arguments.length?(S=+K?wq(_=K*ln):(_=null,XO),Y()):_*Mr},j.clipExtent=function(K){return arguments.length?(C=K==null?(b=A=T=R=null,KS):C3(b=+K[0][0],A=+K[0][1],T=+K[1][0],R=+K[1][1]),Y()):b==null?null:[[b,A],[T,R]]},j.scale=function(K){return arguments.length?(n=+K,W()):n},j.translate=function(K){return arguments.length?(i=+K[0],r=+K[1],W()):[i,r]},j.center=function(K){return arguments.length?(a=K[0]%360*ln,s=K[1]%360*ln,W()):[a*Mr,s*Mr]},j.rotate=function(K){return arguments.length?(o=K[0]%360*ln,l=K[1]%360*ln,c=K.length>2?K[2]%360*ln:0,W()):[o*Mr,l*Mr,c*Mr]},j.angle=function(K){return arguments.length?(d=K%360*ln,W()):d*Mr},j.reflectX=function(K){return arguments.length?(p=K?-1:1,W()):p<0},j.reflectY=function(K){return arguments.length?(v=K?-1:1,W()):v<0},j.precision=function(K){return arguments.length?(P=AF(k,L=K*K),Y()):zs(L)},j.fitExtent=function(K,H){return R3(j,K,H)},j.fitSize=function(K,H){return NP(j,K,H)},j.fitWidth=function(K,H){return DP(j,K,H)},j.fitHeight=function(K,H){return BP(j,K,H)};function W(){var K=SF(n,0,0,p,v,d).apply(null,e(a,s)),H=SF(n,i-K[0],r-K[1],p,v,d);return f=CP(o,l,c),k=jO(e,H),G=jO(f,k),P=AF(k,L),Y()}function Y(){return z=F=null,j}return function(){return e=t.apply(this,arguments),j.invert=e.invert&&ne,W()}}function LP(t){var e=0,n=si/3,i=OP(t),r=i(e,n);return r.parallels=function(a){return arguments.length?i(e=a[0]*ln,n=a[1]*ln):[e*Mr,n*Mr]},r}function C_e(t){var e=Wt(t);function n(i,r){return[i*e,Gt(r)/e]}return n.invert=function(i,r){return[i/e,Gl(r*e)]},n}function Hq(t,e){var n=Gt(t),i=(n+Gt(e))/2;if(gi(i)<hn)return C_e(t);var r=1+n*(2*i-n),a=zs(r)/i;function s(o,l){var c=zs(r-2*i*Gt(l))/i;return[c*Gt(o*=i),a-c*Wt(o)]}return s.invert=function(o,l){var c=a-l,f=kl(o,gi(c))*df(c);return c*i<0&&(f-=si*df(o)*df(c)),[f/i,Gl((r-(o*o+c*c)*i*i)/(2*i))]},s}function PC(){return LP(Hq).scale(155.424).center([0,33.6442])}function kq(){return PC().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function R_e(t){var e=t.length;return{point:function(n,i){for(var r=-1;++r<e;)t[r].point(n,i)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function N_e(){var t,e,n=kq(),i,r=PC().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=PC().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,l,c={point:function(p,v){l=[p,v]}};function f(p){var v=p[0],_=p[1];return l=null,i.point(v,_),l||(a.point(v,_),l)||(o.point(v,_),l)}f.invert=function(p){var v=n.scale(),_=n.translate(),S=(p[0]-_[0])/v,b=(p[1]-_[1])/v;return(b>=.12&&b<.234&&S>=-.425&&S<-.214?r:b>=.166&&b<.234&&S>=-.214&&S<-.115?s:n).invert(p)},f.stream=function(p){return t&&e===p?t:t=R_e([n.stream(e=p),r.stream(p),s.stream(p)])},f.precision=function(p){return arguments.length?(n.precision(p),r.precision(p),s.precision(p),d()):n.precision()},f.scale=function(p){return arguments.length?(n.scale(p),r.scale(p*.35),s.scale(p),f.translate(n.translate())):n.scale()},f.translate=function(p){if(!arguments.length)return n.translate();var v=n.scale(),_=+p[0],S=+p[1];return i=n.translate(p).clipExtent([[_-.455*v,S-.238*v],[_+.455*v,S+.238*v]]).stream(c),a=r.translate([_-.307*v,S+.201*v]).clipExtent([[_-.425*v+hn,S+.12*v+hn],[_-.214*v-hn,S+.234*v-hn]]).stream(c),o=s.translate([_-.205*v,S+.212*v]).clipExtent([[_-.214*v+hn,S+.166*v+hn],[_-.115*v-hn,S+.234*v-hn]]).stream(c),d()},f.fitExtent=function(p,v){return R3(f,p,v)},f.fitSize=function(p,v){return NP(f,p,v)},f.fitWidth=function(p,v){return DP(f,p,v)},f.fitHeight=function(p,v){return BP(f,p,v)};function d(){return t=e=null,f}return f.scale(1070)}function Gq(t){return function(e,n){var i=Wt(e),r=Wt(n),a=t(i*r);return a===1/0?[2,0]:[a*r*Gt(e),a*Gt(n)]}}function zM(t){return function(e,n){var i=zs(e*e+n*n),r=t(i),a=Gt(r),s=Wt(r);return[kl(e*a,i*s),Gl(i&&n*a/i)]}}var PP=Gq(function(t){return zs(2/(1+t))});PP.invert=zM(function(t){return 2*Gl(t/2)});function D_e(){return qd(PP).scale(124.75).clipAngle(180-.001)}var UP=Gq(function(t){return(t=lq(t))&&t/Gt(t)});UP.invert=zM(function(t){return t});function B_e(){return qd(UP).scale(79.4188).clipAngle(180-.001)}function HM(t,e){return[t,pC(EP((Ma+e)/2))]}HM.invert=function(t,e){return[t,2*m1(oq(e))-Ma]};function O_e(){return jq(HM).scale(961/Hl)}function jq(t){var e=qd(t),n=e.center,i=e.scale,r=e.translate,a=e.clipExtent,s=null,o,l,c;e.scale=function(d){return arguments.length?(i(d),f()):i()},e.translate=function(d){return arguments.length?(r(d),f()):r()},e.center=function(d){return arguments.length?(n(d),f()):n()},e.clipExtent=function(d){return arguments.length?(d==null?s=o=l=c=null:(s=+d[0][0],o=+d[0][1],l=+d[1][0],c=+d[1][1]),f()):s==null?null:[[s,o],[l,c]]};function f(){var d=si*i(),p=e(xq(e.rotate()).invert([0,0]));return a(s==null?[[p[0]-d,p[1]-d],[p[0]+d,p[1]+d]]:t===HM?[[Math.max(p[0]-d,s),o],[Math.min(p[0]+d,l),c]]:[[s,Math.max(p[1]-d,o)],[l,Math.min(p[1]+d,c)]])}return f()}function z2(t){return EP((Ma+t)/2)}function Vq(t,e){var n=Wt(t),i=t===e?Gt(t):pC(n/Wt(e))/pC(z2(e)/z2(t)),r=n*PB(z2(t),i)/i;if(!i)return HM;function a(s,o){r>0?o<-Ma+hn&&(o=-Ma+hn):o>Ma-hn&&(o=Ma-hn);var l=r/PB(z2(o),i);return[l*Gt(i*s),r-l*Wt(i*s)]}return a.invert=function(s,o){var l=r-o,c=df(i)*zs(s*s+l*l),f=kl(s,gi(l))*df(l);return l*i<0&&(f-=si*df(s)*df(l)),[f/i,2*m1(PB(r/c,1/i))-Ma]},a}function L_e(){return LP(Vq).scale(109.5).parallels([30,30])}function QS(t,e){return[t,e]}QS.invert=QS;function P_e(){return qd(QS).scale(152.63)}function Xq(t,e){var n=Wt(t),i=t===e?Gt(t):(n-Wt(e))/(e-t),r=n/i+t;if(gi(i)<hn)return QS;function a(s,o){var l=r-o,c=i*s;return[l*Gt(c),r-l*Wt(c)]}return a.invert=function(s,o){var l=r-o,c=kl(s,gi(l))*df(l);return l*i<0&&(c-=si*df(s)*df(l)),[c/i,r-df(i)*zs(s*s+l*l)]},a}function U_e(){return LP(Xq).scale(131.154).center([0,13.9389])}var lS=1.340264,cS=-.081106,uS=893e-6,fS=.003796,UC=zs(3)/2,I_e=12;function IP(t,e){var n=Gl(UC*Gt(e)),i=n*n,r=i*i*i;return[t*Wt(n)/(UC*(lS+3*cS*i+r*(7*uS+9*fS*i))),n*(lS+cS*i+r*(uS+fS*i))]}IP.invert=function(t,e){for(var n=e,i=n*n,r=i*i*i,a=0,s,o,l;a<I_e&&(o=n*(lS+cS*i+r*(uS+fS*i))-e,l=lS+3*cS*i+r*(7*uS+9*fS*i),n-=s=o/l,i=n*n,r=i*i*i,!(gi(s)<hC));++a);return[UC*t*(lS+3*cS*i+r*(7*uS+9*fS*i))/Wt(n),Gl(Gt(n)/UC)]};function F_e(){return qd(IP).scale(177.158)}function FP(t,e){var n=Wt(e),i=Wt(t)*n;return[n*Gt(t)/i,Gt(e)/i]}FP.invert=zM(m1);function z_e(){return qd(FP).scale(144.049).clipAngle(60)}function H_e(){var t=1,e=0,n=0,i=1,r=1,a=0,s,o,l=null,c,f,d,p=1,v=1,_=FM({point:function(C,L){var P=R([C,L]);this.stream.point(P[0],P[1])}}),S=KS,b,A;function T(){return p=t*i,v=t*r,b=A=null,R}function R(C){var L=C[0]*p,P=C[1]*v;if(a){var k=P*s-L*o;L=L*s+P*o,P=k}return[L+e,P+n]}return R.invert=function(C){var L=C[0]-e,P=C[1]-n;if(a){var k=P*s+L*o;L=L*s-P*o,P=k}return[L/p,P/v]},R.stream=function(C){return b&&A===C?b:b=_(S(A=C))},R.postclip=function(C){return arguments.length?(S=C,l=c=f=d=null,T()):S},R.clipExtent=function(C){return arguments.length?(S=C==null?(l=c=f=d=null,KS):C3(l=+C[0][0],c=+C[0][1],f=+C[1][0],d=+C[1][1]),T()):l==null?null:[[l,c],[f,d]]},R.scale=function(C){return arguments.length?(t=+C,T()):t},R.translate=function(C){return arguments.length?(e=+C[0],n=+C[1],T()):[e,n]},R.angle=function(C){return arguments.length?(a=C%360*ln,o=Gt(a),s=Wt(a),T()):a*Mr},R.reflectX=function(C){return arguments.length?(i=C?-1:1,T()):i<0},R.reflectY=function(C){return arguments.length?(r=C?-1:1,T()):r<0},R.fitExtent=function(C,L){return R3(R,C,L)},R.fitSize=function(C,L){return NP(R,C,L)},R.fitWidth=function(C,L){return DP(R,C,L)},R.fitHeight=function(C,L){return BP(R,C,L)},R}function zP(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(-.013791+i*(.003971*n-.001529*i))),e*(1.007226+n*(.015085+i*(-.044475+.028874*n-.005916*i)))]}zP.invert=function(t,e){var n=e,i=25,r;do{var a=n*n,s=a*a;n-=r=(n*(1.007226+a*(.015085+s*(-.044475+.028874*a-.005916*s)))-e)/(1.007226+a*(.015085*3+s*(-.044475*7+.028874*9*a-.005916*11*s)))}while(gi(r)>hn&&--i>0);return[t/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function k_e(){return qd(zP).scale(175.295)}function HP(t,e){return[Wt(e)*Gt(t),Gt(e)]}HP.invert=zM(Gl);function G_e(){return qd(HP).scale(249.5).clipAngle(90+hn)}function kP(t,e){var n=Wt(e),i=1+Wt(t)*n;return[n*Gt(t)/i,Gt(e)/i]}kP.invert=zM(function(t){return 2*m1(t)});function j_e(){return qd(kP).scale(250).clipAngle(142)}function GP(t,e){return[pC(EP((Ma+e)/2)),-t]}GP.invert=function(t,e){return[-e,2*m1(oq(t))-Ma]};function V_e(){var t=jq(GP),e=t.center,n=t.rotate;return t.center=function(i){return arguments.length?e([-i[1],i[0]]):(i=e(),[i[1],-i[0]])},t.rotate=function(i){return arguments.length?n([i[0],i[1],i.length>2?i[2]+90:90]):(i=n(),[i[0],i[1],i[2]-90])},n([0,0,90]).scale(159.155)}function X_e(t,e){return t.parent===e.parent?1:2}function q_e(t){return t.reduce(Y_e,0)/t.length}function Y_e(t,e){return t+e.x}function W_e(t){return 1+t.reduce(J_e,0)}function J_e(t,e){return Math.max(t,e.y)}function K_e(t){for(var e;e=t.children;)t=e[0];return t}function $_e(t){for(var e;e=t.children;)t=e[e.length-1];return t}function Z_e(){var t=X_e,e=1,n=1,i=!1;function r(a){var s,o=0;a.eachAfter(function(p){var v=p.children;v?(p.x=q_e(v),p.y=W_e(v)):(p.x=s?o+=t(p,s):0,p.y=0,s=p)});var l=K_e(a),c=$_e(a),f=l.x-t(l,c)/2,d=c.x+t(c,l)/2;return a.eachAfter(i?function(p){p.x=(p.x-a.x)*e,p.y=(a.y-p.y)*n}:function(p){p.x=(p.x-f)/(d-f)*e,p.y=(1-(a.y?p.y/a.y:1))*n})}return r.separation=function(a){return arguments.length?(t=a,r):t},r.size=function(a){return arguments.length?(i=!1,e=+a[0],n=+a[1],r):i?null:[e,n]},r.nodeSize=function(a){return arguments.length?(i=!0,e=+a[0],n=+a[1],r):i?[e,n]:null},r}function Q_e(t){var e=0,n=t.children,i=n&&n.length;if(!i)e=1;else for(;--i>=0;)e+=n[i].value;t.value=e}function ebe(){return this.eachAfter(Q_e)}function tbe(t,e){let n=-1;for(const i of this)t.call(e,i,++n,this);return this}function nbe(t,e){for(var n=this,i=[n],r,a,s=-1;n=i.pop();)if(t.call(e,n,++s,this),r=n.children)for(a=r.length-1;a>=0;--a)i.push(r[a]);return this}function ibe(t,e){for(var n=this,i=[n],r=[],a,s,o,l=-1;n=i.pop();)if(r.push(n),a=n.children)for(s=0,o=a.length;s<o;++s)i.push(a[s]);for(;n=r.pop();)t.call(e,n,++l,this);return this}function rbe(t,e){let n=-1;for(const i of this)if(t.call(e,i,++n,this))return i}function abe(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n})}function sbe(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function obe(t){for(var e=this,n=lbe(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i}function lbe(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;for(t=n.pop(),e=i.pop();t===e;)r=t,t=n.pop(),e=i.pop();return r}function cbe(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function ube(){return Array.from(this)}function fbe(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function hbe(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*dbe(){var t=this,e,n=[t],i,r,a;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,i=t.children)for(r=0,a=i.length;r<a;++r)n.push(i[r]);while(n.length)}function jP(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=gbe)):e===void 0&&(e=mbe);for(var n=new ex(t),i,r=[n],a,s,o,l;i=r.pop();)if((s=e(i.data))&&(l=(s=Array.from(s)).length))for(i.children=s,o=l-1;o>=0;--o)r.push(a=s[o]=new ex(s[o])),a.parent=i,a.depth=i.depth+1;return n.eachBefore(qq)}function pbe(){return jP(this).eachBefore(vbe)}function mbe(t){return t.children}function gbe(t){return Array.isArray(t)?t[1]:null}function vbe(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function qq(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function ex(t){this.data=t,this.depth=this.height=0,this.parent=null}ex.prototype=jP.prototype={constructor:ex,count:ebe,each:tbe,eachAfter:ibe,eachBefore:nbe,find:rbe,sum:abe,sort:sbe,path:obe,ancestors:cbe,descendants:ube,leaves:fbe,links:hbe,copy:pbe,[Symbol.iterator]:dbe};function zE(t){return t==null?null:Yq(t)}function Yq(t){if(typeof t!="function")throw new Error;return t}function uy(){return 0}function W_(t){return function(){return t}}const ybe=1664525,xbe=1013904223,MF=4294967296;function VP(){let t=1;return()=>(t=(ybe*t+xbe)%MF)/MF}function _be(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function bbe(t,e){let n=t.length,i,r;for(;n;)r=e()*n--|0,i=t[n],t[n]=t[r],t[r]=i;return t}function Abe(t){return Wq(t,VP())}function Wq(t,e){for(var n=0,i=(t=bbe(Array.from(t),e)).length,r=[],a,s;n<i;)a=t[n],s&&Jq(s,a)?++n:(s=Mbe(r=Sbe(r,a)),n=0);return s}function Sbe(t,e){var n,i;if(HB(e,t))return[e];for(n=0;n<t.length;++n)if(H2(e,t[n])&&HB(IA(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(i=n+1;i<t.length;++i)if(H2(IA(t[n],t[i]),e)&&H2(IA(t[n],e),t[i])&&H2(IA(t[i],e),t[n])&&HB(Kq(t[n],t[i],e),t))return[t[n],t[i],e];throw new Error}function H2(t,e){var n=t.r-e.r,i=e.x-t.x,r=e.y-t.y;return n<0||n*n<i*i+r*r}function Jq(t,e){var n=t.r-e.r+Math.max(t.r,e.r,1)*1e-9,i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function HB(t,e){for(var n=0;n<e.length;++n)if(!Jq(t,e[n]))return!1;return!0}function Mbe(t){switch(t.length){case 1:return wbe(t[0]);case 2:return IA(t[0],t[1]);case 3:return Kq(t[0],t[1],t[2])}}function wbe(t){return{x:t.x,y:t.y,r:t.r}}function IA(t,e){var n=t.x,i=t.y,r=t.r,a=e.x,s=e.y,o=e.r,l=a-n,c=s-i,f=o-r,d=Math.sqrt(l*l+c*c);return{x:(n+a+l/d*f)/2,y:(i+s+c/d*f)/2,r:(d+r+o)/2}}function Kq(t,e,n){var i=t.x,r=t.y,a=t.r,s=e.x,o=e.y,l=e.r,c=n.x,f=n.y,d=n.r,p=i-s,v=i-c,_=r-o,S=r-f,b=l-a,A=d-a,T=i*i+r*r-a*a,R=T-s*s-o*o+l*l,C=T-c*c-f*f+d*d,L=v*_-p*S,P=(_*C-S*R)/(L*2)-i,k=(S*b-_*A)/L,G=(v*R-p*C)/(L*2)-r,z=(p*A-v*b)/L,F=k*k+z*z-1,j=2*(a+P*k+G*z),ne=P*P+G*G-a*a,W=-(Math.abs(F)>1e-6?(j+Math.sqrt(j*j-4*F*ne))/(2*F):ne/j);return{x:i+P+k*W,y:r+G+z*W,r:W}}function wF(t,e,n){var i=t.x-e.x,r,a,s=t.y-e.y,o,l,c=i*i+s*s;c?(a=e.r+n.r,a*=a,l=t.r+n.r,l*=l,a>l?(r=(c+l-a)/(2*c),o=Math.sqrt(Math.max(0,l/c-r*r)),n.x=t.x-r*i-o*s,n.y=t.y-r*s+o*i):(r=(c+a-l)/(2*c),o=Math.sqrt(Math.max(0,a/c-r*r)),n.x=e.x+r*i-o*s,n.y=e.y+r*s+o*i)):(n.x=e.x+n.r,n.y=e.y)}function EF(t,e){var n=t.r+e.r-1e-6,i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function TF(t){var e=t._,n=t.next._,i=e.r+n.r,r=(e.x*n.r+n.x*e.r)/i,a=(e.y*n.r+n.y*e.r)/i;return r*r+a*a}function k2(t){this._=t,this.next=null,this.previous=null}function $q(t,e){if(!(a=(t=_be(t)).length))return 0;var n,i,r,a,s,o,l,c,f,d,p;if(n=t[0],n.x=0,n.y=0,!(a>1))return n.r;if(i=t[1],n.x=-i.r,i.x=n.r,i.y=0,!(a>2))return n.r+i.r;wF(i,n,r=t[2]),n=new k2(n),i=new k2(i),r=new k2(r),n.next=r.previous=i,i.next=n.previous=r,r.next=i.previous=n;e:for(l=3;l<a;++l){wF(n._,i._,r=t[l]),r=new k2(r),c=i.next,f=n.previous,d=i._.r,p=n._.r;do if(d<=p){if(EF(c._,r._)){i=c,n.next=i,i.previous=n,--l;continue e}d+=c._.r,c=c.next}else{if(EF(f._,r._)){n=f,n.next=i,i.previous=n,--l;continue e}p+=f._.r,f=f.previous}while(c!==f.next);for(r.previous=n,r.next=i,n.next=i.previous=i=r,s=TF(n);(r=r.next)!==i;)(o=TF(r))<s&&(n=r,s=o);i=n.next}for(n=[i._],r=i;(r=r.next)!==i;)n.push(r._);for(r=Wq(n,e),l=0;l<a;++l)n=t[l],n.x-=r.x,n.y-=r.y;return r.r}function Ebe(t){return $q(t,VP()),t}function Tbe(t){return Math.sqrt(t.value)}function Cbe(){var t=null,e=1,n=1,i=uy;function r(a){const s=VP();return a.x=e/2,a.y=n/2,t?a.eachBefore(CF(t)).eachAfter(kB(i,.5,s)).eachBefore(RF(1)):a.eachBefore(CF(Tbe)).eachAfter(kB(uy,1,s)).eachAfter(kB(i,a.r/Math.min(e,n),s)).eachBefore(RF(Math.min(e,n)/(2*a.r))),a}return r.radius=function(a){return arguments.length?(t=zE(a),r):t},r.size=function(a){return arguments.length?(e=+a[0],n=+a[1],r):[e,n]},r.padding=function(a){return arguments.length?(i=typeof a=="function"?a:W_(+a),r):i},r}function CF(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function kB(t,e,n){return function(i){if(r=i.children){var r,a,s=r.length,o=t(i)*e||0,l;if(o)for(a=0;a<s;++a)r[a].r+=o;if(l=$q(r,n),o)for(a=0;a<s;++a)r[a].r-=o;i.r=l+o}}}function RF(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function Zq(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function kM(t,e,n,i,r){for(var a=t.children,s,o=-1,l=a.length,c=t.value&&(i-e)/t.value;++o<l;)s=a[o],s.y0=n,s.y1=r,s.x0=e,s.x1=e+=s.value*c}function Rbe(){var t=1,e=1,n=0,i=!1;function r(s){var o=s.height+1;return s.x0=s.y0=n,s.x1=t,s.y1=e/o,s.eachBefore(a(e,o)),i&&s.eachBefore(Zq),s}function a(s,o){return function(l){l.children&&kM(l,l.x0,s*(l.depth+1)/o,l.x1,s*(l.depth+2)/o);var c=l.x0,f=l.y0,d=l.x1-n,p=l.y1-n;d<c&&(c=d=(c+d)/2),p<f&&(f=p=(f+p)/2),l.x0=c,l.y0=f,l.x1=d,l.y1=p}}return r.round=function(s){return arguments.length?(i=!!s,r):i},r.size=function(s){return arguments.length?(t=+s[0],e=+s[1],r):[t,e]},r.padding=function(s){return arguments.length?(n=+s,r):n},r}var Nbe={depth:-1},NF={},GB={};function Dbe(t){return t.id}function Bbe(t){return t.parentId}function Obe(){var t=Dbe,e=Bbe,n;function i(r){var a=Array.from(r),s=t,o=e,l,c,f,d,p,v,_,S,b=new Map;if(n!=null){const A=a.map((C,L)=>Lbe(n(C,L,r))),T=A.map(DF),R=new Set(A).add("");for(const C of T)R.has(C)||(R.add(C),A.push(C),T.push(DF(C)),a.push(GB));s=(C,L)=>A[L],o=(C,L)=>T[L]}for(f=0,l=a.length;f<l;++f)c=a[f],v=a[f]=new ex(c),(_=s(c,f,r))!=null&&(_+="")&&(S=v.id=_,b.set(S,b.has(S)?NF:v)),(_=o(c,f,r))!=null&&(_+="")&&(v.parent=_);for(f=0;f<l;++f)if(v=a[f],_=v.parent){if(p=b.get(_),!p)throw new Error("missing: "+_);if(p===NF)throw new Error("ambiguous: "+_);p.children?p.children.push(v):p.children=[v],v.parent=p}else{if(d)throw new Error("multiple roots");d=v}if(!d)throw new Error("no root");if(n!=null){for(;d.data===GB&&d.children.length===1;)d=d.children[0],--l;for(let A=a.length-1;A>=0&&(v=a[A],v.data===GB);--A)v.data=null}if(d.parent=Nbe,d.eachBefore(function(A){A.depth=A.parent.depth+1,--l}).eachBefore(qq),d.parent=null,l>0)throw new Error("cycle");return d}return i.id=function(r){return arguments.length?(t=zE(r),i):t},i.parentId=function(r){return arguments.length?(e=zE(r),i):e},i.path=function(r){return arguments.length?(n=zE(r),i):n},i}function Lbe(t){t=`${t}`;let e=t.length;return r5(t,e-1)&&!r5(t,e-2)&&(t=t.slice(0,-1)),t[0]==="/"?t:`/${t}`}function DF(t){let e=t.length;if(e<2)return"";for(;--e>1&&!r5(t,e););return t.slice(0,e)}function r5(t,e){if(t[e]==="/"){let n=0;for(;e>0&&t[--e]==="\\";)++n;if((n&1)===0)return!0}return!1}function Pbe(t,e){return t.parent===e.parent?1:2}function jB(t){var e=t.children;return e?e[0]:t.t}function VB(t){var e=t.children;return e?e[e.length-1]:t.t}function Ube(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Ibe(t){for(var e=0,n=0,i=t.children,r=i.length,a;--r>=0;)a=i[r],a.z+=e,a.m+=e,e+=a.s+(n+=a.c)}function Fbe(t,e,n){return t.a.parent===e.parent?t.a:n}function HE(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}HE.prototype=Object.create(ex.prototype);function zbe(t){for(var e=new HE(t,0),n,i=[e],r,a,s,o;n=i.pop();)if(a=n._.children)for(n.children=new Array(o=a.length),s=o-1;s>=0;--s)i.push(r=n.children[s]=new HE(a[s],s)),r.parent=n;return(e.parent=new HE(null,0)).children=[e],e}function Hbe(){var t=Pbe,e=1,n=1,i=null;function r(c){var f=zbe(c);if(f.eachAfter(a),f.parent.m=-f.z,f.eachBefore(s),i)c.eachBefore(l);else{var d=c,p=c,v=c;c.eachBefore(function(T){T.x<d.x&&(d=T),T.x>p.x&&(p=T),T.depth>v.depth&&(v=T)});var _=d===p?1:t(d,p)/2,S=_-d.x,b=e/(p.x+_+S),A=n/(v.depth||1);c.eachBefore(function(T){T.x=(T.x+S)*b,T.y=T.depth*A})}return c}function a(c){var f=c.children,d=c.parent.children,p=c.i?d[c.i-1]:null;if(f){Ibe(c);var v=(f[0].z+f[f.length-1].z)/2;p?(c.z=p.z+t(c._,p._),c.m=c.z-v):c.z=v}else p&&(c.z=p.z+t(c._,p._));c.parent.A=o(c,p,c.parent.A||d[0])}function s(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function o(c,f,d){if(f){for(var p=c,v=c,_=f,S=p.parent.children[0],b=p.m,A=v.m,T=_.m,R=S.m,C;_=VB(_),p=jB(p),_&&p;)S=jB(S),v=VB(v),v.a=c,C=_.z+T-p.z-b+t(_._,p._),C>0&&(Ube(Fbe(_,c,d),c,C),b+=C,A+=C),T+=_.m,b+=p.m,R+=S.m,A+=v.m;_&&!VB(v)&&(v.t=_,v.m+=T-A),p&&!jB(S)&&(S.t=p,S.m+=b-R,d=c)}return d}function l(c){c.x*=e,c.y=c.depth*n}return r.separation=function(c){return arguments.length?(t=c,r):t},r.size=function(c){return arguments.length?(i=!1,e=+c[0],n=+c[1],r):i?null:[e,n]},r.nodeSize=function(c){return arguments.length?(i=!0,e=+c[0],n=+c[1],r):i?[e,n]:null},r}function N3(t,e,n,i,r){for(var a=t.children,s,o=-1,l=a.length,c=t.value&&(r-n)/t.value;++o<l;)s=a[o],s.x0=e,s.x1=i,s.y0=n,s.y1=n+=s.value*c}var Qq=(1+Math.sqrt(5))/2;function eY(t,e,n,i,r,a){for(var s=[],o=e.children,l,c,f=0,d=0,p=o.length,v,_,S=e.value,b,A,T,R,C,L,P;f<p;){v=r-n,_=a-i;do b=o[d++].value;while(!b&&d<p);for(A=T=b,L=Math.max(_/v,v/_)/(S*t),P=b*b*L,C=Math.max(T/P,P/A);d<p;++d){if(b+=c=o[d].value,c<A&&(A=c),c>T&&(T=c),P=b*b*L,R=Math.max(T/P,P/A),R>C){b-=c;break}C=R}s.push(l={value:b,dice:v<_,children:o.slice(f,d)}),l.dice?kM(l,n,i,r,S?i+=_*b/S:a):N3(l,n,i,S?n+=v*b/S:r,a),S-=b,f=d}return s}const tY=function t(e){function n(i,r,a,s,o){eY(e,i,r,a,s,o)}return n.ratio=function(i){return t((i=+i)>1?i:1)},n}(Qq);function kbe(){var t=tY,e=!1,n=1,i=1,r=[0],a=uy,s=uy,o=uy,l=uy,c=uy;function f(p){return p.x0=p.y0=0,p.x1=n,p.y1=i,p.eachBefore(d),r=[0],e&&p.eachBefore(Zq),p}function d(p){var v=r[p.depth],_=p.x0+v,S=p.y0+v,b=p.x1-v,A=p.y1-v;b<_&&(_=b=(_+b)/2),A<S&&(S=A=(S+A)/2),p.x0=_,p.y0=S,p.x1=b,p.y1=A,p.children&&(v=r[p.depth+1]=a(p)/2,_+=c(p)-v,S+=s(p)-v,b-=o(p)-v,A-=l(p)-v,b<_&&(_=b=(_+b)/2),A<S&&(S=A=(S+A)/2),t(p,_,S,b,A))}return f.round=function(p){return arguments.length?(e=!!p,f):e},f.size=function(p){return arguments.length?(n=+p[0],i=+p[1],f):[n,i]},f.tile=function(p){return arguments.length?(t=Yq(p),f):t},f.padding=function(p){return arguments.length?f.paddingInner(p).paddingOuter(p):f.paddingInner()},f.paddingInner=function(p){return arguments.length?(a=typeof p=="function"?p:W_(+p),f):a},f.paddingOuter=function(p){return arguments.length?f.paddingTop(p).paddingRight(p).paddingBottom(p).paddingLeft(p):f.paddingTop()},f.paddingTop=function(p){return arguments.length?(s=typeof p=="function"?p:W_(+p),f):s},f.paddingRight=function(p){return arguments.length?(o=typeof p=="function"?p:W_(+p),f):o},f.paddingBottom=function(p){return arguments.length?(l=typeof p=="function"?p:W_(+p),f):l},f.paddingLeft=function(p){return arguments.length?(c=typeof p=="function"?p:W_(+p),f):c},f}function Gbe(t,e,n,i,r){var a=t.children,s,o=a.length,l,c=new Array(o+1);for(c[0]=l=s=0;s<o;++s)c[s+1]=l+=a[s].value;f(0,o,t.value,e,n,i,r);function f(d,p,v,_,S,b,A){if(d>=p-1){var T=a[d];T.x0=_,T.y0=S,T.x1=b,T.y1=A;return}for(var R=c[d],C=v/2+R,L=d+1,P=p-1;L<P;){var k=L+P>>>1;c[k]<C?L=k+1:P=k}C-c[L-1]<c[L]-C&&d+1<L&&--L;var G=c[L]-R,z=v-G;if(b-_>A-S){var F=v?(_*z+b*G)/v:b;f(d,L,G,_,S,F,A),f(L,p,z,F,S,b,A)}else{var j=v?(S*z+A*G)/v:A;f(d,L,G,_,S,b,j),f(L,p,z,_,j,b,A)}}}function jbe(t,e,n,i,r){(t.depth&1?N3:kM)(t,e,n,i,r)}const Vbe=function t(e){function n(i,r,a,s,o){if((l=i._squarify)&&l.ratio===e)for(var l,c,f,d,p=-1,v,_=l.length,S=i.value;++p<_;){for(c=l[p],f=c.children,d=c.value=0,v=f.length;d<v;++d)c.value+=f[d].value;c.dice?kM(c,r,a,s,S?a+=(o-a)*c.value/S:o):N3(c,r,a,S?r+=(s-r)*c.value/S:s,o),S-=c.value}else i._squarify=l=eY(e,i,r,a,s,o),l.ratio=e}return n.ratio=function(i){return t((i=+i)>1?i:1)},n}(Qq);function Xbe(t){for(var e=-1,n=t.length,i,r=t[n-1],a=0;++e<n;)i=r,r=t[e],a+=i[1]*r[0]-i[0]*r[1];return a/2}function qbe(t){for(var e=-1,n=t.length,i=0,r=0,a,s=t[n-1],o,l=0;++e<n;)a=s,s=t[e],l+=o=a[0]*s[1]-s[0]*a[1],i+=(a[0]+s[0])*o,r+=(a[1]+s[1])*o;return l*=3,[i/l,r/l]}function Ybe(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Wbe(t,e){return t[0]-e[0]||t[1]-e[1]}function BF(t){const e=t.length,n=[0,1];let i=2,r;for(r=2;r<e;++r){for(;i>1&&Ybe(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function Jbe(t){if((n=t.length)<3)return null;var e,n,i=new Array(n),r=new Array(n);for(e=0;e<n;++e)i[e]=[+t[e][0],+t[e][1],e];for(i.sort(Wbe),e=0;e<n;++e)r[e]=[i[e][0],-i[e][1]];var a=BF(i),s=BF(r),o=s[0]===a[0],l=s[s.length-1]===a[a.length-1],c=[];for(e=a.length-1;e>=0;--e)c.push(t[i[a[e]][2]]);for(e=+o;e<s.length-l;++e)c.push(t[i[s[e]][2]]);return c}function Kbe(t,e){for(var n=t.length,i=t[n-1],r=e[0],a=e[1],s=i[0],o=i[1],l,c,f=!1,d=0;d<n;++d)i=t[d],l=i[0],c=i[1],c>a!=o>a&&r<(s-l)*(a-c)/(o-c)+l&&(f=!f),s=l,o=c;return f}function $be(t){for(var e=-1,n=t.length,i=t[n-1],r,a,s=i[0],o=i[1],l=0;++e<n;)r=s,a=o,i=t[e],s=i[0],o=i[1],r-=s,a-=o,l+=Math.hypot(r,a);return l}const uo=Math.random,Zbe=function t(e){function n(i,r){return i=i==null?0:+i,r=r==null?1:+r,arguments.length===1?(r=i,i=0):r-=i,function(){return e()*r+i}}return n.source=t,n}(uo),Qbe=function t(e){function n(i,r){return arguments.length<2&&(r=i,i=0),i=Math.floor(i),r=Math.floor(r)-i,function(){return Math.floor(e()*r+i)}}return n.source=t,n}(uo),XP=function t(e){function n(i,r){var a,s;return i=i==null?0:+i,r=r==null?1:+r,function(){var o;if(a!=null)o=a,a=null;else do a=e()*2-1,o=e()*2-1,s=a*a+o*o;while(!s||s>1);return i+r*o*Math.sqrt(-2*Math.log(s)/s)}}return n.source=t,n}(uo),e1e=function t(e){var n=XP.source(e);function i(){var r=n.apply(this,arguments);return function(){return Math.exp(r())}}return i.source=t,i}(uo),nY=function t(e){function n(i){return(i=+i)<=0?()=>0:function(){for(var r=0,a=i;a>1;--a)r+=e();return r+a*e()}}return n.source=t,n}(uo),t1e=function t(e){var n=nY.source(e);function i(r){if((r=+r)==0)return e;var a=n(r);return function(){return a()/r}}return i.source=t,i}(uo),n1e=function t(e){function n(i){return function(){return-Math.log1p(-e())/i}}return n.source=t,n}(uo),i1e=function t(e){function n(i){if((i=+i)<0)throw new RangeError("invalid alpha");return i=1/-i,function(){return Math.pow(1-e(),i)}}return n.source=t,n}(uo),r1e=function t(e){function n(i){if((i=+i)<0||i>1)throw new RangeError("invalid p");return function(){return Math.floor(e()+i)}}return n.source=t,n}(uo),iY=function t(e){function n(i){if((i=+i)<0||i>1)throw new RangeError("invalid p");return i===0?()=>1/0:i===1?()=>1:(i=Math.log1p(-i),function(){return 1+Math.floor(Math.log1p(-e())/i)})}return n.source=t,n}(uo),qP=function t(e){var n=XP.source(e)();function i(r,a){if((r=+r)<0)throw new RangeError("invalid k");if(r===0)return()=>0;if(a=a==null?1:+a,r===1)return()=>-Math.log1p(-e())*a;var s=(r<1?r+1:r)-1/3,o=1/(3*Math.sqrt(s)),l=r<1?()=>Math.pow(e(),1/r):()=>1;return function(){do{do var c=n(),f=1+o*c;while(f<=0);f*=f*f;var d=1-e()}while(d>=1-.0331*c*c*c*c&&Math.log(d)>=.5*c*c+s*(1-f+Math.log(f)));return s*f*l()*a}}return i.source=t,i}(uo),rY=function t(e){var n=qP.source(e);function i(r,a){var s=n(r),o=n(a);return function(){var l=s();return l===0?0:l/(l+o())}}return i.source=t,i}(uo),aY=function t(e){var n=iY.source(e),i=rY.source(e);function r(a,s){return a=+a,(s=+s)>=1?()=>a:s<=0?()=>0:function(){for(var o=0,l=a,c=s;l*c>16&&l*(1-c)>16;){var f=Math.floor((l+1)*c),d=i(f,l-f+1)();d<=c?(o+=f,l-=f,c=(c-d)/(1-d)):(l=f-1,c/=d)}for(var p=c<.5,v=p?c:1-c,_=n(v),S=_(),b=0;S<=l;++b)S+=_();return o+(p?b:l-b)}}return r.source=t,r}(uo),a1e=function t(e){function n(i,r,a){var s;return(i=+i)==0?s=o=>-Math.log(o):(i=1/i,s=o=>Math.pow(o,i)),r=r==null?0:+r,a=a==null?1:+a,function(){return r+a*s(-Math.log1p(-e()))}}return n.source=t,n}(uo),s1e=function t(e){function n(i,r){return i=i==null?0:+i,r=r==null?1:+r,function(){return i+r*Math.tan(Math.PI*e())}}return n.source=t,n}(uo),o1e=function t(e){function n(i,r){return i=i==null?0:+i,r=r==null?1:+r,function(){var a=e();return i+r*Math.log(a/(1-a))}}return n.source=t,n}(uo),l1e=function t(e){var n=qP.source(e),i=aY.source(e);function r(a){return function(){for(var s=0,o=a;o>16;){var l=Math.floor(.875*o),c=n(l)();if(c>o)return s+i(l-1,o/c)();s+=l,o-=c}for(var f=-Math.log1p(-e()),d=0;f<=o;++d)f-=Math.log1p(-e());return s+d}}return r.source=t,r}(uo),c1e=1664525,u1e=1013904223,OF=1/4294967296;function f1e(t=Math.random()){let e=(0<=t&&t<1?t/OF:Math.abs(t))|0;return()=>(e=c1e*e+u1e|0,OF*(e>>>0))}function _f(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Pm(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const a5=Symbol("implicit");function YP(){var t=new zS,e=[],n=[],i=a5;function r(a){let s=t.get(a);if(s===void 0){if(i!==a5)return i;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return r.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new zS;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return r},r.range=function(a){return arguments.length?(n=Array.from(a),r):n.slice()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return YP(e,n).unknown(i)},_f.apply(r,arguments),r}function WP(){var t=YP().unknown(void 0),e=t.domain,n=t.range,i=0,r=1,a,s,o=!1,l=0,c=0,f=.5;delete t.unknown;function d(){var p=e().length,v=r<i,_=v?r:i,S=v?i:r;a=(S-_)/Math.max(1,p-l+c*2),o&&(a=Math.floor(a)),_+=(S-_-a*(p-l))*f,s=a*(1-l),o&&(_=Math.round(_),s=Math.round(s));var b=t0(p).map(function(A){return _+a*A});return n(v?b.reverse():b)}return t.domain=function(p){return arguments.length?(e(p),d()):e()},t.range=function(p){return arguments.length?([i,r]=p,i=+i,r=+r,d()):[i,r]},t.rangeRound=function(p){return[i,r]=p,i=+i,r=+r,o=!0,d()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(p){return arguments.length?(o=!!p,d()):o},t.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),d()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},t.paddingOuter=function(p){return arguments.length?(c=+p,d()):c},t.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),d()):f},t.copy=function(){return WP(e(),[i,r]).round(o).paddingInner(l).paddingOuter(c).align(f)},_f.apply(d(),arguments)}function sY(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return sY(e())},t}function h1e(){return sY(WP.apply(null,arguments).paddingInner(1))}function d1e(t){return function(){return t}}function IC(t){return+t}var LF=[0,1];function Il(t){return t}function s5(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:d1e(isNaN(e)?NaN:.5)}function p1e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function m1e(t,e,n){var i=t[0],r=t[1],a=e[0],s=e[1];return r<i?(i=s5(r,i),a=n(s,a)):(i=s5(i,r),a=n(a,s)),function(o){return a(i(o))}}function g1e(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),a=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)r[s]=s5(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=h0(t,o,1,i)-1;return a[l](r[l](o))}}function GM(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function D3(){var t=LF,e=LF,n=M0,i,r,a,s=Il,o,l,c;function f(){var p=Math.min(t.length,e.length);return s!==Il&&(s=p1e(t[0],t[p-1])),o=p>2?g1e:m1e,l=c=null,d}function d(p){return p==null||isNaN(p=+p)?a:(l||(l=o(t.map(i),e,n)))(i(s(p)))}return d.invert=function(p){return s(r((c||(c=o(e,t.map(i),of)))(p)))},d.domain=function(p){return arguments.length?(t=Array.from(p,IC),f()):t.slice()},d.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},d.rangeRound=function(p){return e=Array.from(p),n=y3,f()},d.clamp=function(p){return arguments.length?(s=p?!0:Il,f()):s!==Il},d.interpolate=function(p){return arguments.length?(n=p,f()):n},d.unknown=function(p){return arguments.length?(a=p,d):a},function(p,v){return i=p,r=v,f()}}function JP(){return D3()(Il,Il)}function oY(t,e,n,i){var r=tC(t,e,n),a;switch(i=zb(i??",f"),i.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(a=aq(r,s))&&(i.precision=a),wP(i,s)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=sq(r,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=rq(r))&&(i.precision=a-(i.type==="%")*2);break}}return T3(i)}function w0(t){var e=t.domain;return t.ticks=function(n){var i=e();return Yy(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var r=e();return oY(r[0],r[r.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),r=0,a=i.length-1,s=i[r],o=i[a],l,c,f=10;for(o<s&&(c=s,s=o,o=c,c=r,r=a,a=c);f-- >0;){if(c=Wy(s,o,n),c===l)return i[r]=s,i[a]=o,e(i);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function KP(){var t=JP();return t.copy=function(){return GM(t,KP())},_f.apply(t,arguments),w0(t)}function lY(t){var e;function n(i){return i==null||isNaN(i=+i)?e:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(t=Array.from(i,IC),n):t.slice()},n.unknown=function(i){return arguments.length?(e=i,n):e},n.copy=function(){return lY(t).unknown(e)},t=arguments.length?Array.from(t,IC):[0,1],w0(n)}function cY(t,e){t=t.slice();var n=0,i=t.length-1,r=t[n],a=t[i],s;return a<r&&(s=n,n=i,i=s,s=r,r=a,a=s),t[n]=e.floor(r),t[i]=e.ceil(a),t}function PF(t){return Math.log(t)}function UF(t){return Math.exp(t)}function v1e(t){return-Math.log(-t)}function y1e(t){return-Math.exp(-t)}function x1e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function _1e(t){return t===10?x1e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function b1e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function IF(t){return(e,n)=>-t(-e,n)}function $P(t){const e=t(PF,UF),n=e.domain;let i=10,r,a;function s(){return r=b1e(i),a=_1e(i),n()[0]<0?(r=IF(r),a=IF(a),t(v1e,y1e)):t(PF,UF),e}return e.base=function(o){return arguments.length?(i=+o,s()):i},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let c=l[0],f=l[l.length-1];const d=f<c;d&&([c,f]=[f,c]);let p=r(c),v=r(f),_,S;const b=o==null?10:+o;let A=[];if(!(i%1)&&v-p<b){if(p=Math.floor(p),v=Math.ceil(v),c>0){for(;p<=v;++p)for(_=1;_<i;++_)if(S=p<0?_/a(-p):_*a(p),!(S<c)){if(S>f)break;A.push(S)}}else for(;p<=v;++p)for(_=i-1;_>=1;--_)if(S=p>0?_/a(-p):_*a(p),!(S<c)){if(S>f)break;A.push(S)}A.length*2<b&&(A=Yy(c,f,b))}else A=Yy(p,v,Math.min(v-p,b)).map(a);return d?A.reverse():A},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=i===10?"s":","),typeof l!="function"&&(!(i%1)&&(l=zb(l)).precision==null&&(l.trim=!0),l=T3(l)),o===1/0)return l;const c=Math.max(1,i*o/e.ticks().length);return f=>{let d=f/a(Math.round(r(f)));return d*i<i-.5&&(d*=i),d<=c?l(f):""}},e.nice=()=>n(cY(n(),{floor:o=>a(Math.floor(r(o))),ceil:o=>a(Math.ceil(r(o)))})),e}function uY(){const t=$P(D3()).domain([1,10]);return t.copy=()=>GM(t,uY()).base(t.base()),_f.apply(t,arguments),t}function FF(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function zF(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ZP(t){var e=1,n=t(FF(e),zF(e));return n.constant=function(i){return arguments.length?t(FF(e=+i),zF(e)):e},w0(n)}function fY(){var t=ZP(D3());return t.copy=function(){return GM(t,fY()).constant(t.constant())},_f.apply(t,arguments)}function HF(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function A1e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function S1e(t){return t<0?-t*t:t*t}function QP(t){var e=t(Il,Il),n=1;function i(){return n===1?t(Il,Il):n===.5?t(A1e,S1e):t(HF(n),HF(1/n))}return e.exponent=function(r){return arguments.length?(n=+r,i()):n},w0(e)}function eU(){var t=QP(D3());return t.copy=function(){return GM(t,eU()).exponent(t.exponent())},_f.apply(t,arguments),t}function M1e(){return eU.apply(null,arguments).exponent(.5)}function kF(t){return Math.sign(t)*t*t}function w1e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function hY(){var t=JP(),e=[0,1],n=!1,i;function r(a){var s=w1e(t(a));return isNaN(s)?i:n?Math.round(s):s}return r.invert=function(a){return t.invert(kF(a))},r.domain=function(a){return arguments.length?(t.domain(a),r):t.domain()},r.range=function(a){return arguments.length?(t.range((e=Array.from(a,IC)).map(kF)),r):e.slice()},r.rangeRound=function(a){return r.range(a).round(!0)},r.round=function(a){return arguments.length?(n=!!a,r):n},r.clamp=function(a){return arguments.length?(t.clamp(a),r):t.clamp()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return hY(t.domain(),e).round(n).clamp(t.clamp()).unknown(i)},_f.apply(r,arguments),w0(r)}function dY(){var t=[],e=[],n=[],i;function r(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=kV(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?i:e[h0(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(la),r()},a.range=function(s){return arguments.length?(e=Array.from(s),r()):e.slice()},a.unknown=function(s){return arguments.length?(i=s,a):i},a.quantiles=function(){return n.slice()},a.copy=function(){return dY().domain(t).range(e).unknown(i)},_f.apply(a,arguments)}function pY(){var t=0,e=1,n=1,i=[.5],r=[0,1],a;function s(l){return l!=null&&l<=l?r[h0(i,l,0,n)]:a}function o(){var l=-1;for(i=new Array(n);++l<n;)i[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(r=Array.from(l)).length-1,o()):r.slice()},s.invertExtent=function(l){var c=r.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,i[0]]:c>=n?[i[n-1],e]:[i[c-1],i[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return i.slice()},s.copy=function(){return pY().domain([t,e]).range(r).unknown(a)},_f.apply(w0(s),arguments)}function mY(){var t=[.5],e=[0,1],n,i=1;function r(a){return a!=null&&a<=a?e[h0(t,a,0,i)]:n}return r.domain=function(a){return arguments.length?(t=Array.from(a),i=Math.min(t.length,e.length-1),r):t.slice()},r.range=function(a){return arguments.length?(e=Array.from(a),i=Math.min(t.length,e.length-1),r):e.slice()},r.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},r.unknown=function(a){return arguments.length?(n=a,r):n},r.copy=function(){return mY().domain(t).range(e).unknown(n)},_f.apply(r,arguments)}const XB=new Date,qB=new Date;function ns(t,e,n,i){function r(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return r.floor=a=>(t(a=new Date(+a)),a),r.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),r.round=a=>{const s=r(a),o=r.ceil(a);return a-s<o-a?s:o},r.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),r.range=(a,s,o)=>{const l=[];if(a=r.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},r.filter=a=>ns(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(r.count=(a,s)=>(XB.setTime(+a),qB.setTime(+s),t(XB),t(qB),Math.floor(n(XB,qB))),r.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?r.filter(i?s=>i(s)%a===0:s=>r.count(0,s)%a===0):r)),r}const jb=ns(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);jb.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ns(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):jb);const GF=jb.range,vm=1e3,pf=vm*60,ym=pf*60,Om=ym*24,tU=Om*7,jF=Om*30,YB=Om*365,xm=ns(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*vm)},(t,e)=>(e-t)/vm,t=>t.getUTCSeconds()),VF=xm.range,B3=ns(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vm)},(t,e)=>{t.setTime(+t+e*pf)},(t,e)=>(e-t)/pf,t=>t.getMinutes()),E1e=B3.range,O3=ns(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*pf)},(t,e)=>(e-t)/pf,t=>t.getUTCMinutes()),T1e=O3.range,L3=ns(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vm-t.getMinutes()*pf)},(t,e)=>{t.setTime(+t+e*ym)},(t,e)=>(e-t)/ym,t=>t.getHours()),C1e=L3.range,P3=ns(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ym)},(t,e)=>(e-t)/ym,t=>t.getUTCHours()),R1e=P3.range,g1=ns(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*pf)/Om,t=>t.getDate()-1),N1e=g1.range,jM=ns(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Om,t=>t.getUTCDate()-1),D1e=jM.range,nU=ns(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Om,t=>Math.floor(t/Om)),B1e=nU.range;function gx(t){return ns(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*pf)/tU)}const Vb=gx(0),eM=gx(1),gY=gx(2),vY=gx(3),tx=gx(4),yY=gx(5),xY=gx(6),XF=Vb.range,O1e=eM.range,L1e=gY.range,P1e=vY.range,U1e=tx.range,I1e=yY.range,F1e=xY.range;function vx(t){return ns(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/tU)}const Xb=vx(0),tM=vx(1),_Y=vx(2),bY=vx(3),nx=vx(4),AY=vx(5),SY=vx(6),qF=Xb.range,z1e=tM.range,H1e=_Y.range,k1e=bY.range,G1e=nx.range,j1e=AY.range,V1e=SY.range,U3=ns(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth()),X1e=U3.range,I3=ns(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()),q1e=I3.range,Hd=ns(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Hd.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ns(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});const Y1e=Hd.range,kd=ns(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());kd.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ns(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});const W1e=kd.range;function MY(t,e,n,i,r,a){const s=[[xm,1,vm],[xm,5,5*vm],[xm,15,15*vm],[xm,30,30*vm],[a,1,pf],[a,5,5*pf],[a,15,15*pf],[a,30,30*pf],[r,1,ym],[r,3,3*ym],[r,6,6*ym],[r,12,12*ym],[i,1,Om],[i,2,2*Om],[n,1,tU],[e,1,jF],[e,3,3*jF],[t,1,YB]];function o(c,f,d){const p=f<c;p&&([c,f]=[f,c]);const v=d&&typeof d.range=="function"?d:l(c,f,d),_=v?v.range(c,+f+1):[];return p?_.reverse():_}function l(c,f,d){const p=Math.abs(f-c)/d,v=DM(([,,b])=>b).right(s,p);if(v===s.length)return t.every(tC(c/YB,f/YB,d));if(v===0)return jb.every(Math.max(tC(c,f,d),1));const[_,S]=s[p/s[v-1][2]<s[v][2]/p?v-1:v];return _.every(S)}return[o,l]}const[wY,EY]=MY(kd,I3,Xb,nU,P3,O3),[TY,CY]=MY(Hd,U3,Vb,g1,L3,B3);function WB(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function JB(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function cA(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function RY(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=uA(r),f=fA(r),d=uA(a),p=fA(a),v=uA(s),_=fA(s),S=uA(o),b=fA(o),A=uA(l),T=fA(l),R={a:J,A:Q,b:ie,B:V,c:null,d:ZF,e:ZF,f:vAe,g:TAe,G:RAe,H:pAe,I:mAe,j:gAe,L:NY,m:yAe,M:xAe,p:$,q:oe,Q:tz,s:nz,S:_Ae,u:bAe,U:AAe,V:SAe,w:MAe,W:wAe,x:null,X:null,y:EAe,Y:CAe,Z:NAe,"%":ez},C={a:de,A:fe,b:ge,B:Se,c:null,d:QF,e:QF,f:LAe,g:VAe,G:qAe,H:DAe,I:BAe,j:OAe,L:BY,m:PAe,M:UAe,p:De,q:He,Q:tz,s:nz,S:IAe,u:FAe,U:zAe,V:HAe,w:kAe,W:GAe,x:null,X:null,y:jAe,Y:XAe,Z:YAe,"%":ez},L={a:F,A:j,b:ne,B:W,c:Y,d:KF,e:KF,f:uAe,g:JF,G:WF,H:$F,I:$F,j:sAe,L:cAe,m:aAe,M:oAe,p:z,q:rAe,Q:hAe,s:dAe,S:lAe,u:Q1e,U:eAe,V:tAe,w:Z1e,W:nAe,x:K,X:H,y:JF,Y:WF,Z:iAe,"%":fAe};R.x=P(n,R),R.X=P(i,R),R.c=P(e,R),C.x=P(n,C),C.X=P(i,C),C.c=P(e,C);function P(Fe,ke){return function(Qe){var Re=[],st=-1,pe=0,St=Fe.length,Ie,_e,Le;for(Qe instanceof Date||(Qe=new Date(+Qe));++st<St;)Fe.charCodeAt(st)===37&&(Re.push(Fe.slice(pe,st)),(_e=YF[Ie=Fe.charAt(++st)])!=null?Ie=Fe.charAt(++st):_e=Ie==="e"?" ":"0",(Le=ke[Ie])&&(Ie=Le(Qe,_e)),Re.push(Ie),pe=st+1);return Re.push(Fe.slice(pe,st)),Re.join("")}}function k(Fe,ke){return function(Qe){var Re=cA(1900,void 0,1),st=G(Re,Fe,Qe+="",0),pe,St;if(st!=Qe.length)return null;if("Q"in Re)return new Date(Re.Q);if("s"in Re)return new Date(Re.s*1e3+("L"in Re?Re.L:0));if(ke&&!("Z"in Re)&&(Re.Z=0),"p"in Re&&(Re.H=Re.H%12+Re.p*12),Re.m===void 0&&(Re.m="q"in Re?Re.q:0),"V"in Re){if(Re.V<1||Re.V>53)return null;"w"in Re||(Re.w=1),"Z"in Re?(pe=JB(cA(Re.y,0,1)),St=pe.getUTCDay(),pe=St>4||St===0?tM.ceil(pe):tM(pe),pe=jM.offset(pe,(Re.V-1)*7),Re.y=pe.getUTCFullYear(),Re.m=pe.getUTCMonth(),Re.d=pe.getUTCDate()+(Re.w+6)%7):(pe=WB(cA(Re.y,0,1)),St=pe.getDay(),pe=St>4||St===0?eM.ceil(pe):eM(pe),pe=g1.offset(pe,(Re.V-1)*7),Re.y=pe.getFullYear(),Re.m=pe.getMonth(),Re.d=pe.getDate()+(Re.w+6)%7)}else("W"in Re||"U"in Re)&&("w"in Re||(Re.w="u"in Re?Re.u%7:"W"in Re?1:0),St="Z"in Re?JB(cA(Re.y,0,1)).getUTCDay():WB(cA(Re.y,0,1)).getDay(),Re.m=0,Re.d="W"in Re?(Re.w+6)%7+Re.W*7-(St+5)%7:Re.w+Re.U*7-(St+6)%7);return"Z"in Re?(Re.H+=Re.Z/100|0,Re.M+=Re.Z%100,JB(Re)):WB(Re)}}function G(Fe,ke,Qe,Re){for(var st=0,pe=ke.length,St=Qe.length,Ie,_e;st<pe;){if(Re>=St)return-1;if(Ie=ke.charCodeAt(st++),Ie===37){if(Ie=ke.charAt(st++),_e=L[Ie in YF?ke.charAt(st++):Ie],!_e||(Re=_e(Fe,Qe,Re))<0)return-1}else if(Ie!=Qe.charCodeAt(Re++))return-1}return Re}function z(Fe,ke,Qe){var Re=c.exec(ke.slice(Qe));return Re?(Fe.p=f.get(Re[0].toLowerCase()),Qe+Re[0].length):-1}function F(Fe,ke,Qe){var Re=v.exec(ke.slice(Qe));return Re?(Fe.w=_.get(Re[0].toLowerCase()),Qe+Re[0].length):-1}function j(Fe,ke,Qe){var Re=d.exec(ke.slice(Qe));return Re?(Fe.w=p.get(Re[0].toLowerCase()),Qe+Re[0].length):-1}function ne(Fe,ke,Qe){var Re=A.exec(ke.slice(Qe));return Re?(Fe.m=T.get(Re[0].toLowerCase()),Qe+Re[0].length):-1}function W(Fe,ke,Qe){var Re=S.exec(ke.slice(Qe));return Re?(Fe.m=b.get(Re[0].toLowerCase()),Qe+Re[0].length):-1}function Y(Fe,ke,Qe){return G(Fe,e,ke,Qe)}function K(Fe,ke,Qe){return G(Fe,n,ke,Qe)}function H(Fe,ke,Qe){return G(Fe,i,ke,Qe)}function J(Fe){return s[Fe.getDay()]}function Q(Fe){return a[Fe.getDay()]}function ie(Fe){return l[Fe.getMonth()]}function V(Fe){return o[Fe.getMonth()]}function $(Fe){return r[+(Fe.getHours()>=12)]}function oe(Fe){return 1+~~(Fe.getMonth()/3)}function de(Fe){return s[Fe.getUTCDay()]}function fe(Fe){return a[Fe.getUTCDay()]}function ge(Fe){return l[Fe.getUTCMonth()]}function Se(Fe){return o[Fe.getUTCMonth()]}function De(Fe){return r[+(Fe.getUTCHours()>=12)]}function He(Fe){return 1+~~(Fe.getUTCMonth()/3)}return{format:function(Fe){var ke=P(Fe+="",R);return ke.toString=function(){return Fe},ke},parse:function(Fe){var ke=k(Fe+="",!1);return ke.toString=function(){return Fe},ke},utcFormat:function(Fe){var ke=P(Fe+="",C);return ke.toString=function(){return Fe},ke},utcParse:function(Fe){var ke=k(Fe+="",!0);return ke.toString=function(){return Fe},ke}}}var YF={"-":"",_:" ",0:"0"},ks=/^\s*\d+/,J1e=/^%/,K1e=/[\\^$*+?|[\]().{}]/g;function Vi(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(e)+r:r)}function $1e(t){return t.replace(K1e,"\\$&")}function uA(t){return new RegExp("^(?:"+t.map($1e).join("|")+")","i")}function fA(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Z1e(t,e,n){var i=ks.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Q1e(t,e,n){var i=ks.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function eAe(t,e,n){var i=ks.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function tAe(t,e,n){var i=ks.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function nAe(t,e,n){var i=ks.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function WF(t,e,n){var i=ks.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function JF(t,e,n){var i=ks.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function iAe(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function rAe(t,e,n){var i=ks.exec(e.slice(n,n+1));return i?(t.q=i[0]*3-3,n+i[0].length):-1}function aAe(t,e,n){var i=ks.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function KF(t,e,n){var i=ks.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function sAe(t,e,n){var i=ks.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function $F(t,e,n){var i=ks.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function oAe(t,e,n){var i=ks.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function lAe(t,e,n){var i=ks.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function cAe(t,e,n){var i=ks.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function uAe(t,e,n){var i=ks.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function fAe(t,e,n){var i=J1e.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function hAe(t,e,n){var i=ks.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function dAe(t,e,n){var i=ks.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function ZF(t,e){return Vi(t.getDate(),e,2)}function pAe(t,e){return Vi(t.getHours(),e,2)}function mAe(t,e){return Vi(t.getHours()%12||12,e,2)}function gAe(t,e){return Vi(1+g1.count(Hd(t),t),e,3)}function NY(t,e){return Vi(t.getMilliseconds(),e,3)}function vAe(t,e){return NY(t,e)+"000"}function yAe(t,e){return Vi(t.getMonth()+1,e,2)}function xAe(t,e){return Vi(t.getMinutes(),e,2)}function _Ae(t,e){return Vi(t.getSeconds(),e,2)}function bAe(t){var e=t.getDay();return e===0?7:e}function AAe(t,e){return Vi(Vb.count(Hd(t)-1,t),e,2)}function DY(t){var e=t.getDay();return e>=4||e===0?tx(t):tx.ceil(t)}function SAe(t,e){return t=DY(t),Vi(tx.count(Hd(t),t)+(Hd(t).getDay()===4),e,2)}function MAe(t){return t.getDay()}function wAe(t,e){return Vi(eM.count(Hd(t)-1,t),e,2)}function EAe(t,e){return Vi(t.getFullYear()%100,e,2)}function TAe(t,e){return t=DY(t),Vi(t.getFullYear()%100,e,2)}function CAe(t,e){return Vi(t.getFullYear()%1e4,e,4)}function RAe(t,e){var n=t.getDay();return t=n>=4||n===0?tx(t):tx.ceil(t),Vi(t.getFullYear()%1e4,e,4)}function NAe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Vi(e/60|0,"0",2)+Vi(e%60,"0",2)}function QF(t,e){return Vi(t.getUTCDate(),e,2)}function DAe(t,e){return Vi(t.getUTCHours(),e,2)}function BAe(t,e){return Vi(t.getUTCHours()%12||12,e,2)}function OAe(t,e){return Vi(1+jM.count(kd(t),t),e,3)}function BY(t,e){return Vi(t.getUTCMilliseconds(),e,3)}function LAe(t,e){return BY(t,e)+"000"}function PAe(t,e){return Vi(t.getUTCMonth()+1,e,2)}function UAe(t,e){return Vi(t.getUTCMinutes(),e,2)}function IAe(t,e){return Vi(t.getUTCSeconds(),e,2)}function FAe(t){var e=t.getUTCDay();return e===0?7:e}function zAe(t,e){return Vi(Xb.count(kd(t)-1,t),e,2)}function OY(t){var e=t.getUTCDay();return e>=4||e===0?nx(t):nx.ceil(t)}function HAe(t,e){return t=OY(t),Vi(nx.count(kd(t),t)+(kd(t).getUTCDay()===4),e,2)}function kAe(t){return t.getUTCDay()}function GAe(t,e){return Vi(tM.count(kd(t)-1,t),e,2)}function jAe(t,e){return Vi(t.getUTCFullYear()%100,e,2)}function VAe(t,e){return t=OY(t),Vi(t.getUTCFullYear()%100,e,2)}function XAe(t,e){return Vi(t.getUTCFullYear()%1e4,e,4)}function qAe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?nx(t):nx.ceil(t),Vi(t.getUTCFullYear()%1e4,e,4)}function YAe(){return"+0000"}function ez(){return"%"}function tz(t){return+t}function nz(t){return Math.floor(+t/1e3)}var V_,db,LY,F3,iU;PY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function PY(t){return V_=RY(t),db=V_.format,LY=V_.parse,F3=V_.utcFormat,iU=V_.utcParse,V_}var UY="%Y-%m-%dT%H:%M:%S.%LZ";function WAe(t){return t.toISOString()}var JAe=Date.prototype.toISOString?WAe:F3(UY);function KAe(t){var e=new Date(t);return isNaN(e)?null:e}var $Ae=+new Date("2000-01-01T00:00:00.000Z")?KAe:iU(UY);function ZAe(t){return new Date(t)}function QAe(t){return t instanceof Date?+t:+new Date(+t)}function rU(t,e,n,i,r,a,s,o,l,c){var f=JP(),d=f.invert,p=f.domain,v=c(".%L"),_=c(":%S"),S=c("%I:%M"),b=c("%I %p"),A=c("%a %d"),T=c("%b %d"),R=c("%B"),C=c("%Y");function L(P){return(l(P)<P?v:o(P)<P?_:s(P)<P?S:a(P)<P?b:i(P)<P?r(P)<P?A:T:n(P)<P?R:C)(P)}return f.invert=function(P){return new Date(d(P))},f.domain=function(P){return arguments.length?p(Array.from(P,QAe)):p().map(ZAe)},f.ticks=function(P){var k=p();return t(k[0],k[k.length-1],P??10)},f.tickFormat=function(P,k){return k==null?L:c(k)},f.nice=function(P){var k=p();return(!P||typeof P.range!="function")&&(P=e(k[0],k[k.length-1],P??10)),P?p(cY(k,P)):f},f.copy=function(){return GM(f,rU(t,e,n,i,r,a,s,o,l,c))},f}function IY(){return _f.apply(rU(TY,CY,Hd,U3,Vb,g1,L3,B3,xm,db).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function eSe(){return _f.apply(rU(wY,EY,kd,I3,Xb,jM,P3,O3,xm,F3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function z3(){var t=0,e=1,n,i,r,a,s=Il,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:s(r===0?.5:(d=(a(d)-n)*r,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,n=a(t=+t),i=a(e=+e),r=n===i?0:1/(i-n),c):[t,e]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(s=d,c):s};function f(d){return function(p){var v,_;return arguments.length?([v,_]=p,s=d(v,_),c):[s(0),s(1)]}}return c.range=f(M0),c.rangeRound=f(y3),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return a=d,n=d(t),i=d(e),r=n===i?0:1/(i-n),c}}function E0(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function FY(){var t=w0(z3()(Il));return t.copy=function(){return E0(t,FY())},Pm.apply(t,arguments)}function zY(){var t=$P(z3()).domain([1,10]);return t.copy=function(){return E0(t,zY()).base(t.base())},Pm.apply(t,arguments)}function HY(){var t=ZP(z3());return t.copy=function(){return E0(t,HY()).constant(t.constant())},Pm.apply(t,arguments)}function aU(){var t=QP(z3());return t.copy=function(){return E0(t,aU()).exponent(t.exponent())},Pm.apply(t,arguments)}function tSe(){return aU.apply(null,arguments).exponent(.5)}function kY(){var t=[],e=Il;function n(i){if(i!=null&&!isNaN(i=+i))return e((h0(t,i,1)-1)/(t.length-1))}return n.domain=function(i){if(!arguments.length)return t.slice();t=[];for(let r of i)r!=null&&!isNaN(r=+r)&&t.push(r);return t.sort(la),n},n.interpolator=function(i){return arguments.length?(e=i,n):e},n.range=function(){return t.map((i,r)=>e(r/(t.length-1)))},n.quantiles=function(i){return Array.from({length:i+1},(r,a)=>kS(t,a/i))},n.copy=function(){return kY(e).domain(t)},Pm.apply(n,arguments)}function H3(){var t=0,e=.5,n=1,i=1,r,a,s,o,l,c=Il,f,d=!1,p;function v(S){return isNaN(S=+S)?p:(S=.5+((S=+f(S))-a)*(i*S<i*a?o:l),c(d?Math.max(0,Math.min(1,S)):S))}v.domain=function(S){return arguments.length?([t,e,n]=S,r=f(t=+t),a=f(e=+e),s=f(n=+n),o=r===a?0:.5/(a-r),l=a===s?0:.5/(s-a),i=a<r?-1:1,v):[t,e,n]},v.clamp=function(S){return arguments.length?(d=!!S,v):d},v.interpolator=function(S){return arguments.length?(c=S,v):c};function _(S){return function(b){var A,T,R;return arguments.length?([A,T,R]=b,c=OX(S,[A,T,R]),v):[c(0),c(.5),c(1)]}}return v.range=_(M0),v.rangeRound=_(y3),v.unknown=function(S){return arguments.length?(p=S,v):p},function(S){return f=S,r=S(t),a=S(e),s=S(n),o=r===a?0:.5/(a-r),l=a===s?0:.5/(s-a),i=a<r?-1:1,v}}function GY(){var t=w0(H3()(Il));return t.copy=function(){return E0(t,GY())},Pm.apply(t,arguments)}function jY(){var t=$P(H3()).domain([.1,1,10]);return t.copy=function(){return E0(t,jY()).base(t.base())},Pm.apply(t,arguments)}function VY(){var t=ZP(H3());return t.copy=function(){return E0(t,VY()).constant(t.constant())},Pm.apply(t,arguments)}function sU(){var t=QP(H3());return t.copy=function(){return E0(t,sU()).exponent(t.exponent())},Pm.apply(t,arguments)}function nSe(){return sU.apply(null,arguments).exponent(.5)}function jn(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(i*6,++i*6);return n}const iSe=jn("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),rSe=jn("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),aSe=jn("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),sSe=jn("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),oSe=jn("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),lSe=jn("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),cSe=jn("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),uSe=jn("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),fSe=jn("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),hSe=jn("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),dSe=jn("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),wr=t=>_X(t[t.length-1]);var XY=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(jn);const pSe=wr(XY);var qY=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(jn);const mSe=wr(qY);var YY=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(jn);const gSe=wr(YY);var WY=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(jn);const vSe=wr(WY);var JY=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(jn);const ySe=wr(JY);var KY=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(jn);const xSe=wr(KY);var $Y=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(jn);const _Se=wr($Y);var ZY=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(jn);const bSe=wr(ZY);var QY=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(jn);const ASe=wr(QY);var eW=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(jn);const SSe=wr(eW);var tW=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(jn);const MSe=wr(tW);var nW=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(jn);const wSe=wr(nW);var iW=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(jn);const ESe=wr(iW);var rW=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(jn);const TSe=wr(rW);var aW=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(jn);const CSe=wr(aW);var sW=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(jn);const RSe=wr(sW);var oW=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(jn);const NSe=wr(oW);var lW=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(jn);const DSe=wr(lW);var cW=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(jn);const BSe=wr(cW);var uW=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(jn);const OSe=wr(uW);var fW=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(jn);const LSe=wr(fW);var hW=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(jn);const PSe=wr(hW);var dW=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(jn);const USe=wr(dW);var pW=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(jn);const ISe=wr(pW);var mW=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(jn);const FSe=wr(mW);var gW=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(jn);const zSe=wr(gW);var vW=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(jn);const HSe=wr(vW);function kSe(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const GSe=x3(bh(300,.5,0),bh(-240,.5,1));var jSe=x3(bh(-100,.75,.35),bh(80,1.5,.8)),VSe=x3(bh(260,.75,.35),bh(80,1.5,.8)),G2=bh();function XSe(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return G2.h=360*t-100,G2.s=1.5-1.5*e,G2.l=.8-.9*e,G2+""}var j2=Pb(),qSe=Math.PI/3,YSe=Math.PI*2/3;function WSe(t){var e;return t=(.5-t)*Math.PI,j2.r=255*(e=Math.sin(t))*e,j2.g=255*(e=Math.sin(t+qSe))*e,j2.b=255*(e=Math.sin(t+YSe))*e,j2+""}function JSe(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function k3(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const KSe=k3(jn("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var $Se=k3(jn("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),ZSe=k3(jn("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),QSe=k3(jn("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Un(t){return function(){return t}}const iz=Math.abs,Io=Math.atan2,om=Math.cos,eMe=Math.max,pb=Math.min,Ec=Math.sin,Pr=Math.sqrt,zo=1e-12,m0=Math.PI,FC=m0/2,a0=2*m0;function tMe(t){return t>1?0:t<-1?m0:Math.acos(t)}function rz(t){return t>=1?FC:t<=-1?-FC:Math.asin(t)}function VM(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new PM(e)}function nMe(t){return t.innerRadius}function iMe(t){return t.outerRadius}function rMe(t){return t.startAngle}function aMe(t){return t.endAngle}function sMe(t){return t&&t.padAngle}function oMe(t,e,n,i,r,a,s,o){var l=n-t,c=i-e,f=s-r,d=o-a,p=d*l-f*c;if(!(p*p<zo))return p=(f*(e-a)-d*(t-r))/p,[t+p*l,e+p*c]}function V2(t,e,n,i,r,a,s){var o=t-n,l=e-i,c=(s?a:-a)/Pr(o*o+l*l),f=c*l,d=-c*o,p=t+f,v=e+d,_=n+f,S=i+d,b=(p+_)/2,A=(v+S)/2,T=_-p,R=S-v,C=T*T+R*R,L=r-a,P=p*S-_*v,k=(R<0?-1:1)*Pr(eMe(0,L*L*C-P*P)),G=(P*R-T*k)/C,z=(-P*T-R*k)/C,F=(P*R+T*k)/C,j=(-P*T+R*k)/C,ne=G-b,W=z-A,Y=F-b,K=j-A;return ne*ne+W*W>Y*Y+K*K&&(G=F,z=j),{cx:G,cy:z,x01:-f,y01:-d,x11:G*(r/L-1),y11:z*(r/L-1)}}function lMe(){var t=nMe,e=iMe,n=Un(0),i=null,r=rMe,a=aMe,s=sMe,o=null,l=VM(c);function c(){var f,d,p=+t.apply(this,arguments),v=+e.apply(this,arguments),_=r.apply(this,arguments)-FC,S=a.apply(this,arguments)-FC,b=iz(S-_),A=S>_;if(o||(o=f=l()),v<p&&(d=v,v=p,p=d),!(v>zo))o.moveTo(0,0);else if(b>a0-zo)o.moveTo(v*om(_),v*Ec(_)),o.arc(0,0,v,_,S,!A),p>zo&&(o.moveTo(p*om(S),p*Ec(S)),o.arc(0,0,p,S,_,A));else{var T=_,R=S,C=_,L=S,P=b,k=b,G=s.apply(this,arguments)/2,z=G>zo&&(i?+i.apply(this,arguments):Pr(p*p+v*v)),F=pb(iz(v-p)/2,+n.apply(this,arguments)),j=F,ne=F,W,Y;if(z>zo){var K=rz(z/p*Ec(G)),H=rz(z/v*Ec(G));(P-=K*2)>zo?(K*=A?1:-1,C+=K,L-=K):(P=0,C=L=(_+S)/2),(k-=H*2)>zo?(H*=A?1:-1,T+=H,R-=H):(k=0,T=R=(_+S)/2)}var J=v*om(T),Q=v*Ec(T),ie=p*om(L),V=p*Ec(L);if(F>zo){var $=v*om(R),oe=v*Ec(R),de=p*om(C),fe=p*Ec(C),ge;if(b<m0)if(ge=oMe(J,Q,de,fe,$,oe,ie,V)){var Se=J-ge[0],De=Q-ge[1],He=$-ge[0],Fe=oe-ge[1],ke=1/Ec(tMe((Se*He+De*Fe)/(Pr(Se*Se+De*De)*Pr(He*He+Fe*Fe)))/2),Qe=Pr(ge[0]*ge[0]+ge[1]*ge[1]);j=pb(F,(p-Qe)/(ke-1)),ne=pb(F,(v-Qe)/(ke+1))}else j=ne=0}k>zo?ne>zo?(W=V2(de,fe,J,Q,v,ne,A),Y=V2($,oe,ie,V,v,ne,A),o.moveTo(W.cx+W.x01,W.cy+W.y01),ne<F?o.arc(W.cx,W.cy,ne,Io(W.y01,W.x01),Io(Y.y01,Y.x01),!A):(o.arc(W.cx,W.cy,ne,Io(W.y01,W.x01),Io(W.y11,W.x11),!A),o.arc(0,0,v,Io(W.cy+W.y11,W.cx+W.x11),Io(Y.cy+Y.y11,Y.cx+Y.x11),!A),o.arc(Y.cx,Y.cy,ne,Io(Y.y11,Y.x11),Io(Y.y01,Y.x01),!A))):(o.moveTo(J,Q),o.arc(0,0,v,T,R,!A)):o.moveTo(J,Q),!(p>zo)||!(P>zo)?o.lineTo(ie,V):j>zo?(W=V2(ie,V,$,oe,p,-j,A),Y=V2(J,Q,de,fe,p,-j,A),o.lineTo(W.cx+W.x01,W.cy+W.y01),j<F?o.arc(W.cx,W.cy,j,Io(W.y01,W.x01),Io(Y.y01,Y.x01),!A):(o.arc(W.cx,W.cy,j,Io(W.y01,W.x01),Io(W.y11,W.x11),!A),o.arc(0,0,p,Io(W.cy+W.y11,W.cx+W.x11),Io(Y.cy+Y.y11,Y.cx+Y.x11),A),o.arc(Y.cx,Y.cy,j,Io(Y.y11,Y.x11),Io(Y.y01,Y.x01),!A))):o.arc(0,0,p,L,C,A)}if(o.closePath(),f)return o=null,f+""||null}return c.centroid=function(){var f=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,d=(+r.apply(this,arguments)+ +a.apply(this,arguments))/2-m0/2;return[om(d)*f,Ec(d)*f]},c.innerRadius=function(f){return arguments.length?(t=typeof f=="function"?f:Un(+f),c):t},c.outerRadius=function(f){return arguments.length?(e=typeof f=="function"?f:Un(+f),c):e},c.cornerRadius=function(f){return arguments.length?(n=typeof f=="function"?f:Un(+f),c):n},c.padRadius=function(f){return arguments.length?(i=f==null?null:typeof f=="function"?f:Un(+f),c):i},c.startAngle=function(f){return arguments.length?(r=typeof f=="function"?f:Un(+f),c):r},c.endAngle=function(f){return arguments.length?(a=typeof f=="function"?f:Un(+f),c):a},c.padAngle=function(f){return arguments.length?(s=typeof f=="function"?f:Un(+f),c):s},c.context=function(f){return arguments.length?(o=f??null,c):o},c}var cMe=Array.prototype.slice;function G3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function yW(t){this._context=t}yW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function j3(t){return new yW(t)}function oU(t){return t[0]}function lU(t){return t[1]}function mb(t,e){var n=Un(!0),i=null,r=j3,a=null,s=VM(o);t=typeof t=="function"?t:t===void 0?oU:Un(t),e=typeof e=="function"?e:e===void 0?lU:Un(e);function o(l){var c,f=(l=G3(l)).length,d,p=!1,v;for(i==null&&(a=r(v=s())),c=0;c<=f;++c)!(c<f&&n(d=l[c],c,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(d,c,l),+e(d,c,l));if(v)return a=null,v+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Un(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Un(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Un(!!l),o):n},o.curve=function(l){return arguments.length?(r=l,i!=null&&(a=r(i)),o):r},o.context=function(l){return arguments.length?(l==null?i=a=null:a=r(i=l),o):i},o}function xW(t,e,n){var i=null,r=Un(!0),a=null,s=j3,o=null,l=VM(c);t=typeof t=="function"?t:t===void 0?oU:Un(+t),e=typeof e=="function"?e:Un(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?lU:Un(+n);function c(d){var p,v,_,S=(d=G3(d)).length,b,A=!1,T,R=new Array(S),C=new Array(S);for(a==null&&(o=s(T=l())),p=0;p<=S;++p){if(!(p<S&&r(b=d[p],p,d))===A)if(A=!A)v=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),_=p-1;_>=v;--_)o.point(R[_],C[_]);o.lineEnd(),o.areaEnd()}A&&(R[p]=+t(b,p,d),C[p]=+e(b,p,d),o.point(i?+i(b,p,d):R[p],n?+n(b,p,d):C[p]))}if(T)return o=null,T+""||null}function f(){return mb().defined(r).curve(s).context(a)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Un(+d),i=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Un(+d),c):t},c.x1=function(d){return arguments.length?(i=d==null?null:typeof d=="function"?d:Un(+d),c):i},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Un(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Un(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Un(+d),c):n},c.lineX0=c.lineY0=function(){return f().x(t).y(e)},c.lineY1=function(){return f().x(t).y(n)},c.lineX1=function(){return f().x(i).y(e)},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Un(!!d),c):r},c.curve=function(d){return arguments.length?(s=d,a!=null&&(o=s(a)),c):s},c.context=function(d){return arguments.length?(d==null?a=o=null:o=s(a=d),c):a},c}function uMe(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function fMe(t){return t}function hMe(){var t=fMe,e=uMe,n=null,i=Un(0),r=Un(a0),a=Un(0);function s(o){var l,c=(o=G3(o)).length,f,d,p=0,v=new Array(c),_=new Array(c),S=+i.apply(this,arguments),b=Math.min(a0,Math.max(-a0,r.apply(this,arguments)-S)),A,T=Math.min(Math.abs(b)/c,a.apply(this,arguments)),R=T*(b<0?-1:1),C;for(l=0;l<c;++l)(C=_[v[l]=l]=+t(o[l],l,o))>0&&(p+=C);for(e!=null?v.sort(function(L,P){return e(_[L],_[P])}):n!=null&&v.sort(function(L,P){return n(o[L],o[P])}),l=0,d=p?(b-c*R)/p:0;l<c;++l,S=A)f=v[l],C=_[f],A=S+(C>0?C*d:0)+R,_[f]={data:o[f],index:l,value:C,startAngle:S,endAngle:A,padAngle:T};return _}return s.value=function(o){return arguments.length?(t=typeof o=="function"?o:Un(+o),s):t},s.sortValues=function(o){return arguments.length?(e=o,n=null,s):e},s.sort=function(o){return arguments.length?(n=o,e=null,s):n},s.startAngle=function(o){return arguments.length?(i=typeof o=="function"?o:Un(+o),s):i},s.endAngle=function(o){return arguments.length?(r=typeof o=="function"?o:Un(+o),s):r},s.padAngle=function(o){return arguments.length?(a=typeof o=="function"?o:Un(+o),s):a},s}var _W=cU(j3);function bW(t){this._curve=t}bW.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function cU(t){function e(n){return new bW(t(n))}return e._curve=t,e}function FA(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(cU(n)):e()._curve},t}function az(){return FA(mb().curve(_W))}function sz(){var t=xW().curve(_W),e=t.curve,n=t.lineX0,i=t.lineX1,r=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return FA(n())},delete t.lineX0,t.lineEndAngle=function(){return FA(i())},delete t.lineX1,t.lineInnerRadius=function(){return FA(r())},delete t.lineY0,t.lineOuterRadius=function(){return FA(a())},delete t.lineY1,t.curve=function(s){return arguments.length?e(cU(s)):e()._curve},t}function zA(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}class AW{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}class dMe{constructor(e){this._context=e}lineStart(){this._point=0}lineEnd(){}point(e,n){if(e=+e,n=+n,this._point===0)this._point=1;else{const i=zA(this._x0,this._y0),r=zA(this._x0,this._y0=(this._y0+n)/2),a=zA(e,this._y0),s=zA(e,n);this._context.moveTo(...i),this._context.bezierCurveTo(...r,...a,...s)}this._x0=e,this._y0=n}}function SW(t){return new AW(t,!0)}function MW(t){return new AW(t,!1)}function pMe(t){return new dMe(t)}function mMe(t){return t.source}function gMe(t){return t.target}function V3(t){let e=mMe,n=gMe,i=oU,r=lU,a=null,s=null,o=VM(l);function l(){let c;const f=cMe.call(arguments),d=e.apply(this,f),p=n.apply(this,f);if(a==null&&(s=t(c=o())),s.lineStart(),f[0]=d,s.point(+i.apply(this,f),+r.apply(this,f)),f[0]=p,s.point(+i.apply(this,f),+r.apply(this,f)),s.lineEnd(),c)return s=null,c+""||null}return l.source=function(c){return arguments.length?(e=c,l):e},l.target=function(c){return arguments.length?(n=c,l):n},l.x=function(c){return arguments.length?(i=typeof c=="function"?c:Un(+c),l):i},l.y=function(c){return arguments.length?(r=typeof c=="function"?c:Un(+c),l):r},l.context=function(c){return arguments.length?(c==null?a=s=null:s=t(a=c),l):a},l}function vMe(){return V3(SW)}function yMe(){return V3(MW)}function xMe(){const t=V3(pMe);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const _Me=Pr(3),wW={draw(t,e){const n=Pr(e+pb(e/28,.75))*.59436,i=n/2,r=i*_Me;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-r,-i),t.lineTo(r,i),t.moveTo(-r,i),t.lineTo(r,-i)}},X3={draw(t,e){const n=Pr(e/m0);t.moveTo(n,0),t.arc(0,0,n,0,a0)}},EW={draw(t,e){const n=Pr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},TW=Pr(1/3),bMe=TW*2,CW={draw(t,e){const n=Pr(e/bMe),i=n*TW;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},RW={draw(t,e){const n=Pr(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},NW={draw(t,e){const n=Pr(e-pb(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},DW={draw(t,e){const n=Pr(e),i=-n/2;t.rect(i,i,n,n)}},BW={draw(t,e){const n=Pr(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},AMe=.8908130915292852,OW=Ec(m0/10)/Ec(7*m0/10),SMe=Ec(a0/10)*OW,MMe=-om(a0/10)*OW,LW={draw(t,e){const n=Pr(e*AMe),i=SMe*n,r=MMe*n;t.moveTo(0,-n),t.lineTo(i,r);for(let a=1;a<5;++a){const s=a0*a/5,o=om(s),l=Ec(s);t.lineTo(l*n,-o*n),t.lineTo(o*i-l*r,l*i+o*r)}t.closePath()}},KB=Pr(3),PW={draw(t,e){const n=-Pr(e/(KB*3));t.moveTo(0,n*2),t.lineTo(-KB*n,-n),t.lineTo(KB*n,-n),t.closePath()}},wMe=Pr(3),UW={draw(t,e){const n=Pr(e)*.6824,i=n/2,r=n*wMe/2;t.moveTo(0,-n),t.lineTo(r,i),t.lineTo(-r,i),t.closePath()}},tf=-.5,nf=Pr(3)/2,o5=1/Pr(12),EMe=(o5/2+1)*3,IW={draw(t,e){const n=Pr(e/EMe),i=n/2,r=n*o5,a=i,s=n*o5+n,o=-a,l=s;t.moveTo(i,r),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(tf*i-nf*r,nf*i+tf*r),t.lineTo(tf*a-nf*s,nf*a+tf*s),t.lineTo(tf*o-nf*l,nf*o+tf*l),t.lineTo(tf*i+nf*r,tf*r-nf*i),t.lineTo(tf*a+nf*s,tf*s-nf*a),t.lineTo(tf*o+nf*l,tf*l-nf*o),t.closePath()}},l5={draw(t,e){const n=Pr(e-pb(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},oz=[X3,EW,CW,DW,LW,PW,IW],TMe=[X3,NW,l5,UW,wW,BW,RW];function CMe(t,e){let n=null,i=VM(r);t=typeof t=="function"?t:Un(t||X3),e=typeof e=="function"?e:Un(e===void 0?64:+e);function r(){let a;if(n||(n=a=i()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return r.type=function(a){return arguments.length?(t=typeof a=="function"?a:Un(a),r):t},r.size=function(a){return arguments.length?(e=typeof a=="function"?a:Un(+a),r):e},r.context=function(a){return arguments.length?(n=a??null,r):n},r}function g0(){}function zC(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function q3(t){this._context=t}q3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zC(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function RMe(t){return new q3(t)}function FW(t){this._context=t}FW.prototype={areaStart:g0,areaEnd:g0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:zC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function NMe(t){return new FW(t)}function zW(t){this._context=t}zW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:zC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function DMe(t){return new zW(t)}function HW(t,e){this._basis=new q3(t),this._beta=e}HW.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i=t[0],r=e[0],a=t[n]-i,s=e[n]-r,o=-1,l;++o<=n;)l=o/n,this._basis.point(this._beta*t[o]+(1-this._beta)*(i+l*a),this._beta*e[o]+(1-this._beta)*(r+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const BMe=function t(e){function n(i){return e===1?new q3(i):new HW(i,e)}return n.beta=function(i){return t(+i)},n}(.85);function HC(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function uU(t,e){this._context=t,this._k=(1-e)/6}uU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:HC(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:HC(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const OMe=function t(e){function n(i){return new uU(i,e)}return n.tension=function(i){return t(+i)},n}(0);function fU(t,e){this._context=t,this._k=(1-e)/6}fU.prototype={areaStart:g0,areaEnd:g0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:HC(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const LMe=function t(e){function n(i){return new fU(i,e)}return n.tension=function(i){return t(+i)},n}(0);function hU(t,e){this._context=t,this._k=(1-e)/6}hU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:HC(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const PMe=function t(e){function n(i){return new hU(i,e)}return n.tension=function(i){return t(+i)},n}(0);function dU(t,e,n){var i=t._x1,r=t._y1,a=t._x2,s=t._y2;if(t._l01_a>zo){var o=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*o-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,r=(r*o-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>zo){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-e*t._l12_2a)/f,s=(s*c+t._y1*t._l23_2a-n*t._l12_2a)/f}t._context.bezierCurveTo(i,r,a,s,t._x2,t._y2)}function kW(t,e){this._context=t,this._alpha=e}kW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:dU(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const UMe=function t(e){function n(i){return e?new kW(i,e):new uU(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function GW(t,e){this._context=t,this._alpha=e}GW.prototype={areaStart:g0,areaEnd:g0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:dU(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const IMe=function t(e){function n(i){return e?new GW(i,e):new fU(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function jW(t,e){this._context=t,this._alpha=e}jW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:dU(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const FMe=function t(e){function n(i){return e?new jW(i,e):new hU(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function VW(t){this._context=t}VW.prototype={areaStart:g0,areaEnd:g0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function zMe(t){return new VW(t)}function lz(t){return t<0?-1:1}function cz(t,e,n){var i=t._x1-t._x0,r=e-t._x1,a=(t._y1-t._y0)/(i||r<0&&-0),s=(n-t._y1)/(r||i<0&&-0),o=(a*r+s*i)/(i+r);return(lz(a)+lz(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function uz(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function $B(t,e,n){var i=t._x0,r=t._y0,a=t._x1,s=t._y1,o=(a-i)/3;t._context.bezierCurveTo(i+o,r+o*e,a-o,s-o*n,a,s)}function kC(t){this._context=t}kC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$B(this,this._t0,uz(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,$B(this,uz(this,n=cz(this,t,e)),n);break;default:$B(this,this._t0,n=cz(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function XW(t){this._context=new qW(t)}(XW.prototype=Object.create(kC.prototype)).point=function(t,e){kC.prototype.point.call(this,e,t)};function qW(t){this._context=t}qW.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,a){this._context.bezierCurveTo(e,t,i,n,a,r)}};function kE(t){return new kC(t)}function HMe(t){return new XW(t)}function YW(t){this._context=t}YW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var i=fz(t),r=fz(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(i[0][a],r[0][a],i[1][a],r[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function fz(t){var e,n=t.length-1,i,r=new Array(n),a=new Array(n),s=new Array(n);for(r[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)r[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(r[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)i=r[e]/a[e-1],a[e]-=i,s[e]-=i*s[e-1];for(r[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)r[e]=(s[e]-r[e+1])/a[e];for(a[n-1]=(t[n]+r[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-r[e+1];return[r,a]}function kMe(t){return new YW(t)}function Y3(t,e){this._context=t,this._t=e}Y3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function GMe(t){return new Y3(t,.5)}function jMe(t){return new Y3(t,0)}function VMe(t){return new Y3(t,1)}function qb(t,e){if((s=t.length)>1)for(var n=1,i,r,a=t[e[0]],s,o=a.length;n<s;++n)for(r=a,a=t[e[n]],i=0;i<o;++i)a[i][1]+=a[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function Yb(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function XMe(t,e){return t[e]}function qMe(t){const e=[];return e.key=t,e}function YMe(){var t=Un([]),e=Yb,n=qb,i=XMe;function r(a){var s=Array.from(t.apply(this,arguments),qMe),o,l=s.length,c=-1,f;for(const d of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+i(d,s[o].key,c,a)]).data=d;for(o=0,f=G3(e(s));o<l;++o)s[f[o]].index=o;return n(s,f),s}return r.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Un(Array.from(a)),r):t},r.value=function(a){return arguments.length?(i=typeof a=="function"?a:Un(+a),r):i},r.order=function(a){return arguments.length?(e=a==null?Yb:typeof a=="function"?a:Un(Array.from(a)),r):e},r.offset=function(a){return arguments.length?(n=a??qb,r):n},r}function WMe(t,e){if((i=t.length)>0){for(var n,i,r=0,a=t[0].length,s;r<a;++r){for(s=n=0;n<i;++n)s+=t[n][r][1]||0;if(s)for(n=0;n<i;++n)t[n][r][1]/=s}qb(t,e)}}function JMe(t,e){if((l=t.length)>0)for(var n,i=0,r,a,s,o,l,c=t[e[0]].length;i<c;++i)for(s=o=0,n=0;n<l;++n)(a=(r=t[e[n]][i])[1]-r[0])>0?(r[0]=s,r[1]=s+=a):a<0?(r[1]=o,r[0]=o+=a):(r[0]=0,r[1]=a)}function KMe(t,e){if((r=t.length)>0){for(var n=0,i=t[e[0]],r,a=i.length;n<a;++n){for(var s=0,o=0;s<r;++s)o+=t[s][n][1]||0;i[n][1]+=i[n][0]=-o/2}qb(t,e)}}function $Me(t,e){if(!(!((s=t.length)>0)||!((a=(r=t[e[0]]).length)>0))){for(var n=0,i=1,r,a,s;i<a;++i){for(var o=0,l=0,c=0;o<s;++o){for(var f=t[e[o]],d=f[i][1]||0,p=f[i-1][1]||0,v=(d-p)/2,_=0;_<o;++_){var S=t[e[_]],b=S[i][1]||0,A=S[i-1][1]||0;v+=b-A}l+=d,c+=v*d}r[i-1][1]+=r[i-1][0]=n,l&&(n-=c/l)}r[i-1][1]+=r[i-1][0]=n,qb(t,e)}}function WW(t){var e=t.map(ZMe);return Yb(t).sort(function(n,i){return e[n]-e[i]})}function ZMe(t){for(var e=-1,n=0,i=t.length,r,a=-1/0;++e<i;)(r=+t[e][1])>a&&(a=r,n=e);return n}function JW(t){var e=t.map(KW);return Yb(t).sort(function(n,i){return e[n]-e[i]})}function KW(t){for(var e=0,n=-1,i=t.length,r;++n<i;)(r=+t[n][1])&&(e+=r);return e}function QMe(t){return JW(t).reverse()}function ewe(t){var e=t.length,n,i,r=t.map(KW),a=WW(t),s=0,o=0,l=[],c=[];for(n=0;n<e;++n)i=a[n],s<o?(s+=r[i],l.push(i)):(o+=r[i],c.push(i));return c.reverse().concat(l)}function twe(t){return Yb(t).reverse()}const X2=t=>()=>t;function nwe(t,{sourceEvent:e,target:n,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function Cd(t,e,n){this.k=t,this.x=e,this.y=n}Cd.prototype={constructor:Cd,scale:function(t){return t===1?this:new Cd(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Cd(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var W3=new Cd(1,0,0);$W.prototype=Cd.prototype;function $W(t){for(;!t.__zoom;)if(!(t=t.parentNode))return W3;return t.__zoom}function ZB(t){t.stopImmediatePropagation()}function hA(t){t.preventDefault(),t.stopImmediatePropagation()}function iwe(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function rwe(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function hz(){return this.__zoom||W3}function awe(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function swe(){return navigator.maxTouchPoints||"ontouchstart"in this}function owe(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}function lwe(){var t=iwe,e=rwe,n=owe,i=awe,r=swe,a=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],o=250,l=RX,c=hx("start","zoom","end"),f,d,p,v=500,_=150,S=0,b=10;function A(Y){Y.property("__zoom",hz).on("wheel.zoom",G,{passive:!1}).on("mousedown.zoom",z).on("dblclick.zoom",F).filter(r).on("touchstart.zoom",j).on("touchmove.zoom",ne).on("touchend.zoom touchcancel.zoom",W).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}A.transform=function(Y,K,H,J){var Q=Y.selection?Y.selection():Y;Q.property("__zoom",hz),Y!==Q?L(Y,K,H,J):Q.interrupt().each(function(){P(this,arguments).event(J).start().zoom(null,typeof K=="function"?K.apply(this,arguments):K).end()})},A.scaleBy=function(Y,K,H,J){A.scaleTo(Y,function(){var Q=this.__zoom.k,ie=typeof K=="function"?K.apply(this,arguments):K;return Q*ie},H,J)},A.scaleTo=function(Y,K,H,J){A.transform(Y,function(){var Q=e.apply(this,arguments),ie=this.__zoom,V=H==null?C(Q):typeof H=="function"?H.apply(this,arguments):H,$=ie.invert(V),oe=typeof K=="function"?K.apply(this,arguments):K;return n(R(T(ie,oe),V,$),Q,s)},H,J)},A.translateBy=function(Y,K,H,J){A.transform(Y,function(){return n(this.__zoom.translate(typeof K=="function"?K.apply(this,arguments):K,typeof H=="function"?H.apply(this,arguments):H),e.apply(this,arguments),s)},null,J)},A.translateTo=function(Y,K,H,J,Q){A.transform(Y,function(){var ie=e.apply(this,arguments),V=this.__zoom,$=J==null?C(ie):typeof J=="function"?J.apply(this,arguments):J;return n(W3.translate($[0],$[1]).scale(V.k).translate(typeof K=="function"?-K.apply(this,arguments):-K,typeof H=="function"?-H.apply(this,arguments):-H),ie,s)},J,Q)};function T(Y,K){return K=Math.max(a[0],Math.min(a[1],K)),K===Y.k?Y:new Cd(K,Y.x,Y.y)}function R(Y,K,H){var J=K[0]-H[0]*Y.k,Q=K[1]-H[1]*Y.k;return J===Y.x&&Q===Y.y?Y:new Cd(Y.k,J,Q)}function C(Y){return[(+Y[0][0]+ +Y[1][0])/2,(+Y[0][1]+ +Y[1][1])/2]}function L(Y,K,H,J){Y.on("start.zoom",function(){P(this,arguments).event(J).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(J).end()}).tween("zoom",function(){var Q=this,ie=arguments,V=P(Q,ie).event(J),$=e.apply(Q,ie),oe=H==null?C($):typeof H=="function"?H.apply(Q,ie):H,de=Math.max($[1][0]-$[0][0],$[1][1]-$[0][1]),fe=Q.__zoom,ge=typeof K=="function"?K.apply(Q,ie):K,Se=l(fe.invert(oe).concat(de/fe.k),ge.invert(oe).concat(de/ge.k));return function(De){if(De===1)De=ge;else{var He=Se(De),Fe=de/He[2];De=new Cd(Fe,oe[0]-He[0]*Fe,oe[1]-He[1]*Fe)}V.zoom(null,De)}})}function P(Y,K,H){return!H&&Y.__zooming||new k(Y,K)}function k(Y,K){this.that=Y,this.args=K,this.active=0,this.sourceEvent=null,this.extent=e.apply(Y,K),this.taps=0}k.prototype={event:function(Y){return Y&&(this.sourceEvent=Y),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(Y,K){return this.mouse&&Y!=="mouse"&&(this.mouse[1]=K.invert(this.mouse[0])),this.touch0&&Y!=="touch"&&(this.touch0[1]=K.invert(this.touch0[0])),this.touch1&&Y!=="touch"&&(this.touch1[1]=K.invert(this.touch1[0])),this.that.__zoom=K,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(Y){var K=es(this.that).datum();c.call(Y,this.that,new nwe(Y,{sourceEvent:this.sourceEvent,target:A,transform:this.that.__zoom,dispatch:c}),K)}};function G(Y,...K){if(!t.apply(this,arguments))return;var H=P(this,K).event(Y),J=this.__zoom,Q=Math.max(a[0],Math.min(a[1],J.k*Math.pow(2,i.apply(this,arguments)))),ie=Cc(Y);if(H.wheel)(H.mouse[0][0]!==ie[0]||H.mouse[0][1]!==ie[1])&&(H.mouse[1]=J.invert(H.mouse[0]=ie)),clearTimeout(H.wheel);else{if(J.k===Q)return;H.mouse=[ie,J.invert(ie)],Ly(this),H.start()}hA(Y),H.wheel=setTimeout(V,_),H.zoom("mouse",n(R(T(J,Q),H.mouse[0],H.mouse[1]),H.extent,s));function V(){H.wheel=null,H.end()}}function z(Y,...K){if(p||!t.apply(this,arguments))return;var H=Y.currentTarget,J=P(this,K,!0).event(Y),Q=es(Y.view).on("mousemove.zoom",oe,!0).on("mouseup.zoom",de,!0),ie=Cc(Y,H),V=Y.clientX,$=Y.clientY;d3(Y.view),ZB(Y),J.mouse=[ie,this.__zoom.invert(ie)],Ly(this),J.start();function oe(fe){if(hA(fe),!J.moved){var ge=fe.clientX-V,Se=fe.clientY-$;J.moved=ge*ge+Se*Se>S}J.event(fe).zoom("mouse",n(R(J.that.__zoom,J.mouse[0]=Cc(fe,H),J.mouse[1]),J.extent,s))}function de(fe){Q.on("mousemove.zoom mouseup.zoom",null),p3(fe.view,J.moved),hA(fe),J.event(fe).end()}}function F(Y,...K){if(t.apply(this,arguments)){var H=this.__zoom,J=Cc(Y.changedTouches?Y.changedTouches[0]:Y,this),Q=H.invert(J),ie=H.k*(Y.shiftKey?.5:2),V=n(R(T(H,ie),J,Q),e.apply(this,K),s);hA(Y),o>0?es(this).transition().duration(o).call(L,V,J,Y):es(this).call(A.transform,V,J,Y)}}function j(Y,...K){if(t.apply(this,arguments)){var H=Y.touches,J=H.length,Q=P(this,K,Y.changedTouches.length===J).event(Y),ie,V,$,oe;for(ZB(Y),V=0;V<J;++V)$=H[V],oe=Cc($,this),oe=[oe,this.__zoom.invert(oe),$.identifier],Q.touch0?!Q.touch1&&Q.touch0[2]!==oe[2]&&(Q.touch1=oe,Q.taps=0):(Q.touch0=oe,ie=!0,Q.taps=1+!!f);f&&(f=clearTimeout(f)),ie&&(Q.taps<2&&(d=oe[0],f=setTimeout(function(){f=null},v)),Ly(this),Q.start())}}function ne(Y,...K){if(this.__zooming){var H=P(this,K).event(Y),J=Y.changedTouches,Q=J.length,ie,V,$,oe;for(hA(Y),ie=0;ie<Q;++ie)V=J[ie],$=Cc(V,this),H.touch0&&H.touch0[2]===V.identifier?H.touch0[0]=$:H.touch1&&H.touch1[2]===V.identifier&&(H.touch1[0]=$);if(V=H.that.__zoom,H.touch1){var de=H.touch0[0],fe=H.touch0[1],ge=H.touch1[0],Se=H.touch1[1],De=(De=ge[0]-de[0])*De+(De=ge[1]-de[1])*De,He=(He=Se[0]-fe[0])*He+(He=Se[1]-fe[1])*He;V=T(V,Math.sqrt(De/He)),$=[(de[0]+ge[0])/2,(de[1]+ge[1])/2],oe=[(fe[0]+Se[0])/2,(fe[1]+Se[1])/2]}else if(H.touch0)$=H.touch0[0],oe=H.touch0[1];else return;H.zoom("touch",n(R(V,$,oe),H.extent,s))}}function W(Y,...K){if(this.__zooming){var H=P(this,K).event(Y),J=Y.changedTouches,Q=J.length,ie,V;for(ZB(Y),p&&clearTimeout(p),p=setTimeout(function(){p=null},v),ie=0;ie<Q;++ie)V=J[ie],H.touch0&&H.touch0[2]===V.identifier?delete H.touch0:H.touch1&&H.touch1[2]===V.identifier&&delete H.touch1;if(H.touch1&&!H.touch0&&(H.touch0=H.touch1,delete H.touch1),H.touch0)H.touch0[1]=this.__zoom.invert(H.touch0[0]);else if(H.end(),H.taps===2&&(V=Cc(V,this),Math.hypot(d[0]-V[0],d[1]-V[1])<b)){var $=es(this).on("dblclick.zoom");$&&$.apply(this,arguments)}}}return A.wheelDelta=function(Y){return arguments.length?(i=typeof Y=="function"?Y:X2(+Y),A):i},A.filter=function(Y){return arguments.length?(t=typeof Y=="function"?Y:X2(!!Y),A):t},A.touchable=function(Y){return arguments.length?(r=typeof Y=="function"?Y:X2(!!Y),A):r},A.extent=function(Y){return arguments.length?(e=typeof Y=="function"?Y:X2([[+Y[0][0],+Y[0][1]],[+Y[1][0],+Y[1][1]]]),A):e},A.scaleExtent=function(Y){return arguments.length?(a[0]=+Y[0],a[1]=+Y[1],A):[a[0],a[1]]},A.translateExtent=function(Y){return arguments.length?(s[0][0]=+Y[0][0],s[1][0]=+Y[1][0],s[0][1]=+Y[0][1],s[1][1]=+Y[1][1],A):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},A.constrain=function(Y){return arguments.length?(n=Y,A):n},A.duration=function(Y){return arguments.length?(o=+Y,A):o},A.interpolate=function(Y){return arguments.length?(l=Y,A):l},A.on=function(){var Y=c.on.apply(c,arguments);return Y===c?A:Y},A.clickDistance=function(Y){return arguments.length?(S=(Y=+Y)*Y,A):Math.sqrt(S)},A.tapDistance=function(Y){return arguments.length?(b=+Y,A):b},A}const cwe=Object.freeze(Object.defineProperty({__proto__:null,Adder:gs,Delaunay:AP,FormatSpecifier:E3,InternMap:zS,InternSet:qy,Node:ex,Path:PM,Voronoi:JX,ZoomTransform:Cd,active:ove,arc:lMe,area:xW,areaRadial:sz,ascending:la,autoType:Nye,axisBottom:RA,axisLeft:mO,axisRight:Zde,axisTop:$de,bin:$I,bisect:h0,bisectCenter:Yhe,bisectLeft:qhe,bisectRight:h0,bisector:DM,blob:Oye,blur:Whe,blur2:EV,blurImage:Jhe,brush:xve,brushSelection:vve,brushX:VX,brushY:yve,buffer:Pye,chord:bve,chordDirected:Sve,chordTranspose:Ave,cluster:Z_e,color:d0,contourDensity:Jve,contours:BO,count:l3,create:Ome,creator:f3,cross:nde,csv:Fye,csvFormat:xye,csvFormatBody:_ye,csvFormatRow:Aye,csvFormatRows:bye,csvFormatValue:Sye,csvParse:$X,csvParseRows:yye,cubehelix:bh,cumsum:ide,curveBasis:RMe,curveBasisClosed:NMe,curveBasisOpen:DMe,curveBumpX:SW,curveBumpY:MW,curveBundle:BMe,curveCardinal:OMe,curveCardinalClosed:LMe,curveCardinalOpen:PMe,curveCatmullRom:UMe,curveCatmullRomClosed:IMe,curveCatmullRomOpen:FMe,curveLinear:j3,curveLinearClosed:zMe,curveMonotoneX:kE,curveMonotoneY:HMe,curveNatural:kMe,curveStep:GMe,curveStepAfter:VMe,curveStepBefore:jMe,descending:MV,deviation:RV,difference:zde,disjoint:Hde,dispatch:hx,drag:Gme,dragDisable:d3,dragEnable:p3,dsv:Iye,dsvFormat:S3,easeBack:b9,easeBackIn:Q0e,easeBackInOut:b9,easeBackOut:eve,easeBounce:WS,easeBounceIn:$0e,easeBounceInOut:Z0e,easeBounceOut:WS,easeCircle:_9,easeCircleIn:k0e,easeCircleInOut:_9,easeCircleOut:G0e,easeCubic:TO,easeCubicIn:O0e,easeCubicInOut:TO,easeCubicOut:L0e,easeElastic:A9,easeElasticIn:tve,easeElasticInOut:nve,easeElasticOut:A9,easeExp:x9,easeExpIn:z0e,easeExpInOut:x9,easeExpOut:H0e,easeLinear:N0e,easePoly:v9,easePolyIn:P0e,easePolyInOut:v9,easePolyOut:U0e,easeQuad:g9,easeQuadIn:D0e,easeQuadInOut:g9,easeQuadOut:B0e,easeSin:y9,easeSinIn:I0e,easeSinInOut:y9,easeSinOut:F0e,every:Ode,extent:Dy,fcumsum:ade,filter:Pde,flatGroup:sde,flatRollup:ode,forceCenter:qye,forceCollide:fxe,forceLink:dxe,forceManyBody:Axe,forceRadial:Sxe,forceSimulation:bxe,forceX:Mxe,forceY:wxe,get format(){return T3},formatDefaultLocale:iq,formatLocale:nq,get formatPrefix(){return wP},formatSpecifier:zb,fsum:rde,geoAlbers:kq,geoAlbersUsa:N_e,geoArea:Pxe,geoAzimuthalEqualArea:D_e,geoAzimuthalEqualAreaRaw:PP,geoAzimuthalEquidistant:B_e,geoAzimuthalEquidistantRaw:UP,geoBounds:zxe,geoCentroid:Xxe,geoCircle:qxe,geoClipAntimeridian:XO,geoClipCircle:wq,geoClipExtent:Qxe,geoClipRectangle:C3,geoConicConformal:L_e,geoConicConformalRaw:Vq,geoConicEqualArea:PC,geoConicEqualAreaRaw:Hq,geoConicEquidistant:U_e,geoConicEquidistantRaw:Xq,geoContains:s_e,geoDistance:TC,geoEqualEarth:F_e,geoEqualEarthRaw:IP,geoEquirectangular:P_e,geoEquirectangularRaw:QS,geoGnomonic:z_e,geoGnomonicRaw:FP,geoGraticule:Cq,geoGraticule10:o_e,geoIdentity:H_e,geoInterpolate:l_e,geoLength:Eq,geoMercator:O_e,geoMercatorRaw:HM,geoNaturalEarth1:k_e,geoNaturalEarth1Raw:zP,geoOrthographic:G_e,geoOrthographicRaw:HP,geoPath:__e,geoProjection:qd,geoProjectionMutator:OP,geoRotation:xq,geoStereographic:j_e,geoStereographicRaw:kP,geoStream:hh,geoTransform:b_e,geoTransverseMercator:V_e,geoTransverseMercatorRaw:GP,gray:ege,greatest:HV,greatestIndex:Tde,group:OV,groupSort:ude,groups:LV,hcl:oC,hierarchy:jP,histogram:$I,hsl:rC,html:Vye,image:Hye,index:lde,indexes:cde,interpolate:M0,interpolateArray:sge,interpolateBasis:gX,interpolateBasisClosed:vX,interpolateBlues:PSe,interpolateBrBG:pSe,interpolateBuGn:SSe,interpolateBuPu:MSe,interpolateCividis:kSe,interpolateCool:VSe,interpolateCubehelix:bge,interpolateCubehelixDefault:GSe,interpolateCubehelixLong:x3,interpolateDate:SX,interpolateDiscrete:cge,interpolateGnBu:wSe,interpolateGreens:USe,interpolateGreys:ISe,interpolateHcl:xge,interpolateHclLong:_ge,interpolateHsl:gge,interpolateHslLong:vge,interpolateHue:uge,interpolateInferno:ZSe,interpolateLab:yge,interpolateMagma:$Se,interpolateNumber:of,interpolateNumberArray:fP,interpolateObject:MX,interpolateOrRd:ESe,interpolateOranges:HSe,interpolatePRGn:mSe,interpolatePiYG:gSe,interpolatePlasma:QSe,interpolatePuBu:CSe,interpolatePuBuGn:TSe,interpolatePuOr:vSe,interpolatePuRd:RSe,interpolatePurples:FSe,interpolateRainbow:XSe,interpolateRdBu:ySe,interpolateRdGy:xSe,interpolateRdPu:NSe,interpolateRdYlBu:_Se,interpolateRdYlGn:bSe,interpolateReds:zSe,interpolateRgb:XS,interpolateRgbBasis:_X,interpolateRgbBasisClosed:age,interpolateRound:y3,interpolateSinebow:WSe,interpolateSpectral:ASe,interpolateString:hP,interpolateTransformCss:TX,interpolateTransformSvg:CX,interpolateTurbo:JSe,interpolateViridis:KSe,interpolateWarm:jSe,interpolateYlGn:BSe,interpolateYlGnBu:DSe,interpolateYlOrBr:OSe,interpolateYlOrRd:LSe,interpolateZoom:RX,interrupt:Ly,intersection:kde,interval:Ege,isoFormat:JAe,isoParse:$Ae,json:Gye,lab:sC,lch:tge,least:Ede,leastIndex:jV,line:mb,lineRadial:az,link:V3,linkHorizontal:vMe,linkRadial:xMe,linkVertical:yMe,local:tX,map:Ude,matcher:rP,max:Ob,maxIndex:eP,mean:yde,median:xde,medianIndex:_de,merge:nP,min:HS,minIndex:tP,mode:Ade,namespace:BM,namespaces:vO,nice:ZL,now:LM,pack:Cbe,packEnclose:Abe,packSiblings:Ebe,pairs:Sde,partition:Rbe,path:bP,pathRound:Eve,permute:zV,pie:hMe,piecewise:OX,pointRadial:zA,pointer:Cc,pointers:Pme,polygonArea:Xbe,polygonCentroid:qbe,polygonContains:Kbe,polygonHull:Jbe,polygonLength:$be,precisionFixed:rq,precisionPrefix:aq,precisionRound:sq,quadtree:w3,quantile:kS,quantileIndex:GV,quantileSorted:kV,quantize:Age,quickselect:c3,radialArea:sz,radialLine:az,randomBates:t1e,randomBernoulli:r1e,randomBeta:rY,randomBinomial:aY,randomCauchy:s1e,randomExponential:n1e,randomGamma:qP,randomGeometric:iY,randomInt:Qbe,randomIrwinHall:nY,randomLcg:f1e,randomLogNormal:e1e,randomLogistic:o1e,randomNormal:XP,randomPareto:i1e,randomPoisson:l1e,randomUniform:Zbe,randomWeibull:a1e,range:t0,rank:wde,reduce:Ide,reverse:Fde,rgb:Pb,ribbon:Lve,ribbonArrow:Pve,rollup:UV,rollups:IV,scaleBand:WP,scaleDiverging:GY,scaleDivergingLog:jY,scaleDivergingPow:sU,scaleDivergingSqrt:nSe,scaleDivergingSymlog:VY,scaleIdentity:lY,scaleImplicit:a5,scaleLinear:KP,scaleLog:uY,scaleOrdinal:YP,scalePoint:h1e,scalePow:eU,scaleQuantile:dY,scaleQuantize:pY,scaleRadial:hY,scaleSequential:FY,scaleSequentialLog:zY,scaleSequentialPow:aU,scaleSequentialQuantile:kY,scaleSequentialSqrt:tSe,scaleSequentialSymlog:HY,scaleSqrt:M1e,scaleSymlog:fY,scaleThreshold:mY,scaleTime:IY,scaleUtc:eSe,scan:Cde,schemeAccent:rSe,schemeBlues:hW,schemeBrBG:XY,schemeBuGn:eW,schemeBuPu:tW,schemeCategory10:iSe,schemeDark2:aSe,schemeGnBu:nW,schemeGreens:dW,schemeGreys:pW,schemeObservable10:sSe,schemeOrRd:iW,schemeOranges:vW,schemePRGn:qY,schemePaired:oSe,schemePastel1:lSe,schemePastel2:cSe,schemePiYG:YY,schemePuBu:aW,schemePuBuGn:rW,schemePuOr:WY,schemePuRd:sW,schemePurples:mW,schemeRdBu:JY,schemeRdGy:KY,schemeRdPu:oW,schemeRdYlBu:$Y,schemeRdYlGn:ZY,schemeReds:gW,schemeSet1:uSe,schemeSet2:fSe,schemeSet3:hSe,schemeSpectral:QY,schemeTableau10:dSe,schemeYlGn:cW,schemeYlGnBu:lW,schemeYlOrBr:uW,schemeYlOrRd:fW,select:es,selectAll:Ume,selection:dx,selector:h3,selectorAll:iP,shuffle:Rde,shuffler:VV,some:Lde,sort:dO,stack:YMe,stackOffsetDiverging:JMe,stackOffsetExpand:WMe,stackOffsetNone:qb,stackOffsetSilhouette:KMe,stackOffsetWiggle:$Me,stackOrderAppearance:WW,stackOrderAscending:JW,stackOrderDescending:QMe,stackOrderInsideOut:ewe,stackOrderNone:Yb,stackOrderReverse:twe,stratify:Obe,style:Jy,subset:jde,sum:Nde,superset:qV,svg:Xye,symbol:CMe,symbolAsterisk:wW,symbolCircle:X3,symbolCross:EW,symbolDiamond:CW,symbolDiamond2:RW,symbolPlus:NW,symbolSquare:DW,symbolSquare2:BW,symbolStar:LW,symbolTimes:l5,symbolTriangle:PW,symbolTriangle2:UW,symbolWye:IW,symbolX:l5,symbols:oz,symbolsFill:oz,symbolsStroke:TMe,text:M3,thresholdFreedmanDiaconis:gde,thresholdScott:vde,thresholdSturges:QL,tickFormat:oY,tickIncrement:Wy,tickStep:tC,ticks:Yy,timeDay:g1,timeDays:N1e,get timeFormat(){return db},timeFormatDefaultLocale:PY,timeFormatLocale:RY,timeFriday:yY,timeFridays:I1e,timeHour:L3,timeHours:C1e,timeInterval:ns,timeMillisecond:jb,timeMilliseconds:GF,timeMinute:B3,timeMinutes:E1e,timeMonday:eM,timeMondays:O1e,timeMonth:U3,timeMonths:X1e,get timeParse(){return LY},timeSaturday:xY,timeSaturdays:F1e,timeSecond:xm,timeSeconds:VF,timeSunday:Vb,timeSundays:XF,timeThursday:tx,timeThursdays:U1e,timeTickInterval:CY,timeTicks:TY,timeTuesday:gY,timeTuesdays:L1e,timeWednesday:vY,timeWednesdays:P1e,timeWeek:Vb,timeWeeks:XF,timeYear:Hd,timeYears:Y1e,timeout:SO,timer:b3,timerFlush:UX,transition:HX,transpose:XV,tree:Hbe,treemap:kbe,treemapBinary:Gbe,treemapDice:kM,treemapResquarify:Vbe,treemapSlice:N3,treemapSliceDice:jbe,treemapSquarify:tY,tsv:zye,tsvFormat:wye,tsvFormatBody:Eye,tsvFormatRow:Cye,tsvFormatRows:Tye,tsvFormatValue:Rye,tsvParse:ZX,tsvParseRows:Mye,union:Vde,unixDay:nU,unixDays:B1e,utcDay:jM,utcDays:D1e,get utcFormat(){return F3},utcFriday:AY,utcFridays:j1e,utcHour:P3,utcHours:R1e,utcMillisecond:jb,utcMilliseconds:GF,utcMinute:O3,utcMinutes:T1e,utcMonday:tM,utcMondays:z1e,utcMonth:I3,utcMonths:q1e,get utcParse(){return iU},utcSaturday:SY,utcSaturdays:V1e,utcSecond:xm,utcSeconds:VF,utcSunday:Xb,utcSundays:qF,utcThursday:nx,utcThursdays:G1e,utcTickInterval:EY,utcTicks:wY,utcTuesday:_Y,utcTuesdays:H1e,utcWednesday:bY,utcWednesdays:k1e,utcWeek:Xb,utcWeeks:qF,utcYear:kd,utcYears:W1e,variance:CV,window:aP,xml:jye,zip:Bde,zoom:lwe,zoomIdentity:W3,zoomTransform:$W},Symbol.toStringTag,{value:"Module"})),ZW=({source:t="dashboard"})=>{yr();const[e,n]=ce.useState(!1),i=ce.useRef(null),r=t==="dashboard",a=r?Zg.value:null,s=r?uh.value:null,o=r?ZT.value:null,l=r?CE.value:lh.value,c=r?uO.value:KT.value,f=r?fO.value:null;ce.useEffect(()=>{if(!r)return;const p=async()=>{if(!e){n(!0);try{await Rhe()}catch(v){console.error("Error refreshing chart data:",v)}finally{n(!1)}}};return p(),i.current=setInterval(p,5e3),()=>{i.current&&clearInterval(i.current)}},[a,JSON.stringify(s),o]);const d=c||r&&e;return d&&l.length===0?B.jsx("div",{className:"h-full flex items-center justify-center text-text",children:"Loading chart data..."}):f?B.jsxs("div",{className:"h-full flex items-center justify-center text-red-500",children:["Error:"," ",typeof f=="string"?f:f.message||"Unknown chart error"]}):!d&&l.length===0?B.jsx("div",{className:"h-full flex items-center justify-center text-text",children:"No voltage data to display for the selected criteria."}):B.jsxs("div",{className:"relative h-full",children:[d&&B.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-background/50",children:B.jsx("div",{className:"text-text",children:r?"Refreshing data...":"Loading chart..."})}),B.jsx(QW,{chartDataArray:l})]})},QW=ce.memo(({chartDataArray:t})=>{yr();const e=ce.useRef(null),n=ce.useRef(null),[i,r]=ce.useState(!1),[a,s]=ce.useState(null),o=ce.useRef({xScale:null,yScale:null,xAxis:null,yAxis:null,lines:[],brushGroup:null,tooltipLine:null,tooltipPoints:[]}),l=ce.useMemo(()=>t.map(v=>{var _,S,b,A,T,R;return{id:v.sensorId,length:((_=v.data)==null?void 0:_.length)||0,first:(b=(S=v.data)==null?void 0:S[0])==null?void 0:b.timestamp,last:(R=(T=v.data)==null?void 0:T[((A=v.data)==null?void 0:A.length)-1])==null?void 0:R.timestamp,zoom:i?`${a==null?void 0:a.x0}-${a==null?void 0:a.x1}`:"full"}}),[t,i,a]);ce.useEffect(()=>{if(!t||t.length===0)return;const v=($,oe=1e3)=>{if($.length<=oe)return $;const de=Math.floor($.length/oe);return $.filter((fe,ge)=>ge%de===0)},_=t.map($=>({...$,data:v($.data)})),S=es(e.current),b=e.current.clientWidth,A=e.current.clientHeight,T={top:20,right:30,bottom:30,left:50},R=b-T.left-T.right,C=A-T.top-T.bottom;S.selectAll("*").remove(),S.attr("width","100%").attr("height","100%").attr("viewBox",`0 0 ${b} ${A}`).append("rect").attr("width",b).attr("height",A).attr("fill","#1a2234").attr("rx",8);const L=S.append("g").attr("transform",`translate(${T.left}, ${T.top})`);S.append("defs").append("clipPath").attr("id","chart-clip").append("rect").attr("width",R).attr("height",C);const P=_.flatMap($=>$.data.map(oe=>new Date(oe.timestamp))),k=_.flatMap($=>$.data.map(oe=>oe.value)).filter($=>$!=null);if(k.length===0)return;const G=IY().domain(Dy(P)).range([0,R]),z=HS(k),F=Ob(k),j=Math.abs((F-z)*.1),ne=KP().domain([z-j,F+j]).range([C,0]);i&&a&&G.domain([a.x0,a.x1]),o.current.xScale=G,o.current.yScale=ne;const W=mb().x($=>G(new Date($.timestamp))).y($=>ne($.value)).defined($=>$.value!==null).curve(kE);L.append("g").attr("class","grid x-grid").attr("transform",`translate(0,${C})`).call(RA(G).tickSize(-C).tickFormat("")).attr("color","#2a3444"),L.append("g").attr("class","grid y-grid").call(mO(ne).tickSize(-R).tickFormat("")).attr("color","#2a3444");const Y=L.append("g").attr("class","axis x-axis").attr("transform",`translate(0,${C})`).call(RA(G).tickFormat(db("%d %b %H:%M"))).attr("color","#fff");o.current.xAxis=Y;const K=L.append("g").attr("class","axis y-axis").call(mO(ne).tickFormat($=>`${$}mV`)).attr("color","#fff");o.current.yAxis=K;const H=L.append("g").attr("clip-path","url(#chart-clip)"),J=["#0ea5e9","#f43f5e","#22c55e","#f59e0b","#8b5cf6"],Q=_.map(($,oe)=>{const de=$.data.filter(fe=>fe.value!==null);return H.append("path").datum(de).attr("fill","none").attr("stroke",J[oe%J.length]).attr("stroke-width",2).attr("d",W)});o.current.lines=Q;const ie=VX().extent([[0,0],[R,C]]).on("end",c),V=L.append("g").attr("class","brush").style("display",i?"block":"none").call(ie);if(o.current.brushGroup=V,V.select(".selection").attr("fill","#3b82f6").attr("fill-opacity",.3),V.selectAll(".handle").attr("fill","#3b82f6"),uwe(S,b,i,r,d),!i){const $=es(n.current),oe=L.append("line").attr("stroke","#94a3b8").attr("stroke-width",1).attr("y1",0).attr("y2",C).style("opacity",0);o.current.tooltipLine=oe;const de=_.map((fe,ge)=>L.append("circle").attr("r",4).attr("fill",J[ge%J.length]).style("opacity",0));o.current.tooltipPoints=de,L.append("rect").attr("width",R).attr("height",C).attr("fill","none").attr("pointer-events","all").on("mousemove",function(fe){const ge=Cc(fe)[0],Se=G.invert(ge),De=[];if(_.forEach((Fe,ke)=>{const Qe=DM(Ie=>new Date(Ie.timestamp)).left,Re=Qe(Fe.data,Se),st=Fe.data[Re-1],pe=Fe.data[Re];let St;st&&pe?St=Se-new Date(st.timestamp)>new Date(pe.timestamp)-Se?pe:st:st?St=st:pe&&(St=pe),St&&De.push({point:St,index:ke})}),De.length===0)return;oe.attr("x1",ge).attr("x2",ge).style("opacity",1),De.forEach(({point:Fe,index:ke})=>{de[ke].attr("cx",G(new Date(Fe.timestamp))).attr("cy",ne(Fe.value)).style("opacity",1)});const He=e.current.getBoundingClientRect();$.style("opacity",1).style("left",`${fe.pageX-He.left+10}px`).style("top",`${fe.pageY-He.top+10}px`).html(`
                                   <div class="bg-gray-900/90 p-2 rounded border border-gray-700">
                                     <div class="text-xs text-gray-300">
                                       ${new Date(De[0].point.timestamp).toLocaleString()}
                                     </div>
                                     ${De.map(({point:Fe,index:ke})=>`
                                       <div class="text-sm" style="color: ${J[ke%J.length]}">
                                         S${_[ke].sensorId}: ${Fe.value.toFixed(2)}mV
                                       </div>
                                     `).join("")}
                                   </div>
                                 `)}).on("mouseleave",()=>{oe.style("opacity",0),de.forEach(fe=>fe.style("opacity",0)),$.style("opacity",0)})}return es(document).on("keydown",p),()=>{es(document).on("keydown",null)}},[l]);const c=v=>{var b;if(!v.selection){((b=v.sourceEvent)==null?void 0:b.type)==="keydown"&&d();return}const[_,S]=v.selection.map(o.current.xScale.invert);r(!0),s({x0:_,x1:S}),f(_,S)},f=(v,_)=>{const{xScale:S,xAxis:b,lines:A,brushGroup:T}=o.current;!S||!b||(S.domain([v,_]),b.transition().duration(750).call(RA(S).tickFormat(db("%d %b %H:%M"))),A.forEach(R=>{R.transition().duration(750).attr("d",mb().x(C=>S(new Date(C.timestamp))).y(C=>o.current.yScale(C.value)).defined(C=>C.value!==null).curve(kE))}),T==null||T.style("display","none"))},d=()=>{r(!1),s(null);const{xScale:v,xAxis:_,lines:S}=o.current;if(!v||!_)return;const b=t.flatMap(A=>A.data.map(T=>new Date(T.timestamp)));v.domain(Dy(b)),_.transition().duration(750).call(RA(v).tickFormat(db("%d %b %H:%M"))),S.forEach(A=>{A.transition().duration(750).attr("d",mb().x(T=>v(new Date(T.timestamp))).y(T=>o.current.yScale(T.value)).defined(T=>T.value!==null).curve(kE))})},p=v=>{v.key==="Escape"&&i&&d()};return B.jsxs(B.Fragment,{children:[B.jsx("svg",{ref:e,className:"w-full h-full",style:{minHeight:"250px"}}),B.jsx("div",{ref:n,className:"absolute bg-gray-900/90 border border-gray-700 rounded p-2 pointer-events-none",style:{opacity:0,transition:"opacity 0.2s",fontSize:"12px",zIndex:10}})]})}),uwe=(t,e,n,i,r)=>{const a=t.append("g").attr("transform",`translate(${e-90}, 5)`),s=a.append("g").attr("cursor","pointer").on("click",()=>i(!n));if(s.append("rect").attr("x",0).attr("y",0).attr("width",30).attr("height",24).attr("rx",6).attr("fill",n?"#3b82f6":"#2a3444"),s.append("text").attr("x",15).attr("y",17).attr("text-anchor","middle").text("🔍"),n){const o=a.append("g").attr("transform","translate(35, 0)").attr("cursor","pointer").on("click",r);o.append("rect").attr("x",0).attr("y",0).attr("width",50).attr("height",24).attr("rx",6).attr("fill","#2a3444"),o.append("text").attr("x",25).attr("y",17).attr("text-anchor","middle").text("Reset")}};QW.displayName="Chart";const fwe=({data:t,signalHistoryData:e})=>{yr();const n=Array.from({length:12},(i,r)=>{var a;return{index:r,data:e.value[r]||null,time:((a=e.value[r])==null?void 0:a.time)||"--.--"}});return B.jsxs("div",{className:"h-10/12 px-3 flex flex-col md:flex-row justify-center items-center gap-10 md:gap-1",children:[B.jsxs("div",{className:"flex flex-col justify-center items-center gap-4 h-[100%] w-[35%]",children:[B.jsx("div",{className:"flex items-end justify-center gap-1",children:[1,2,3].map(i=>{let r;const a=t.value.signalStrength;return a<=33?r=i===1?"#ff4d4d":"#3f3f3f":a<=66?r=i<=2?"#ffa64d":"#3f3f3f":r="#4dff4d",B.jsx("div",{className:"w-3.5 md:w-2.5 2xl:w-3.5 transition-all duration-300",style:{height:`${i*14}px`,backgroundColor:r,opacity:r==="#3f3f3f"?.3:1}},i)})}),B.jsxs("span",{className:"text-3xl md:text-2xl 2xl:text-3xl font-bold md:font-semibold text-center",children:[t.value.signalStrength," %"]})]}),B.jsxs("div",{className:"w-[80%] md:w-[60%] h-[95%]",children:[B.jsx("h5",{className:"text-base md:text-[10px] 2xl:text-sm text-text/85 font-normal tracking-wide mb-2 md:mb-1 2xl:mb-1",children:"Signal strength - 12 Hrs"}),B.jsx("div",{className:"grid grid-cols-4 2xl:grid-rows-3 gap-1",children:n.map(i=>B.jsxs("div",{className:"bg-background/20 rounded-lg p-1.5 lg:p-1 lg:py-1.5 2xl:p-2 flex flex-col items-center justify-end",children:[B.jsx("div",{className:"flex items-end mb-2 lg:mb-1 2xl:mb-2",children:i.data?Array.from({length:3},(r,a)=>B.jsx("div",{className:"w-0.5 2xl:w-1 mx-[1px]",style:{height:`${(a+1)*4}px`,backgroundColor:i.data.strength===1?"#ff4d4d":i.data.strength===2?"#ffa64d":i.data.strength===3?"#ffff4d":"#4dff4d",opacity:a<i.data.strength?1:.3}},a)):Array.from({length:3},(r,a)=>B.jsx("div",{className:"w-0.5 2xl:w-1 mx-[1px]",style:{height:`${(a+1)*4}px`,backgroundColor:"#4dff4d",opacity:.3}},a))}),B.jsx("span",{className:"text-xs lg:text-[7px] 2xl:text-[8px] text-text/75",children:i.time})]},i.index))})]})]})};var hwe=Object.defineProperty,eJ=(t,e,n)=>((i,r,a)=>r in i?hwe(i,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[r]=a)(t,typeof e!="symbol"?e+"":e,n);function dwe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var QB={exports:{}},dz,pz,mz,gz,vz;function pwe(){return pz?dz:(pz=1,dz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}function mwe(){if(gz)return mz;gz=1;var t=pwe();function e(){}function n(){}return n.resetWarningCache=e,mz=()=>{function i(s,o,l,c,f,d){if(d!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}function r(){return i}i.isRequired=i;var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a}}function gwe(){return vz||(vz=1,QB.exports=mwe()()),QB.exports}const mi=dwe(gwe());function GC(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function J_(t){return(t=GC(Math.abs(t)))?t[1]:NaN}var tJ,vwe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jC(t){if(!(e=vwe.exec(t)))throw new Error("invalid format: "+t);var e;return new c5({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function c5(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}function yz(t,e){var n=GC(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}jC.prototype=c5.prototype,c5.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const xz={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>yz(100*t,e),r:yz,s:function(t,e){var n=GC(t,e);if(!n)return t+"";var i=n[0],r=n[1],a=r-(tJ=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+GC(t,Math.max(0,e+a-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function _z(t){return t}var e4,VC,nJ,bz=Array.prototype.map,Az=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ywe(t){var e=t.grouping===void 0||t.thousands===void 0?_z:function(f,d){return(p,v)=>{for(var _=p.length,S=[],b=0,A=f[0],T=0;_>0&&A>0&&(T+A+1>v&&(A=Math.max(1,v-T)),S.push(p.substring(_-=A,_+A)),!((T+=A+1)>v));)A=f[b=(b+1)%f.length];return S.reverse().join(d)}}(bz.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",r=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?_z:function(f){return d=>d.replace(/[0-9]/g,p=>f[+p])}(bz.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){var d=(f=jC(f)).fill,p=f.align,v=f.sign,_=f.symbol,S=f.zero,b=f.width,A=f.comma,T=f.precision,R=f.trim,C=f.type;C==="n"?(A=!0,C="g"):xz[C]||(T===void 0&&(T=12),R=!0,C="g"),(S||d==="0"&&p==="=")&&(S=!0,d="0",p="=");var L=_==="$"?n:_==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",P=_==="$"?i:/[%p]/.test(C)?s:"",k=xz[C],G=/[defgprs%]/.test(C);function z(F){var j,ne,W,Y=L,K=P;if(C==="c")K=k(F)+K,F="";else{var H=(F=+F)<0||1/F<0;if(F=isNaN(F)?l:k(Math.abs(F),T),R&&(F=function(ie){e:for(var V,$=ie.length,oe=1,de=-1;oe<$;++oe)switch(ie[oe]){case".":de=V=oe;break;case"0":de===0&&(de=oe),V=oe;break;default:if(!+ie[oe])break e;de>0&&(de=0)}return de>0?ie.slice(0,de)+ie.slice(V+1):ie}(F)),H&&+F==0&&v!=="+"&&(H=!1),Y=(H?v==="("?v:o:v==="-"||v==="("?"":v)+Y,K=(C==="s"?Az[8+tJ/3]:"")+K+(H&&v==="("?")":""),G){for(j=-1,ne=F.length;++j<ne;)if(48>(W=F.charCodeAt(j))||W>57){K=(W===46?r+F.slice(j+1):F.slice(j))+K,F=F.slice(0,j);break}}}A&&!S&&(F=e(F,1/0));var J=Y.length+F.length+K.length,Q=J<b?new Array(b-J+1).join(d):"";switch(A&&S&&(F=e(Q+F,Q.length?b-K.length:1/0),Q=""),p){case"<":F=Y+F+K+Q;break;case"=":F=Y+Q+F+K;break;case"^":F=Q.slice(0,J=Q.length>>1)+Y+F+K+Q.slice(J);break;default:F=Q+Y+F+K}return a(F)}return T=T===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T)),z.toString=()=>f+"",z}return{format:c,formatPrefix:function(f,d){var p=c(((f=jC(f)).type="f",f)),v=3*Math.max(-8,Math.min(8,Math.floor(J_(d)/3))),_=Math.pow(10,-v),S=Az[8+v/3];return b=>p(_*b)+S}}}e4=ywe({thousands:",",grouping:[3],currency:["$",""]}),VC=e4.format,nJ=e4.formatPrefix;var u5="http://www.w3.org/1999/xhtml";const Sz={svg:"http://www.w3.org/2000/svg",xhtml:u5,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function XC(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Sz.hasOwnProperty(e)?{space:Sz[e],local:t}:t}function xwe(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===u5&&e.documentElement.namespaceURI===u5?e.createElement(t):e.createElementNS(n,t)}}function _we(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Mz(t){var e=XC(t);return(e.local?_we:xwe)(e)}function bwe(){}function f5(t){return t==null?bwe:function(){return this.querySelector(t)}}function Awe(){return[]}function iJ(t){return t==null?Awe:function(){return this.querySelectorAll(t)}}function Swe(t){return function(){return function(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}(t.apply(this,arguments))}}function rJ(t){return function(){return this.matches(t)}}function wz(t){return e=>e.matches(t)}var Mwe=Array.prototype.find;function wwe(){return this.firstElementChild}var Ewe=Array.prototype.filter;function Twe(){return Array.from(this.children)}function Ez(t){return new Array(t.length)}function qC(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Cwe(t,e,n,i,r,a){for(var s,o=0,l=e.length,c=a.length;o<c;++o)(s=e[o])?(s.__data__=a[o],i[o]=s):n[o]=new qC(t,a[o]);for(;o<l;++o)(s=e[o])&&(r[o]=s)}function Rwe(t,e,n,i,r,a,s){var o,l,c,f=new Map,d=e.length,p=a.length,v=new Array(d);for(o=0;o<d;++o)(l=e[o])&&(v[o]=c=s.call(l,l.__data__,o,e)+"",f.has(c)?r[o]=l:f.set(c,l));for(o=0;o<p;++o)c=s.call(t,a[o],o,a)+"",(l=f.get(c))?(i[o]=l,l.__data__=a[o],f.delete(c)):n[o]=new qC(t,a[o]);for(o=0;o<d;++o)(l=e[o])&&f.get(v[o])===l&&(r[o]=l)}function Nwe(t){return t.__data__}function Dwe(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Bwe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Owe(t){return function(){this.removeAttribute(t)}}function Lwe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Pwe(t,e){return function(){this.setAttribute(t,e)}}function Uwe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Iwe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Fwe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function aJ(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function zwe(t){return function(){this.style.removeProperty(t)}}function Hwe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function kwe(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function K_(t,e){return t.style.getPropertyValue(e)||aJ(t).getComputedStyle(t,null).getPropertyValue(e)}function Gwe(t){return function(){delete this[t]}}function jwe(t,e){return function(){this[t]=e}}function Vwe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function sJ(t){return t.trim().split(/^|\s+/)}function pU(t){return t.classList||new oJ(t)}function oJ(t){this._node=t,this._names=sJ(t.getAttribute("class")||"")}function lJ(t,e){for(var n=pU(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function cJ(t,e){for(var n=pU(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function Xwe(t){return function(){lJ(this,t)}}function qwe(t){return function(){cJ(this,t)}}function Ywe(t,e){return function(){(e.apply(this,arguments)?lJ:cJ)(this,t)}}function Wwe(){this.textContent=""}function Jwe(t){return function(){this.textContent=t}}function Kwe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function $we(){this.innerHTML=""}function Zwe(t){return function(){this.innerHTML=t}}function Qwe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function e2e(){this.nextSibling&&this.parentNode.appendChild(this)}function t2e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function n2e(){return null}function i2e(){var t=this.parentNode;t&&t.removeChild(this)}function r2e(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function a2e(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function s2e(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,a=e.length;i<a;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?e.length=r:delete this.__on}}}function o2e(t,e,n){return function(){var i,r=this.__on,a=function(l){return function(c){l.call(this,c,this.__data__)}}(e);if(r){for(var s=0,o=r.length;s<o;++s)if((i=r[s]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),void(i.value=e)}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function uJ(t,e,n){var i=aJ(t),r=i.CustomEvent;typeof r=="function"?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function l2e(t,e){return function(){return uJ(this,t,e)}}function c2e(t,e){return function(){return uJ(this,t,e.apply(this,arguments))}}qC.prototype={constructor:qC,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},oJ.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var fJ=[null];function vu(t,e){this._groups=t,this._parents=e}function Wb(){return new vu([[document.documentElement]],fJ)}function hJ(t){return typeof t=="string"?new vu([[document.querySelector(t)]],[document.documentElement]):new vu([[t]],fJ)}function GE(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function u2e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function dJ(t){let e,n,i;function r(a,s,o=0,l=a.length){if(o<l){if(e(s,s)!==0)return l;do{const c=o+l>>>1;n(a[c],s)<0?o=c+1:l=c}while(o<l)}return o}return t.length!==2?(e=GE,n=(a,s)=>GE(t(a),s),i=(a,s)=>t(a)-s):(e=t===GE||t===u2e?t:f2e,n=t,i=t),{left:r,center:function(a,s,o=0,l=a.length){const c=r(a,s,o,l-1);return c>o&&i(a[c-1],s)>-i(a[c],s)?c-1:c},right:function(a,s,o=0,l=a.length){if(o<l){if(e(s,s)!==0)return l;do{const c=o+l>>>1;n(a[c],s)<=0?o=c+1:l=c}while(o<l)}return o}}}function f2e(){return 0}vu.prototype=Wb.prototype={constructor:vu,select:function(t){typeof t!="function"&&(t=f5(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,s,o=e[r],l=o.length,c=i[r]=new Array(l),f=0;f<l;++f)(a=o[f])&&(s=t.call(a,a.__data__,f,o))&&("__data__"in a&&(s.__data__=a.__data__),c[f]=s);return new vu(i,this._parents)},selectAll:function(t){t=typeof t=="function"?Swe(t):iJ(t);for(var e=this._groups,n=e.length,i=[],r=[],a=0;a<n;++a)for(var s,o=e[a],l=o.length,c=0;c<l;++c)(s=o[c])&&(i.push(t.call(s,s.__data__,c,o)),r.push(s));return new vu(i,r)},selectChild:function(t){return this.select(t==null?wwe:function(e){return function(){return Mwe.call(this.children,e)}}(typeof t=="function"?t:wz(t)))},selectChildren:function(t){return this.selectAll(t==null?Twe:function(e){return function(){return Ewe.call(this.children,e)}}(typeof t=="function"?t:wz(t)))},filter:function(t){typeof t!="function"&&(t=rJ(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,s=e[r],o=s.length,l=i[r]=[],c=0;c<o;++c)(a=s[c])&&t.call(a,a.__data__,c,s)&&l.push(a);return new vu(i,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Nwe);var n=e?Rwe:Cwe,i=this._parents,r=this._groups;typeof t!="function"&&(t=function(L){return()=>L}(t));for(var a=r.length,s=new Array(a),o=new Array(a),l=new Array(a),c=0;c<a;++c){var f=i[c],d=r[c],p=d.length,v=Dwe(t.call(f,f&&f.__data__,c,i)),_=v.length,S=o[c]=new Array(_),b=s[c]=new Array(_);n(f,d,S,b,l[c]=new Array(p),v,e);for(var A,T,R=0,C=0;R<_;++R)if(A=S[R]){for(R>=C&&(C=R+1);!(T=b[C])&&++C<_;);A._next=T||null}}return(s=new vu(s,i))._enter=o,s._exit=l,s},enter:function(){return new vu(this._enter||this._groups.map(Ez),this._parents)},exit:function(){return new vu(this._exit||this._groups.map(Ez),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,a=this.exit();return typeof t=="function"?(i=t(i))&&(i=i.selection()):i=i.append(t+""),e!=null&&(r=e(r))&&(r=r.selection()),n==null?a.remove():n(a),i&&r?i.merge(r).order():r},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,a=i.length,s=Math.min(r,a),o=new Array(r),l=0;l<s;++l)for(var c,f=n[l],d=i[l],p=f.length,v=o[l]=new Array(p),_=0;_<p;++_)(c=f[_]||d[_])&&(v[_]=c);for(;l<r;++l)o[l]=n[l];return new vu(o,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],a=r.length-1,s=r[a];--a>=0;)(i=r[a])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this},sort:function(t){function e(d,p){return d&&p?t(d.__data__,p.__data__):!d-!p}t||(t=Bwe);for(var n=this._groups,i=n.length,r=new Array(i),a=0;a<i;++a){for(var s,o=n[a],l=o.length,c=r[a]=new Array(l),f=0;f<l;++f)(s=o[f])&&(c[f]=s);c.sort(e)}return new vu(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,a=i.length;r<a;++r){var s=i[r];if(s)return s}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,a=e[n],s=0,o=a.length;s<o;++s)(r=a[s])&&t.call(r,r.__data__,s,a);return this},attr:function(t,e){var n=XC(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?Lwe:Owe:typeof e=="function"?n.local?Fwe:Iwe:n.local?Uwe:Pwe)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((e==null?zwe:typeof e=="function"?kwe:Hwe)(t,e,n??"")):K_(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((e==null?Gwe:typeof e=="function"?Vwe:jwe)(t,e)):this.node()[t]},classed:function(t,e){var n=sJ(t+"");if(arguments.length<2){for(var i=pU(this.node()),r=-1,a=n.length;++r<a;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof e=="function"?Ywe:e?Xwe:qwe)(n,e))},text:function(t){return arguments.length?this.each(t==null?Wwe:(typeof t=="function"?Kwe:Jwe)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(t==null?$we:(typeof t=="function"?Qwe:Zwe)(t)):this.node().innerHTML},raise:function(){return this.each(e2e)},lower:function(){return this.each(t2e)},append:function(t){var e=typeof t=="function"?t:Mz(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n=typeof t=="function"?t:Mz(t),i=e==null?n2e:typeof e=="function"?e:f5(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(i2e)},clone:function(t){return this.select(t?a2e:r2e)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,a=function(d){return d.trim().split(/^|\s+/).map(p=>{var v="",_=p.indexOf(".");return _>=0&&(v=p.slice(_+1),p=p.slice(0,_)),{type:p,name:v}})}(t+""),s=a.length;if(!(arguments.length<2)){for(o=e?o2e:s2e,i=0;i<s;++i)this.each(o(a[i],e,n));return this}var o=this.node().__on;if(o){for(var l,c=0,f=o.length;c<f;++c)for(i=0,l=o[c];i<s;++i)if((r=a[i]).type===l.type&&r.name===l.name)return l.value}},dispatch:function(t,e){return this.each((typeof e=="function"?c2e:l2e)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i,r=t[e],a=0,s=r.length;a<s;++a)(i=r[a])&&(yield i)}};const pJ=dJ(GE).right;dJ(function(t){return t===null?NaN:+t}).center;const h2e=Math.sqrt(50),d2e=Math.sqrt(10),p2e=Math.sqrt(2);function YC(t,e,n){const i=(e-t)/Math.max(0,n),r=Math.floor(Math.log10(i)),a=i/Math.pow(10,r),s=a>=h2e?10:a>=d2e?5:a>=p2e?2:1;let o,l,c;return r<0?(c=Math.pow(10,-r)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,r)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?YC(t,e,2*n):[o,l,c]}function h5(t,e,n){return YC(t=+t,e=+e,n=+n)[2]}function mJ(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function t4(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Tz(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function hS(){}var HA=.7,q2=1/HA,gb="\\s*([+-]?\\d+)\\s*",nM="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",m2e=/^#([0-9a-f]{3,8})$/,g2e=new RegExp(`^rgb\\(${gb},${gb},${gb}\\)$`),v2e=new RegExp(`^rgb\\(${Pd},${Pd},${Pd}\\)$`),y2e=new RegExp(`^rgba\\(${gb},${gb},${gb},${nM}\\)$`),x2e=new RegExp(`^rgba\\(${Pd},${Pd},${Pd},${nM}\\)$`),_2e=new RegExp(`^hsl\\(${nM},${Pd},${Pd}\\)$`),b2e=new RegExp(`^hsla\\(${nM},${Pd},${Pd},${nM}\\)$`),Cz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Rz(){return this.rgb().formatHex()}function Nz(){return this.rgb().formatRgb()}function ix(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=m2e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Dz(e):n===3?new Dc(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):n===8?Y2(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):n===4?Y2(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=g2e.exec(t))?new Dc(e[1],e[2],e[3],1):(e=v2e.exec(t))?new Dc(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=y2e.exec(t))?Y2(e[1],e[2],e[3],e[4]):(e=x2e.exec(t))?Y2(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=_2e.exec(t))?Lz(e[1],e[2]/100,e[3]/100,1):(e=b2e.exec(t))?Lz(e[1],e[2]/100,e[3]/100,e[4]):Cz.hasOwnProperty(t)?Dz(Cz[t]):t==="transparent"?new Dc(NaN,NaN,NaN,0):null}function Dz(t){return new Dc(t>>16&255,t>>8&255,255&t,1)}function Y2(t,e,n,i){return i<=0&&(t=e=n=NaN),new Dc(t,e,n,i)}function iM(t,e,n,i){return arguments.length===1?function(r){return r instanceof hS||(r=ix(r)),r?new Dc((r=r.rgb()).r,r.g,r.b,r.opacity):new Dc}(t):new Dc(t,e,n,i??1)}function Dc(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Bz(){return`#${wy(this.r)}${wy(this.g)}${wy(this.b)}`}function Oz(){const t=jE(this.opacity);return`${t===1?"rgb(":"rgba("}${Py(this.r)}, ${Py(this.g)}, ${Py(this.b)}${t===1?")":`, ${t})`}`}function jE(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Py(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function wy(t){return((t=Py(t))<16?"0":"")+t.toString(16)}function Lz(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new dh(t,e,n,i)}function gJ(t){if(t instanceof dh)return new dh(t.h,t.s,t.l,t.opacity);if(t instanceof hS||(t=ix(t)),!t)return new dh;if(t instanceof dh)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),a=Math.max(e,n,i),s=NaN,o=a-r,l=(a+r)/2;return o?(s=e===a?(n-i)/o+6*(n<i):n===a?(i-e)/o+2:(e-n)/o+4,o/=l<.5?a+r:2-a-r,s*=60):o=l>0&&l<1?0:s,new dh(s,o,l,t.opacity)}function d5(t,e,n,i){return arguments.length===1?gJ(t):new dh(t,e,n,i??1)}function dh(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Pz(t){return(t=(t||0)%360)<0?t+360:t}function W2(t){return Math.max(0,Math.min(1,t||0))}function n4(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}t4(hS,ix,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Rz,formatHex:Rz,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return gJ(this).formatHsl()},formatRgb:Nz,toString:Nz}),t4(Dc,iM,Tz(hS,{brighter(t){return t=t==null?q2:Math.pow(q2,t),new Dc(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?HA:Math.pow(HA,t),new Dc(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Dc(Py(this.r),Py(this.g),Py(this.b),jE(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Bz,formatHex:Bz,formatHex8:function(){return`#${wy(this.r)}${wy(this.g)}${wy(this.b)}${wy(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Oz,toString:Oz})),t4(dh,d5,Tz(hS,{brighter(t){return t=t==null?q2:Math.pow(q2,t),new dh(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?HA:Math.pow(HA,t),new dh(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Dc(n4(t>=240?t-240:t+120,r,i),n4(t,r,i),n4(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new dh(Pz(this.h),W2(this.s),W2(this.l),jE(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=jE(this.opacity);return`${t===1?"hsl(":"hsla("}${Pz(this.h)}, ${100*W2(this.s)}%, ${100*W2(this.l)}%${t===1?")":`, ${t})`}`}}));const J3=t=>()=>t;function vJ(t,e){return n=>t+n*e}function A2e(t){return(t=+t)==1?dS:(e,n)=>n-e?function(i,r,a){return i=Math.pow(i,a),r=Math.pow(r,a)-i,a=1/a,s=>Math.pow(i+s*r,a)}(e,n,t):J3(isNaN(e)?n:e)}function dS(t,e){var n=e-t;return n?vJ(t,n):J3(isNaN(t)?e:t)}const WC=function t(e){var n=A2e(e);function i(r,a){var s=n((r=iM(r)).r,(a=iM(a)).r),o=n(r.g,a.g),l=n(r.b,a.b),c=dS(r.opacity,a.opacity);return f=>(r.r=s(f),r.g=o(f),r.b=l(f),r.opacity=c(f),r+"")}return i.gamma=t,i}(1);function S2e(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return a=>{for(n=0;n<i;++n)r[n]=t[n]*(1-a)+e[n]*a;return r}}function M2e(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,a=new Array(r),s=new Array(i);for(n=0;n<r;++n)a[n]=mU(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return o=>{for(n=0;n<r;++n)s[n]=a[n](o);return s}}function w2e(t,e){var n=new Date;return t=+t,e=+e,i=>(n.setTime(t*(1-i)+e*i),n)}function ch(t,e){return t=+t,e=+e,n=>t*(1-n)+e*n}function E2e(t,e){var n,i={},r={};for(n in(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={}),e)n in t?i[n]=mU(t[n],e[n]):r[n]=e[n];return a=>{for(n in i)r[n]=i[n](a);return r}}var p5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,i4=new RegExp(p5.source,"g");function yJ(t,e){var n,i,r,a=p5.lastIndex=i4.lastIndex=0,s=-1,o=[],l=[];for(t+="",e+="";(n=p5.exec(t))&&(i=i4.exec(e));)(r=i.index)>a&&(r=e.slice(a,r),o[s]?o[s]+=r:o[++s]=r),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:ch(n,i)})),a=i4.lastIndex;return a<e.length&&(r=e.slice(a),o[s]?o[s]+=r:o[++s]=r),o.length<2?l[0]?function(c){return f=>c(f)+""}(l[0].x):function(c){return()=>c}(e):(e=l.length,c=>{for(var f,d=0;d<e;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}function mU(t,e){var n,i=typeof e;return e==null||i==="boolean"?J3(e):(i==="number"?ch:i==="string"?(n=ix(e))?(e=n,WC):yJ:e instanceof ix?WC:e instanceof Date?w2e:function(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}(e)?S2e:Array.isArray(e)?M2e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?E2e:ch)(t,e)}function T2e(t,e){return t=+t,e=+e,n=>Math.round(t*(1-n)+e*n)}var J2,Uz=180/Math.PI,xJ={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _J(t,e,n,i,r,a){var s,o,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(o=Math.sqrt(n*n+i*i))&&(n/=o,i/=o,l/=o),t*i<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:r,translateY:a,rotate:Math.atan2(e,t)*Uz,skewX:Math.atan(l)*Uz,scaleX:s,scaleY:o}}function bJ(t,e,n,i){function r(a){return a.length?a.pop()+" ":""}return(a,s)=>{var o=[],l=[];return a=t(a),s=t(s),function(c,f,d,p,v,_){if(c!==d||f!==p){var S=v.push("translate(",null,e,null,n);_.push({i:S-4,x:ch(c,d)},{i:S-2,x:ch(f,p)})}else(d||p)&&v.push("translate("+d+e+p+n)}(a.translateX,a.translateY,s.translateX,s.translateY,o,l),function(c,f,d,p){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),p.push({i:d.push(r(d)+"rotate(",null,i)-2,x:ch(c,f)})):f&&d.push(r(d)+"rotate("+f+i)}(a.rotate,s.rotate,o,l),function(c,f,d,p){c!==f?p.push({i:d.push(r(d)+"skewX(",null,i)-2,x:ch(c,f)}):f&&d.push(r(d)+"skewX("+f+i)}(a.skewX,s.skewX,o,l),function(c,f,d,p,v,_){if(c!==d||f!==p){var S=v.push(r(v)+"scale(",null,",",null,")");_.push({i:S-4,x:ch(c,d)},{i:S-2,x:ch(f,p)})}else(d!==1||p!==1)&&v.push(r(v)+"scale("+d+","+p+")")}(a.scaleX,a.scaleY,s.scaleX,s.scaleY,o,l),a=s=null,c=>{for(var f,d=-1,p=l.length;++d<p;)o[(f=l[d]).i]=f.x(c);return o.join("")}}}var C2e=bJ(function(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?xJ:_J(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),R2e=bJ(function(t){return t!=null&&(J2||(J2=document.createElementNS("http://www.w3.org/2000/svg","g")),J2.setAttribute("transform",t),t=J2.transform.baseVal.consolidate())?_J((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):xJ},", ",")",")");const N2e=function(t){return(e,n)=>{var i=t((e=d5(e)).h,(n=d5(n)).h),r=dS(e.s,n.s),a=dS(e.l,n.l),s=dS(e.opacity,n.opacity);return o=>(e.h=i(o),e.s=r(o),e.l=a(o),e.opacity=s(o),e+"")}}(function(t,e){var n=e-t;return n?vJ(t,n>180||n<-180?n-360*Math.round(n/360):n):J3(isNaN(t)?e:t)});function D2e(t){return+t}var Iz=[0,1];function tb(t){return t}function m5(t,e){return(e-=t=+t)?n=>(n-t)/e:function(n){return()=>n}(isNaN(e)?NaN:.5)}function B2e(t,e,n){var i=t[0],r=t[1],a=e[0],s=e[1];return r<i?(i=m5(r,i),a=n(s,a)):(i=m5(i,r),a=n(a,s)),o=>a(i(o))}function O2e(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),a=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)r[s]=m5(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return o=>{var l=pJ(t,o,1,i)-1;return a[l](r[l](o))}}function L2e(){var t,e,n,i,r,a,s=Iz,o=Iz,l=mU,c=tb;function f(){var p=Math.min(s.length,o.length);return c!==tb&&(c=function(v,_){var S;return v>_&&(S=v,v=_,_=S),b=>Math.max(v,Math.min(_,b))}(s[0],s[p-1])),i=p>2?O2e:B2e,r=a=null,d}function d(p){return p==null||isNaN(p=+p)?n:(r||(r=i(s.map(t),o,l)))(t(c(p)))}return d.invert=p=>c(e((a||(a=i(o,s.map(t),ch)))(p))),d.domain=function(p){return arguments.length?(s=Array.from(p,D2e),f()):s.slice()},d.range=function(p){return arguments.length?(o=Array.from(p),f()):o.slice()},d.rangeRound=p=>(o=Array.from(p),l=T2e,f()),d.clamp=function(p){return arguments.length?(c=!!p||tb,f()):c!==tb},d.interpolate=function(p){return arguments.length?(l=p,f()):l},d.unknown=function(p){return arguments.length?(n=p,d):n},(p,v)=>(t=p,e=v,f())}function P2e(t,e,n,i){var r,a=function(o,l,c){c=+c;const f=(l=+l)<(o=+o),d=f?h5(l,o,c):h5(o,l,c);return(f?-1:1)*(d<0?1/-d:d)}(t,e,n);switch((i=jC(i??",f")).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(r=function(o,l){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(J_(l)/3)))-J_(Math.abs(o)))}(a,s))&&(i.precision=r),nJ(i,s);case"":case"e":case"g":case"p":case"r":i.precision==null&&!isNaN(r=function(o,l){return o=Math.abs(o),l=Math.abs(l)-o,Math.max(0,J_(l)-J_(o))+1}(a,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=r-(i.type==="e"));break;case"f":case"%":i.precision==null&&!isNaN(r=function(o){return Math.max(0,-J_(Math.abs(o)))}(a))&&(i.precision=r-2*(i.type==="%"))}return VC(i)}function AJ(t){var e=t.domain;return t.ticks=n=>{var i=e();return function(r,a,s){if(!((s=+s)>0))return[];if((r=+r)==(a=+a))return[r];const o=a<r,[l,c,f]=o?YC(a,r,s):YC(r,a,s);if(!(c>=l))return[];const d=c-l+1,p=new Array(d);if(o)if(f<0)for(let v=0;v<d;++v)p[v]=(c-v)/-f;else for(let v=0;v<d;++v)p[v]=(c-v)*f;else if(f<0)for(let v=0;v<d;++v)p[v]=(l+v)/-f;else for(let v=0;v<d;++v)p[v]=(l+v)*f;return p}(i[0],i[i.length-1],n??10)},t.tickFormat=(n,i)=>{var r=e();return P2e(r[0],r[r.length-1],n??10,i)},t.nice=n=>{n==null&&(n=10);var i,r,a=e(),s=0,o=a.length-1,l=a[s],c=a[o],f=10;for(c<l&&(r=l,l=c,c=r,r=s,s=o,o=r);f-- >0;){if((r=h5(l,c,n))===i)return a[s]=l,a[o]=c,e(a);if(r>0)l=Math.floor(l/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,c=Math.floor(c*r)/r}i=r}return t},t}function SJ(){var t=L2e()(tb,tb);return t.copy=()=>function(e,n){return n.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}(t,SJ()),mJ.apply(t,arguments),AJ(t)}function MJ(){var t,e=0,n=1,i=1,r=[.5],a=[0,1];function s(l){return l!=null&&l<=l?a[pJ(r,l,0,i)]:t}function o(){var l=-1;for(r=new Array(i);++l<i;)r[l]=((l+1)*n-(l-i)*e)/(i+1);return s}return s.domain=function(l){return arguments.length?([e,n]=l,e=+e,n=+n,o()):[e,n]},s.range=function(l){return arguments.length?(i=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=l=>{var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=i?[r[i-1],n]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(t=l),s},s.thresholds=()=>r.slice(),s.copy=()=>MJ().domain([e,n]).range(a).unknown(t),mJ.apply(AJ(s),arguments)}var wJ=typeof global=="object"&&global&&global.Object===Object&&global,U2e=typeof self=="object"&&self&&self.Object===Object&&self,T0=wJ||U2e||Function("return this")(),JC=T0.Symbol,EJ=Object.prototype,I2e=EJ.hasOwnProperty,F2e=EJ.toString,dA=JC?JC.toStringTag:void 0,z2e=Object.prototype.toString,Fz=JC?JC.toStringTag:void 0;function yx(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Fz&&Fz in Object(t)?function(e){var n=I2e.call(e,dA),i=e[dA];try{e[dA]=void 0;var r=!0}catch{}var a=F2e.call(e);return r&&(n?e[dA]=i:delete e[dA]),a}(t):function(e){return z2e.call(e)}(t)}function XM(t){return t!=null&&typeof t=="object"}function TJ(t){return t}var H2e=Object.prototype;function zz(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||H2e)}var k2e=function(t,e){return n=>t(e(n))}(Object.keys,Object),G2e=Object.prototype.hasOwnProperty;function KC(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function CJ(t){if(!KC(t))return!1;var e=yx(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"}var r4=T0["__core-js_shared__"],Hz=(()=>{var t=/[^.]+$/.exec(r4&&r4.keys&&r4.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})(),j2e=Function.prototype.toString;function xx(t){if(t!=null){try{return j2e.call(t)}catch{}try{return t+""}catch{}}return""}var V2e=/^\[object .+?Constructor\]$/,X2e=Function.prototype,q2e=Object.prototype,Y2e=X2e.toString,W2e=q2e.hasOwnProperty,J2e=RegExp("^"+Y2e.call(W2e).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function K2e(t){return!(!KC(t)||function(e){return!!Hz&&Hz in e}(t))&&(CJ(t)?J2e:V2e).test(xx(t))}function qM(t,e){var n=function(i,r){return i==null?void 0:i[r]}(t,e);return K2e(n)?n:void 0}var g5=qM(T0,"DataView"),v5=qM(T0,"Map"),y5=qM(T0,"Promise"),x5=qM(T0,"Set"),_5=qM(T0,"WeakMap"),kz="[object Map]",Gz="[object Promise]",jz="[object Set]",Vz="[object WeakMap]",Xz="[object DataView]",$2e=xx(g5),Z2e=xx(v5),Q2e=xx(y5),eEe=xx(x5),tEe=xx(_5),ry=yx;(g5&&ry(new g5(new ArrayBuffer(1)))!=Xz||v5&&ry(new v5)!=kz||y5&&ry(y5.resolve())!=Gz||x5&&ry(new x5)!=jz||_5&&ry(new _5)!=Vz)&&(ry=t=>{var e=yx(t),n=e=="[object Object]"?t.constructor:void 0,i=n?xx(n):"";if(i)switch(i){case $2e:return Xz;case Z2e:return kz;case Q2e:return Gz;case eEe:return jz;case tEe:return Vz}return e});function qz(t){return XM(t)&&yx(t)=="[object Arguments]"}var RJ=Object.prototype,nEe=RJ.hasOwnProperty,iEe=RJ.propertyIsEnumerable,rEe=qz(function(){return arguments}())?qz:t=>XM(t)&&nEe.call(t,"callee")&&!iEe.call(t,"callee"),gU=Array.isArray;function NJ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991}var DJ=typeof _m=="object"&&_m&&!_m.nodeType&&_m,Yz=DJ&&typeof bm=="object"&&bm&&!bm.nodeType&&bm,Wz=Yz&&Yz.exports===DJ?T0.Buffer:void 0,aEe=(Wz?Wz.isBuffer:void 0)||function(){return!1},Or={};Or["[object Float32Array]"]=Or["[object Float64Array]"]=Or["[object Int8Array]"]=Or["[object Int16Array]"]=Or["[object Int32Array]"]=Or["[object Uint8Array]"]=Or["[object Uint8ClampedArray]"]=Or["[object Uint16Array]"]=Or["[object Uint32Array]"]=!0,Or["[object Arguments]"]=Or["[object Array]"]=Or["[object ArrayBuffer]"]=Or["[object Boolean]"]=Or["[object DataView]"]=Or["[object Date]"]=Or["[object Error]"]=Or["[object Function]"]=Or["[object Map]"]=Or["[object Number]"]=Or["[object Object]"]=Or["[object RegExp]"]=Or["[object Set]"]=Or["[object String]"]=Or["[object WeakMap]"]=!1;var BJ=typeof _m=="object"&&_m&&!_m.nodeType&&_m,pS=BJ&&typeof bm=="object"&&bm&&!bm.nodeType&&bm,a4=pS&&pS.exports===BJ&&wJ.process,Jz=(()=>{try{return pS&&pS.require&&pS.require("util").types||a4&&a4.binding&&a4.binding("util")}catch{}})(),Kz=Jz&&Jz.isTypedArray,sEe=Kz?function(t){return e=>t(e)}(Kz):function(t){return XM(t)&&NJ(t.length)&&!!Or[yx(t)]},oEe=Object.prototype.hasOwnProperty;function b5(t){if(t==null)return!0;if(function(i){return i!=null&&NJ(i.length)&&!CJ(i)}(t)&&(gU(t)||typeof t=="string"||typeof t.splice=="function"||aEe(t)||sEe(t)||rEe(t)))return!t.length;var e=ry(t);if(e=="[object Map]"||e=="[object Set]")return!t.size;if(zz(t))return!function(i){if(!zz(i))return k2e(i);var r=[];for(var a in Object(i))G2e.call(i,a)&&a!="constructor"&&r.push(a);return r}(t).length;for(var n in t)if(oEe.call(t,n))return!1;return!0}function OJ(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function LJ(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(n=n>r?r:n)<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(r);++i<r;)a[i]=t[i+e];return a}var lEe=/\s/,cEe=/^\s+/;function uEe(t){return t&&t.slice(0,function(e){for(var n=e.length;n--&&lEe.test(e.charAt(n)););return n}(t)+1).replace(cEe,"")}var fEe=/^[-+]0x[0-9a-f]+$/i,hEe=/^0b[01]+$/i,dEe=/^0o[0-7]+$/i,pEe=parseInt;function mEe(t){if(typeof t=="number")return t;if(function(i){return typeof i=="symbol"||XM(i)&&yx(i)=="[object Symbol]"}(t))return NaN;if(KC(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=KC(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=uEe(t);var n=hEe.test(t);return n||dEe.test(t)?pEe(t.slice(2),n?2:8):fEe.test(t)?NaN:+t}var gEe=1/0;function vU(t){var e=function(i){return i?(i=mEe(i))===gEe||i===-1/0?17976931348623157e292*(i<0?-1:1):i==i?i:0:i===0?i:0}(t),n=e%1;return e==e?n?e-n:e:0}var s4=4294967295,vEe=Math.min;function yEe(t,e){if((t=vU(t))<1||t>9007199254740991)return[];var n=s4,i=vEe(t,s4);e=function(a){return typeof a=="function"?a:TJ}(e),t-=s4;for(var r=function(a,s){for(var o=-1,l=Array(a);++o<a;)l[o]=s(o);return l}(i,e);++n<t;)e(n);return r}function $C(t,e){return function(n){return n&&n.length?((i,r)=>{for(var a,s=-1,o=i.length;++s<o;){var l=r(i[s]);l!==void 0&&(a=a===void 0?l:a+l)}return a})(n,TJ):0}(function(n,i){return n&&n.length?LJ(n,0,(i=i===void 0?1:vU(i))<0?0:i):[]}(t,e))}function xEe({tickData:t,customSegmentStops:e,min:n,max:i}){if(!gU(e)||b5(e))return t;if(function(r){return r&&r.length?r[0]:void 0}(e)!==n)throw new Error(`First value should be equivalent to min value given. Current min value - ${n}`);if(OJ(e)!==i)throw new Error(`Last value should be equivalent to max value given. Current min value - ${i}`);return function(r,a){var s=r==null?0:r.length;return s?LJ(r,(a=a===void 0?1:vU(a))<0?0:a,s):[]}(e.map((r,a)=>{if(a!==0)return(r-e[a-1])/(i-n)}))}function _Ee({maxSegmentLabelCount:t,segmentCount:e}){const n=parseInt(t,10),i=parseInt(e,10);return function(r){return typeof r=="number"||XM(r)&&yx(r)=="[object Number]"}(n)&&n>=0&&n<=i?n:i}function $z(t){return t*Math.PI/180}const ir={easeLinear:"easeLinear",easeQuadIn:"easeQuadIn",easeQuadOut:"easeQuadOut",easeQuadInOut:"easeQuadInOut",easeCubicIn:"easeCubicIn",easeCubicOut:"easeCubicOut",easeCubicInOut:"easeCubicInOut",easePolyIn:"easePolyIn",easePolyOut:"easePolyOut",easePolyInOut:"easePolyInOut",easeSinIn:"easeSinIn",easeSinOut:"easeSinOut",easeSinInOut:"easeSinInOut",easeExpIn:"easeExpIn",easeExpOut:"easeExpOut",easeExpInOut:"easeExpInOut",easeCircleIn:"easeCircleIn",easeCircleOut:"easeCircleOut",easeCircleInOut:"easeCircleInOut",easeBounceIn:"easeBounceIn",easeBounceOut:"easeBounceOut",easeBounceInOut:"easeBounceInOut",easeBackIn:"easeBackIn",easeBackOut:"easeBackOut",easeBackInOut:"easeBackInOut",easeElasticIn:"easeElasticIn",easeElasticOut:"easeElasticOut",easeElasticInOut:"easeElasticInOut",easeElastic:"easeElastic"},PJ=t=>t,bEe={value:0,minValue:0,maxValue:1e3,forceRender:!1,width:300,height:300,paddingHorizontal:0,paddingVertical:0,fluidWidth:!1,dimensionUnit:"px",segments:5,maxSegmentLabels:-1,customSegmentStops:[],customSegmentLabels:[],needleColor:"steelblue",startColor:"#FF471A",endColor:"#33CC33",segmentColors:[],needleTransition:ir.easeQuadInOut,needleTransitionDuration:500,needleHeightRatio:.9,ringWidth:60,textColor:"#666",valueFormat:"",segmentValueFormatter:PJ,currentValueText:"${value}",currentValuePlaceholderStyle:"${value}",labelFontSize:"14px",valueTextFontSize:"16px",valueTextFontWeight:"bold",svgAriaLabel:"React d3 speedometer"},AEe={ringInset:20,pointerWidth:10,pointerTailLength:5,minAngle:-90,maxAngle:90,labelInset:10};function Tc(t){return()=>t}const Zz=Math.abs,Fo=Math.atan2,Wv=Math.cos,SEe=Math.max,o4=Math.min,vd=Math.sin,nb=Math.sqrt,xc=1e-12,mS=Math.PI,ZC=mS/2,MEe=2*mS;function Qz(t){return t>=1?ZC:t<=-1?-ZC:Math.asin(t)}const A5=Math.PI,S5=2*A5,ay=1e-6,wEe=S5-ay;function eH(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class EEe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?eH:function(n){let i=Math.floor(n);if(!(i>=0))throw new Error(`invalid digits: ${n}`);if(i>15)return eH;const r=10**i;return function(a){this._+=a[0];for(let s=1,o=a.length;s<o;++s)this._+=Math.round(arguments[s]*r)/r+a[s]}}(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,r){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,n,i,r,a,s){this._append`C${+e},${+n},${+i},${+r},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,i,r,a){if(e=+e,n=+n,i=+i,r=+r,(a=+a)<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=i-e,c=r-n,f=s-e,d=o-n,p=f*f+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>ay)if(Math.abs(d*l-c*f)>ay&&a){let v=i-s,_=r-o,S=l*l+c*c,b=v*v+_*_,A=Math.sqrt(S),T=Math.sqrt(p),R=a*Math.tan((A5-Math.acos((S+p-b)/(2*A*T)))/2),C=R/T,L=R/A;Math.abs(C-1)>ay&&this._append`L${e+C*f},${n+C*d}`,this._append`A${a},${a},0,0,${+(d*v>f*_)},${this._x1=e+L*l},${this._y1=n+L*c}`}else this._append`L${this._x1=e},${this._y1=n}`}arc(e,n,i,r,a,s){if(e=+e,n=+n,s=!!s,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=i*Math.cos(r),l=i*Math.sin(r),c=e+o,f=n+l,d=1^s,p=s?r-a:a-r;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>ay||Math.abs(this._y1-f)>ay)&&this._append`L${c},${f}`,i&&(p<0&&(p=p%S5+S5),p>wEe?this._append`A${i},${i},0,1,${d},${e-o},${n-l}A${i},${i},0,1,${d},${this._x1=c},${this._y1=f}`:p>ay&&this._append`A${i},${i},0,${+(p>=A5)},${d},${this._x1=e+i*Math.cos(a)},${this._y1=n+i*Math.sin(a)}`)}rect(e,n,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function UJ(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new EEe(e)}function TEe(t){return t.innerRadius}function CEe(t){return t.outerRadius}function REe(t){return t.startAngle}function NEe(t){return t.endAngle}function DEe(t){return t&&t.padAngle}function K2(t,e,n,i,r,a,s){var o=t-n,l=e-i,c=(s?a:-a)/nb(o*o+l*l),f=c*l,d=-c*o,p=t+f,v=e+d,_=n+f,S=i+d,b=(p+_)/2,A=(v+S)/2,T=_-p,R=S-v,C=T*T+R*R,L=r-a,P=p*S-_*v,k=(R<0?-1:1)*nb(SEe(0,L*L*C-P*P)),G=(P*R-T*k)/C,z=(-P*T-R*k)/C,F=(P*R+T*k)/C,j=(-P*T+R*k)/C,ne=G-b,W=z-A,Y=F-b,K=j-A;return ne*ne+W*W>Y*Y+K*K&&(G=F,z=j),{cx:G,cy:z,x01:-f,y01:-d,x11:G*(r/L-1),y11:z*(r/L-1)}}function BEe(){var t=TEe,e=CEe,n=Tc(0),i=null,r=REe,a=NEe,s=DEe,o=null,l=UJ(c);function c(){var f,d,p=+t.apply(this,arguments),v=+e.apply(this,arguments),_=r.apply(this,arguments)-ZC,S=a.apply(this,arguments)-ZC,b=Zz(S-_),A=S>_;if(o||(o=f=l()),v<p&&(d=v,v=p,p=d),v>xc)if(b>MEe-xc)o.moveTo(v*Wv(_),v*vd(_)),o.arc(0,0,v,_,S,!A),p>xc&&(o.moveTo(p*Wv(S),p*vd(S)),o.arc(0,0,p,S,_,A));else{var T,R,C=_,L=S,P=_,k=S,G=b,z=b,F=s.apply(this,arguments)/2,j=F>xc&&(i?+i.apply(this,arguments):nb(p*p+v*v)),ne=o4(Zz(v-p)/2,+n.apply(this,arguments)),W=ne,Y=ne;if(j>xc){var K=Qz(j/p*vd(F)),H=Qz(j/v*vd(F));(G-=2*K)>xc?(P+=K*=A?1:-1,k-=K):(G=0,P=k=(_+S)/2),(z-=2*H)>xc?(C+=H*=A?1:-1,L-=H):(z=0,C=L=(_+S)/2)}var J=v*Wv(C),Q=v*vd(C),ie=p*Wv(k),V=p*vd(k);if(ne>xc){var $,oe=v*Wv(L),de=v*vd(L),fe=p*Wv(P),ge=p*vd(P);if(b<mS)if($=function(Re,st,pe,St,Ie,_e,Le,pt){var ze=pe-Re,le=St-st,te=Le-Ie,Ee=pt-_e,Xe=Ee*ze-te*le;if(!(Xe*Xe<xc))return[Re+(Xe=(te*(st-_e)-Ee*(Re-Ie))/Xe)*ze,st+Xe*le]}(J,Q,fe,ge,oe,de,ie,V)){var Se=J-$[0],De=Q-$[1],He=oe-$[0],Fe=de-$[1],ke=1/vd(function(Re){return Re>1?0:Re<-1?mS:Math.acos(Re)}((Se*He+De*Fe)/(nb(Se*Se+De*De)*nb(He*He+Fe*Fe)))/2),Qe=nb($[0]*$[0]+$[1]*$[1]);W=o4(ne,(p-Qe)/(ke-1)),Y=o4(ne,(v-Qe)/(ke+1))}else W=Y=0}z>xc?Y>xc?(T=K2(fe,ge,J,Q,v,Y,A),R=K2(oe,de,ie,V,v,Y,A),o.moveTo(T.cx+T.x01,T.cy+T.y01),Y<ne?o.arc(T.cx,T.cy,Y,Fo(T.y01,T.x01),Fo(R.y01,R.x01),!A):(o.arc(T.cx,T.cy,Y,Fo(T.y01,T.x01),Fo(T.y11,T.x11),!A),o.arc(0,0,v,Fo(T.cy+T.y11,T.cx+T.x11),Fo(R.cy+R.y11,R.cx+R.x11),!A),o.arc(R.cx,R.cy,Y,Fo(R.y11,R.x11),Fo(R.y01,R.x01),!A))):(o.moveTo(J,Q),o.arc(0,0,v,C,L,!A)):o.moveTo(J,Q),p>xc&&G>xc?W>xc?(T=K2(ie,V,oe,de,p,-W,A),R=K2(J,Q,fe,ge,p,-W,A),o.lineTo(T.cx+T.x01,T.cy+T.y01),W<ne?o.arc(T.cx,T.cy,W,Fo(T.y01,T.x01),Fo(R.y01,R.x01),!A):(o.arc(T.cx,T.cy,W,Fo(T.y01,T.x01),Fo(T.y11,T.x11),!A),o.arc(0,0,p,Fo(T.cy+T.y11,T.cx+T.x11),Fo(R.cy+R.y11,R.cx+R.x11),A),o.arc(R.cx,R.cy,W,Fo(R.y11,R.x11),Fo(R.y01,R.x01),!A))):o.arc(0,0,p,k,P,A):o.lineTo(ie,V)}else o.moveTo(0,0);if(o.closePath(),f)return o=null,f+""||null}return c.centroid=function(){var f=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,d=(+r.apply(this,arguments)+ +a.apply(this,arguments))/2-mS/2;return[Wv(d)*f,vd(d)*f]},c.innerRadius=function(f){return arguments.length?(t=typeof f=="function"?f:Tc(+f),c):t},c.outerRadius=function(f){return arguments.length?(e=typeof f=="function"?f:Tc(+f),c):e},c.cornerRadius=function(f){return arguments.length?(n=typeof f=="function"?f:Tc(+f),c):n},c.padRadius=function(f){return arguments.length?(i=f==null?null:typeof f=="function"?f:Tc(+f),c):i},c.startAngle=function(f){return arguments.length?(r=typeof f=="function"?f:Tc(+f),c):r},c.endAngle=function(f){return arguments.length?(a=typeof f=="function"?f:Tc(+f),c):a},c.padAngle=function(f){return arguments.length?(s=typeof f=="function"?f:Tc(+f),c):s},c.context=function(f){return arguments.length?(o=f??null,c):o},c}function IJ(t){this._context=t}function OEe(t){return new IJ(t)}function LEe(t){return t[0]}function PEe(t){return t[1]}function UEe(t,e){var n=Tc(!0),i=null,r=OEe,a=null,s=UJ(o);function o(l){var c,f,d,p=(l=function(_){return typeof _=="object"&&"length"in _?_:Array.from(_)}(l)).length,v=!1;for(i==null&&(a=r(d=s())),c=0;c<=p;++c)!(c<p&&n(f=l[c],c,l))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(f,c,l),+e(f,c,l));if(d)return a=null,d+""||null}return t=typeof t=="function"?t:t===void 0?LEe:Tc(t),e=typeof e=="function"?e:e===void 0?PEe:Tc(e),o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Tc(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Tc(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Tc(!!l),o):n},o.curve=function(l){return arguments.length?(r=l,i!=null&&(a=r(i)),o):r},o.context=function(l){return arguments.length?(l==null?i=a=null:a=r(i=l),o):i},o}function tH(t){return t<0?-1:1}function nH(t,e,n){var i=t._x1-t._x0,r=e-t._x1,a=(t._y1-t._y0)/(i||r<0&&-0),s=(n-t._y1)/(r||i<0&&-0),o=(a*r+s*i)/(i+r);return(tH(a)+tH(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function iH(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function l4(t,e,n){var i=t._x0,r=t._y0,a=t._x1,s=t._y1,o=(a-i)/3;t._context.bezierCurveTo(i+o,r+o*e,a-o,s-o*n,a,s)}function VE(t){this._context=t}function IEe(t){return new VE(t)}IJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},VE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:l4(this,this._t0,iH(this,this._t0))}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,l4(this,iH(this,n=nH(this,t,e)),n);break;default:l4(this,this._t0,n=nH(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},Object.create(VE.prototype).point=function(t,e){VE.prototype.point.call(this,e,t)};var FEe={value:()=>{}};function FJ(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new XE(i)}function XE(t){this._=t}function zEe(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function rH(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=FEe,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}XE.prototype=FJ.prototype={constructor:XE,on:function(t,e){var n,i=this._,r=function(o,l){return o.trim().split(/^|\s+/).map(c=>{var f="",d=c.indexOf(".");if(d>=0&&(f=c.slice(d+1),c=c.slice(0,d)),c&&!l.hasOwnProperty(c))throw new Error("unknown type: "+c);return{type:c,name:f}})}(t+"",i),a=-1,s=r.length;if(!(arguments.length<2)){if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=r[a]).type)i[n]=rH(i[n],t.name,e);else if(e==null)for(n in i)i[n]=rH(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=r[a]).type)&&(n=zEe(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new XE(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),a=0;a<n;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(i=this._[t]).length;a<n;++a)i[a].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(e,n)}};var qE,kA,ib=0,GA=0,pA=0,QC=0,Uy=0,K3=0,rM=typeof performance=="object"&&performance.now?performance:Date,zJ=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):t=>{setTimeout(t,17)};function yU(){return Uy||(zJ(HEe),Uy=rM.now()+K3)}function HEe(){Uy=0}function eR(){this._call=this._time=this._next=null}function HJ(t,e,n){var i=new eR;return i.restart(t,e,n),i}function aH(){Uy=(QC=rM.now())+K3,ib=GA=0;try{(function(){yU(),++ib;for(var t,e=qE;e;)(t=Uy-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ib})()}finally{ib=0,function(){for(var t,e,n=qE,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:qE=e);kA=t,M5(i)}(),Uy=0}}function kEe(){var t=rM.now(),e=t-QC;e>1e3&&(K3-=e,QC=t)}function M5(t){ib||(GA&&(GA=clearTimeout(GA)),t-Uy>24?(t<1/0&&(GA=setTimeout(aH,t-rM.now()-K3)),pA&&(pA=clearInterval(pA))):(pA||(QC=rM.now(),pA=setInterval(kEe,1e3)),ib=1,zJ(aH)))}function sH(t,e,n){var i=new eR;return e=e==null?0:+e,i.restart(r=>{i.stop(),t(r+e)},e,n),i}eR.prototype=HJ.prototype={constructor:eR,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?yU():+n)+(e==null?0:+e),!this._next&&kA!==this&&(kA?kA._next=this:qE=this,kA=this),this._call=t,this._time=n,M5()},stop:function(){this._call&&(this._call=null,this._time=1/0,M5())}};var GEe=FJ("start","end","cancel","interrupt"),jEe=[];function YE(t,e,n,i,r,a){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};(function(o,l,c){var f,d=o.__transition;function p(b){c.state=1,c.timer.restart(v,c.delay,c.time),c.delay<=b&&v(b-c.delay)}function v(b){var A,T,R,C;if(c.state!==1)return S();for(A in d)if((C=d[A]).name===c.name){if(C.state===3)return sH(v);C.state===4?(C.state=6,C.timer.stop(),C.on.call("interrupt",o,o.__data__,C.index,C.group),delete d[A]):+A<l&&(C.state=6,C.timer.stop(),C.on.call("cancel",o,o.__data__,C.index,C.group),delete d[A])}if(sH(()=>{c.state===3&&(c.state=4,c.timer.restart(_,c.delay,c.time),_(b))}),c.state=2,c.on.call("start",o,o.__data__,c.index,c.group),c.state===2){for(c.state=3,f=new Array(R=c.tween.length),A=0,T=-1;A<R;++A)(C=c.tween[A].value.call(o,o.__data__,c.index,c.group))&&(f[++T]=C);f.length=T+1}}function _(b){for(var A=b<c.duration?c.ease.call(null,b/c.duration):(c.timer.restart(S),c.state=5,1),T=-1,R=f.length;++T<R;)f[T].call(o,A);c.state===5&&(c.on.call("end",o,o.__data__,c.index,c.group),S())}function S(){for(var b in c.state=6,c.timer.stop(),delete d[l],d)return;delete o.__transition}d[l]=c,c.timer=HJ(p,0,c.time)})(t,n,{name:e,index:i,group:r,on:GEe,tween:jEe,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function xU(t,e){var n=ah(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Ed(t,e){var n=ah(t,e);if(n.state>3)throw new Error("too late; already running");return n}function ah(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function VEe(t,e){var n,i;return function(){var r=Ed(this,t),a=r.tween;if(a!==n){for(var s=0,o=(i=n=a).length;s<o;++s)if(i[s].name===e){(i=i.slice()).splice(s,1);break}}r.tween=i}}function XEe(t,e,n){var i,r;if(typeof n!="function")throw new Error;return function(){var a=Ed(this,t),s=a.tween;if(s!==i){r=(i=s).slice();for(var o={name:e,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===e){r[l]=o;break}l===c&&r.push(o)}a.tween=r}}function c4(t,e,n){var i=t._id;return t.each(function(){var r=Ed(this,i);(r.value||(r.value={}))[e]=n.apply(this,arguments)}),r=>ah(r,i).value[e]}function oH(t,e){var n;return(typeof e=="number"?ch:e instanceof ix?WC:(n=ix(e))?(e=n,WC):yJ)(t,e)}function qEe(t){return function(){this.removeAttribute(t)}}function YEe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function WEe(t,e,n){var i,r,a=n+"";return function(){var s=this.getAttribute(t);return s===a?null:s===i?r:r=e(i=s,n)}}function JEe(t,e,n){var i,r,a=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===a?null:s===i?r:r=e(i=s,n)}}function KEe(t,e,n){var i,r,a;return function(){var s,o,l=n(this);return l==null?void this.removeAttribute(t):(s=this.getAttribute(t))===(o=l+"")?null:s===i&&o===r?a:(r=o,a=e(i=s,l))}}function $Ee(t,e,n){var i,r,a;return function(){var s,o,l=n(this);return l==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local))===(o=l+"")?null:s===i&&o===r?a:(r=o,a=e(i=s,l))}}function ZEe(t,e){var n,i;function r(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&function(s,o){return function(l){this.setAttributeNS(s.space,s.local,o.call(this,l))}}(t,a)),n}return r._value=e,r}function QEe(t,e){var n,i;function r(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&function(s,o){return function(l){this.setAttribute(s,o.call(this,l))}}(t,a)),n}return r._value=e,r}function eTe(t,e){return function(){xU(this,t).delay=+e.apply(this,arguments)}}function tTe(t,e){return e=+e,function(){xU(this,t).delay=e}}function nTe(t,e){return function(){Ed(this,t).duration=+e.apply(this,arguments)}}function iTe(t,e){return e=+e,function(){Ed(this,t).duration=e}}var rTe=Wb.prototype.constructor;function lH(t){return function(){this.style.removeProperty(t)}}var aTe=0;function lm(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function kJ(t){return Wb().transition(t)}function GJ(){return++aTe}var Zp=Wb.prototype;lm.prototype=kJ.prototype={constructor:lm,select:function(t){var e=this._name,n=this._id;typeof t!="function"&&(t=f5(t));for(var i=this._groups,r=i.length,a=new Array(r),s=0;s<r;++s)for(var o,l,c=i[s],f=c.length,d=a[s]=new Array(f),p=0;p<f;++p)(o=c[p])&&(l=t.call(o,o.__data__,p,c))&&("__data__"in o&&(l.__data__=o.__data__),d[p]=l,YE(d[p],e,n,p,d,ah(o,n)));return new lm(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;typeof t!="function"&&(t=iJ(t));for(var i=this._groups,r=i.length,a=[],s=[],o=0;o<r;++o)for(var l,c=i[o],f=c.length,d=0;d<f;++d)if(l=c[d]){for(var p,v=t.call(l,l.__data__,d,c),_=ah(l,n),S=0,b=v.length;S<b;++S)(p=v[S])&&YE(p,e,n,S,v,_);a.push(v),s.push(l)}return new lm(a,s,e,n)},selectChild:Zp.selectChild,selectChildren:Zp.selectChildren,filter:function(t){typeof t!="function"&&(t=rJ(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,s=e[r],o=s.length,l=i[r]=[],c=0;c<o;++c)(a=s[c])&&t.call(a,a.__data__,c,s)&&l.push(a);return new lm(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,a=Math.min(i,r),s=new Array(i),o=0;o<a;++o)for(var l,c=e[o],f=n[o],d=c.length,p=s[o]=new Array(d),v=0;v<d;++v)(l=c[v]||f[v])&&(p[v]=l);for(;o<i;++o)s[o]=e[o];return new lm(s,this._parents,this._name,this._id)},selection:function(){return new rTe(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=GJ(),i=this._groups,r=i.length,a=0;a<r;++a)for(var s,o=i[a],l=o.length,c=0;c<l;++c)if(s=o[c]){var f=ah(s,e);YE(s,t,n,c,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new lm(i,this._parents,t,n)},call:Zp.call,nodes:Zp.nodes,node:Zp.node,size:Zp.size,empty:Zp.empty,each:Zp.each,on:function(t,e){var n=this._id;return arguments.length<2?ah(this.node(),n).on.on(t):this.each(function(i,r,a){var s,o,l=(c=>(c+"").trim().split(/^|\s+/).every(f=>{var d=f.indexOf(".");return d>=0&&(f=f.slice(0,d)),!f||f==="start"}))(r)?xU:Ed;return function(){var c=l(this,i),f=c.on;f!==s&&(o=(s=f).copy()).on(r,a),c.on=o}}(n,t,e))},attr:function(t,e){var n=XC(t),i=n==="transform"?R2e:oH;return this.attrTween(t,typeof e=="function"?(n.local?$Ee:KEe)(n,i,c4(this,"attr."+t,e)):e==null?(n.local?YEe:qEe)(n):(n.local?JEe:WEe)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=XC(t);return this.tween(n,(i.local?ZEe:QEe)(i,e))},style:function(t,e,n){var i=(t+="")=="transform"?C2e:oH;return e==null?this.styleTween(t,function(r,a){var s,o,l;return function(){var c=K_(this,r),f=(this.style.removeProperty(r),K_(this,r));return c===f?null:c===s&&f===o?l:l=a(s=c,o=f)}}(t,i)).on("end.style."+t,lH(t)):typeof e=="function"?this.styleTween(t,function(r,a,s){var o,l,c;return function(){var f=K_(this,r),d=s(this),p=d+"";return d==null&&(this.style.removeProperty(r),p=d=K_(this,r)),f===p?null:f===o&&p===l?c:(l=p,c=a(o=f,d))}}(t,i,c4(this,"style."+t,e))).each(function(r,a){var s,o,l,c,f="style."+a,d="end."+f;return function(){var p=Ed(this,r),v=p.on,_=p.value[f]==null?c||(c=lH(a)):void 0;(v!==s||l!==_)&&(o=(s=v).copy()).on(d,l=_),p.on=o}}(this._id,t)):this.styleTween(t,function(r,a,s){var o,l,c=s+"";return function(){var f=K_(this,r);return f===c?null:f===o?l:l=a(o=f,s)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,function(r,a,s){var o,l;function c(){var f=a.apply(this,arguments);return f!==l&&(o=(l=f)&&function(d,p,v){return function(_){this.style.setProperty(d,p.call(this,_),v)}}(r,f,s)),o}return c._value=a,c}(t,e,n??""))},text:function(t){return this.tween("text",typeof t=="function"?function(e){return function(){var n=e(this);this.textContent=n??""}}(c4(this,"text",t)):function(e){return function(){this.textContent=e}}(t==null?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,function(n){var i,r;function a(){var s=n.apply(this,arguments);return s!==r&&(i=(r=s)&&function(o){return function(l){this.textContent=o.call(this,l)}}(s)),i}return a._value=n,a}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=ah(this.node(),n).tween,a=0,s=r.length;a<s;++a)if((i=r[a]).name===t)return i.value;return null}return this.each((e==null?VEe:XEe)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?eTe:tTe)(e,t)):ah(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?nTe:iTe)(e,t)):ah(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(n,i){if(typeof i!="function")throw new Error;return function(){Ed(this,n).ease=i}}(e,t)):ah(this.node(),e).ease},easeVarying:function(t){if(typeof t!="function")throw new Error;return this.each(function(e,n){return function(){var i=n.apply(this,arguments);if(typeof i!="function")throw new Error;Ed(this,e).ease=i}}(this._id,t))},end:function(){var t,e,n=this,i=n._id,r=n.size();return new Promise(function(a,s){var o={value:s},l={value:()=>{--r==0&&a()}};n.each(function(){var c=Ed(this,i),f=c.on;f!==t&&((e=(t=f).copy())._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),c.on=e}),r===0&&a()})},[Symbol.iterator]:Zp[Symbol.iterator]};const sTe=t=>+t;function oTe(t){return t*t}function lTe(t){return t*(2-t)}function cH(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function cTe(t){return t*t*t}function uTe(t){return--t*t*t+1}function jJ(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var fTe=function t(e){function n(i){return Math.pow(i,e)}return e=+e,n.exponent=t,n}(3),hTe=function t(e){function n(i){return 1-Math.pow(1-i,e)}return e=+e,n.exponent=t,n}(3),dTe=function t(e){function n(i){return((i*=2)<=1?Math.pow(i,e):2-Math.pow(2-i,e))/2}return e=+e,n.exponent=t,n}(3),VJ=Math.PI,XJ=VJ/2;function pTe(t){return+t==1?1:1-Math.cos(t*XJ)}function mTe(t){return Math.sin(t*XJ)}function gTe(t){return(1-Math.cos(VJ*t))/2}function v0(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function vTe(t){return v0(1-+t)}function yTe(t){return 1-v0(t)}function xTe(t){return((t*=2)<=1?v0(1-t):2-v0(t-1))/2}function _Te(t){return 1-Math.sqrt(1-t*t)}function bTe(t){return Math.sqrt(1- --t*t)}function ATe(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var STe=4/11,MTe=6/11,wTe=8/11,ETe=9/11,TTe=10/11,CTe=21/22,$2=7.5625;function RTe(t){return 1-tR(1-t)}function tR(t){return(t=+t)<STe?$2*t*t:t<wTe?$2*(t-=MTe)*t+.75:t<TTe?$2*(t-=ETe)*t+.9375:$2*(t-=CTe)*t+.984375}function NTe(t){return((t*=2)<=1?1-tR(1-t):tR(t-1)+1)/2}var _U=1.70158,DTe=function t(e){function n(i){return(i=+i)*i*(e*(i-1)+i)}return e=+e,n.overshoot=t,n}(_U),BTe=function t(e){function n(i){return--i*i*((i+1)*e+i)+1}return e=+e,n.overshoot=t,n}(_U),OTe=function t(e){function n(i){return((i*=2)<1?i*i*((e+1)*i-e):(i-=2)*i*((e+1)*i+e)+2)/2}return e=+e,n.overshoot=t,n}(_U),Jb=2*Math.PI,LTe=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Jb);function r(a){return e*v0(- --a)*Math.sin((i-a)/n)}return r.amplitude=a=>t(a,n*Jb),r.period=a=>t(e,a),r}(1,.3),uH=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Jb);function r(a){return 1-e*v0(a=+a)*Math.sin((a+i)/n)}return r.amplitude=a=>t(a,n*Jb),r.period=a=>t(e,a),r}(1,.3),PTe=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Jb);function r(a){return((a=2*a-1)<0?e*v0(-a)*Math.sin((i-a)/n):2-e*v0(a)*Math.sin((i+a)/n))/2}return r.amplitude=a=>t(a,n*Jb),r.period=a=>t(e,a),r}(1,.3),UTe={time:null,delay:0,duration:250,ease:jJ};function ITe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function FTe(t){switch(t){case ir.easeLinear:return sTe;case ir.easeQuadIn:return oTe;case ir.easeQuadOut:return lTe;case ir.easeQuadInOut:return cH;case ir.easeCubicIn:return cTe;case ir.easeCubicOut:return uTe;case ir.easeCubicInOut:return jJ;case ir.easePolyIn:return fTe;case ir.easePolyOut:return hTe;case ir.easePolyInOut:return dTe;case ir.easeSinIn:return pTe;case ir.easeSinOut:return mTe;case ir.easeSinInOut:return gTe;case ir.easeExpIn:return vTe;case ir.easeExpOut:return yTe;case ir.easeExpInOut:return xTe;case ir.easeCircleIn:return _Te;case ir.easeCircleOut:return bTe;case ir.easeCircleInOut:return ATe;case ir.easeBounceIn:return RTe;case ir.easeBounceOut:return tR;case ir.easeBounceInOut:return NTe;case ir.easeBackIn:return DTe;case ir.easeBackOut:return BTe;case ir.easeBackInOut:return OTe;case ir.easeElasticIn:return LTe;case ir.easeElasticOut:return uH;case ir.easeElasticInOut:return PTe;case ir.easeElastic:return uH;default:return cH}}Wb.prototype.interrupt=function(t){return this.each(function(){(function(e,n){var i,r,a,s=e.__transition,o=!0;if(s){for(a in n=n==null?null:n+"",s)(i=s[a]).name===n?(r=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete s[a]):o=!1;o&&delete e.__transition}})(this,t)})},Wb.prototype.transition=function(t){var e,n;t instanceof lm?(e=t._id,t=t._name):(e=GJ(),(n=UTe).time=yU(),t=t==null?null:t+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var s,o=i[a],l=o.length,c=0;c<l;++c)(s=o[c])&&YE(s,t,e,c,o,n||ITe(s,e));return new lm(i,this._parents,t,e)};var fH=Number.isNaN||(t=>typeof t=="number"&&t!=t);function zTe(t,e){return!!(t===e||fH(t)&&fH(e))}function HTe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!zTe(t[n],e[n]))return!1;return!0}function $3(t,e){e===void 0&&(e=HTe);var n=null;function i(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];if(n&&n.lastThis===this&&e(r,n.lastArgs))return n.lastResult;var s=t.apply(this,r);return n={lastResult:s,lastArgs:r,lastThis:this},s}return i.clear=()=>{n=null},i}const bU=$3(function(t){return function({min:e,max:n,segments:i}){return SJ().range([0,1]).domain([e,n])}({min:t.minValue,max:t.maxValue,segments:t.maxSegmentLabels})}),kTe=$3(function(t){const e=bU(t);let n=function(i,{min:r,max:a,segments:s}){let o=[];if(o=i.ticks(s),(OJ(o)!==a||s<o.length)&&o.length>1){const l=(a-r)/s;o=[r],yEe(s,c=>{o.push(r+(c+1)*l)})}return o.length===1&&(o=[r,a]),o}(e,{min:t.minValue,max:t.maxValue,segments:t.maxSegmentLabels});return t.customSegmentStops.length>0&&t.maxSegmentLabels!==0&&(n=t.customSegmentStops),n}),w5=$3(function(t){const e=function(n,i,r){n=+n,i=+i,r=(s=arguments.length)<2?(i=n,n=0,1):s<3?1:+r;for(var a=-1,s=0|Math.max(0,Math.ceil((i-n)/r)),o=new Array(s);++a<s;)o[a]=n+a*r;return o}(t.majorTicks).map(n=>1/t.majorTicks);return xEe({tickData:e,customSegmentStops:t.customSegmentStops,min:t.minValue,max:t.maxValue})}),GTe=$3(function(t){const e=w5(t),n=t.maxAngle-t.minAngle,i=t.width/2;return BEe().innerRadius(i-t.ringWidth-t.ringInset).outerRadius(i-t.ringInset).startAngle((r,a)=>{const s=$C(e,a);return $z(t.minAngle+s*n)}).endAngle((r,a)=>{const s=$C(e,a+1);return $z(t.minAngle+s*n)})}),hH=({d3_refs:t,newValue:e,config:n})=>{const i=bU(n)(e),r=n.maxAngle-n.minAngle,a=n.minAngle+i*r;t.pointer.transition(function({duration:s,ease:o}){return kJ().duration(s).ease(o)}({duration:n.needleTransitionDuration,ease:FTe(n.needleTransition)})).attr("transform",`rotate(${a})`),t.current_value_text.text(function(s,o){const l=o.labelFormat(s),c=o.currentValuePlaceholderStyle;return o.currentValueText.replace(c,l)}(e,n))},jTe=({container:t,config:e})=>{const n=function(a){return a.width/2}(e),i=function(a,s,o){return`translate(${a+s}, ${a+o})`}(n,e.paddingHorizontal,e.paddingVertical),r=function({container:a,config:s}){const o=s.width+2*s.paddingHorizontal,l=s.height+2*s.paddingVertical;return hJ(a).append("svg:svg").attr("class","speedometer").attr("width",`${o}${s.dimensionUnit}`).attr("height",`${l}${s.dimensionUnit}`).attr("role","img").attr("focusable","false").attr("aria-label",s.svgAriaLabel).style("width",`${o}${s.dimensionUnit}`).style("height",`${l}${s.dimensionUnit}`)}({container:t,config:e});return function({config:a,svg:s,centerTx:o}){const l=w5(a),c=GTe(a);s.append("g").attr("class","arc").attr("transform",o).selectAll("path").data(l).enter().append("path").attr("class","speedo-segment").attr("fill",(f,d)=>!b5(a.segmentColors)&&a.segmentColors[d]?a.segmentColors[d]:a.arcColorFn(f*d)).attr("d",c)}({config:e,svg:r,centerTx:i}),function({config:a,svg:s,centerTx:o,r:l}){const c=kTe(a),f=w5(a),d=bU(a),p=a.maxAngle-a.minAngle,{customSegmentLabels:v}=a,_=gU(v)&&!b5(v),S=_&&v.length===f.length;if(_&&!S)throw new Error(`Custom Segment Labels should be an array with length of ${f.length}`);if(_&&S)return void function({config:b,svg:A,centerTx:T,r:R,ticks:C,tickData:L,scale:P,range:k}){const{customSegmentStops:G,customSegmentLabels:z}=b;function F(K,H){const J=G.length===0?P(K):$C(L,H);return b.minAngle+J*k}const j=z.map((K,H)=>{const J=H,Q=H+1,ie=F(C[J],J);return(F(C[Q],Q)+ie)/2}),ne=R-b.ringWidth-b.ringInset,W=R-b.ringInset,Y=W-(W-ne)/2;A.append("g").attr("class","label").attr("transform",T).selectAll("text").data(z).enter().append("text").attr("transform",(K,H)=>{const J=j[H],Q=`rotate(${J}) translate(0, ${b.labelInset-R})`,ie=`rotate(${J}) translate(0, ${b.labelInset/2-Y})`;return K.position==="OUTSIDE"?Q:ie}).text(K=>K.text||"").attr("class","segment-value").style("text-anchor","middle").style("font-size",K=>K.fontSize||b.labelFontSize).style("font-weight","bold").style("fill",K=>K.color||b.textColor)}({config:a,svg:s,centerTx:o,r:l,ticks:c,tickData:f,scale:d,range:p});s.append("g").attr("class","label").attr("transform",o).selectAll("text").data(c).enter().append("text").attr("transform",(b,A)=>{const T=a.customSegmentStops.length===0?d(b):$C(f,A);return`rotate(${a.minAngle+T*p}) translate(0, ${a.labelInset-l})`}).text(b=>a.segmentValueFormatter(a.labelFormat(b))).attr("class","segment-value").style("text-anchor","middle").style("font-size",a.labelFontSize).style("font-weight","bold").style("fill",a.textColor)}({config:e,svg:r,centerTx:i,r:n}),{current_value_text:VTe({config:e,svg:r}),pointer:XTe({config:e,svg:r,r:n,centerTx:i})}};function VTe({config:t,svg:e}){const n=(t.width+2*t.paddingHorizontal)/2,i=(t.width+4*t.paddingVertical)/2;return e.append("g").attr("transform",`translate(${n}, ${i})`).append("text").attr("class","current-value").attr("text-anchor","middle").attr("y",23).text(t.currentValue).style("font-size",t.valueTextFontSize).style("font-weight",t.valueTextFontWeight).style("fill",t.textColor)}function XTe({config:t,svg:e,r:n,centerTx:i}){const r=function({heightRatio:o,radius:l}){if(o<0||o>1)throw new Error(`Invalid needleHeightRatio given - ${o}`);return Math.round(l*o)}({heightRatio:t.needleHeightRatio,radius:n}),a=[[t.pointerWidth/2,0],[0,-r],[-t.pointerWidth/2,0],[0,t.pointerTailLength],[t.pointerWidth/2,0]],s=UEe().curve(IEe);return e.append("g").data([a]).attr("class","pointer").attr("transform",i).style("fill",t.needleColor).append("path").attr("d",s).attr("transform",`rotate(${t.minAngle})`)}class gS extends ce.PureComponent{constructor(e){super(e),eJ(this,"render",()=>B.jsx("div",{ref:n=>this.gaugeDiv=n})),this.d3_refs={pointer:!1,current_value_text:!1}}componentDidMount(){this.renderGauge()}componentDidUpdate(){this.props.forceRender?this.renderGauge():this.updateReadings()}renderGauge(){this.config=(({PROPS:e,parentWidth:n,parentHeight:i})=>{const r={width:e.fluidWidth?n:e.width,height:e.fluidWidth?i:e.height,paddingHorizontal:e.paddingHorizontal,paddingVertical:e.paddingVertical,dimensionUnit:e.dimensionUnit,ringWidth:e.ringWidth,minValue:e.minValue,maxValue:e.maxValue,needleColor:e.needleColor,majorTicks:e.segments,customSegmentStops:e.customSegmentStops,customSegmentLabels:e.customSegmentLabels,maxSegmentLabels:_Ee({maxSegmentLabelCount:e.maxSegmentLabels,segmentCount:e.segments}),segmentColors:e.segmentColors,arcColorFn:e.segmentColors.length>0?MJ(e.segmentColors):N2e(iM(e.startColor),iM(e.endColor)),needleTransition:e.needleTransition,needleTransitionDuration:e.needleTransitionDuration,needleHeightRatio:e.needleHeightRatio,textColor:e.textColor,labelFormat:VC(e.valueFormat),segmentValueFormatter:e.segmentValueFormatter,currentValueText:e.currentValueText,currentValuePlaceholderStyle:e.currentValuePlaceholderStyle,labelFontSize:e.labelFontSize,valueTextFontSize:e.valueTextFontSize,valueTextFontWeight:e.valueTextFontWeight,svgAriaLabel:e.svgAriaLabel};return Object.assign({},AEe,r)})({PROPS:this.props,parentWidth:this.gaugeDiv.parentNode.clientWidth,parentHeight:this.gaugeDiv.parentNode.clientHeight}),hJ(this.gaugeDiv).select("svg").remove(),this.d3_refs=jTe({container:this.gaugeDiv,config:this.config}),hH({d3_refs:this.d3_refs,newValue:this.props.value,config:this.config})}updateReadings(){this.config=((e,n)=>({...e,...n}))(this.config,{labelFormat:VC(this.props.valueFormat||""),segmentValueFormatter:this.props.segmentValueFormatter||PJ,currentValueText:this.props.currentValueText||"${value}"}),hH({d3_refs:this.d3_refs,newValue:this.props.value||0,config:this.config})}}eJ(gS,"displayName","ReactSpeedometer"),gS.propTypes={value:mi.number.isRequired,minValue:mi.number.isRequired,maxValue:mi.number.isRequired,forceRender:mi.bool.isRequired,width:mi.number.isRequired,height:mi.number.isRequired,paddingHorizontal:mi.number.isRequired,paddingVertical:mi.number.isRequired,dimensionUnit:mi.string.isRequired,fluidWidth:mi.bool.isRequired,segments:mi.number.isRequired,maxSegmentLabels:mi.number,customSegmentStops:mi.array,customSegmentLabels:mi.arrayOf(mi.shape({text:mi.string,position:mi.oneOf(["OUTSIDE","INSIDE"]),fontSize:mi.string,color:mi.string})),needleColor:mi.string.isRequired,startColor:mi.string.isRequired,endColor:mi.string.isRequired,segmentColors:mi.array.isRequired,needleTransition:mi.string.isRequired,needleTransitionDuration:mi.number.isRequired,needleHeightRatio:mi.number.isRequired,ringWidth:mi.number.isRequired,textColor:mi.string.isRequired,valueFormat:mi.string.isRequired,segmentValueFormatter:mi.func,currentValueText:mi.string.isRequired,currentValuePlaceholderStyle:mi.string.isRequired,labelFontSize:mi.string.isRequired,valueTextFontSize:mi.string.isRequired,valueTextFontWeight:mi.string.isRequired,svgAriaLabel:mi.string},gS.defaultProps=bEe;const dH=({data:t,getGaugeSize:e})=>{yr();const[n,i]=ce.useState({width:window.innerWidth,height:window.innerHeight});ce.useEffect(()=>{const s=()=>{i({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const a={...n.width>=1536?{ringWidth:16,valueTextFontSize:"14",valueTextFontWeight:"semibold",labelFontSize:"12"}:n.width>=768?{ringWidth:10,valueTextFontSize:"12",valueTextFontWeight:"semibold",labelFontSize:"8"}:{ringWidth:12,valueTextFontSize:"10",valueTextFontWeight:"semibold",labelFontSize:"8"},minValue:0,maxValue:10,needleHeightRatio:.5,needleColor:"#1e88e5",startColor:"#3f51b5",endColor:"#ff4081",segments:5,textColor:"#ffffff",valueFormat:".1f",width:e().width,height:e().height,fluidWidth:!1};return B.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-evenly h-full",children:[B.jsx("div",{className:"h-[65%] md:h-[45%] w-[40%] md:w-[30%] xl:w-[40%] flex items-center justify-center",children:B.jsx(gS,{...a,value:whe(t.value.voltages),currentValueText:"Min: ${value} mV"})}),B.jsx("div",{className:"h-[65%] md:h-[45%] w-[40%] md:w-[30%] xl:w-[40%] flex items-center justify-center",children:B.jsx(gS,{...a,value:Ehe(t),currentValueText:"Max: ${value} mV"})})]})},qTe=()=>{const{user:t}=jl(),[e,n]=ce.useState(0),[i,r]=ce.useState(0),[a,s]=ce.useState(0),o=()=>{const l=window.innerWidth;return l<768?{width:120,height:90}:l<1024?{width:100,height:90}:l<1440?{width:120,height:90}:{width:150,height:100}};return ce.useEffect(()=>{$T(),PI();const l=setInterval($T,2e3),c=setInterval(PI,6e4);return()=>{clearInterval(l),clearInterval(c)}},[]),ce.useEffect(()=>{const l=()=>{const d=document.querySelector("header");d&&n(d.clientHeight)},c=()=>{const d=window.innerHeight,p=window.innerWidth;s(p);const v=48;if(window.innerWidth>=1024){const _=d-e-v;r(_)}};l(),c();const f=()=>{l(),c()};return window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}},[e]),B.jsxs("section",{className:"cont bg-background md:!py-2 2xl:!py-4 md:!px-3 2xl:!px-4",style:{marginTop:`${e}px`},children:[B.jsxs("div",{className:"left",children:[B.jsxs("div",{className:"bg-secondary rounded flex flex-col md:flex-row xl:flex-row justify-around gap-2 md:gap-1 2xl:gap-2 text-text md:p-[3px_!important] lg:!p-[5px] 2xl:p-[5px]",children:[B.jsxs("fieldset",{className:"border border-primary/75 rounded",children:[B.jsx("legend",{className:"text-xs md:text-[8px] 2xl:text-xs px-2 md:px-1 2xl:px-2 text-primary",children:"A Side"}),B.jsx(OI,{data:Y_,side:"A"})]}),B.jsxs("fieldset",{className:"border border-primary/75 rounded",children:[B.jsx("legend",{className:"text-xs md:text-[8px] 2xl:text-xs px-2 md:px-1 2xl:px-2 text-primary",children:"B Side"}),B.jsx(OI,{data:TA})]})]}),B.jsx("div",{className:"bg-secondary rounded-lg",children:B.jsx(Mhe,{})}),B.jsxs("div",{className:"bg-secondary rounded-lg flex flex-col items-center md:flex-row xl:flex-row gap-1.5 md:gap-1 xl:gap-1.5",children:[B.jsxs("fieldset",{className:"border border-primary/75 rounded-lg p-1.5 w-[95%] md:w-[90%] h-[95%]",children:[B.jsx("legend",{className:"px-2 md:px-1.5 xl:px-2 text-primary text-sm md:text-xs 2xl:text-sm",children:"A side"}),B.jsx(dH,{data:Y_,getGaugeSize:o})]}),B.jsxs("fieldset",{className:"border border-primary/75 rounded-lg p-1.5 w-[95%] md:w-[90%] h-[95%]",children:[B.jsx("legend",{className:"px-2 md:px-1.5 xl:px-2 text-primary text-sm md:text-xs 2xl:text-sm",children:"B side"}),B.jsx(dH,{data:TA,getGaugeSize:o})]})]}),B.jsxs("div",{className:"flex flex-col md:flex-row lg:flex-row gap-2",children:[B.jsxs("div",{className:"w-full h-[400px] sm:w-4/12 sm:h-full bg-secondary text-text rounded-lg p-1",children:[B.jsx("h4",{className:"mt-4 md:mt-2 mb-5 sm:mb-2 ml-4 text-lg md:text-xs 2xl:text-lg",children:"battery Status"}),B.jsxs("div",{className:"w-full h-10/12 sm:h-9/12 flex sm:flex-col mt-10 md:mt-0 justify-around",children:[B.jsx(BI,{side:"(A)",orient:a>=1024?"height":"width",value:Y_}),B.jsx(BI,{side:"(B)",orient:a>=1024?"height":"width",value:TA})]})]}),B.jsxs("div",{className:"bg-secondary text-text rounded-lg p-4 md:p-3 2xl:p-4 flex-1",children:[B.jsx("h4",{className:"text-sm md:text-xs 2xl:text-sm mb-4 md:mb-3 2xl:mb-4",children:"Signal Strength"}),B.jsx(fwe,{data:Y_,signalHistoryData:xV})]})]})]}),B.jsxs("div",{className:"right",children:[B.jsxs("div",{className:"bg-secondary/50 text-text rounded-lg p-2 md:p-1 xl:p-2 grid grid-cols-1 md:grid-cols-2 2xl:grid-cols-2 gap-4 md:gap-1 2xl:gap-4",children:[B.jsxs("fieldset",{className:"border border-primary/75 rounded-lg p-2 md:p-1 xl:p-2 h-fit",children:[B.jsx("legend",{className:"px-2 text-primary text-base md:text-xs font-medium tracking-wider",children:"A Side"}),B.jsx("div",{className:"grid grid-cols-5 md:grid-cols-5 2xl:grid-cols-4 gap-1.5 md:gap-1 xl:gap-1.5",children:Array.from({length:20},(l,c)=>{const f=c+1;return B.jsx(UI,{sensorId:f,voltage:Y_},f)})})]}),B.jsxs("fieldset",{className:"border border-primary rounded-lg p-2 md:p-1 xl:p-2 h-fit",children:[B.jsx("legend",{className:"px-2 text-primary text-base md:text-xs font-medium tracking-wider",children:"B Side"}),B.jsx("div",{className:"grid grid-cols-5 md:grid-cols-5 2xl:grid-cols-4 gap-1.5 md:gap-1 xl:gap-1.5",children:Array.from({length:20},(l,c)=>{const f=c+21;return B.jsx(UI,{sensorId:f,voltage:TA},f)})})]})]}),B.jsxs("div",{className:"bg-secondary p-2 md:p-1.5 xl:p-2 rounded-lg",children:[B.jsxs("div",{className:"flex flex-col md:flex-row md:justify-around items-center gap-3 md:gap-1 xl:gap-3 mb-2 md:mb-1 xl:mb-2",children:[B.jsx(Nhe,{}),B.jsx(Dhe,{}),B.jsx(Bhe,{})]}),B.jsx("div",{className:"chart-container",children:B.jsx(ZW,{})})]})]})]})};function qJ(t){return Hs({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Calendar"},child:[{tag:"path",attr:{d:`M18.438,4.954H16.5c0-0.346,0-0.691,0-1.036c0-0.124,0-0.248,0-0.372c0-0.262-0.23-0.512-0.5-0.5
            c-0.271,0.012-0.5,0.22-0.5,0.5c0,0.469,0,0.939,0,1.408h-7c0-0.346,0-0.691,0-1.036c0-0.124,0-0.248,0-0.372
            c0-0.262-0.23-0.512-0.5-0.5c-0.271,0.012-0.5,0.22-0.5,0.5c0,0.469,0,0.939,0,1.408H5.562c-1.378,0-2.5,1.122-2.5,2.5v11
            c0,1.379,1.122,2.5,2.5,2.5h12.875c1.379,0,2.5-1.121,2.5-2.5v-11C20.938,6.076,19.816,4.954,18.438,4.954z M5.562,5.954H7.5
            c0,0.073,0,0.147,0,0.22c0,0.124,0,0.248,0,0.372c0,0.262,0.23,0.512,0.5,0.5c0.271-0.012,0.5-0.22,0.5-0.5c0-0.197,0-0.394,0-0.592
            h7c0,0.073,0,0.147,0,0.22c0,0.124,0,0.248,0,0.372c0,0.262,0.23,0.512,0.5,0.5c0.271-0.012,0.5-0.22,0.5-0.5
            c0-0.197,0-0.394,0-0.592h1.937c0.827,0,1.5,0.673,1.5,1.5v1.584H4.062V7.454C4.062,6.627,4.735,5.954,5.562,5.954z M18.438,19.954
            H5.562c-0.827,0-1.5-0.673-1.5-1.5v-8.416h15.875v8.416C19.938,19.281,19.265,19.954,18.438,19.954z`},child:[]}]}]})(t)}function YJ(t){return Hs({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Hashtag"},child:[{tag:"path",attr:{d:"M20.435,15.506H16.2l.61-7h3.63a.5.5,0,0,0,.5-.5.5.5,0,0,0-.5-.5H16.9l.34-3.87a.509.509,0,0,0-.46-.54.5.5,0,0,0-.54.46l-.35,3.95H8.9l.34-3.87a.509.509,0,0,0-.46-.54.491.491,0,0,0-.54.46l-.35,3.95H3.565a.5.5,0,0,0-.5.5.5.5,0,0,0,.5.5h4.24l-.62,7H3.565a.5.5,0,0,0-.5.5.5.5,0,0,0,.5.5h3.54l-.34,3.86a.508.508,0,0,0,.45.54h.05a.516.516,0,0,0,.5-.46l.34-3.94h7l-.34,3.86a.508.508,0,0,0,.45.54h.05a.516.516,0,0,0,.5-.46l.34-3.94h4.33a.5.5,0,0,0,.5-.5A.5.5,0,0,0,20.435,15.506Zm-5.25,0H8.2l.61-7h7Z"},child:[]}]}]})(t)}function WJ(t){return Hs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.931 13.111a9 9 0 1 0 -9.453 7.874"},child:[]},{tag:"path",attr:{d:"M20 21l2 -2l-2 -2"},child:[]},{tag:"path",attr:{d:"M17 17l-2 2l2 2"},child:[]},{tag:"path",attr:{d:"M12 7v5l2 2"},child:[]}]})(t)}function JJ(t){return Hs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 7V5a1 1 0 0 0-1-1H6.5a.5.5 0 0 0-.4.8l4.5 6a2 2 0 0 1 0 2.4l-4.5 6a.5.5 0 0 0 .4.8H17a1 1 0 0 0 1-1v-2"},child:[]}]})(t)}function YTe(t){return Hs({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"416",height:"384",x:"48",y:"80",fill:"none",strokeLinejoin:"round",strokeWidth:"32",rx:"48"},child:[]},{tag:"circle",attr:{cx:"296",cy:"232",r:"24"},child:[]},{tag:"circle",attr:{cx:"376",cy:"232",r:"24"},child:[]},{tag:"circle",attr:{cx:"296",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"376",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"136",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"216",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"136",cy:"392",r:"24"},child:[]},{tag:"circle",attr:{cx:"216",cy:"392",r:"24"},child:[]},{tag:"circle",attr:{cx:"296",cy:"392",r:"24"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M128 48v32m256-32v32"},child:[]},{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M464 160H48"},child:[]}]})(t)}function WTe(t){return Hs({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M416 221.25V416a48 48 0 0 1-48 48H144a48 48 0 0 1-48-48V96a48 48 0 0 1 48-48h98.75a32 32 0 0 1 22.62 9.37l141.26 141.26a32 32 0 0 1 9.37 22.62z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 56v120a32 32 0 0 0 32 32h120m-232 80h160m-160 80h160"},child:[]}]})(t)}const Yg=({htmlFor:t,type:e,name:n,id:i,labelName:r,value:a,onChange:s,signal:o,signalProperty:l,signalObject:c,className:f,labelClassName:d,inputClassName:p,...v})=>{yr();const _=b=>{o?o.value=e==="date"&&b.target.value?new Date(b.target.value):b.target.value:c&&l?c.value={...c.value,[l]:e==="date"&&b.target.value?new Date(b.target.value):b.target.value}:s&&s(b)},S=()=>{if(c&&l){const A=c.value[l];return e==="date"&&A instanceof Date?A.toISOString().split("T")[0]:A??""}if(!o&&a===void 0)return"";const b=o?o.value:a;return e==="date"&&b instanceof Date?b.toISOString().split("T")[0]:b??""};return B.jsxs("div",{className:f||"mb-4",children:[B.jsx("label",{htmlFor:t,className:d||"block text-text/70 mb-2",children:r}),B.jsxs("div",{className:"relative",children:[B.jsx("input",{type:e,name:n,id:i,value:S(),onChange:_,className:p||`w-full p-2 ${e==="date"?"pr-10":""} bg-background text-text outline-none border border-secondary rounded`,...v}),e==="date"&&B.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none text-text/70",children:B.jsx(YTe,{size:18})})]})]})},Aa=({htmlFor:t,type:e="radio",name:n,id:i,value:r,checked:a,onChange:s,signal:o,signalProperty:l,signalObject:c,checkBoxValue:f,className:d,labelClassName:p,...v})=>{yr();const _=b=>{o?o.value=b.target.value:c&&l?c.value={...c.value,[l]:b.target.value}:s&&s(b)},S=()=>c&&l?c.value[l]===r:o?o.value===r:a;return B.jsxs("label",{htmlFor:t,className:`flex items-center gap-2 cursor-pointer ${p||""}`,children:[B.jsx("input",{type:e,name:n,id:i,value:r,checked:S(),onChange:_,className:"hidden",...v}),B.jsx("div",{className:`w-3 h-3 md:w-3 md:h-3 2xl:w-4 2xl:h-4 border-2 md:border-1 border-primary bg-primary/20 ${e==="radio"?"rounded-full":"rounded"} flex items-center justify-center ${d||""}`,children:S()&&B.jsx("div",{className:`w-1.5 h-1.5 md:w-1.5 md:h-1.5 2xl:w-2.5 2xl:h-2.5 bg-primary ${e==="radio"?"rounded-full":"rounded"}`})}),B.jsx("span",{className:"",children:f})]})},JTe=({mode:t,dateRange:e,averageBy:n,countOptions:i,customCount:r,onPlotGraph:a})=>{yr();const s=()=>{switch(t.value){case"interval":return B.jsxs("div",{className:"md:py-6",children:[B.jsx("h3",{className:"text-lg md:text-base 2xl:text-2xl text-center font-semibold tracking-wider md:mt-2 2xl:mt-4",children:"Select Time Interval"}),B.jsx("div",{className:"mt-6 md:mt-8 2xl:mt-12 flex flex-col items-center gap-2 md:gap-4 2xl:gap-6",children:["from","to"].map(o=>B.jsx(Yg,{labelName:o,type:"date",name:o,signalObject:e,signalProperty:o,className:"flex gap-4 md:gap-2 2xl:gap-4 items-center",labelClassName:"text-text md:text-sm font-medium tracking-wide capitalize w-14 md:w-10 2xl:w-14",inputClassName:"bg-background/65 w-full p-2 md:p-1 2xl:p-2 md:text-xs 2xl:text-sm text-text/85 outline-none border border-secondary rounded"}))}),B.jsx("div",{className:"mt-12 md:mt-8 2xl:mt-12 flex items-start justify-center",children:B.jsxs("div",{className:"",children:[B.jsx("h3",{className:"font-medium tracking-wider text-sm md:text-xs 2xl:text-lg mb-6 md:mb-3 2xl:mb-6",children:"Get one data for every-"}),B.jsxs("div",{className:"flex justify-center items-center gap-8 md:gap-4 2xl:gap-8",children:[B.jsx(Aa,{name:"averageBy",value:"minute",signal:n,checkBoxValue:"Minute"}),B.jsx(Aa,{name:"averageBy",value:"hour",signal:n,checkBoxValue:"Hour"}),B.jsx(Aa,{name:"averageBy",value:"day",signal:n,checkBoxValue:"Day"})]})]})})]});case"date":return B.jsxs("div",{className:"md:py-6",children:[B.jsx("h3",{className:"text-lg md:text-base 2xl:text-2xl text-center font-semibold tracking-wider md:mt-2 2xl:mt-4",children:"Select Date Range"}),B.jsxs("div",{className:"mt-6 md:mt-8 2xl:mt-12 flex flex-col items-center gap-2 md:gap-4 2xl:gap-6",children:[B.jsx(Yg,{labelName:"from",type:"date",name:"from",signalObject:e,signalProperty:"from",className:"flex gap-4 md:gap-2 2xl:gap-4 items-center",labelClassName:"text-text md:text-sm font-medium tracking-wide capitalize w-14 md:w-10 2xl:w-14",inputClassName:"bg-background/65 w-full p-2 md:p-1 2xl:p-2 md:text-xs 2xl:text-sm text-text/85 outline-none border border-secondary rounded"}),B.jsx(Yg,{labelName:"to",type:"date",name:"to",signalObject:e,signalProperty:"to",className:"flex gap-4 md:gap-2 2xl:gap-4 items-center",labelClassName:"text-text md:text-sm font-medium tracking-wide capitalize w-14 md:w-10 2xl:w-14",inputClassName:"bg-background/65 w-full p-2 md:p-1 2xl:p-2 md:text-xs 2xl:text-sm text-text/85 outline-none border border-secondary rounded"})]})]});case"count":return B.jsxs("div",{className:"md:py-6",children:[B.jsx("h3",{className:"text-lg md:text-base 2xl:text-2xl text-center font-semibold tracking-wider md:mt-2 2xl:mt-4",children:"Select Count"}),B.jsx("div",{className:"mt-12 md:mt-8 2xl:mt-12 flex flex-col items-center gap-6 md:gap-4 2xl:gap-6",children:B.jsxs("div",{className:"w-full max-w-xs space-y-7 md:space-y-4 2xl:space-y-7 flex flex-col justify-center items-center",children:[B.jsx(Aa,{name:"countOption",value:"last100",signal:i,checkBoxValue:"Last 100 Data",labelClassName:"w-6/12  md:w-8/12 2xl:w-6/12"}),B.jsx(Aa,{name:"countOption",value:"last500",signal:i,checkBoxValue:"Last 500 Data",labelClassName:"w-6/12  md:w-8/12 2xl:w-6/12"}),B.jsx(Aa,{name:"countOption",value:"last1000",signal:i,checkBoxValue:"Last 1000 Data",labelClassName:"w-6/12  md:w-8/12 2xl:w-6/12"}),B.jsx(Aa,{name:"countOption",value:"custom",signal:i,checkBoxValue:"Custom Count",labelClassName:"w-6/12  md:w-8/12 2xl:w-6/12"}),i.value==="custom"&&B.jsx(Yg,{labelName:"count",type:"string",name:"customCount",value:r.value,onChange:o=>{r.value=o.target.value},className:"grid place-content-center gap-3 mx-12",labelClassName:"text-text md:text-xs font-medium tracking-wide capitalize w-14 md:w-10 2xl:w-14",inputClassName:"bg-background/65 w-9/12 p-2 md:p-1 2xl:p-2 md:text-xs 2xl:text-sm text-text/85 outline-none border border-secondary rounded"})]})})]});case"average":return B.jsxs("div",{className:"md:py-6",children:[B.jsx("h3",{className:"text-lg md:text-base 2xl:text-2xl text-center font-semibold tracking-wider md:mt-2 2xl:mt-4",children:"Average Data"}),B.jsxs("div",{className:"mt-6 md:mt-8 2xl:mt-12 flex flex-col items-center gap-2 md:gap-4 2xl:gap-6",children:[B.jsx(Yg,{labelName:"from",type:"date",name:"from",signalObject:e,signalProperty:"from",className:"flex gap-4 md:gap-2 2xl:gap-4 items-center",labelClassName:"text-text md:text-sm font-medium tracking-wide capitalize w-14 md:w-10 2xl:w-14",inputClassName:"bg-background/65 w-full p-2 md:p-1 2xl:p-2 md:text-xs 2xl:text-sm text-text/85 outline-none border border-secondary rounded"}),B.jsx(Yg,{labelName:"to",type:"date",name:"to",signalObject:e,signalProperty:"to",className:"flex gap-4 md:gap-2 2xl:gap-4 items-center",labelClassName:"text-text md:text-sm font-medium tracking-wide capitalize w-14 md:w-10 2xl:w-14",inputClassName:"bg-background/65 w-full p-2 md:p-1 2xl:p-2 md:text-xs 2xl:text-sm text-text/85 outline-none border border-secondary rounded"})]}),B.jsx("div",{className:"mt-6 md:mt-8 2xl:mt-12 flex items-start justify-center",children:B.jsxs("div",{className:"",children:[B.jsx("h3",{className:"font-medium tracking-wider text-sm md:text-xs 2xl:text-lg mb-6 md:mb-3 2xl:mb-6",children:"Average by"}),B.jsxs("div",{className:"flex justify-center items-center gap-8 md:gap-4 2xl:gap-8",children:[B.jsx(Aa,{name:"averageBy",value:"minute",signal:n,checkBoxValue:"Minute"}),B.jsx(Aa,{name:"averageBy",value:"hour",signal:n,checkBoxValue:"Hour"}),B.jsx(Aa,{name:"averageBy",value:"day",signal:n,checkBoxValue:"Day"})]})]})})]});default:return null}};return B.jsxs("div",{className:"bg-secondary text-white flex-1 p-8 md:p-4 2xl:pt-12 rounded-lg",children:[s(),B.jsx("div",{className:"flex justify-center mt-6",children:B.jsx("button",{onClick:a,className:"md:mt-2 2xl:mt-4 bg-primary hover:bg-primary/80 text-white px-8 md:px-4 2xl:px-8 py-2 md:py-1 2xl:py-2 text-sm md:text-xs 2xl:text-base rounded-lg md:rounded-md 2xl:rounded-lg transition-colors",children:"Plot Graph"})})]})},KTe=({isSelected:t,onClick:e,icon:n,label:i,variant:r="horizontal"})=>{yr();const a=!!t;return B.jsxs("button",{className:`flex text-sm md:text-base ${r==="vertical"?"flex-col items-center justify-center py-3 2xl:py-5 gap-6 md:gap-3 2xl:gap-4 w-[180px]":"items-center justify-center gap-3 md:gap-2 2xl:gap-3"} ${r==="horizontal"?"py-2.5 lg:py-3 xl:py-5":"md:px-2 md:py-4 2xl:p-2.5"} rounded-lg transition-all ${a?"bg-primary text-white":r==="vertical"?"bg-secondary text-primary hover:bg-secondary/70":"bg-secondary text-text hover:bg-secondary/70"}`,onClick:e,"data-selected":a,id:i.toLowerCase().replace(/\s+/g,"-"),children:[B.jsx(n,{className:` ${r==="vertical"?"w-6 h-6 md:w-6 md:h-6  2xl:w-10 2xl:h-10":"2xl:w-8 2xl:h-8"}`}),B.jsx("span",{className:` ${r==="vertical"?"md:text-[10px] 2xl:text-base text-text":"2xl:text-lg"} font-medium tracking-wide`,children:i})]})},AU=({tabOptions:t,variant:e="horizontal"})=>{yr();const n=i=>{Sa.value=i,lh.value=[]};return ce.useEffect(()=>{!t.some(r=>r.id===Sa.value)&&t.length>0&&(Sa.value=t[0].id)},[t]),B.jsx("div",{className:`${e==="vertical"?"grid grid-cols-2 md:flex flex-col gap-2 justify-between h-full px-4 md:p-2 2xl:p-4 py-4 md:py-2 2xl:py-8 [&>*:last-child]:col-span-2 [&>*:last-child]:md:col-auto":"grid grid-cols-2 sm:grid-cols-4 gap-4 md:gap-2.5 2xl:gap-4 md:mt-1.5 mb-4 md:m-1 xl:mx-4 xl:my-4"} `,children:t.map(i=>B.jsx(KTe,{variant:e,isSelected:Sa.value===i.id,onClick:()=>n(i.id),icon:i.icon,label:i.label},i.id))})},$Te=()=>{yr();const t=Zee(!1),e=i=>{rh.value===i?t.value=!t.value:(xn.value=[],rh.value=i,t.value=!0)},n=i=>{const r=xn.value;r.includes(i)?xn.value=r.filter(a=>a!==i):xn.value=[...r,i],xn.value=[...xn.value]};return Qee(()=>{const i=r=>{r.target.closest(".dropdown-container")||(t.value=!1)};return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)}),B.jsxs("div",{className:"bg-secondary text-white p-4 md:p-2.5 xl:p-4 px-6 md:px-3 xl:px-6 rounded-lg flex items-center justify-between gap-1",children:[B.jsxs("p",{className:"text-sm md:text-[10px] xl:text-xs 2xl:text-sm font-semibold md:font-medium xl:font-semibold tracking-widest md:tracking-wider xl:tracking-wider leading-5 md:leading-3 xl:leading-4",children:["Select ",B.jsx("br",{})," Sensor"]}),B.jsxs("div",{className:"flex gap-1.5 md:gap-1.5 xl:gap-2",children:[B.jsxs("div",{className:`dropdown-container relative bg-background rounded-lg md:rounded-md xl:rounded-lg px-4 md:px-2 2xl:px-4 py-2 md:py-1 xl:py-2 cursor-pointer ${rh.value==="A"?"bg-primary":"bg-background"}`,onClick:()=>e("A"),children:[B.jsxs("div",{className:"flex items-center justify-between gap-1.5 w-24 md:w-13 xl:w-16 2xl:w-24",children:[B.jsx("span",{className:"text-sm md:text-[10px] xl:text-xs 2xl:text-sm",children:"Side A"}),B.jsx("span",{className:`transform transition-transform duration-200 ${rh.value==="A"&&t.value?"rotate-180":""}`,children:B.jsx(L4,{className:"w-4 h-4 lg:w-3 lg:h-3 xl:w-5 xl:h-5"})})]}),rh.value==="A"&&t.value&&B.jsx("div",{className:"absolute left-0 top-full mt-1 w-full bg-background/95 backdrop-blur-sm rounded-lg shadow-lg max-h-48 overflow-y-auto z-50 border border-primary/30",children:Array.from({length:20},(i,r)=>r+1).map(i=>B.jsxs("div",{className:`px-4 md:px-2 xl:px-4 py-2 md:py-1 xl:py-2 cursor-pointer text-[9px] border-b border-primary/10 last:border-b-0 ${xn.value.includes(i)?"bg-primary/40 text-white":"hover:bg-primary/25 text-white"}`,onClick:r=>{r.stopPropagation(),n(i)},children:["Sensor ",i]},i))})]}),B.jsxs("div",{className:`dropdown-container relative bg-background rounded-lg md:rounded-md xl:rounded-lg px-4  md:px-2 2xl:px-4 py-2 md:py-1 xl:py-2 cursor-pointer ${rh.value==="B"?"bg-primary":"bg-background"}`,onClick:()=>e("B"),children:[B.jsxs("div",{className:"flex items-center justify-between gap-1.5 w-24 md:w-13 xl:w-18 2xl:w-24",children:[B.jsx("span",{className:"text-sm md:text-[10px] xl:text-xs 2xl:text-sm",children:"Side B"}),B.jsx("span",{className:`transform transition-transform duration-200 ${rh.value==="B"&&t.value?"rotate-180":""}`,children:B.jsx(L4,{className:"w-4 h-4 lg:w-3 lg:h-3 xl:w-5 xl:h-5"})})]}),rh.value==="B"&&t.value&&B.jsx("div",{className:"absolute left-0 top-full mt-1 w-full bg-background/95 backdrop-blur-sm rounded-lg shadow-lg max-h-48 overflow-y-auto z-50 border border-primary/30",children:Array.from({length:20},(i,r)=>r+21).map(i=>B.jsxs("div",{className:`px-4 md:px-2 xl:px-4 py-2 md:py-1 xl:py-2 cursor-pointer text-[9px] border-b border-primary/10 last:border-b-0 ${xn.value.includes(i)?"bg-primary/40 text-white":"hover:bg-primary/25 text-white"}`,onClick:r=>{r.stopPropagation(),n(i)},children:["Sensor ",i]},i))})]})]})]})},ZTe=()=>{yr();const t=n=>{console.log("[SensorCheckboxGrid] Clicked sensor:",n),console.log("[SensorCheckboxGrid] selectedSensors.value BEFORE:",JSON.stringify(xn.value)),xn.value.includes(n)?xn.value=xn.value.filter(i=>i!==n):xn.value=[...xn.value,n],console.log("[SensorCheckboxGrid] selectedSensors.value AFTER:",JSON.stringify(xn.value))},e=rh.value==="B"?Array.from({length:20},(n,i)=>i+21):Array.from({length:20},(n,i)=>i+1);return B.jsxs("div",{className:"bg-secondary rounded-lg p-4 md:p-2 2xl:p-4 mt-4 md:mt-2 2xl:mt-3",children:[B.jsx("h3",{className:"text-text font-medium md:text-xs md:font-normal 2xl:text-sm 2xl:font-medium mb-3 md:mb-1.5 2xl:mb-2.5 tracking-wider",children:"Select Individual Sensors"}),B.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-10 gap-2 md:gap-1.5 2xl:gap-2",children:e.map(n=>B.jsx(Aa,{type:"checkbox",name:`sensor-${n}`,id:`sensor-${n}`,value:n,checked:xn.value.includes(n),onChange:()=>t(n),checkBoxValue:`S${n}`,className:"w-4 h-4",labelClassName:"text-sm"},n))})]})},QTe=()=>{yr();const[t,e]=ce.useState(0),[n,i]=ce.useState(0),[r,a]=ce.useState(!1),[s,o]=ce.useState(null),[l,c]=ce.useState(!1);console.log(so),ce.useEffect(()=>{const p=()=>{const v=document.querySelector("header");v&&e(v.offsetHeight),window.innerWidth>=1024&&i(window.innerHeight-100)};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]);const f=ce.useCallback(async()=>{if(console.log("[Analytics] fetchData called. selectedSensors.value:",JSON.stringify(xn.value)),xn.value.length===0){console.log("No sensors selected, clearing chart data"),lh.value=[];return}c(!0),o(null),M8.value="analytics";try{await LI()}catch(p){console.error("Error in fetchData (Analytics):",p),o(p),lh.value=[]}finally{c(!1)}},[xn.value]);ce.useEffect(()=>{f()},[xn.value]),ce.useEffect(()=>{const p=v=>{v.target.closest(".dropdown-container")||a(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const d=[{id:"date",label:"Date Picker",icon:qJ},{id:"average",label:"Average Data",icon:JJ},{id:"interval",label:"Interval Data",icon:WJ},{id:"count",label:"Count-wise Data",icon:YJ}];return KT.value||l?B.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900/50 z-50",children:B.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl flex flex-col items-center",children:[B.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mb-4"}),B.jsx("p",{className:"text-lg font-medium text-gray-800",children:"Loading chart data..."})]})}):B.jsx("section",{className:"bg-background min-h-screen w-full overflow-x-hidden",style:{marginTop:`${t}px`},children:B.jsx("div",{className:"max-w-screen mx-auto px-4 sm:px-6 lg:px-8 py-8",style:{height:window.innerWidth>=1024?`${n}px`:"auto"},children:B.jsxs("fieldset",{className:"border border-primary/75 rounded-lg p-3 md:p-2 py-4 md:py-1 h-full",children:[B.jsx(AU,{tabOptions:d}),B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 md:gap-2 xl:gap-3 text-text m-1 md:m-1.5 md:mt-2 xl:mx-4 2xl:mt-4",children:[B.jsxs("div",{className:"flex flex-col gap-4 md:gap-2",children:[B.jsx($Te,{}),B.jsx(JTe,{mode:Sa,dateRange:Bs,averageBy:Ay,countOptions:so,customCount:FS,onPlotGraph:()=>{M8.value="analytics",LI()}})]}),B.jsxs("div",{className:"md:col-span-3 flex flex-col bg-secondary rounded-lg p-4 md:p-2 2xl:p-4",style:{height:`${window.innerWidth>1024?n-200:n-110}px`},children:[B.jsx("div",{className:"!h-[250px] md:h-full flex-1 border border-primary/30 rounded-lg p-4 md:p-2 2xl:p-4",children:B.jsx(ZW,{source:"analytics"})}),B.jsx(ZTe,{})]})]})]})})})};function eCe(t){return Hs({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zm-1-4-1.41-1.41L13 12.17V4h-2v8.17L8.41 9.59 7 11l5 5 5-5z"},child:[]}]})(t)}const u4=({label:t,children:e})=>B.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-center md:gap-20 mb-2",children:[B.jsx("label",{className:"text-text text-sm md:text-sm 2xl:text-sm w-fit md:w-32 my-2",children:t}),B.jsxs("div",{className:"w-full md:w-7/12 bg-primary/50 border border-secondary rounded-lg px-2",children:[" "," ",e]})]}),Z2=({value:t,checked:e,onChange:n,label:i,name:r="option"})=>B.jsxs("label",{className:"flex items-center gap-3 cursor-pointer text-text",children:[B.jsxs("div",{className:"relative",children:[B.jsx("input",{type:"radio",name:r,value:t,checked:e,onChange:n,className:"sr-only"}),B.jsx("div",{className:`w-3.5 h-3.5 md:w-4 md:h-4 2xl:w-5 2xl:h-5 border-2 ${e?"border-primary bg-primary/20":"border-primary"} rounded-full flex items-center justify-center`,children:e&&B.jsx("div",{className:"w-2 h-2 md:w-2 md:h-2 2xl:w-3 2xl:h-3 rounded-full bg-primary"})})]}),B.jsx("span",{className:"text-sm md:text-xs 2xl:text-sm",children:i})]}),tCe=({onClick:t})=>B.jsxs("button",{onClick:t,className:"flex items-center justify-center gap-2 p-2 px-4 md:p-3 md:px-6 bg-primary text-white rounded-md md:rounded-lg hover:bg-primary/90 transition-colors",children:[B.jsx(eCe,{className:"w-4 h-4 md:w-5 md:h-5"}),"Download Excel"]}),nCe="/assets/report_amico-D80fWJYt.png",iCe=()=>{yr();const t=Array.from({length:20},(o,l)=>l+1),e=Array.from({length:20},(o,l)=>l+21),n=[...t,...e],i=o=>{let l={...Ia.value};if(o==="ALL"){const c=a(),f=c.every(d=>xn.value.includes(d));if(f)xn.value=xn.value.filter(d=>!c.includes(d));else{const d=xn.value.filter(p=>!c.includes(p));xn.value=[...d,...c]}l.ALL=!f}else{l[o]=!Ia.value[o];let c=[];if(l.A&&(c=[...c,...t]),l.B&&(c=[...c,...e]),xn.value=xn.value.filter(f=>c.includes(f)),!l.A&&!l.B)l.ALL=!1;else{const f=c.length>0&&c.every(d=>xn.value.includes(d));l.ALL=f}}Ia.value=l},r=o=>{const l=[...xn.value],c=l.indexOf(o);c===-1?l.push(o):l.splice(c,1),xn.value=l;const f=a(),d=f.length>0&&f.every(p=>l.includes(p));Ia.value={...Ia.value,ALL:d}},a=()=>Ia.value.A&&Ia.value.B?n:Ia.value.A?t:Ia.value.B?e:[],s=()=>{const o=a(),l=new Set(xn.value);if(o.length>0&&o.every(f=>l.has(f))?o.forEach(f=>l.delete(f)):o.forEach(f=>l.add(f)),xn.value=Array.from(l),o.length>0){const f=o.every(d=>xn.value.includes(d));Ia.value={...Ia.value,ALL:f}}else Ia.value={...Ia.value,ALL:!1}};return B.jsxs("div",{className:"space-y-1 py-2",children:[B.jsxs("div",{className:"flex p-2 justify-between",children:[B.jsx(Aa,{type:"checkbox",name:"selectsensors",checkBoxValue:"Side A",checked:Ia.value.A,onChange:()=>i("A"),labelClassName:"text-text text-xs md:text-sm"}),B.jsx(Aa,{type:"checkbox",name:"selectsensors",checkBoxValue:"Side B",checked:Ia.value.B,onChange:()=>i("B"),labelClassName:"text-text text-xs md:text-sm"})]}),B.jsxs("div",{className:"relative",children:[B.jsxs("button",{type:"button",className:"w-full p-2 xl:p-1.5 bg-primary/50 text-text outline-none rounded border border-text/20 flex items-center justify-between",onClick:()=>S2.value=!S2.value,children:[B.jsx("span",{className:"text-sm",children:xn.value.length?`${xn.value.length} sensors selected`:"Select sensors"}),B.jsx("svg",{className:`w-4 h-4 transition-transform ${S2.value?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),S2.value&&B.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-background border border-text/20 rounded max-h-48 overflow-y-auto z-10",children:(()=>{const o=a();if(o.length===0&&(Ia.value.A||Ia.value.B))return B.jsx("p",{className:"text-text/70 text-xs p-2 text-center",children:"No sensors available for selected side(s)."});if(o.length===0&&!Ia.value.A&&!Ia.value.B)return B.jsx("p",{className:"text-text/70 text-xs p-2 text-center",children:"Please select a side first."});const l=o.length>0&&o.every(c=>xn.value.includes(c));return B.jsxs("div",{className:"grid grid-cols-4 gap-2 p-2",children:[o.length>0&&B.jsxs("div",{className:"col-span-4 p-1 border-b border-text/10 mb-1",children:[" ",B.jsx(Aa,{type:"checkbox",name:"selectAllDropdownSensors",checkBoxValue:"Select All",checked:l,onChange:s,labelClassName:"text-text text-xs md:text-sm w-full font-medium"})]}),o.map(c=>B.jsx(Aa,{type:"checkbox",checkBoxValue:`S${c}`,value:c.toString(),checked:xn.value.includes(c),onChange:()=>r(c),labelClassName:"text-text"},c))]})})()})]})]})},Q2=en("hour"),rCe=({onDownload:t,type:e})=>{yr();const n=a=>{so.value=a};ce.useEffect(()=>{},[Sa]);const i=()=>{switch(e.value){case"average":return B.jsx(B.Fragment,{children:B.jsxs("div",{className:"px-2 pb-4 flex items-center justify-center gap-10 md:gap-20",children:[B.jsx("label",{className:"text-text text-xs md:text-sm 2xl:text-base w-full md:w-32 font-semibold tracking-widest md:tracking-wider",children:"Average By :"}),B.jsxs("div",{className:"w-9/12 md:w-7/12 flex flex-row items-center justify-center gap-2 md:gap-8",children:[B.jsx(Z2,{value:"hour",checked:Ay.value==="hour",onChange:a=>Ay.value=a.target.value,label:"Hour",name:"averageBy"}),B.jsx(Z2,{value:"day",checked:Ay.value==="day",onChange:a=>Ay.value=a.target.value,label:"Day",name:"averageBy"})]})]})});case"interval":return B.jsxs("div",{className:"flex items-center justify-center gap-12 md:gap-20",children:[B.jsx("label",{className:"text-text text-xs md:text-sm 2xl:text-base w-full md:w-32 font-semibold tracking-widest md:tracking-wider",children:"Get 1 data for every"}),B.jsxs("div",{className:"w-9/12 md:w-7/12 flex flex-row items-center justify-center gap-2 md:gap-8",children:[B.jsx(Z2,{value:"hour",checked:Q2.value==="hour",onChange:a=>Q2.value=a.target.value,label:"Hour",name:"intervalBy"}),B.jsx(Z2,{value:"day",checked:Q2.value==="day",onChange:a=>Q2.value=a.target.value,label:"Day",name:"intervalBy"})]})]});case"count":return B.jsxs(B.Fragment,{children:[B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 place-items-center md:gap-8 mt-8",children:[B.jsx(eE,{label:"Last 100 Data",checked:so.value==="last100",onChange:()=>n("last100")}),B.jsx(eE,{label:"Last 500 Data",checked:so.value==="last500",onChange:()=>n("last500")}),B.jsx(eE,{label:"Last 1000 Data",checked:so.value==="last1000",onChange:()=>n("last1000")}),B.jsx(eE,{label:"Custom Count",checked:so.value==="custom",onChange:()=>n("custom")})]}),so.value==="custom"&&B.jsx("div",{className:"mt-6",children:B.jsx(u4,{label:"Count Value",children:B.jsx("input",{type:"number",value:FS.value,onChange:a=>FS.value=parseInt(a.target.value)||0,placeholder:"Enter custom count",className:"w-full p-2 md:p-1.5 2xl:p-2 bg-transparent text-text text-base md:text-sm 2xl:text-base outline-none",min:"1"})})})]});default:return null}},r=()=>{switch(e.value){case"average":return"Select Data Range";case"interval":return"Select Time Interval";case"date":return"Select Date Range";case"count":return"Select Count";default:return""}};return B.jsxs("div",{className:"grid sm:grid-cols-2 gap-8 p-4 h-full",children:[B.jsx("div",{className:"sm:flex items-center justify-center hidden",children:B.jsx("img",{src:nCe,alt:"",className:"xl:w-9/12"})}),B.jsxs("div",{className:"flex flex-col items-center justify-around h-full",children:[B.jsxs("div",{className:"space-y-3 md:space-y-4 xl:space-y-6 w-full sm:w-10/12",children:[B.jsx("h2",{className:"text-base xl:text-lg text-center font-semibold tracking-widest bg-primary text-transparent bg-clip-text",children:r()}),B.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-center gap-2 md:gap-20",children:[B.jsx("label",{className:"text-text/85 text-sm w-fit md:w-32",children:"Configuration"}),B.jsx("div",{className:"w-full md:w-7/12 border border-secondary rounded-lg px-2",children:B.jsx(iCe,{})})]}),e.value!=="count"&&B.jsx("div",{className:"space-y-8 px-2 ",children:B.jsxs("div",{className:"w-full not-odd:flex flex-col justify-between items-center gap-2",children:[B.jsx(u4,{label:"From",children:B.jsx("input",{type:"date",value:Bs.value.from,onChange:a=>Bs.value={...Bs.value,from:a.target.value},className:"w-full p-1.5 md:p-1.5 2xl:p-3 mb-2 md:mb-0 bg-transparent text-text text-sm md:text-sm 2xl:text-base outline-none"})}),B.jsx(u4,{label:"To",children:B.jsx("input",{type:"date",value:Bs.value.to,onChange:a=>Bs.value={...Bs.value,to:a.target.value},className:"w-full p-1.5 md:p-1.5 2xl:p-3 mb-2 md:mb-0 bg-transparent text-text text-sm md:text-sm 2xl:text-base outline-none"})})]})}),i()]}),B.jsx("div",{className:"flex justify-center items-center w-10/12 my-4",children:B.jsx(tCe,{onClick:t})})]})]})},eE=({label:t,checked:e,onChange:n})=>B.jsxs("label",{className:"flex items-center justify-between md:gap-3 cursor-pointer text-text w-10/12 md:w-8/12 mt-8",children:[B.jsxs("div",{className:"relative",children:[B.jsx("input",{type:"checkbox",checked:e,onChange:n,className:"sr-only"}),B.jsx("div",{className:`w-5 h-5 md:w-4 md:h-4 2xl:w-5 2xl:h-5 border-2 ${e?"border-primary bg-primary/20":"border-primary"} rounded flex items-center justify-center`,children:e&&B.jsx("div",{className:"w-3 h-3 md:w-2 md:h-2 2xl:w-3 2xl:h-3 bg-primary rounded"})})]}),B.jsx("span",{className:"text-center text-base md:text-sm 2xl:text-base w-9/12 md:w-full",children:t})]}),aCe=en("hour"),sCe=()=>{const[t,e]=ce.useState(0),[n,i]=ce.useState(0),[r,a]=ce.useState(!1),s=[{id:"date",label:"Date Picker",icon:qJ},{id:"average",label:"Average Data",icon:JJ},{id:"interval",label:"Interval Data",icon:WJ},{id:"count",label:"Count-wise Data",icon:YJ}];ce.useEffect(()=>{const c=()=>{const f=document.querySelector("header");f&&e(f.offsetHeight),window.innerWidth>=1024&&i(window.innerHeight-100)};return c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const o=async()=>{try{a(!0);const c={reportType:Sa.value,configuration:Ia.value.A?"A":Ia.value.B?"B":"ALL",dateRange:Bs.value,selectedSensors:xn.value};Sa.value==="average"?c.averageBy=Ay.value:Sa.value==="interval"?c.interval=aCe.value:Sa.value==="count"&&(c.selectedCounts={last100:so.value==="last100",last500:so.value==="last500",last1000:so.value==="last1000",custom:so.value==="custom"},so.value==="custom"&&(c.customCount=FS.value));const f=await Bn.post("reports/export-excel",c,{responseType:"blob",headers:{Accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}),d=new Blob([f.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),p=window.URL.createObjectURL(d),v=document.createElement("a");v.style.display="none",v.href=p;let _="";switch(Sa.value){case"average":_=`Average_Data_${Bs.value.from}_to_${Bs.value.to}.xlsx`;break;case"interval":_=`Interval_Data_${Bs.value.from}_to_${Bs.value.to}.xlsx`;break;case"date":_=`Date_Data_${Bs.value.from}_to_${Bs.value.to}.xlsx`;break;case"count":_=`Count_Data_${new Date().toISOString().split("T")[0]}.xlsx`;break;default:_="report.xlsx"}v.download=_,document.body.appendChild(v),v.click(),window.URL.revokeObjectURL(p),document.body.removeChild(v)}catch(c){console.error("Download error:",c),alert(`Failed to download report: ${c.message}`)}finally{a(!1)}},l=()=>B.jsx(rCe,{type:Sa,onDownload:o});return B.jsxs("section",{className:"bg-background min-h-screen w-full overflow-x-hidden",style:{marginTop:`${t}px`},children:[B.jsx("div",{className:"max-w-screen mx-auto px-4 sm:px-6 lg:px-8 py-8",style:{height:window.innerWidth>=1024?`${n}px`:"auto"},children:B.jsxs("fieldset",{className:"border border-primary/75 rounded-lg p-3 md:p-2 py-4 md:py-1 h-full",children:[B.jsx(AU,{tabOptions:s}),B.jsx("div",{className:"bg-primary/25 rounded-lg md:mx-2 xl:mx-4",style:{height:`${n-t-132}px`},children:l()})]})}),r&&B.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:B.jsxs("div",{className:"p-6 rounded-lg shadow-xl text-center",children:[B.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mx-auto mb-4"}),B.jsx("p",{className:"text-text/75",children:"Generating Excel file..."})]})})]})};function oCe(t){return Hs({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0M3.124 7.5A8.969 8.969 0 0 1 5.292 3m13.416 0a8.969 8.969 0 0 1 2.168 4.5"},child:[]}]})(t)}function lCe(t){return Hs({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304l91.4 0C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7L29.7 512C13.3 512 0 498.7 0 482.3zM609.3 512l-137.8 0c5.4-9.4 8.6-20.3 8.6-32l0-8c0-60.7-27.1-115.2-69.8-151.8c2.4-.1 4.7-.2 7.1-.2l61.4 0C567.8 320 640 392.2 640 481.3c0 17-13.8 30.7-30.7 30.7zM432 256c-31 0-59-12.6-79.3-32.9C372.4 196.5 384 163.6 384 128c0-26.8-6.6-52.1-18.3-74.3C384.3 40.1 407.2 32 432 32c61.9 0 112 50.1 112 112s-50.1 112-112 112z"},child:[]}]})(t)}function cCe(t){return Hs({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M304 128a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zM96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM49.3 464l349.5 0c-8.9-63.3-63.3-112-129-112l-91.4 0c-65.7 0-120.1 48.7-129 112zM0 482.3C0 383.8 79.8 304 178.3 304l91.4 0C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7L29.7 512C13.3 512 0 498.7 0 482.3z"},child:[]}]})(t)}function uCe(t){return Hs({attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15 13V14H1.5L1 13.5V0H2V13H15Z"},child:[]},{tag:"path",attr:{d:"M13 3.20714L7.85353 8.35359H7.14642L5.49998 6.70714L1.85353 10.3536L1.14642 9.64648L5.14642 5.64648H5.85353L7.49998 7.29293L12.6464 2.14648H13.3535L15.3535 4.14648L14.6464 4.85359L13 3.20714Z"},child:[]}]})(t)}function fCe(t){return Hs({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},child:[]},{tag:"path",attr:{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"},child:[]}]})(t)}const KJ=en([]),SU=en(null),nR=en(!1),iR=en(!1),rR=en(!1),lf=en(""),Mc=en({UserName:"",Email:"",Role:"",phoneNumber:""}),Nl=en({currentPassword:"",newPassword:"",confirmPassword:""}),Ds=en({UserName:"",Email:"",Role:"",phoneNumber:"",Password:""}),YM=async()=>{try{const t=await Bn.get("/users");KJ.value=t.data}catch(t){console.error("Error fetching users:",t)}},$J=async()=>{var t,e;try{await Bn.put(`/users/${SU.value._id}`,Mc.value),await YM(),nR.value=!1}catch(n){lf.value=((e=(t=n.response)==null?void 0:t.data)==null?void 0:e.message)||"Error updating user"}},ZJ=async t=>{var e,n;if(Nl.value.newPassword!==Nl.value.confirmPassword){lf.value="Passwords do not match";return}try{await Bn.put(`/users/${SU.value._id}/change-password`,{currentPassword:Nl.value.currentPassword,newPassword:Nl.value.newPassword,isSuperAdmin:t}),iR.value=!1,Nl.value={currentPassword:"",newPassword:"",confirmPassword:""}}catch(i){lf.value=((n=(e=i.response)==null?void 0:e.data)==null?void 0:n.message)||"Error changing password"}},QJ=async()=>{var t,e;try{await Bn.get(`/signup?${new URLSearchParams(Ds.value).toString()}`),await YM(),rR.value=!1,Ds.value={UserName:"",Email:"",Role:"user",phoneNumber:"",Password:""}}catch(n){lf.value=((e=(t=n.response)==null?void 0:t.data)==null?void 0:e.message)||"Error adding user"}},hCe=async t=>{var e,n;if(window.confirm("Are you sure you want to delete this user?"))try{await Bn.delete(`/users/${t}`),await YM()}catch(i){lf.value=((n=(e=i.response)==null?void 0:e.data)==null?void 0:n.message)||"Error deleting user"}},dCe=Object.freeze(Object.defineProperty({__proto__:null,addForm:Ds,editForm:Mc,error:lf,fetchUsers:YM,handleAddSubmit:QJ,handleDeleteUser:hCe,handleEditSubmit:$J,handlePasswordSubmit:ZJ,passwordForm:Nl,selectedUser:SU,showAddModal:rR,showEditModal:nR,showPasswordModal:iR,users:KJ},Symbol.toStringTag,{value:"Module"})),pCe=({isSuperAdmin:t,userSignals:e})=>(yr(),B.jsxs("div",{className:"p-4 bg-primary/25 rounded-lg shadow-lg h-full",children:[B.jsxs("div",{className:"md:flex justify-between items-center mb-6",children:[B.jsxs("div",{className:"flex gap-5",children:[B.jsxs("div",{className:"flex gap-4 border border-primary/75 bg-background/25 p-1 md:p-1.5 2xl:p-2 rounded-lg md:rounded-md 2xl:rounded-lg",children:[B.jsx("button",{className:`p-1.5 md:p-1.5 2xl:p-2 rounded tracking-wider text-sm md:text-sm 2xl:text-base ${d_.value==="profile"?"bg-primary text-secondary font-semibold":""}`,onClick:()=>{d_.value="profile",gc.value="Sort By",vc.value="asc"},children:"User Profile"}),t&&B.jsx("button",{className:`p-1.5 md:p-1.5 2xl:p-2 rounded tracking-wider text-sm md:text-sm 2xl:text-base ${d_.value==="log"?"bg-primary text-secondary font-semibold":""}`,onClick:()=>{d_.value="log",gc.value="Sort By",vc.value="asc"},children:"User Log"})]}),B.jsxs("div",{className:"relative",children:[B.jsxs("button",{onClick:()=>Dv.value=!Dv.value,className:"border border-primary/75 bg-background/25 p-1 md:p-1.5 2xl:p-2 px-1.5 md:px-2 2xl:px-3 h-full rounded-lg flex items-center justify-around gap-1 md:gap-2 w-25 md:w-35",children:[B.jsx("span",{className:"text-sm md:text-sm 2xl:text-base",children:gc.value==="username"?"Username":gc.value==="location"?"Region":gc.value==="timestamp"?"Time":"Sort By"}),B.jsx("span",{className:`transform transition-transform duration-200 ${Dv.value?"rotate-180":""}`,children:B.jsx(L4,{className:"w-3 h-3 md:w-3.5 md:h-3.5 2xl:w-5 2xl:h-5"})})]}),Dv.value&&B.jsx("div",{className:"absolute top-full left-0 mt-1.5 w-25 md:w-35 bg-background border border-primary/75 rounded-md shadow-lg z-50",children:B.jsxs("div",{className:"p-1",children:[B.jsx("button",{onClick:()=>{gc.value="username",vc.value=vc.value==="asc"?"desc":"asc",Dv.value=!1},className:"w-full text-left text-sm md:text-sm 2xl:text-base tracking-wide px-2.5 py-2 hover:bg-primary/20 rounded",children:"Username"}),B.jsx("button",{onClick:()=>{gc.value="location",vc.value=vc.value==="asc"?"desc":"asc",Dv.value=!1},className:"w-full text-left text-sm md:text-sm 2xl:text-base tracking-wide px-2.5 py-2 hover:bg-primary/20 rounded",children:"Region"}),B.jsx("button",{onClick:()=>{gc.value="timestamp",vc.value=vc.value==="asc"?"desc":"asc",Dv.value=!1},className:"w-full text-left text-sm md:text-sm 2xl:text-base tracking-wide px-2.5 py-2 hover:bg-primary/20 rounded",children:"Time"})]})})]})]}),t&&B.jsxs("button",{onClick:()=>e.showAddModal.value=!0,className:"flex items-center gap-2 bg-background/25 border border-primary/75 text-white rounded-lg p-2.5 2xl:p-3 px-3 md:px-2.5 2xl:px-3 mt-4 md:mt-0",children:[B.jsx(lCe,{className:"w-4 h-4 md:w-4 md:h-4 2xl:w-6 2xl:h-6"}),B.jsx("span",{className:"tracking-wider text-sm md:text-sm 2xl:text-base",children:"Add Users"})]})]}),B.jsx("div",{className:"bg-secondary/10 shadow rounded-lg overflow-hidden",children:B.jsxs("div",{className:"w-[320px] md:w-full",children:[(d_.value==="profile"||!t)&&(()=>{let n=e.users.value;return t||(n=n.filter(i=>i.Role!=="super_admin")),n=n.sort((i,r)=>{if(gc.value==="username")return vc.value==="asc"?i.UserName.localeCompare(r.UserName):r.UserName.localeCompare(i.UserName);if(gc.value==="location"){const a=i.Email||"",s=r.Email||"";return vc.value==="asc"?a.localeCompare(s):s.localeCompare(a)}if(gc.value==="timestamp"){const a=i.phoneNumber||"",s=r.phoneNumber||"";return vc.value==="asc"?a.localeCompare(s):s.localeCompare(a)}return 0}),B.jsx(o0,{data:n,columns:[{key:"UserName",header:"Username"},{key:"Email",header:"Email Id"},{key:"Role",header:"job Role"},{key:"phoneNumber",header:"Phone"}],actions:i=>!t&&(i.Role==="super_admin"||i.Role==="admin")?null:t?B.jsxs(B.Fragment,{children:[B.jsx("button",{onClick:()=>{e.selectedUser.value=i,e.editForm.value={UserName:i.UserName,Email:i.Email,Role:i.Role,phoneNumber:i.phoneNumber},e.showEditModal.value=!0},className:"text-primary hover:text-primary/80 mr-4",children:"Edit"}),B.jsx("button",{onClick:()=>e.handleDeleteUser(i._id),className:"text-red-500 hover:text-red-600 mr-4",children:"Delete"}),B.jsx("button",{onClick:()=>{e.selectedUser.value={_id:i._id},e.showPasswordModal.value=!0},className:"text-primary hover:text-primary/80",children:"Change Password"})]}):!t&&i.Role==="user"?B.jsxs(B.Fragment,{children:[B.jsx("button",{onClick:()=>{e.selectedUser.value=i,e.editForm.value={UserName:i.UserName,Email:i.Email,Role:i.Role,phoneNumber:i.phoneNumber},e.showEditModal.value=!0},className:"text-primary hover:text-primary/80 mr-4",children:"Edit"}),B.jsx("button",{onClick:()=>e.handleDeleteUser(i._id),className:"text-red-500 hover:text-red-600 mr-4",children:"Delete"})]}):null})})(),t&&d_.value==="log"&&B.jsx(o0,{data:e.users.value.flatMap(n=>(n.activities||[]).map(i=>{var r,a,s,o,l;return{username:n.UserName,method:i.type,timestamp:new Date(i.timestamp).toLocaleString(),ipAddress:i.ipAddress,location:(r=i.location)!=null&&r[0]?`${i.location[0].city||"Unknown"}, ${i.location[0].country||"Unknown"}`:"Unknown",latitude:((s=(a=i.location)==null?void 0:a[0])==null?void 0:s.latitude)??"Not available",longitude:((l=(o=i.location)==null?void 0:o[0])==null?void 0:l.longitude)??"Not available",rawTimestamp:new Date(i.timestamp).getTime()}})).sort((n,i)=>gc.value==="username"?vc.value==="asc"?n.username.localeCompare(i.username):i.username.localeCompare(n.username):gc.value==="location"?vc.value==="asc"?n.location.localeCompare(i.location):i.location.localeCompare(n.location):gc.value==="timestamp"?vc.value==="asc"?n.rawTimestamp-i.rawTimestamp:i.rawTimestamp-n.rawTimestamp:0),columns:[{key:"username",header:"Username"},{key:"method",header:"Method",render:n=>B.jsx("span",{className:`px-3 py-1 rounded-full font-semibold tracking-wider ${n==="login"?" text-green-800":" text-red-800"}`,children:n})},{key:"timestamp",header:"Timestamp"},{key:"ipAddress",header:"IP Address"},{key:"location",header:"Location"},{key:"latitude",header:"Latitude"},{key:"longitude",header:"Longitude"}]})]})})]})),mCe=()=>{yr(),ce.useEffect(()=>{t(),tte()},[]);const t=async()=>{try{const s=await Bn.get("/users");dy.value=s.data}catch(s){console.error("Error fetching users:",s)}},e=async()=>{try{await Bn.post("/report-config",{...SA.value,users:Sd.value}),alert("Report configuration saved successfully")}catch(s){console.error("Error saving report configuration:",s),alert("Error saving configuration. Please try again.")}},n=()=>dy.value.filter(s=>Sd.value.includes(s._id)).map(s=>({id:s._id,name:s.UserName,email:s.Email,role:s.Role})),i=()=>dy.value.filter(s=>!Sd.value.includes(s._id)).map(s=>({id:s._id,name:s.UserName,email:s.Email})),r=s=>{YN(s)},a=s=>{YN(s)};return B.jsxs("div",{className:"flex flex-col gap-4 md:gap-2 xl:gap-4 h-full",children:[B.jsxs("div",{className:"p-4 bg-primary/25 rounded-lg shadow-lg h-[50%]",children:[B.jsx("h3",{className:"text-base md:text-lg 2xl:text-xl font-medium tracking-wider text-text/85",children:"Selected People"}),B.jsx("div",{className:"w-[320px] md:w-full",children:B.jsx(o0,{data:n(),columns:[{key:"name",header:"Name"},{key:"email",header:"Email"},{key:"role",header:"Role"}],actions:s=>B.jsx("button",{onClick:()=>a(s.id),className:"text-red-500 hover:text-red-700",children:"Remove"})})})]}),B.jsxs("div",{className:"flex flex-col md:flex-row gap-4 md:gap-2 xl:gap-4 w-full h-[50%]",children:[B.jsxs("div",{className:"p-4 bg-primary/25 rounded-lg shadow-lg h-full w-full md:w-6/8",children:[B.jsx("div",{className:"flex justify-between items-center mb-4",children:B.jsx("h3",{className:"text-base md:text-lg 2xl:text-xl font-medium tracking-wider text-text/85",children:"Select People"})}),B.jsx("div",{className:"bg-background rounded-lg",children:B.jsx("div",{className:"w-[320px] md:w-full",children:B.jsx(o0,{data:i(),columns:[{key:"name",header:"Name"},{key:"email",header:"Email"}],actions:s=>B.jsx("button",{onClick:()=>r(s.id),className:"text-green-500 hover:text-green-700",children:"Add"})})})})]}),B.jsxs("div",{className:"p-4 md:py-2 bg-primary/25 rounded-lg shadow-lg h-full w-full md:w-2/8",children:[B.jsx("h4",{className:"text-base md:text-lg 2xl:text-xl font-medium tracking-wider text-text/85 mb-2",children:"Set Frequency"}),B.jsx("div",{className:"bg-background p-4 rounded-lg h-[60%] grid place-content-center",children:B.jsxs("div",{className:"grid grid-rows-3 place-items-center gap-4",children:[B.jsx(Aa,{type:"radio",name:"frequency",id:"daily",value:"daily",signalObject:SA,signalProperty:"frequency",checkBoxValue:"Daily",labelClassName:"w-30 gap-6"}),B.jsx(Aa,{type:"radio",name:"frequency",id:"weekly",value:"weekly",signalObject:SA,signalProperty:"frequency",checkBoxValue:"Weekly",labelClassName:"w-30 gap-6"}),B.jsx(Aa,{type:"radio",name:"frequency",id:"monthly",value:"monthly",signalObject:SA,signalProperty:"frequency",checkBoxValue:"Monthly",labelClassName:"w-30 gap-6"})]})}),B.jsx("div",{className:"mt-6",children:B.jsx("button",{onClick:e,className:"px-6 py-2 bg-primary text-text rounded hover:bg-primary/80 w-full",children:"Save Changes"})})]})]}),py.value&&B.jsxs(Nd,{onClose:()=>py.value=!1,children:[B.jsx("h2",{className:"text-xl font-semibold text-primary mb-4",children:"Select Users for Reports"}),B.jsx("div",{className:"max-h-96 overflow-y-auto",children:B.jsxs("table",{className:"w-full border-collapse",children:[B.jsx("thead",{children:B.jsxs("tr",{className:"bg-secondary/20",children:[B.jsx("th",{className:"p-2 text-left",children:"Select"}),B.jsx("th",{className:"p-2 text-left",children:"Username"}),B.jsx("th",{className:"p-2 text-left",children:"Email"}),B.jsx("th",{className:"p-2 text-left",children:"Role"})]})}),B.jsx("tbody",{children:dy.value.map(s=>B.jsxs("tr",{className:"border-b border-secondary/10",children:[B.jsx("td",{className:"p-2",children:B.jsx("input",{type:"checkbox",checked:Sd.value.includes(s._id),onChange:()=>YN(s._id),className:"h-4 w-4"})}),B.jsx("td",{className:"p-2",children:s.UserName}),B.jsx("td",{className:"p-2",children:s.Email}),B.jsx("td",{className:"p-2",children:s.Role})]},s._id))})]})}),B.jsx("div",{className:"mt-4 flex justify-end",children:B.jsx("button",{onClick:()=>{py.value=!1},className:"px-4 py-2 bg-primary text-text rounded hover:bg-primary/80",children:"Save & Close"})})]})]})};var Gg={},_c={};const Z3=f$(cwe);var Qp={},f4={},pH;function eK(){return pH||(pH=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultArc=t.getArcWidthByType=t.defaultSubArcs=void 0;var e=v1();t.defaultSubArcs=[{limit:33,color:"#5BE12C"},{limit:66,color:"#F5CD19"},{color:"#EA4228"}];var n=function(i){var r,a=(r={},r[e.GaugeType.Grafana]=.25,r[e.GaugeType.Semicircle]=.15,r[e.GaugeType.Radial]=.2,r);return i||(i=e.defaultGaugeProps.type),a[i]};t.getArcWidthByType=n,t.defaultArc={padding:.05,width:.25,cornerRadius:7,nbSubArcs:void 0,emptyColor:"#5C5C5C",colorArray:void 0,subArcs:t.defaultSubArcs,gradient:!1}}(f4)),f4}var h4={},mA={},mH;function tK(){if(mH)return mA;mH=1,Object.defineProperty(mA,"__esModule",{value:!0}),mA.defaultTickLabels=void 0;var t={color:"rgb(173 172 171)",length:7,width:1,distanceFromArc:3,hide:!1},e={formatTextValue:void 0,maxDecimalDigits:2,style:{fontSize:"10px",fill:"rgb(173 172 171)"},hide:!1},n=[];return mA.defaultTickLabels={type:"outer",hideMinMax:!1,ticks:n,defaultTickValueConfig:e,defaultTickLineConfig:t},mA}var gH;function gCe(){return gH||(gH=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLabels=t.defaultValueLabel=void 0;var e=tK();t.defaultValueLabel={formatTextValue:void 0,matchColorWithArc:!1,maxDecimalDigits:2,style:{fontSize:"35px",fill:"#fff",textShadow:"black 1px 0.5px 0px, black 0px 0px 0.03em, black 0px 0px 0.01em"},hide:!1},t.defaultLabels={valueLabel:t.defaultValueLabel,tickLabels:e.defaultTickLabels}}(h4)),h4}var d4={},vH;function MU(){return vH||(vH=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultPointer=t.defaultPointerRef=t.defaultPointerContext=t.PointerType=void 0;var e;(function(n){n.Needle="needle",n.Blob="blob",n.Arrow="arrow"})(e||(t.PointerType=e={})),t.defaultPointerContext={centerPoint:[0,0],pointerRadius:0,pathLength:0,currentPercent:0,prevPercent:0,prevProgress:0,pathStr:"",shouldDrawPath:!1,prevColor:""},t.defaultPointerRef={element:void 0,path:void 0,context:t.defaultPointerContext},t.defaultPointer={type:e.Needle,color:"#5A5A5A",baseColor:"white",length:.7,width:20,animate:!0,elastic:!1,hide:!1,animationDuration:3e3,animationDelay:100,strokeWidth:8}}(d4)),d4}var yH;function v1(){if(yH)return Qp;yH=1,Object.defineProperty(Qp,"__esModule",{value:!0}),Qp.getGaugeMarginByType=Qp.defaultGaugeProps=Qp.GaugeType=void 0;var t=eK(),e=gCe(),n=MU(),i;(function(a){a.Semicircle="semicircle",a.Radial="radial",a.Grafana="grafana"})(i||(Qp.GaugeType=i={})),Qp.defaultGaugeProps={id:"",className:"gauge-component-class",style:{width:"100%"},marginInPercent:.07,value:33,minValue:0,maxValue:100,arc:t.defaultArc,labels:e.defaultLabels,pointer:n.defaultPointer,type:i.Grafana};var r=function(a){var s,o=(s={},s[i.Grafana]={top:.12,bottom:0,left:.07,right:.07},s[i.Semicircle]={top:.08,bottom:0,left:.08,right:.08},s[i.Radial]={top:.07,bottom:0,left:.07,right:.07},s);return o[a]};return Qp.getGaugeMarginByType=r,Qp}var em={},nh={},gA={},xH;function Q3(){return xH||(xH=1,function(t){var e=gA&&gA.__assign||function(){return e=Object.assign||function(p){for(var v,_=1,S=arguments.length;_<S;_++){v=arguments[_];for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(p[b]=v[b])}return p},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.camelCaseToKebabCase=t.getCurrentGaugeValueByPercentage=t.getCurrentGaugePercentageByValue=t.degToRad=t.normalize=t.floatingNumber=t.percentToRad=t.mergeObjects=t.isEmptyObject=t.calculatePercentage=void 0;var n=function(p,v,_){if(_<p)return 0;if(_>v)return 1;var S=(_-p)/(v-p);return S};t.calculatePercentage=n;var i=function(p){return Object.keys(p).length===0&&p.constructor===Object};t.isEmptyObject=i;var r=function(p,v){var _=e({},p);return Object.keys(v).forEach(function(S){var b=p[S],A=v[S];Array.isArray(b)&&Array.isArray(A)?_[S]=A:typeof b=="object"&&typeof A=="object"?_[S]=(0,t.mergeObjects)(b,A):A!==void 0&&(_[S]=A)}),_};t.mergeObjects=r;var a=function(p,v){return p*(Math.PI/v)};t.percentToRad=a;var s=function(p,v){return v===void 0&&(v=2),Math.round(p*Math.pow(10,v))/Math.pow(10,v)};t.floatingNumber=s;function o(p,v,_){return(p-v)/(_-v)*100}t.normalize=o;var l=function(p){return p*(Math.PI/180)};t.degToRad=l;var c=function(p,v){return(0,t.calculatePercentage)(v.minValue,v.maxValue,p)};t.getCurrentGaugePercentageByValue=c;var f=function(p,v){var _=v.props.minValue,S=v.props.maxValue,b=_+p*(S-_);return b};t.getCurrentGaugeValueByPercentage=f;var d=function(p){return p.replace(/[A-Z]/g,function(v){return"-".concat(v.toLowerCase())})};t.camelCaseToKebabCase=d}(gA)),gA}var p4={},_H;function nK(){return _H||(_H=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CONSTANTS=void 0,t.CONSTANTS={arcTooltipClassname:"gauge-component-arc-tooltip",tickLineClassname:"tick-line",tickValueClassname:"tick-value",valueLabelClassname:"value-text",debugTicksRadius:!1,debugSingleGauge:!1,rangeBetweenCenteredTickValueLabel:[.35,.65]},t.default=t.CONSTANTS}(p4)),p4}var vA={},bH;function vCe(){return bH||(bH=1,Object.defineProperty(vA,"__esModule",{value:!0}),vA.defaultTooltipStyle=void 0,vA.defaultTooltipStyle={borderColor:"#5A5A5A",borderStyle:"solid",borderWidth:"1px",borderRadius:"5px",color:"white",padding:"5px",fontSize:"15px",textShadow:"1px 1px 2px black, 0 0 1em black, 0 0 0.2em black"}),vA}var jA={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var yCe=jA.exports,AH;function xCe(){return AH||(AH=1,function(t,e){(function(){var n,i="4.17.21",r=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",o="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,f="__lodash_placeholder__",d=1,p=2,v=4,_=1,S=2,b=1,A=2,T=4,R=8,C=16,L=32,P=64,k=128,G=256,z=512,F=30,j="...",ne=800,W=16,Y=1,K=2,H=3,J=1/0,Q=9007199254740991,ie=17976931348623157e292,V=NaN,$=4294967295,oe=$-1,de=$>>>1,fe=[["ary",k],["bind",b],["bindKey",A],["curry",R],["curryRight",C],["flip",z],["partial",L],["partialRight",P],["rearg",G]],ge="[object Arguments]",Se="[object Array]",De="[object AsyncFunction]",He="[object Boolean]",Fe="[object Date]",ke="[object DOMException]",Qe="[object Error]",Re="[object Function]",st="[object GeneratorFunction]",pe="[object Map]",St="[object Number]",Ie="[object Null]",_e="[object Object]",Le="[object Promise]",pt="[object Proxy]",ze="[object RegExp]",le="[object Set]",te="[object String]",Ee="[object Symbol]",Xe="[object Undefined]",et="[object WeakMap]",tt="[object WeakSet]",_t="[object ArrayBuffer]",gt="[object DataView]",Mt="[object Float32Array]",An="[object Float64Array]",yt="[object Int8Array]",Ot="[object Int16Array]",zt="[object Int32Array]",Ht="[object Uint8Array]",wt="[object Uint8ClampedArray]",Ae="[object Uint16Array]",it="[object Uint32Array]",Ct=/\b__p \+= '';/g,be=/\b(__p \+=) '' \+/g,xt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$e=/&(?:amp|lt|gt|quot|#39);/g,at=/[&<>"']/g,Dt=RegExp($e.source),Rt=RegExp(at.source),Jt=/<%-([\s\S]+?)%>/g,On=/<%([\s\S]+?)%>/g,vi=/<%=([\s\S]+?)%>/g,En=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ur=/^\w*$/,hr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Er=/[\\^$.*+?()[\]{}|]/g,$r=RegExp(Er.source),ca=/^\s+/,xs=/\s/,Yd=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Jo=/\{\n\/\* \[wrapped with (.+)\] \*/,is=/,? & /,Ko=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ui=/[()=,{}\[\]\/\s]/,$o=/\\(\\)?/g,Zo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Uc=/\w*$/,Ic=/^[-+]0x[0-9a-f]+$/i,Ir=/^0b[01]+$/i,Th=/^\[object .+?Constructor\]$/,Ch=/^0o[0-7]+$/i,Qo=/^(?:0|[1-9]\d*)$/,se=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Te=/($^)/,We=/['\n\r\u2028\u2029\\]/g,Je="\\ud800-\\udfff",Oe="\\u0300-\\u036f",mt="\\ufe20-\\ufe2f",Tt="\\u20d0-\\u20ff",Nt=Oe+mt+Tt,Ft="\\u2700-\\u27bf",rn="a-z\\xdf-\\xf6\\xf8-\\xff",Zt="\\xac\\xb1\\xd7\\xf7",jt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Fn="\\u2000-\\u206f",oi=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rr="A-Z\\xc0-\\xd6\\xd8-\\xde",zn="\\ufe0e\\ufe0f",Vn=Zt+jt+Fn+oi,Kt="['’]",xr="["+Je+"]",Zn="["+Vn+"]",Fr="["+Nt+"]",el="\\d+",Xi="["+Ft+"]",tl="["+rn+"]",Di="[^"+Je+Vn+el+Ft+rn+rr+"]",Zr="\\ud83c[\\udffb-\\udfff]",zr="(?:"+Fr+"|"+Zr+")",Qr="[^"+Je+"]",Hr="(?:\\ud83c[\\udde6-\\uddff]){2}",wa="[\\ud800-\\udbff][\\udc00-\\udfff]",rs="["+rr+"]",Rh="\\u200d",Nh="(?:"+tl+"|"+Di+")",Um="(?:"+rs+"|"+Di+")",Im="(?:"+Kt+"(?:d|ll|m|re|s|t|ve))?",C0="(?:"+Kt+"(?:D|LL|M|RE|S|T|VE))?",Dh=zr+"?",Wd="["+zn+"]?",Fm="(?:"+Rh+"(?:"+[Qr,Hr,wa].join("|")+")"+Wd+Dh+")*",Eu="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",bf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",zm=Wd+Dh+Fm,Jd="(?:"+[Xi,Hr,wa].join("|")+")"+zm,R0="(?:"+[Qr+Fr+"?",Fr,Hr,wa,xr].join("|")+")",Bh=RegExp(Kt,"g"),Xl=RegExp(Fr,"g"),Af=RegExp(Zr+"(?="+Zr+")|"+R0+zm,"g"),Oh=RegExp([rs+"?"+tl+"+"+Im+"(?="+[Zn,rs,"$"].join("|")+")",Um+"+"+C0+"(?="+[Zn,rs+Nh,"$"].join("|")+")",rs+"?"+Nh+"+"+Im,rs+"+"+C0,bf,Eu,el,Jd].join("|"),"g"),Fc=RegExp("["+Rh+Je+Nt+zn+"]"),N0=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Hm=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],D0=-1,pi={};pi[Mt]=pi[An]=pi[yt]=pi[Ot]=pi[zt]=pi[Ht]=pi[wt]=pi[Ae]=pi[it]=!0,pi[ge]=pi[Se]=pi[_t]=pi[He]=pi[gt]=pi[Fe]=pi[Qe]=pi[Re]=pi[pe]=pi[St]=pi[_e]=pi[ze]=pi[le]=pi[te]=pi[et]=!1;var yi={};yi[ge]=yi[Se]=yi[_t]=yi[gt]=yi[He]=yi[Fe]=yi[Mt]=yi[An]=yi[yt]=yi[Ot]=yi[zt]=yi[pe]=yi[St]=yi[_e]=yi[ze]=yi[le]=yi[te]=yi[Ee]=yi[Ht]=yi[wt]=yi[Ae]=yi[it]=!0,yi[Qe]=yi[Re]=yi[et]=!1;var Kd={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},as={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Tu={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Lh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ph=parseFloat,bx=parseInt,ql=typeof Qg=="object"&&Qg&&Qg.Object===Object&&Qg,Uh=typeof self=="object"&&self&&self.Object===Object&&self,Tr=ql||Uh||Function("return this")(),Cu=e&&!e.nodeType&&e,zc=Cu&&!0&&t&&!t.nodeType&&t,B0=zc&&zc.exports===Cu,O0=B0&&ql.process,Ii=function(){try{var Ne=zc&&zc.require&&zc.require("util").types;return Ne||O0&&O0.binding&&O0.binding("util")}catch{}}(),$d=Ii&&Ii.isArrayBuffer,L0=Ii&&Ii.isDate,P0=Ii&&Ii.isMap,U0=Ii&&Ii.isRegExp,I0=Ii&&Ii.isSet,Ih=Ii&&Ii.isTypedArray;function ka(Ne,rt,Ze){switch(Ze.length){case 0:return Ne.call(rt);case 1:return Ne.call(rt,Ze[0]);case 2:return Ne.call(rt,Ze[0],Ze[1]);case 3:return Ne.call(rt,Ze[0],Ze[1],Ze[2])}return Ne.apply(rt,Ze)}function Ax(Ne,rt,Ze,Et){for(var tn=-1,ii=Ne==null?0:Ne.length;++tn<ii;){var kr=Ne[tn];rt(Et,kr,Ze(kr),Ne)}return Et}function Gs(Ne,rt){for(var Ze=-1,Et=Ne==null?0:Ne.length;++Ze<Et&&rt(Ne[Ze],Ze,Ne)!==!1;);return Ne}function Sx(Ne,rt){for(var Ze=Ne==null?0:Ne.length;Ze--&&rt(Ne[Ze],Ze,Ne)!==!1;);return Ne}function km(Ne,rt){for(var Ze=-1,Et=Ne==null?0:Ne.length;++Ze<Et;)if(!rt(Ne[Ze],Ze,Ne))return!1;return!0}function fo(Ne,rt){for(var Ze=-1,Et=Ne==null?0:Ne.length,tn=0,ii=[];++Ze<Et;){var kr=Ne[Ze];rt(kr,Ze,Ne)&&(ii[tn++]=kr)}return ii}function Zd(Ne,rt){var Ze=Ne==null?0:Ne.length;return!!Ze&&_s(Ne,rt,0)>-1}function Qd(Ne,rt,Ze){for(var Et=-1,tn=Ne==null?0:Ne.length;++Et<tn;)if(Ze(rt,Ne[Et]))return!0;return!1}function Zi(Ne,rt){for(var Ze=-1,Et=Ne==null?0:Ne.length,tn=Array(Et);++Ze<Et;)tn[Ze]=rt(Ne[Ze],Ze,Ne);return tn}function nl(Ne,rt){for(var Ze=-1,Et=rt.length,tn=Ne.length;++Ze<Et;)Ne[tn+Ze]=rt[Ze];return Ne}function Gm(Ne,rt,Ze,Et){var tn=-1,ii=Ne==null?0:Ne.length;for(Et&&ii&&(Ze=Ne[++tn]);++tn<ii;)Ze=rt(Ze,Ne[tn],tn,Ne);return Ze}function F0(Ne,rt,Ze,Et){var tn=Ne==null?0:Ne.length;for(Et&&tn&&(Ze=Ne[--tn]);tn--;)Ze=rt(Ze,Ne[tn],tn,Ne);return Ze}function jm(Ne,rt){for(var Ze=-1,Et=Ne==null?0:Ne.length;++Ze<Et;)if(rt(Ne[Ze],Ze,Ne))return!0;return!1}var Hc=Sf("length");function z0(Ne){return Ne.split("")}function x1(Ne){return Ne.match(Ko)||[]}function H0(Ne,rt,Ze){var Et;return Ze(Ne,function(tn,ii,kr){if(rt(tn,ii,kr))return Et=ii,!1}),Et}function il(Ne,rt,Ze,Et){for(var tn=Ne.length,ii=Ze+(Et?1:-1);Et?ii--:++ii<tn;)if(rt(Ne[ii],ii,Ne))return ii;return-1}function _s(Ne,rt,Ze){return rt===rt?Ex(Ne,rt,Ze):il(Ne,Ru,Ze)}function ep(Ne,rt,Ze,Et){for(var tn=Ze-1,ii=Ne.length;++tn<ii;)if(Et(Ne[tn],rt))return tn;return-1}function Ru(Ne){return Ne!==Ne}function Fh(Ne,rt){var Ze=Ne==null?0:Ne.length;return Ze?np(Ne,rt)/Ze:V}function Sf(Ne){return function(rt){return rt==null?n:rt[Ne]}}function Yl(Ne){return function(rt){return Ne==null?n:Ne[rt]}}function ua(Ne,rt,Ze,Et,tn){return tn(Ne,function(ii,kr,Qn){Ze=Et?(Et=!1,ii):rt(Ze,ii,kr,Qn)}),Ze}function tp(Ne,rt){var Ze=Ne.length;for(Ne.sort(rt);Ze--;)Ne[Ze]=Ne[Ze].value;return Ne}function np(Ne,rt){for(var Ze,Et=-1,tn=Ne.length;++Et<tn;){var ii=rt(Ne[Et]);ii!==n&&(Ze=Ze===n?ii:Ze+ii)}return Ze}function Wl(Ne,rt){for(var Ze=-1,Et=Array(Ne);++Ze<Ne;)Et[Ze]=rt(Ze);return Et}function ip(Ne,rt){return Zi(rt,function(Ze){return[Ze,Ne[Ze]]})}function Vm(Ne){return Ne&&Ne.slice(0,Jm(Ne)+1).replace(ca,"")}function Ga(Ne){return function(rt){return Ne(rt)}}function rp(Ne,rt){return Zi(rt,function(Ze){return Ne[Ze]})}function fa(Ne,rt){return Ne.has(rt)}function Mf(Ne,rt){for(var Ze=-1,Et=Ne.length;++Ze<Et&&_s(rt,Ne[Ze],0)>-1;);return Ze}function Nu(Ne,rt){for(var Ze=Ne.length;Ze--&&_s(rt,Ne[Ze],0)>-1;);return Ze}function Mx(Ne,rt){for(var Ze=Ne.length,Et=0;Ze--;)Ne[Ze]===rt&&++Et;return Et}var ap=Yl(Kd),Xm=Yl(as);function qm(Ne){return"\\"+Lh[Ne]}function Ym(Ne,rt){return Ne==null?n:Ne[rt]}function rl(Ne){return Fc.test(Ne)}function zh(Ne){return N0.test(Ne)}function dr(Ne){for(var rt,Ze=[];!(rt=Ne.next()).done;)Ze.push(rt.value);return Ze}function Wm(Ne){var rt=-1,Ze=Array(Ne.size);return Ne.forEach(function(Et,tn){Ze[++rt]=[tn,Et]}),Ze}function wx(Ne,rt){return function(Ze){return Ne(rt(Ze))}}function kc(Ne,rt){for(var Ze=-1,Et=Ne.length,tn=0,ii=[];++Ze<Et;){var kr=Ne[Ze];(kr===rt||kr===f)&&(Ne[Ze]=f,ii[tn++]=Ze)}return ii}function Du(Ne){var rt=-1,Ze=Array(Ne.size);return Ne.forEach(function(Et){Ze[++rt]=Et}),Ze}function Bu(Ne){var rt=-1,Ze=Array(Ne.size);return Ne.forEach(function(Et){Ze[++rt]=[Et,Et]}),Ze}function Ex(Ne,rt,Ze){for(var Et=Ze-1,tn=Ne.length;++Et<tn;)if(Ne[Et]===rt)return Et;return-1}function bs(Ne,rt,Ze){for(var Et=Ze+1;Et--;)if(Ne[Et]===rt)return Et;return Et}function ja(Ne){return rl(Ne)?G0(Ne):Hc(Ne)}function pr(Ne){return rl(Ne)?sp(Ne):z0(Ne)}function Jm(Ne){for(var rt=Ne.length;rt--&&xs.test(Ne.charAt(rt)););return rt}var k0=Yl(Tu);function G0(Ne){for(var rt=Af.lastIndex=0;Af.test(Ne);)++rt;return rt}function sp(Ne){return Ne.match(Af)||[]}function j0(Ne){return Ne.match(Oh)||[]}var Gc=function Ne(rt){rt=rt==null?Tr:jc.defaults(Tr.Object(),rt,jc.pick(Tr,Hm));var Ze=rt.Array,Et=rt.Date,tn=rt.Error,ii=rt.Function,kr=rt.Math,Qn=rt.Object,Ea=rt.RegExp,V0=rt.String,ar=rt.TypeError,op=Ze.prototype,Vc=ii.prototype,al=Qn.prototype,ho=rt["__core-js_shared__"],wf=Vc.toString,li=al.hasOwnProperty,ha=0,Km=function(){var x=/[^.]+$/.exec(ho&&ho.keys&&ho.keys.IE_PROTO||"");return x?"Symbol(src)_1."+x:""}(),Gr=al.toString,Va=wf.call(Qn),po=Tr._,$m=Ea("^"+wf.call(li).replace(Er,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ou=B0?rt.Buffer:n,ss=rt.Symbol,Ef=rt.Uint8Array,Jl=Ou?Ou.allocUnsafe:n,Hh=wx(Qn.getPrototypeOf,Qn),Tf=Qn.create,Xc=al.propertyIsEnumerable,kh=op.splice,os=ss?ss.isConcatSpreadable:n,qc=ss?ss.iterator:n,qi=ss?ss.toStringTag:n,Gh=function(){try{var x=ta(Qn,"defineProperty");return x({},"",{}),x}catch{}}(),da=rt.clearTimeout!==Tr.clearTimeout&&rt.clearTimeout,Lu=Et&&Et.now!==Tr.Date.now&&Et.now,lp=rt.setTimeout!==Tr.setTimeout&&rt.setTimeout,Cf=kr.ceil,Yc=kr.floor,Xa=Qn.getOwnPropertySymbols,cp=Ou?Ou.isBuffer:n,Rf=rt.isFinite,Ta=op.join,js=wx(Qn.keys,Qn),Qi=kr.max,sr=kr.min,Kl=Et.now,Wc=rt.parseInt,up=kr.random,X0=op.reverse,fp=ta(rt,"DataView"),ea=ta(rt,"Map"),or=ta(rt,"Promise"),Xn=ta(rt,"Set"),qa=ta(rt,"WeakMap"),Ca=ta(Qn,"create"),Nf=qa&&new qa,Vs={},Tx=Mo(fp),q0=Mo(ea),sl=Mo(or),jh=Mo(Xn),Mi=Mo(qa),$l=ss?ss.prototype:n,Df=$l?$l.valueOf:n,Jc=$l?$l.toString:n;function re(x){if(Br(x)&&!vn(x)&&!(x instanceof Cn)){if(x instanceof As)return x;if(li.call(x,"__wrapped__"))return ki(x)}return new As(x)}var Xs=function(){function x(){}return function(M){if(!Nr(M))return{};if(Tf)return Tf(M);x.prototype=M;var O=new x;return x.prototype=n,O}}();function mo(){}function As(x,M){this.__wrapped__=x,this.__actions__=[],this.__chain__=!!M,this.__index__=0,this.__values__=n}re.templateSettings={escape:Jt,evaluate:On,interpolate:vi,variable:"",imports:{_:re}},re.prototype=mo.prototype,re.prototype.constructor=re,As.prototype=Xs(mo.prototype),As.prototype.constructor=As;function Cn(x){this.__wrapped__=x,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$,this.__views__=[]}function go(){var x=new Cn(this.__wrapped__);return x.__actions__=Vr(this.__actions__),x.__dir__=this.__dir__,x.__filtered__=this.__filtered__,x.__iteratees__=Vr(this.__iteratees__),x.__takeCount__=this.__takeCount__,x.__views__=Vr(this.__views__),x}function hp(){if(this.__filtered__){var x=new Cn(this);x.__dir__=-1,x.__filtered__=!0}else x=this.clone(),x.__dir__*=-1;return x}function Zl(){var x=this.__wrapped__.value(),M=this.__dir__,O=vn(x),X=M<0,ee=O?x.length:0,he=nd(0,ee,this.__views__),ve=he.start,Me=he.end,Ue=Me-ve,ft=X?Me:ve-1,dt=this.__iteratees__,vt=dt.length,It=0,Yt=sr(Ue,this.__takeCount__);if(!O||!X&&ee==Ue&&Yt==Ue)return Ux(x,this.__actions__);var mn=[];e:for(;Ue--&&It<Yt;){ft+=M;for(var $n=-1,gn=x[ft];++$n<vt;){var hi=dt[$n],_i=hi.iteratee,hu=hi.type,Ml=_i(gn);if(hu==K)gn=Ml;else if(!Ml){if(hu==Y)continue e;break e}}mn[It++]=gn}return mn}Cn.prototype=Xs(mo.prototype),Cn.prototype.constructor=Cn;function Fi(x){var M=-1,O=x==null?0:x.length;for(this.clear();++M<O;){var X=x[M];this.set(X[0],X[1])}}function dp(){this.__data__=Ca?Ca(null):{},this.size=0}function Zm(x){var M=this.has(x)&&delete this.__data__[x];return this.size-=M?1:0,M}function Y0(x){var M=this.__data__;if(Ca){var O=M[x];return O===l?n:O}return li.call(M,x)?M[x]:n}function _1(x){var M=this.__data__;return Ca?M[x]!==n:li.call(M,x)}function Cx(x,M){var O=this.__data__;return this.size+=this.has(x)?0:1,O[x]=Ca&&M===n?l:M,this}Fi.prototype.clear=dp,Fi.prototype.delete=Zm,Fi.prototype.get=Y0,Fi.prototype.has=_1,Fi.prototype.set=Cx;function zi(x){var M=-1,O=x==null?0:x.length;for(this.clear();++M<O;){var X=x[M];this.set(X[0],X[1])}}function Qm(){this.__data__=[],this.size=0}function Vh(x){var M=this.__data__,O=an(M,x);if(O<0)return!1;var X=M.length-1;return O==X?M.pop():kh.call(M,O,1),--this.size,!0}function Xh(x){var M=this.__data__,O=an(M,x);return O<0?n:M[O][1]}function pp(x){return an(this.__data__,x)>-1}function Sn(x,M){var O=this.__data__,X=an(O,x);return X<0?(++this.size,O.push([x,M])):O[X][1]=M,this}zi.prototype.clear=Qm,zi.prototype.delete=Vh,zi.prototype.get=Xh,zi.prototype.has=pp,zi.prototype.set=Sn;function Ss(x){var M=-1,O=x==null?0:x.length;for(this.clear();++M<O;){var X=x[M];this.set(X[0],X[1])}}function qs(){this.size=0,this.__data__={hash:new Fi,map:new(ea||zi),string:new Fi}}function eg(x){var M=tu(this,x).delete(x);return this.size-=M?1:0,M}function b1(x){return tu(this,x).get(x)}function mp(x){return tu(this,x).has(x)}function vo(x,M){var O=tu(this,x),X=O.size;return O.set(x,M),this.size+=O.size==X?0:1,this}Ss.prototype.clear=qs,Ss.prototype.delete=eg,Ss.prototype.get=b1,Ss.prototype.has=mp,Ss.prototype.set=vo;function Ms(x){var M=-1,O=x==null?0:x.length;for(this.__data__=new Ss;++M<O;)this.add(x[M])}function gp(x){return this.__data__.set(x,l),this}function tg(x){return this.__data__.has(x)}Ms.prototype.add=Ms.prototype.push=gp,Ms.prototype.has=tg;function ls(x){var M=this.__data__=new zi(x);this.size=M.size}function W0(){this.__data__=new zi,this.size=0}function ol(x){var M=this.__data__,O=M.delete(x);return this.size=M.size,O}function vp(x){return this.__data__.get(x)}function ng(x){return this.__data__.has(x)}function qh(x,M){var O=this.__data__;if(O instanceof zi){var X=O.__data__;if(!ea||X.length<r-1)return X.push([x,M]),this.size=++O.size,this;O=this.__data__=new Ss(X)}return O.set(x,M),this.size=O.size,this}ls.prototype.clear=W0,ls.prototype.delete=ol,ls.prototype.get=vp,ls.prototype.has=ng,ls.prototype.set=qh;function yp(x,M){var O=vn(x),X=!O&&Kf(x),ee=!O&&!X&&fd(x),he=!O&&!X&&!ee&&Tg(x),ve=O||X||ee||he,Me=ve?Wl(x.length,V0):[],Ue=Me.length;for(var ft in x)(M||li.call(x,ft))&&!(ve&&(ft=="length"||ee&&(ft=="offset"||ft=="parent")||he&&(ft=="buffer"||ft=="byteLength"||ft=="byteOffset")||Js(ft,Ue)))&&Me.push(ft);return Me}function Ys(x){var M=x.length;return M?x[cg(0,M-1)]:n}function J0(x,M){return ml(Vr(x),cl(M,0,x.length))}function Rx(x){return ml(Vr(x))}function ll(x,M,O){(O!==n&&!Ro(x[M],O)||O===n&&!(M in x))&&ws(x,M,O)}function Bf(x,M,O){var X=x[M];(!(li.call(x,M)&&Ro(X,O))||O===n&&!(M in x))&&ws(x,M,O)}function an(x,M){for(var O=x.length;O--;)if(Ro(x[O][0],M))return O;return-1}function Ql(x,M,O,X){return Kc(x,function(ee,he,ve){M(X,ee,O(ee),ve)}),X}function ec(x,M){return x&&Rs(M,La(M),x)}function Of(x,M){return x&&Rs(M,$a(M),x)}function ws(x,M,O){M=="__proto__"&&Gh?Gh(x,M,{configurable:!0,enumerable:!0,value:O,writable:!0}):x[M]=O}function xp(x,M){for(var O=-1,X=M.length,ee=Ze(X),he=x==null;++O<X;)ee[O]=he?n:wv(x,M[O]);return ee}function cl(x,M,O){return x===x&&(O!==n&&(x=x<=O?x:O),M!==n&&(x=x>=M?x:M)),x}function Ra(x,M,O,X,ee,he){var ve,Me=M&d,Ue=M&p,ft=M&v;if(O&&(ve=ee?O(x,X,ee,he):O(x)),ve!==n)return ve;if(!Nr(x))return x;var dt=vn(x);if(dt){if(ve=Da(x),!Me)return Vr(x,ve)}else{var vt=ri(x),It=vt==Re||vt==st;if(fd(x))return dv(x,Me);if(vt==_e||vt==ge||It&&!ee){if(ve=Ue||It?{}:ga(x),!Me)return Ue?Qh(x,Of(ve,x)):Rp(x,ec(ve,x))}else{if(!yi[vt])return ee?x:{};ve=ai(x,vt,Me)}}he||(he=new ls);var Yt=he.get(x);if(Yt)return Yt;he.set(x,ve),sw(x)?x.forEach(function(gn){ve.add(Ra(gn,M,O,gn,x,he))}):Qx(x)&&x.forEach(function(gn,hi){ve.set(hi,Ra(gn,M,O,hi,x,he))});var mn=ft?Ue?Ja:Wa:Ue?$a:La,$n=dt?n:mn(x);return Gs($n||x,function(gn,hi){$n&&(hi=gn,gn=x[hi]),Bf(ve,hi,Ra(gn,M,O,hi,x,he))}),ve}function Yh(x){var M=La(x);return function(O){return K0(O,x,M)}}function K0(x,M,O){var X=O.length;if(x==null)return!X;for(x=Qn(x);X--;){var ee=O[X],he=M[ee],ve=x[ee];if(ve===n&&!(ee in x)||!he(ve))return!1}return!0}function Lf(x,M,O){if(typeof x!="function")throw new ar(s);return ru(function(){x.apply(n,O)},M)}function Pu(x,M,O,X){var ee=-1,he=Zd,ve=!0,Me=x.length,Ue=[],ft=M.length;if(!Me)return Ue;O&&(M=Zi(M,Ga(O))),X?(he=Qd,ve=!1):M.length>=r&&(he=fa,ve=!1,M=new Ms(M));e:for(;++ee<Me;){var dt=x[ee],vt=O==null?dt:O(dt);if(dt=X||dt!==0?dt:0,ve&&vt===vt){for(var It=ft;It--;)if(M[It]===vt)continue e;Ue.push(dt)}else he(M,vt,X)||Ue.push(dt)}return Ue}var Kc=mv(mr),ig=mv(Dr,!0);function _p(x,M){var O=!0;return Kc(x,function(X,ee,he){return O=!!M(X,ee,he),O}),O}function yo(x,M,O){for(var X=-1,ee=x.length;++X<ee;){var he=x[X],ve=M(he);if(ve!=null&&(Me===n?ve===ve&&!ao(ve):O(ve,Me)))var Me=ve,Ue=he}return Ue}function Mn(x,M,O,X){var ee=x.length;for(O=wn(O),O<0&&(O=-O>ee?0:ee+O),X=X===n||X>ee?ee:wn(X),X<0&&(X+=ee),X=O>X?0:Qu(X);O<X;)x[O++]=M;return x}function wi(x,M){var O=[];return Kc(x,function(X,ee,he){M(X,ee,he)&&O.push(X)}),O}function Wn(x,M,O,X,ee){var he=-1,ve=x.length;for(O||(O=va),ee||(ee=[]);++he<ve;){var Me=x[he];M>0&&O(Me)?M>1?Wn(Me,M-1,O,X,ee):nl(ee,Me):X||(ee[ee.length]=Me)}return ee}var Wh=Hu(),$c=Hu(!0);function mr(x,M){return x&&Wh(x,M,La)}function Dr(x,M){return x&&$c(x,M,La)}function cs(x,M){return fo(M,function(O){return uu(x[O])})}function _r(x,M){M=Qc(M,x);for(var O=0,X=M.length;x!=null&&O<X;)x=x[ti(M[O++])];return O&&O==X?x:n}function $0(x,M,O){var X=M(x);return vn(x)?X:nl(X,O(x))}function ei(x){return x==null?x===n?Xe:Ie:qi&&qi in Qn(x)?ku(x):Vf(x)}function pa(x,M){return x>M}function Zc(x,M){return x!=null&&li.call(x,M)}function Nx(x,M){return x!=null&&M in Qn(x)}function Dx(x,M,O){return x>=sr(M,O)&&x<Qi(M,O)}function Z0(x,M,O){for(var X=O?Qd:Zd,ee=x[0].length,he=x.length,ve=he,Me=Ze(he),Ue=1/0,ft=[];ve--;){var dt=x[ve];ve&&M&&(dt=Zi(dt,Ga(M))),Ue=sr(dt.length,Ue),Me[ve]=!O&&(M||ee>=120&&dt.length>=120)?new Ms(ve&&dt):n}dt=x[0];var vt=-1,It=Me[0];e:for(;++vt<ee&&ft.length<Ue;){var Yt=dt[vt],mn=M?M(Yt):Yt;if(Yt=O||Yt!==0?Yt:0,!(It?fa(It,mn):X(ft,mn,O))){for(ve=he;--ve;){var $n=Me[ve];if(!($n?fa($n,mn):X(x[ve],mn,O)))continue e}It&&It.push(mn),ft.push(Yt)}}return ft}function Q0(x,M,O,X){return mr(x,function(ee,he,ve){M(X,O(ee),he,ve)}),X}function Uu(x,M,O){M=Qc(M,x),x=ju(x,M);var X=x==null?x:x[ti(vr(M))];return X==null?n:ka(X,x,O)}function rg(x){return Br(x)&&ei(x)==ge}function us(x){return Br(x)&&ei(x)==_t}function jr(x){return Br(x)&&ei(x)==Fe}function xo(x,M,O,X,ee){return x===M?!0:x==null||M==null||!Br(x)&&!Br(M)?x!==x&&M!==M:ul(x,M,O,X,xo,ee)}function ul(x,M,O,X,ee,he){var ve=vn(x),Me=vn(M),Ue=ve?Se:ri(x),ft=Me?Se:ri(M);Ue=Ue==ge?_e:Ue,ft=ft==ge?_e:ft;var dt=Ue==_e,vt=ft==_e,It=Ue==ft;if(It&&fd(x)){if(!fd(M))return!1;ve=!0,dt=!1}if(It&&!dt)return he||(he=new ls),ve||Tg(x)?Vx(x,M,O,X,ee,he):Xx(x,M,Ue,O,X,ee,he);if(!(O&_)){var Yt=dt&&li.call(x,"__wrapped__"),mn=vt&&li.call(M,"__wrapped__");if(Yt||mn){var $n=Yt?x.value():x,gn=mn?M.value():M;return he||(he=new ls),ee($n,gn,O,X,he)}}return It?(he||(he=new ls),ma(x,M,O,X,ee,he)):!1}function ag(x){return Br(x)&&ri(x)==pe}function bp(x,M,O,X){var ee=O.length,he=ee,ve=!X;if(x==null)return!he;for(x=Qn(x);ee--;){var Me=O[ee];if(ve&&Me[2]?Me[1]!==x[Me[0]]:!(Me[0]in x))return!1}for(;++ee<he;){Me=O[ee];var Ue=Me[0],ft=x[Ue],dt=Me[1];if(ve&&Me[2]){if(ft===n&&!(Ue in x))return!1}else{var vt=new ls;if(X)var It=X(ft,dt,Ue,x,M,vt);if(!(It===n?xo(dt,ft,_|S,X,vt):It))return!1}}return!0}function tc(x){if(!Nr(x)||iu(x))return!1;var M=uu(x)?$m:Th;return M.test(Mo(x))}function Iu(x){return Br(x)&&ei(x)==ze}function ev(x){return Br(x)&&ri(x)==le}function tv(x){return Br(x)&&zp(x.length)&&!!pi[ei(x)]}function nv(x){return typeof x=="function"?x:x==null?Ve:typeof x=="object"?vn(x)?og(x[0],x[1]):rv(x):xi(x)}function Fu(x){if(!Ei(x))return js(x);var M=[];for(var O in Qn(x))li.call(x,O)&&O!="constructor"&&M.push(O);return M}function Bx(x){if(!Nr(x))return Ks(x);var M=Ei(x),O=[];for(var X in x)X=="constructor"&&(M||!li.call(x,X))||O.push(X);return O}function sg(x,M){return x<M}function iv(x,M){var O=-1,X=Ba(x)?Ze(x.length):[];return Kc(x,function(ee,he,ve){X[++O]=M(ee,he,ve)}),X}function rv(x){var M=fs(x);return M.length==1&&M[0][2]?Gf(M[0][0],M[0][1]):function(O){return O===x||bp(O,x,M)}}function og(x,M){return nu(x)&&xg(M)?Gf(ti(x),M):function(O){var X=wv(O,x);return X===n&&X===M?Dg(O,x):xo(M,X,_|S)}}function Ap(x,M,O,X,ee){x!==M&&Wh(M,function(he,ve){if(ee||(ee=new ls),Nr(he))A1(x,M,ve,O,Ap,X,ee);else{var Me=X?X(Vu(x,ve),he,ve+"",x,M,ee):n;Me===n&&(Me=he),ll(x,ve,Me)}},$a)}function A1(x,M,O,X,ee,he,ve){var Me=Vu(x,O),Ue=Vu(M,O),ft=ve.get(Ue);if(ft){ll(x,O,ft);return}var dt=he?he(Me,Ue,O+"",x,M,ve):n,vt=dt===n;if(vt){var It=vn(Ue),Yt=!It&&fd(Ue),mn=!It&&!Yt&&Tg(Ue);dt=Ue,It||Yt||mn?vn(Me)?dt=Me:qr(Me)?dt=Vr(Me):Yt?(vt=!1,dt=dv(Ue,!0)):mn?(vt=!1,dt=Cs(Ue,!0)):dt=[]:pc(Ue)||Kf(Ue)?(dt=Me,Kf(Me)?dt=cw(Me):(!Nr(Me)||uu(Me))&&(dt=ga(Ue))):vt=!1}vt&&(ve.set(Ue,dt),ee(dt,Ue,X,he,ve),ve.delete(Ue)),ll(x,O,dt)}function av(x,M){var O=x.length;if(O)return M+=M<0?O:0,Js(M,O)?x[M]:n}function sv(x,M,O){M.length?M=Zi(M,function(he){return vn(he)?function(ve){return _r(ve,he.length===1?he[0]:he)}:he}):M=[Ve];var X=-1;M=Zi(M,Ga(Vt()));var ee=iv(x,function(he,ve,Me){var Ue=Zi(M,function(ft){return ft(he)});return{criteria:Ue,index:++X,value:he}});return tp(ee,function(he,ve){return gg(he,ve,O)})}function Ox(x,M){return lg(x,M,function(O,X){return Dg(x,X)})}function lg(x,M,O){for(var X=-1,ee=M.length,he={};++X<ee;){var ve=M[X],Me=_r(x,ve);O(Me,ve)&&Pf(he,Qc(ve,x),Me)}return he}function Lx(x){return function(M){return _r(M,x)}}function Sp(x,M,O,X){var ee=X?ep:_s,he=-1,ve=M.length,Me=x;for(x===M&&(M=Vr(M)),O&&(Me=Zi(x,Ga(O)));++he<ve;)for(var Ue=0,ft=M[he],dt=O?O(ft):ft;(Ue=ee(Me,dt,Ue,X))>-1;)Me!==x&&kh.call(Me,Ue,1),kh.call(x,Ue,1);return x}function ov(x,M){for(var O=x?M.length:0,X=O-1;O--;){var ee=M[O];if(O==X||ee!==he){var he=ee;Js(ee)?kh.call(x,ee,1):$h(x,ee)}}return x}function cg(x,M){return x+Yc(up()*(M-x+1))}function Px(x,M,O,X){for(var ee=-1,he=Qi(Cf((M-x)/(O||1)),0),ve=Ze(he);he--;)ve[X?he:++ee]=x,x+=O;return ve}function lv(x,M){var O="";if(!x||M<1||M>Q)return O;do M%2&&(O+=x),M=Yc(M/2),M&&(x+=x);while(M);return O}function Rn(x,M){return cc(oc(x,M,Ve),x+"")}function Jh(x){return Ys(Og(x))}function Mp(x,M){var O=Og(x);return ml(O,cl(M,0,O.length))}function Pf(x,M,O,X){if(!Nr(x))return x;M=Qc(M,x);for(var ee=-1,he=M.length,ve=he-1,Me=x;Me!=null&&++ee<he;){var Ue=ti(M[ee]),ft=O;if(Ue==="__proto__"||Ue==="constructor"||Ue==="prototype")return x;if(ee!=ve){var dt=Me[Ue];ft=X?X(dt,Ue,Me):n,ft===n&&(ft=Nr(dt)?dt:Js(M[ee+1])?[]:{})}Bf(Me,Ue,ft),Me=Me[Ue]}return x}var wp=Nf?function(x,M){return Nf.set(x,M),x}:Ve,Kh=Gh?function(x,M){return Gh(x,"toString",{configurable:!0,enumerable:!1,value:je(M),writable:!0})}:Ve;function cv(x){return ml(Og(x))}function Es(x,M,O){var X=-1,ee=x.length;M<0&&(M=-M>ee?0:ee+M),O=O>ee?ee:O,O<0&&(O+=ee),ee=M>O?0:O-M>>>0,M>>>=0;for(var he=Ze(ee);++X<ee;)he[X]=x[X+M];return he}function ug(x,M){var O;return Kc(x,function(X,ee,he){return O=M(X,ee,he),!O}),!!O}function Uf(x,M,O){var X=0,ee=x==null?X:x.length;if(typeof M=="number"&&M===M&&ee<=de){for(;X<ee;){var he=X+ee>>>1,ve=x[he];ve!==null&&!ao(ve)&&(O?ve<=M:ve<M)?X=he+1:ee=he}return ee}return fg(x,M,Ve,O)}function fg(x,M,O,X){var ee=0,he=x==null?0:x.length;if(he===0)return 0;M=O(M);for(var ve=M!==M,Me=M===null,Ue=ao(M),ft=M===n;ee<he;){var dt=Yc((ee+he)/2),vt=O(x[dt]),It=vt!==n,Yt=vt===null,mn=vt===vt,$n=ao(vt);if(ve)var gn=X||mn;else ft?gn=mn&&(X||It):Me?gn=mn&&It&&(X||!Yt):Ue?gn=mn&&It&&!Yt&&(X||!$n):Yt||$n?gn=!1:gn=X?vt<=M:vt<M;gn?ee=dt+1:he=dt}return sr(he,oe)}function uv(x,M){for(var O=-1,X=x.length,ee=0,he=[];++O<X;){var ve=x[O],Me=M?M(ve):ve;if(!O||!Ro(Me,Ue)){var Ue=Me;he[ee++]=ve===0?0:ve}}return he}function hg(x){return typeof x=="number"?x:ao(x)?V:+x}function Ts(x){if(typeof x=="string")return x;if(vn(x))return Zi(x,Ts)+"";if(ao(x))return Jc?Jc.call(x):"";var M=x+"";return M=="0"&&1/x==-1/0?"-0":M}function nc(x,M,O){var X=-1,ee=Zd,he=x.length,ve=!0,Me=[],Ue=Me;if(O)ve=!1,ee=Qd;else if(he>=r){var ft=M?null:jx(x);if(ft)return Du(ft);ve=!1,ee=fa,Ue=new Ms}else Ue=M?[]:Me;e:for(;++X<he;){var dt=x[X],vt=M?M(dt):dt;if(dt=O||dt!==0?dt:0,ve&&vt===vt){for(var It=Ue.length;It--;)if(Ue[It]===vt)continue e;M&&Ue.push(vt),Me.push(dt)}else ee(Ue,vt,O)||(Ue!==Me&&Ue.push(vt),Me.push(dt))}return Me}function $h(x,M){return M=Qc(M,x),x=ju(x,M),x==null||delete x[ti(vr(M))]}function fv(x,M,O,X){return Pf(x,M,O(_r(x,M)),X)}function Ep(x,M,O,X){for(var ee=x.length,he=X?ee:-1;(X?he--:++he<ee)&&M(x[he],he,x););return O?Es(x,X?0:he,X?he+1:ee):Es(x,X?he+1:0,X?ee:he)}function Ux(x,M){var O=x;return O instanceof Cn&&(O=O.value()),Gm(M,function(X,ee){return ee.func.apply(ee.thisArg,nl([X],ee.args))},O)}function Tp(x,M,O){var X=x.length;if(X<2)return X?nc(x[0]):[];for(var ee=-1,he=Ze(X);++ee<X;)for(var ve=x[ee],Me=-1;++Me<X;)Me!=ee&&(he[ee]=Pu(he[ee]||ve,x[Me],M,O));return nc(Wn(he,1),M,O)}function hv(x,M,O){for(var X=-1,ee=x.length,he=M.length,ve={};++X<ee;){var Me=X<he?M[X]:n;O(ve,x[X],Me)}return ve}function dg(x){return qr(x)?x:[]}function Cp(x){return typeof x=="function"?x:Ve}function Qc(x,M){return vn(x)?x:nu(x,M)?[x]:gl(Oi(x))}var Ix=Rn;function zu(x,M,O){var X=x.length;return O=O===n?X:O,!M&&O>=X?x:Es(x,M,O)}var Fx=da||function(x){return Tr.clearTimeout(x)};function dv(x,M){if(M)return x.slice();var O=x.length,X=Jl?Jl(O):new x.constructor(O);return x.copy(X),X}function If(x){var M=new x.constructor(x.byteLength);return new Ef(M).set(new Ef(x)),M}function pg(x,M){var O=M?If(x.buffer):x.buffer;return new x.constructor(O,x.byteOffset,x.byteLength)}function mg(x){var M=new x.constructor(x.source,Uc.exec(x));return M.lastIndex=x.lastIndex,M}function zx(x){return Df?Qn(Df.call(x)):{}}function Cs(x,M){var O=M?If(x.buffer):x.buffer;return new x.constructor(O,x.byteOffset,x.length)}function Zh(x,M){if(x!==M){var O=x!==n,X=x===null,ee=x===x,he=ao(x),ve=M!==n,Me=M===null,Ue=M===M,ft=ao(M);if(!Me&&!ft&&!he&&x>M||he&&ve&&Ue&&!Me&&!ft||X&&ve&&Ue||!O&&Ue||!ee)return 1;if(!X&&!he&&!ft&&x<M||ft&&O&&ee&&!X&&!he||Me&&O&&ee||!ve&&ee||!Ue)return-1}return 0}function gg(x,M,O){for(var X=-1,ee=x.criteria,he=M.criteria,ve=ee.length,Me=O.length;++X<ve;){var Ue=Zh(ee[X],he[X]);if(Ue){if(X>=Me)return Ue;var ft=O[X];return Ue*(ft=="desc"?-1:1)}}return x.index-M.index}function vg(x,M,O,X){for(var ee=-1,he=x.length,ve=O.length,Me=-1,Ue=M.length,ft=Qi(he-ve,0),dt=Ze(Ue+ft),vt=!X;++Me<Ue;)dt[Me]=M[Me];for(;++ee<ve;)(vt||ee<he)&&(dt[O[ee]]=x[ee]);for(;ft--;)dt[Me++]=x[ee++];return dt}function pv(x,M,O,X){for(var ee=-1,he=x.length,ve=-1,Me=O.length,Ue=-1,ft=M.length,dt=Qi(he-Me,0),vt=Ze(dt+ft),It=!X;++ee<dt;)vt[ee]=x[ee];for(var Yt=ee;++Ue<ft;)vt[Yt+Ue]=M[Ue];for(;++ve<Me;)(It||ee<he)&&(vt[Yt+O[ve]]=x[ee++]);return vt}function Vr(x,M){var O=-1,X=x.length;for(M||(M=Ze(X));++O<X;)M[O]=x[O];return M}function Rs(x,M,O,X){var ee=!O;O||(O={});for(var he=-1,ve=M.length;++he<ve;){var Me=M[he],Ue=X?X(O[Me],x[Me],Me,O,x):n;Ue===n&&(Ue=x[Me]),ee?ws(O,Me,Ue):Bf(O,Me,Ue)}return O}function Rp(x,M){return Rs(x,Ws(x),M)}function Qh(x,M){return Rs(x,Ao(x),M)}function Ff(x,M){return function(O,X){var ee=vn(O)?Ax:Ql,he=M?M():{};return ee(O,x,Vt(X,2),he)}}function zf(x){return Rn(function(M,O){var X=-1,ee=O.length,he=ee>1?O[ee-1]:n,ve=ee>2?O[2]:n;for(he=x.length>3&&typeof he=="function"?(ee--,he):n,ve&&er(O[0],O[1],ve)&&(he=ee<3?n:he,ee=1),M=Qn(M);++X<ee;){var Me=O[X];Me&&x(M,Me,X,he)}return M})}function mv(x,M){return function(O,X){if(O==null)return O;if(!Ba(O))return x(O,X);for(var ee=O.length,he=M?ee:-1,ve=Qn(O);(M?he--:++he<ee)&&X(ve[he],he,ve)!==!1;);return O}}function Hu(x){return function(M,O,X){for(var ee=-1,he=Qn(M),ve=X(M),Me=ve.length;Me--;){var Ue=ve[x?Me:++ee];if(O(he[Ue],Ue,he)===!1)break}return M}}function Hx(x,M,O){var X=M&b,ee=_o(x);function he(){var ve=this&&this!==Tr&&this instanceof he?ee:x;return ve.apply(X?O:this,arguments)}return he}function Hi(x){return function(M){M=Oi(M);var O=rl(M)?pr(M):n,X=O?O[0]:M.charAt(0),ee=O?zu(O,1).join(""):M.slice(1);return X[x]()+ee}}function Ya(x){return function(M){return Gm(N($f(M).replace(Bh,"")),x,"")}}function _o(x){return function(){var M=arguments;switch(M.length){case 0:return new x;case 1:return new x(M[0]);case 2:return new x(M[0],M[1]);case 3:return new x(M[0],M[1],M[2]);case 4:return new x(M[0],M[1],M[2],M[3]);case 5:return new x(M[0],M[1],M[2],M[3],M[4]);case 6:return new x(M[0],M[1],M[2],M[3],M[4],M[5]);case 7:return new x(M[0],M[1],M[2],M[3],M[4],M[5],M[6])}var O=Xs(x.prototype),X=x.apply(O,M);return Nr(X)?X:O}}function kx(x,M,O){var X=_o(x);function ee(){for(var he=arguments.length,ve=Ze(he),Me=he,Ue=bo(ee);Me--;)ve[Me]=arguments[Me];var ft=he<3&&ve[0]!==Ue&&ve[he-1]!==Ue?[]:kc(ve,Ue);if(he-=ft.length,he<O)return ed(x,M,gr,ee.placeholder,n,ve,ft,n,n,O-he);var dt=this&&this!==Tr&&this instanceof ee?X:x;return ka(dt,this,ve)}return ee}function eu(x){return function(M,O,X){var ee=Qn(M);if(!Ba(M)){var he=Vt(O,3);M=La(M),O=function(Me){return he(ee[Me],Me,ee)}}var ve=x(M,O,X);return ve>-1?ee[he?M[ve]:ve]:n}}function fl(x){return Bi(function(M){var O=M.length,X=O,ee=As.prototype.thru;for(x&&M.reverse();X--;){var he=M[X];if(typeof he!="function")throw new ar(s);if(ee&&!ve&&ac(he)=="wrapper")var ve=new As([],!0)}for(X=ve?X:O;++X<O;){he=M[X];var Me=ac(he),Ue=Me=="wrapper"?Op(he):n;Ue&&Hf(Ue[0])&&Ue[1]==(k|R|L|G)&&!Ue[4].length&&Ue[9]==1?ve=ve[ac(Ue[0])].apply(ve,Ue[3]):ve=he.length==1&&Hf(he)?ve[Me]():ve.thru(he)}return function(){var ft=arguments,dt=ft[0];if(ve&&ft.length==1&&vn(dt))return ve.plant(dt).value();for(var vt=0,It=O?M[vt].apply(this,ft):dt;++vt<O;)It=M[vt].call(this,It);return It}})}function gr(x,M,O,X,ee,he,ve,Me,Ue,ft){var dt=M&k,vt=M&b,It=M&A,Yt=M&(R|C),mn=M&z,$n=It?n:_o(x);function gn(){for(var hi=arguments.length,_i=Ze(hi),hu=hi;hu--;)_i[hu]=arguments[hu];if(Yt)var Ml=bo(gn),du=Mx(_i,Ml);if(X&&(_i=vg(_i,X,ee,Yt)),he&&(_i=pv(_i,he,ve,Yt)),hi-=du,Yt&&hi<ft){var Pa=kc(_i,Ml);return ed(x,M,gr,gn.placeholder,O,_i,Pa,Me,Ue,ft-hi)}var Zf=vt?O:this,Hp=It?Zf[x]:x;return hi=_i.length,Me?_i=lc(_i,Me):mn&&hi>1&&_i.reverse(),dt&&Ue<hi&&(_i.length=Ue),this&&this!==Tr&&this instanceof gn&&(Hp=$n||_o(Hp)),Hp.apply(Zf,_i)}return gn}function ic(x,M){return function(O,X){return Q0(O,x,M(X),{})}}function hl(x,M){return function(O,X){var ee;if(O===n&&X===n)return M;if(O!==n&&(ee=O),X!==n){if(ee===n)return X;typeof O=="string"||typeof X=="string"?(O=Ts(O),X=Ts(X)):(O=hg(O),X=hg(X)),ee=x(O,X)}return ee}}function Na(x){return Bi(function(M){return M=Zi(M,Ga(Vt())),Rn(function(O){var X=this;return x(M,function(ee){return ka(ee,X,O)})})})}function Np(x,M){M=M===n?" ":Ts(M);var O=M.length;if(O<2)return O?lv(M,x):M;var X=lv(M,Cf(x/ja(M)));return rl(M)?zu(pr(X),0,x).join(""):X.slice(0,x)}function Gx(x,M,O,X){var ee=M&b,he=_o(x);function ve(){for(var Me=-1,Ue=arguments.length,ft=-1,dt=X.length,vt=Ze(dt+Ue),It=this&&this!==Tr&&this instanceof ve?he:x;++ft<dt;)vt[ft]=X[ft];for(;Ue--;)vt[ft++]=arguments[++Me];return ka(It,ee?O:this,vt)}return ve}function dl(x){return function(M,O,X){return X&&typeof X!="number"&&er(M,O,X)&&(O=X=n),M=Zu(M),O===n?(O=M,M=0):O=Zu(O),X=X===n?M<O?1:-1:Zu(X),Px(M,O,X,x)}}function rc(x){return function(M,O){return typeof M=="string"&&typeof O=="string"||(M=mc(M),O=mc(O)),x(M,O)}}function ed(x,M,O,X,ee,he,ve,Me,Ue,ft){var dt=M&R,vt=dt?ve:n,It=dt?n:ve,Yt=dt?he:n,mn=dt?n:he;M|=dt?L:P,M&=~(dt?P:L),M&T||(M&=-4);var $n=[x,M,ee,Yt,vt,mn,It,Me,Ue,ft],gn=O.apply(n,$n);return Hf(x)&&rd(gn,$n),gn.placeholder=X,au(gn,x,M)}function td(x){var M=kr[x];return function(O,X){if(O=mc(O),X=X==null?0:sr(wn(X),292),X&&Rf(O)){var ee=(Oi(O)+"e").split("e"),he=M(ee[0]+"e"+(+ee[1]+X));return ee=(Oi(he)+"e").split("e"),+(ee[0]+"e"+(+ee[1]-X))}return M(O)}}var jx=Xn&&1/Du(new Xn([,-0]))[1]==J?function(x){return new Xn(x)}:kt;function Dp(x){return function(M){var O=ri(M);return O==pe?Wm(M):O==le?Bu(M):ip(M,x(M))}}function Xr(x,M,O,X,ee,he,ve,Me){var Ue=M&A;if(!Ue&&typeof x!="function")throw new ar(s);var ft=X?X.length:0;if(ft||(M&=-97,X=ee=n),ve=ve===n?ve:Qi(wn(ve),0),Me=Me===n?Me:wn(Me),ft-=ee?ee.length:0,M&P){var dt=X,vt=ee;X=ee=n}var It=Ue?n:Op(x),Yt=[x,M,O,X,ee,dt,vt,he,ve,Me];if(It&&jf(Yt,It),x=Yt[0],M=Yt[1],O=Yt[2],X=Yt[3],ee=Yt[4],Me=Yt[9]=Yt[9]===n?Ue?0:x.length:Qi(Yt[9]-ft,0),!Me&&M&(R|C)&&(M&=-25),!M||M==b)var mn=Hx(x,M,O);else M==R||M==C?mn=kx(x,M,Me):(M==L||M==(b|L))&&!ee.length?mn=Gx(x,M,O,X):mn=gr.apply(n,Yt);var $n=It?wp:rd;return au($n(mn,Yt),x,M)}function Bp(x,M,O,X){return x===n||Ro(x,al[O])&&!li.call(X,O)?M:x}function gv(x,M,O,X,ee,he){return Nr(x)&&Nr(M)&&(he.set(M,x),Ap(x,M,n,gv,he),he.delete(M)),x}function yg(x){return pc(x)?n:x}function Vx(x,M,O,X,ee,he){var ve=O&_,Me=x.length,Ue=M.length;if(Me!=Ue&&!(ve&&Ue>Me))return!1;var ft=he.get(x),dt=he.get(M);if(ft&&dt)return ft==M&&dt==x;var vt=-1,It=!0,Yt=O&S?new Ms:n;for(he.set(x,M),he.set(M,x);++vt<Me;){var mn=x[vt],$n=M[vt];if(X)var gn=ve?X($n,mn,vt,M,x,he):X(mn,$n,vt,x,M,he);if(gn!==n){if(gn)continue;It=!1;break}if(Yt){if(!jm(M,function(hi,_i){if(!fa(Yt,_i)&&(mn===hi||ee(mn,hi,O,X,he)))return Yt.push(_i)})){It=!1;break}}else if(!(mn===$n||ee(mn,$n,O,X,he))){It=!1;break}}return he.delete(x),he.delete(M),It}function Xx(x,M,O,X,ee,he,ve){switch(O){case gt:if(x.byteLength!=M.byteLength||x.byteOffset!=M.byteOffset)return!1;x=x.buffer,M=M.buffer;case _t:return!(x.byteLength!=M.byteLength||!he(new Ef(x),new Ef(M)));case He:case Fe:case St:return Ro(+x,+M);case Qe:return x.name==M.name&&x.message==M.message;case ze:case te:return x==M+"";case pe:var Me=Wm;case le:var Ue=X&_;if(Me||(Me=Du),x.size!=M.size&&!Ue)return!1;var ft=ve.get(x);if(ft)return ft==M;X|=S,ve.set(x,M);var dt=Vx(Me(x),Me(M),X,ee,he,ve);return ve.delete(x),dt;case Ee:if(Df)return Df.call(x)==Df.call(M)}return!1}function ma(x,M,O,X,ee,he){var ve=O&_,Me=Wa(x),Ue=Me.length,ft=Wa(M),dt=ft.length;if(Ue!=dt&&!ve)return!1;for(var vt=Ue;vt--;){var It=Me[vt];if(!(ve?It in M:li.call(M,It)))return!1}var Yt=he.get(x),mn=he.get(M);if(Yt&&mn)return Yt==M&&mn==x;var $n=!0;he.set(x,M),he.set(M,x);for(var gn=ve;++vt<Ue;){It=Me[vt];var hi=x[It],_i=M[It];if(X)var hu=ve?X(_i,hi,It,M,x,he):X(hi,_i,It,x,M,he);if(!(hu===n?hi===_i||ee(hi,_i,O,X,he):hu)){$n=!1;break}gn||(gn=It=="constructor")}if($n&&!gn){var Ml=x.constructor,du=M.constructor;Ml!=du&&"constructor"in x&&"constructor"in M&&!(typeof Ml=="function"&&Ml instanceof Ml&&typeof du=="function"&&du instanceof du)&&($n=!1)}return he.delete(x),he.delete(M),$n}function Bi(x){return cc(oc(x,n,br),x+"")}function Wa(x){return $0(x,La,Ws)}function Ja(x){return $0(x,$a,Ao)}var Op=Nf?function(x){return Nf.get(x)}:kt;function ac(x){for(var M=x.name+"",O=Vs[M],X=li.call(Vs,M)?O.length:0;X--;){var ee=O[X],he=ee.func;if(he==null||he==x)return ee.name}return M}function bo(x){var M=li.call(re,"placeholder")?re:x;return M.placeholder}function Vt(){var x=re.iteratee||cn;return x=x===cn?nv:x,arguments.length?x(arguments[0],arguments[1]):x}function tu(x,M){var O=x.__data__;return pl(M)?O[typeof M=="string"?"string":"hash"]:O.map}function fs(x){for(var M=La(x),O=M.length;O--;){var X=M[O],ee=x[X];M[O]=[X,ee,xg(ee)]}return M}function ta(x,M){var O=Ym(x,M);return tc(O)?O:n}function ku(x){var M=li.call(x,qi),O=x[qi];try{x[qi]=n;var X=!0}catch{}var ee=Gr.call(x);return X&&(M?x[qi]=O:delete x[qi]),ee}var Ws=Xa?function(x){return x==null?[]:(x=Qn(x),fo(Xa(x),function(M){return Xc.call(x,M)}))}:DN,Ao=Xa?function(x){for(var M=[];x;)nl(M,Ws(x)),x=Hh(x);return M}:DN,ri=ei;(fp&&ri(new fp(new ArrayBuffer(1)))!=gt||ea&&ri(new ea)!=pe||or&&ri(or.resolve())!=Le||Xn&&ri(new Xn)!=le||qa&&ri(new qa)!=et)&&(ri=function(x){var M=ei(x),O=M==_e?x.constructor:n,X=O?Mo(O):"";if(X)switch(X){case Tx:return gt;case q0:return pe;case sl:return Le;case jh:return le;case Mi:return et}return M});function nd(x,M,O){for(var X=-1,ee=O.length;++X<ee;){var he=O[X],ve=he.size;switch(he.type){case"drop":x+=ve;break;case"dropRight":M-=ve;break;case"take":M=sr(M,x+ve);break;case"takeRight":x=Qi(x,M-ve);break}}return{start:x,end:M}}function sc(x){var M=x.match(Jo);return M?M[1].split(is):[]}function Gu(x,M,O){M=Qc(M,x);for(var X=-1,ee=M.length,he=!1;++X<ee;){var ve=ti(M[X]);if(!(he=x!=null&&O(x,ve)))break;x=x[ve]}return he||++X!=ee?he:(ee=x==null?0:x.length,!!ee&&zp(ee)&&Js(ve,ee)&&(vn(x)||Kf(x)))}function Da(x){var M=x.length,O=new x.constructor(M);return M&&typeof x[0]=="string"&&li.call(x,"index")&&(O.index=x.index,O.input=x.input),O}function ga(x){return typeof x.constructor=="function"&&!Ei(x)?Xs(Hh(x)):{}}function ai(x,M,O){var X=x.constructor;switch(M){case _t:return If(x);case He:case Fe:return new X(+x);case gt:return pg(x,O);case Mt:case An:case yt:case Ot:case zt:case Ht:case wt:case Ae:case it:return Cs(x,O);case pe:return new X;case St:case te:return new X(x);case ze:return mg(x);case le:return new X;case Ee:return zx(x)}}function So(x,M){var O=M.length;if(!O)return x;var X=O-1;return M[X]=(O>1?"& ":"")+M[X],M=M.join(O>2?", ":" "),x.replace(Yd,`{
/* [wrapped with `+M+`] */
`)}function va(x){return vn(x)||Kf(x)||!!(os&&x&&x[os])}function Js(x,M){var O=typeof x;return M=M??Q,!!M&&(O=="number"||O!="symbol"&&Qo.test(x))&&x>-1&&x%1==0&&x<M}function er(x,M,O){if(!Nr(O))return!1;var X=typeof M;return(X=="number"?Ba(O)&&Js(M,O.length):X=="string"&&M in O)?Ro(O[M],x):!1}function nu(x,M){if(vn(x))return!1;var O=typeof x;return O=="number"||O=="symbol"||O=="boolean"||x==null||ao(x)?!0:Ur.test(x)||!En.test(x)||M!=null&&x in Qn(M)}function pl(x){var M=typeof x;return M=="string"||M=="number"||M=="symbol"||M=="boolean"?x!=="__proto__":x===null}function Hf(x){var M=ac(x),O=re[M];if(typeof O!="function"||!(M in Cn.prototype))return!1;if(x===O)return!0;var X=Op(O);return!!X&&x===X[0]}function iu(x){return!!Km&&Km in x}var kf=ho?uu:BN;function Ei(x){var M=x&&x.constructor,O=typeof M=="function"&&M.prototype||al;return x===O}function xg(x){return x===x&&!Nr(x)}function Gf(x,M){return function(O){return O==null?!1:O[x]===M&&(M!==n||x in Qn(O))}}function id(x){var M=xv(x,function(X){return O.size===c&&O.clear(),X}),O=M.cache;return M}function jf(x,M){var O=x[1],X=M[1],ee=O|X,he=ee<(b|A|k),ve=X==k&&O==R||X==k&&O==G&&x[7].length<=M[8]||X==(k|G)&&M[7].length<=M[8]&&O==R;if(!(he||ve))return x;X&b&&(x[2]=M[2],ee|=O&b?0:T);var Me=M[3];if(Me){var Ue=x[3];x[3]=Ue?vg(Ue,Me,M[4]):Me,x[4]=Ue?kc(x[3],f):M[4]}return Me=M[5],Me&&(Ue=x[5],x[5]=Ue?pv(Ue,Me,M[6]):Me,x[6]=Ue?kc(x[5],f):M[6]),Me=M[7],Me&&(x[7]=Me),X&k&&(x[8]=x[8]==null?M[8]:sr(x[8],M[8])),x[9]==null&&(x[9]=M[9]),x[0]=M[0],x[1]=ee,x}function Ks(x){var M=[];if(x!=null)for(var O in Qn(x))M.push(O);return M}function Vf(x){return Gr.call(x)}function oc(x,M,O){return M=Qi(M===n?x.length-1:M,0),function(){for(var X=arguments,ee=-1,he=Qi(X.length-M,0),ve=Ze(he);++ee<he;)ve[ee]=X[M+ee];ee=-1;for(var Me=Ze(M+1);++ee<M;)Me[ee]=X[ee];return Me[M]=O(ve),ka(x,this,Me)}}function ju(x,M){return M.length<2?x:_r(x,Es(M,0,-1))}function lc(x,M){for(var O=x.length,X=sr(M.length,O),ee=Vr(x);X--;){var he=M[X];x[X]=Js(he,O)?ee[he]:n}return x}function Vu(x,M){if(!(M==="constructor"&&typeof x[M]=="function")&&M!="__proto__")return x[M]}var rd=su(wp),ru=lp||function(x,M){return Tr.setTimeout(x,M)},cc=su(Kh);function au(x,M,O){var X=M+"";return cc(x,So(X,$s(sc(X),O)))}function su(x){var M=0,O=0;return function(){var X=Kl(),ee=W-(X-O);if(O=X,ee>0){if(++M>=ne)return arguments[0]}else M=0;return x.apply(n,arguments)}}function ml(x,M){var O=-1,X=x.length,ee=X-1;for(M=M===n?X:M;++O<M;){var he=cg(O,ee),ve=x[he];x[he]=x[O],x[O]=ve}return x.length=M,x}var gl=id(function(x){var M=[];return x.charCodeAt(0)===46&&M.push(""),x.replace(hr,function(O,X,ee,he){M.push(ee?he.replace($o,"$1"):X||O)}),M});function ti(x){if(typeof x=="string"||ao(x))return x;var M=x+"";return M=="0"&&1/x==-1/0?"-0":M}function Mo(x){if(x!=null){try{return wf.call(x)}catch{}try{return x+""}catch{}}return""}function $s(x,M){return Gs(fe,function(O){var X="_."+O[0];M&O[1]&&!Zd(x,X)&&x.push(X)}),x.sort()}function ki(x){if(x instanceof Cn)return x.clone();var M=new As(x.__wrapped__,x.__chain__);return M.__actions__=Vr(x.__actions__),M.__index__=x.__index__,M.__values__=x.__values__,M}function na(x,M,O){(O?er(x,M,O):M===n)?M=1:M=Qi(wn(M),0);var X=x==null?0:x.length;if(!X||M<1)return[];for(var ee=0,he=0,ve=Ze(Cf(X/M));ee<X;)ve[he++]=Es(x,ee,ee+=M);return ve}function ou(x){for(var M=-1,O=x==null?0:x.length,X=0,ee=[];++M<O;){var he=x[M];he&&(ee[X++]=he)}return ee}function Nn(){var x=arguments.length;if(!x)return[];for(var M=Ze(x-1),O=arguments[0],X=x;X--;)M[X-1]=arguments[X];return nl(vn(O)?Vr(O):[O],Wn(M,1))}var nn=Rn(function(x,M){return qr(x)?Pu(x,Wn(M,1,qr,!0)):[]}),ci=Rn(function(x,M){var O=vr(M);return qr(O)&&(O=n),qr(x)?Pu(x,Wn(M,1,qr,!0),Vt(O,2)):[]}),wo=Rn(function(x,M){var O=vr(M);return qr(O)&&(O=n),qr(x)?Pu(x,Wn(M,1,qr,!0),n,O):[]});function Xf(x,M,O){var X=x==null?0:x.length;return X?(M=O||M===n?1:wn(M),Es(x,M<0?0:M,X)):[]}function Xu(x,M,O){var X=x==null?0:x.length;return X?(M=O||M===n?1:wn(M),M=X-M,Es(x,0,M<0?0:M)):[]}function _g(x,M){return x&&x.length?Ep(x,Vt(M,3),!0,!0):[]}function qf(x,M){return x&&x.length?Ep(x,Vt(M,3),!0):[]}function ya(x,M,O,X){var ee=x==null?0:x.length;return ee?(O&&typeof O!="number"&&er(x,M,O)&&(O=0,X=ee),Mn(x,M,O,X)):[]}function Eo(x,M,O){var X=x==null?0:x.length;if(!X)return-1;var ee=O==null?0:wn(O);return ee<0&&(ee=Qi(X+ee,0)),il(x,Vt(M,3),ee)}function Lp(x,M,O){var X=x==null?0:x.length;if(!X)return-1;var ee=X-1;return O!==n&&(ee=wn(O),ee=O<0?Qi(X+ee,0):sr(ee,X-1)),il(x,Vt(M,3),ee,!0)}function br(x){var M=x==null?0:x.length;return M?Wn(x,1):[]}function qu(x){var M=x==null?0:x.length;return M?Wn(x,J):[]}function hs(x,M){var O=x==null?0:x.length;return O?(M=M===n?1:wn(M),Wn(x,M)):[]}function Zs(x){for(var M=-1,O=x==null?0:x.length,X={};++M<O;){var ee=x[M];X[ee[0]]=ee[1]}return X}function vl(x){return x&&x.length?x[0]:n}function bg(x,M,O){var X=x==null?0:x.length;if(!X)return-1;var ee=O==null?0:wn(O);return ee<0&&(ee=Qi(X+ee,0)),_s(x,M,ee)}function Ag(x){var M=x==null?0:x.length;return M?Es(x,0,-1):[]}var Yi=Rn(function(x){var M=Zi(x,dg);return M.length&&M[0]===x[0]?Z0(M):[]}),Sg=Rn(function(x){var M=vr(x),O=Zi(x,dg);return M===vr(O)?M=n:O.pop(),O.length&&O[0]===x[0]?Z0(O,Vt(M,2)):[]}),lu=Rn(function(x){var M=vr(x),O=Zi(x,dg);return M=typeof M=="function"?M:n,M&&O.pop(),O.length&&O[0]===x[0]?Z0(O,n,M):[]});function yl(x,M){return x==null?"":Ta.call(x,M)}function vr(x){var M=x==null?0:x.length;return M?x[M-1]:n}function ad(x,M,O){var X=x==null?0:x.length;if(!X)return-1;var ee=X;return O!==n&&(ee=wn(O),ee=ee<0?Qi(X+ee,0):sr(ee,X-1)),M===M?bs(x,M,ee):il(x,Ru,ee,!0)}function qx(x,M){return x&&x.length?av(x,wn(M)):n}var Yx=Rn(Wi);function Wi(x,M){return x&&x.length&&M&&M.length?Sp(x,M):x}function vv(x,M,O){return x&&x.length&&M&&M.length?Sp(x,M,Vt(O,2)):x}function uc(x,M,O){return x&&x.length&&M&&M.length?Sp(x,M,n,O):x}var fc=Bi(function(x,M){var O=x==null?0:x.length,X=xp(x,M);return ov(x,Zi(M,function(ee){return Js(ee,O)?+ee:ee}).sort(Zh)),X});function Cr(x,M){var O=[];if(!(x&&x.length))return O;var X=-1,ee=[],he=x.length;for(M=Vt(M,3);++X<he;){var ve=x[X];M(ve,X,x)&&(O.push(ve),ee.push(X))}return ov(x,ee),O}function Pp(x){return x==null?x:X0.call(x)}function Ti(x,M,O){var X=x==null?0:x.length;return X?(O&&typeof O!="number"&&er(x,M,O)?(M=0,O=X):(M=M==null?0:wn(M),O=O===n?X:wn(O)),Es(x,M,O)):[]}function _n(x,M){return Uf(x,M)}function Hn(x,M,O){return fg(x,M,Vt(O,2))}function Qt(x,M){var O=x==null?0:x.length;if(O){var X=Uf(x,M);if(X<O&&Ro(x[X],M))return X}return-1}function Tn(x,M){return Uf(x,M,!0)}function Ar(x,M,O){return fg(x,M,Vt(O,2),!0)}function Qs(x,M){var O=x==null?0:x.length;if(O){var X=Uf(x,M,!0)-1;if(Ro(x[X],M))return X}return-1}function sd(x){return x&&x.length?uv(x):[]}function od(x,M){return x&&x.length?uv(x,Vt(M,2)):[]}function To(x){var M=x==null?0:x.length;return M?Es(x,1,M):[]}function lr(x,M,O){return x&&x.length?(M=O||M===n?1:wn(M),Es(x,0,M<0?0:M)):[]}function xl(x,M,O){var X=x==null?0:x.length;return X?(M=O||M===n?1:wn(M),M=X-M,Es(x,M<0?0:M,X)):[]}function hc(x,M){return x&&x.length?Ep(x,Vt(M,3),!1,!0):[]}function Yf(x,M){return x&&x.length?Ep(x,Vt(M,3)):[]}var Co=Rn(function(x){return nc(Wn(x,1,qr,!0))}),ui=Rn(function(x){var M=vr(x);return qr(M)&&(M=n),nc(Wn(x,1,qr,!0),Vt(M,2))}),Ci=Rn(function(x){var M=vr(x);return M=typeof M=="function"?M:n,nc(Wn(x,1,qr,!0),n,M)});function sn(x){return x&&x.length?nc(x):[]}function Jn(x,M){return x&&x.length?nc(x,Vt(M,2)):[]}function Gi(x,M){return M=typeof M=="function"?M:n,x&&x.length?nc(x,n,M):[]}function xa(x){if(!(x&&x.length))return[];var M=0;return x=fo(x,function(O){if(qr(O))return M=Qi(O.length,M),!0}),Wl(M,function(O){return Zi(x,Sf(O))})}function eo(x,M){if(!(x&&x.length))return[];var O=xa(x);return M==null?O:Zi(O,function(X){return ka(M,n,X)})}var to=Rn(function(x,M){return qr(x)?Pu(x,M):[]}),ia=Rn(function(x){return Tp(fo(x,qr))}),Ka=Rn(function(x){var M=vr(x);return qr(M)&&(M=n),Tp(fo(x,qr),Vt(M,2))}),Ji=Rn(function(x){var M=vr(x);return M=typeof M=="function"?M:n,Tp(fo(x,qr),n,M)}),no=Rn(xa);function cu(x,M){return hv(x||[],M||[],Bf)}function Up(x,M){return hv(x||[],M||[],Pf)}var io=Rn(function(x){var M=x.length,O=M>1?x[M-1]:n;return O=typeof O=="function"?(x.pop(),O):n,eo(x,O)});function _l(x){var M=re(x);return M.__chain__=!0,M}function Wf(x,M){return M(x),x}function cr(x,M){return M(x)}var Mg=Bi(function(x){var M=x.length,O=M?x[0]:0,X=this.__wrapped__,ee=function(he){return xp(he,x)};return M>1||this.__actions__.length||!(X instanceof Cn)||!Js(O)?this.thru(ee):(X=X.slice(O,+O+(M?1:0)),X.__actions__.push({func:cr,args:[ee],thisArg:n}),new As(X,this.__chain__).thru(function(he){return M&&!he.length&&he.push(n),he}))});function ds(){return _l(this)}function ld(){return new As(this.value(),this.__chain__)}function Ip(){this.__values__===n&&(this.__values__=Sl(this.value()));var x=this.__index__>=this.__values__.length,M=x?n:this.__values__[this.__index__++];return{done:x,value:M}}function Yu(){return this}function bl(x){for(var M,O=this;O instanceof mo;){var X=ki(O);X.__index__=0,X.__values__=n,M?ee.__wrapped__=X:M=X;var ee=X;O=O.__wrapped__}return ee.__wrapped__=x,M}function dc(){var x=this.__wrapped__;if(x instanceof Cn){var M=x;return this.__actions__.length&&(M=new Cn(this)),M=M.reverse(),M.__actions__.push({func:cr,args:[Pp],thisArg:n}),new As(M,this.__chain__)}return this.thru(Pp)}function Jf(){return Ux(this.__wrapped__,this.__actions__)}var Wu=Ff(function(x,M,O){li.call(x,O)?++x[O]:ws(x,O,1)});function wg(x,M,O){var X=vn(x)?km:_p;return O&&er(x,M,O)&&(M=n),X(x,Vt(M,3))}function cd(x,M){var O=vn(x)?fo:wi;return O(x,Vt(M,3))}var Eg=eu(Eo),m=eu(Lp);function g(x,M){return Wn(bt(x,M),1)}function E(x,M){return Wn(bt(x,M),J)}function D(x,M,O){return O=O===n?1:wn(O),Wn(bt(x,M),O)}function I(x,M){var O=vn(x)?Gs:Kc;return O(x,Vt(M,3))}function q(x,M){var O=vn(x)?Sx:ig;return O(x,Vt(M,3))}var ue=Ff(function(x,M,O){li.call(x,O)?x[O].push(M):ws(x,O,[M])});function xe(x,M,O,X){x=Ba(x)?x:Og(x),O=O&&!X?wn(O):0;var ee=x.length;return O<0&&(O=Qi(ee+O,0)),t_(x)?O<=ee&&x.indexOf(M,O)>-1:!!ee&&_s(x,M,O)>-1}var Pe=Rn(function(x,M,O){var X=-1,ee=typeof M=="function",he=Ba(x)?Ze(x.length):[];return Kc(x,function(ve){he[++X]=ee?ka(M,ve,O):Uu(ve,M,O)}),he}),ot=Ff(function(x,M,O){ws(x,O,M)});function bt(x,M){var O=vn(x)?Zi:iv;return O(x,Vt(M,3))}function Bt(x,M,O,X){return x==null?[]:(vn(M)||(M=M==null?[]:[M]),O=X?n:O,vn(O)||(O=O==null?[]:[O]),sv(x,M,O))}var Ut=Ff(function(x,M,O){x[O?0:1].push(M)},function(){return[[],[]]});function bn(x,M,O){var X=vn(x)?Gm:ua,ee=arguments.length<3;return X(x,Vt(M,4),O,ee,Kc)}function ro(x,M,O){var X=vn(x)?F0:ua,ee=arguments.length<3;return X(x,Vt(M,4),O,ee,ig)}function Ju(x,M){var O=vn(x)?fo:wi;return O(x,_v(Vt(M,3)))}function Ku(x){var M=vn(x)?Ys:Jh;return M(x)}function qe(x,M,O){(O?er(x,M,O):M===n)?M=1:M=wn(M);var X=vn(x)?J0:Mp;return X(x,M)}function we(x){var M=vn(x)?Rx:cv;return M(x)}function Ke(x){if(x==null)return 0;if(Ba(x))return t_(x)?ja(x):x.length;var M=ri(x);return M==pe||M==le?x.size:Fu(x).length}function At(x,M,O){var X=vn(x)?jm:ug;return O&&er(x,M,O)&&(M=n),X(x,Vt(M,3))}var qt=Rn(function(x,M){if(x==null)return[];var O=M.length;return O>1&&er(x,M[0],M[1])?M=[]:O>2&&er(M[0],M[1],M[2])&&(M=[M[0]]),sv(x,Wn(M,1),[])}),ji=Lu||function(){return Tr.Date.now()};function pn(x,M){if(typeof M!="function")throw new ar(s);return x=wn(x),function(){if(--x<1)return M.apply(this,arguments)}}function fi(x,M,O){return M=O?n:M,M=x&&M==null?x.length:M,Xr(x,k,n,n,n,n,M)}function Rr(x,M){var O;if(typeof M!="function")throw new ar(s);return x=wn(x),function(){return--x>0&&(O=M.apply(this,arguments)),x<=1&&(M=n),O}}var Ln=Rn(function(x,M,O){var X=b;if(O.length){var ee=kc(O,bo(Ln));X|=L}return Xr(x,X,M,O,ee)}),Al=Rn(function(x,M,O){var X=b|A;if(O.length){var ee=kc(O,bo(Al));X|=L}return Xr(M,X,x,O,ee)});function Fp(x,M,O){M=O?n:M;var X=Xr(x,R,n,n,n,n,n,M);return X.placeholder=Fp.placeholder,X}function Wx(x,M,O){M=O?n:M;var X=Xr(x,C,n,n,n,n,n,M);return X.placeholder=Wx.placeholder,X}function ud(x,M,O){var X,ee,he,ve,Me,Ue,ft=0,dt=!1,vt=!1,It=!0;if(typeof x!="function")throw new ar(s);M=mc(M)||0,Nr(O)&&(dt=!!O.leading,vt="maxWait"in O,he=vt?Qi(mc(O.maxWait)||0,M):he,It="trailing"in O?!!O.trailing:It);function Yt(Pa){var Zf=X,Hp=ee;return X=ee=n,ft=Pa,ve=x.apply(Hp,Zf),ve}function mn(Pa){return ft=Pa,Me=ru(hi,M),dt?Yt(Pa):ve}function $n(Pa){var Zf=Pa-Ue,Hp=Pa-ft,GU=M-Zf;return vt?sr(GU,he-Hp):GU}function gn(Pa){var Zf=Pa-Ue,Hp=Pa-ft;return Ue===n||Zf>=M||Zf<0||vt&&Hp>=he}function hi(){var Pa=ji();if(gn(Pa))return _i(Pa);Me=ru(hi,$n(Pa))}function _i(Pa){return Me=n,It&&X?Yt(Pa):(X=ee=n,ve)}function hu(){Me!==n&&Fx(Me),ft=0,X=Ue=ee=Me=n}function Ml(){return Me===n?ve:_i(ji())}function du(){var Pa=ji(),Zf=gn(Pa);if(X=arguments,ee=this,Ue=Pa,Zf){if(Me===n)return mn(Ue);if(vt)return Fx(Me),Me=ru(hi,M),Yt(Ue)}return Me===n&&(Me=ru(hi,M)),ve}return du.cancel=hu,du.flush=Ml,du}var $u=Rn(function(x,M){return Lf(x,1,M)}),yv=Rn(function(x,M,O){return Lf(x,mc(M)||0,O)});function iN(x){return Xr(x,z)}function xv(x,M){if(typeof x!="function"||M!=null&&typeof M!="function")throw new ar(s);var O=function(){var X=arguments,ee=M?M.apply(this,X):X[0],he=O.cache;if(he.has(ee))return he.get(ee);var ve=x.apply(this,X);return O.cache=he.set(ee,ve)||he,ve};return O.cache=new(xv.Cache||Ss),O}xv.Cache=Ss;function _v(x){if(typeof x!="function")throw new ar(s);return function(){var M=arguments;switch(M.length){case 0:return!x.call(this);case 1:return!x.call(this,M[0]);case 2:return!x.call(this,M[0],M[1]);case 3:return!x.call(this,M[0],M[1],M[2])}return!x.apply(this,M)}}function JM(x){return Rr(2,x)}var KM=Ix(function(x,M){M=M.length==1&&vn(M[0])?Zi(M[0],Ga(Vt())):Zi(Wn(M,1),Ga(Vt()));var O=M.length;return Rn(function(X){for(var ee=-1,he=sr(X.length,O);++ee<he;)X[ee]=M[ee].call(this,X[ee]);return ka(x,this,X)})}),S1=Rn(function(x,M){var O=kc(M,bo(S1));return Xr(x,L,n,M,O)}),Jx=Rn(function(x,M){var O=kc(M,bo(Jx));return Xr(x,P,n,M,O)}),$M=Bi(function(x,M){return Xr(x,G,n,n,n,M)});function ZM(x,M){if(typeof x!="function")throw new ar(s);return M=M===n?M:wn(M),Rn(x,M)}function rN(x,M){if(typeof x!="function")throw new ar(s);return M=M==null?0:Qi(wn(M),0),Rn(function(O){var X=O[M],ee=zu(O,0,M);return X&&nl(ee,X),ka(x,this,ee)})}function M1(x,M,O){var X=!0,ee=!0;if(typeof x!="function")throw new ar(s);return Nr(O)&&(X="leading"in O?!!O.leading:X,ee="trailing"in O?!!O.trailing:ee),ud(x,M,{leading:X,maxWait:M,trailing:ee})}function w1(x){return fi(x,1)}function aN(x,M){return S1(Cp(M),x)}function sN(){if(!arguments.length)return[];var x=arguments[0];return vn(x)?x:[x]}function bv(x){return Ra(x,v)}function oN(x,M){return M=typeof M=="function"?M:n,Ra(x,v,M)}function QM(x){return Ra(x,d|v)}function ni(x,M){return M=typeof M=="function"?M:n,Ra(x,d|v,M)}function E1(x,M){return M==null||K0(x,M,La(M))}function Ro(x,M){return x===M||x!==x&&M!==M}var T1=rc(pa),ew=rc(function(x,M){return x>=M}),Kf=rg(function(){return arguments}())?rg:function(x){return Br(x)&&li.call(x,"callee")&&!Xc.call(x,"callee")},vn=Ze.isArray,Kx=$d?Ga($d):us;function Ba(x){return x!=null&&zp(x.length)&&!uu(x)}function qr(x){return Br(x)&&Ba(x)}function lN(x){return x===!0||x===!1||Br(x)&&ei(x)==He}var fd=cp||BN,tw=L0?Ga(L0):jr;function nw(x){return Br(x)&&x.nodeType===1&&!pc(x)}function $x(x){if(x==null)return!0;if(Ba(x)&&(vn(x)||typeof x=="string"||typeof x.splice=="function"||fd(x)||Tg(x)||Kf(x)))return!x.length;var M=ri(x);if(M==pe||M==le)return!x.size;if(Ei(x))return!Fu(x).length;for(var O in x)if(li.call(x,O))return!1;return!0}function tr(x,M){return xo(x,M)}function C1(x,M,O){O=typeof O=="function"?O:n;var X=O?O(x,M):n;return X===n?xo(x,M,n,O):!!X}function Oa(x){if(!Br(x))return!1;var M=ei(x);return M==Qe||M==ke||typeof x.message=="string"&&typeof x.name=="string"&&!pc(x)}function cN(x){return typeof x=="number"&&Rf(x)}function uu(x){if(!Nr(x))return!1;var M=ei(x);return M==Re||M==st||M==De||M==pt}function Zx(x){return typeof x=="number"&&x==wn(x)}function zp(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=Q}function Nr(x){var M=typeof x;return x!=null&&(M=="object"||M=="function")}function Br(x){return x!=null&&typeof x=="object"}var Qx=P0?Ga(P0):ag;function R1(x,M){return x===M||bp(x,M,fs(M))}function uN(x,M,O){return O=typeof O=="function"?O:n,bp(x,M,fs(M),O)}function iw(x){return aw(x)&&x!=+x}function fN(x){if(kf(x))throw new tn(a);return tc(x)}function rw(x){return x===null}function hN(x){return x==null}function aw(x){return typeof x=="number"||Br(x)&&ei(x)==St}function pc(x){if(!Br(x)||ei(x)!=_e)return!1;var M=Hh(x);if(M===null)return!0;var O=li.call(M,"constructor")&&M.constructor;return typeof O=="function"&&O instanceof O&&wf.call(O)==Va}var e_=U0?Ga(U0):Iu;function N1(x){return Zx(x)&&x>=-9007199254740991&&x<=Q}var sw=I0?Ga(I0):ev;function t_(x){return typeof x=="string"||!vn(x)&&Br(x)&&ei(x)==te}function ao(x){return typeof x=="symbol"||Br(x)&&ei(x)==Ee}var Tg=Ih?Ga(Ih):tv;function fu(x){return x===n}function D1(x){return Br(x)&&ri(x)==et}function ow(x){return Br(x)&&ei(x)==tt}var lw=rc(sg),Av=rc(function(x,M){return x<=M});function Sl(x){if(!x)return[];if(Ba(x))return t_(x)?pr(x):Vr(x);if(qc&&x[qc])return dr(x[qc]());var M=ri(x),O=M==pe?Wm:M==le?Du:Og;return O(x)}function Zu(x){if(!x)return x===0?x:0;if(x=mc(x),x===J||x===-1/0){var M=x<0?-1:1;return M*ie}return x===x?x:0}function wn(x){var M=Zu(x),O=M%1;return M===M?O?M-O:M:0}function Qu(x){return x?cl(wn(x),0,$):0}function mc(x){if(typeof x=="number")return x;if(ao(x))return V;if(Nr(x)){var M=typeof x.valueOf=="function"?x.valueOf():x;x=Nr(M)?M+"":M}if(typeof x!="string")return x===0?x:+x;x=Vm(x);var O=Ir.test(x);return O||Ch.test(x)?bx(x.slice(2),O?2:8):Ic.test(x)?V:+x}function cw(x){return Rs(x,$a(x))}function Cg(x){return x?cl(wn(x),-9007199254740991,Q):x===0?x:0}function Oi(x){return x==null?"":Ts(x)}var dN=zf(function(x,M){if(Ei(M)||Ba(M)){Rs(M,La(M),x);return}for(var O in M)li.call(M,O)&&Bf(x,O,M[O])}),uw=zf(function(x,M){Rs(M,$a(M),x)}),n_=zf(function(x,M,O,X){Rs(M,$a(M),x,X)}),pN=zf(function(x,M,O,X){Rs(M,La(M),x,X)}),mN=Bi(xp);function gN(x,M){var O=Xs(x);return M==null?O:ec(O,M)}var vN=Rn(function(x,M){x=Qn(x);var O=-1,X=M.length,ee=X>2?M[2]:n;for(ee&&er(M[0],M[1],ee)&&(X=1);++O<X;)for(var he=M[O],ve=$a(he),Me=-1,Ue=ve.length;++Me<Ue;){var ft=ve[Me],dt=x[ft];(dt===n||Ro(dt,al[ft])&&!li.call(x,ft))&&(x[ft]=he[ft])}return x}),fw=Rn(function(x){return x.push(n,gv),ka(Ev,n,x)});function Rg(x,M){return H0(x,Vt(M,3),mr)}function Sv(x,M){return H0(x,Vt(M,3),Dr)}function hw(x,M){return x==null?x:Wh(x,Vt(M,3),$a)}function yN(x,M){return x==null?x:$c(x,Vt(M,3),$a)}function Ng(x,M){return x&&mr(x,Vt(M,3))}function Mv(x,M){return x&&Dr(x,Vt(M,3))}function dw(x){return x==null?[]:cs(x,La(x))}function i_(x){return x==null?[]:cs(x,$a(x))}function wv(x,M,O){var X=x==null?n:_r(x,M);return X===n?O:X}function B1(x,M){return x!=null&&Gu(x,M,Zc)}function Dg(x,M){return x!=null&&Gu(x,M,Nx)}var pw=ic(function(x,M,O){M!=null&&typeof M.toString!="function"&&(M=Gr.call(M)),x[M]=O},je(Ve)),mw=ic(function(x,M,O){M!=null&&typeof M.toString!="function"&&(M=Gr.call(M)),li.call(x,M)?x[M].push(O):x[M]=[O]},Vt),xN=Rn(Uu);function La(x){return Ba(x)?yp(x):Fu(x)}function $a(x){return Ba(x)?yp(x,!0):Bx(x)}function _N(x,M){var O={};return M=Vt(M,3),mr(x,function(X,ee,he){ws(O,M(X,ee,he),X)}),O}function bN(x,M){var O={};return M=Vt(M,3),mr(x,function(X,ee,he){ws(O,ee,M(X,ee,he))}),O}var AN=zf(function(x,M,O){Ap(x,M,O)}),Ev=zf(function(x,M,O,X){Ap(x,M,O,X)}),r_=Bi(function(x,M){var O={};if(x==null)return O;var X=!1;M=Zi(M,function(he){return he=Qc(he,x),X||(X=he.length>1),he}),Rs(x,Ja(x),O),X&&(O=Ra(O,d|p|v,yg));for(var ee=M.length;ee--;)$h(O,M[ee]);return O});function O1(x,M){return Bg(x,_v(Vt(M)))}var SN=Bi(function(x,M){return x==null?{}:Ox(x,M)});function Bg(x,M){if(x==null)return{};var O=Zi(Ja(x),function(X){return[X]});return M=Vt(M),lg(x,O,function(X,ee){return M(X,ee[0])})}function MN(x,M,O){M=Qc(M,x);var X=-1,ee=M.length;for(ee||(ee=1,x=n);++X<ee;){var he=x==null?n:x[ti(M[X])];he===n&&(X=ee,he=O),x=uu(he)?he.call(x):he}return x}function gw(x,M,O){return x==null?x:Pf(x,M,O)}function vw(x,M,O,X){return X=typeof X=="function"?X:n,x==null?x:Pf(x,M,O,X)}var L1=Dp(La),P1=Dp($a);function U1(x,M,O){var X=vn(x),ee=X||fd(x)||Tg(x);if(M=Vt(M,4),O==null){var he=x&&x.constructor;ee?O=X?new he:[]:Nr(x)?O=uu(he)?Xs(Hh(x)):{}:O={}}return(ee?Gs:mr)(x,function(ve,Me,Ue){return M(O,ve,Me,Ue)}),O}function yw(x,M){return x==null?!0:$h(x,M)}function a_(x,M,O){return x==null?x:fv(x,M,Cp(O))}function wN(x,M,O,X){return X=typeof X=="function"?X:n,x==null?x:fv(x,M,Cp(O),X)}function Og(x){return x==null?[]:rp(x,La(x))}function I1(x){return x==null?[]:rp(x,$a(x))}function F1(x,M,O){return O===n&&(O=M,M=n),O!==n&&(O=mc(O),O=O===O?O:0),M!==n&&(M=mc(M),M=M===M?M:0),cl(mc(x),M,O)}function s_(x,M,O){return M=Zu(M),O===n?(O=M,M=0):O=Zu(O),x=mc(x),Dx(x,M,O)}function z1(x,M,O){if(O&&typeof O!="boolean"&&er(x,M,O)&&(M=O=n),O===n&&(typeof M=="boolean"?(O=M,M=n):typeof x=="boolean"&&(O=x,x=n)),x===n&&M===n?(x=0,M=1):(x=Zu(x),M===n?(M=x,x=0):M=Zu(M)),x>M){var X=x;x=M,M=X}if(O||x%1||M%1){var ee=up();return sr(x+ee*(M-x+Ph("1e-"+((ee+"").length-1))),M)}return cg(x,M)}var xw=Ya(function(x,M,O){return M=M.toLowerCase(),x+(O?o_(M):M)});function o_(x){return w(Oi(x).toLowerCase())}function $f(x){return x=Oi(x),x&&x.replace(se,ap).replace(Xl,"")}function hd(x,M,O){x=Oi(x),M=Ts(M);var X=x.length;O=O===n?X:cl(wn(O),0,X);var ee=O;return O-=M.length,O>=0&&x.slice(O,ee)==M}function dd(x){return x=Oi(x),x&&Rt.test(x)?x.replace(at,Xm):x}function Tv(x){return x=Oi(x),x&&$r.test(x)?x.replace(Er,"\\$&"):x}var Cv=Ya(function(x,M,O){return x+(O?"-":"")+M.toLowerCase()}),pd=Ya(function(x,M,O){return x+(O?" ":"")+M.toLowerCase()}),EN=Hi("toLowerCase");function _w(x,M,O){x=Oi(x),M=wn(M);var X=M?ja(x):0;if(!M||X>=M)return x;var ee=(M-X)/2;return Np(Yc(ee),O)+x+Np(Cf(ee),O)}function Rv(x,M,O){x=Oi(x),M=wn(M);var X=M?ja(x):0;return M&&X<M?x+Np(M-X,O):x}function TN(x,M,O){x=Oi(x),M=wn(M);var X=M?ja(x):0;return M&&X<M?Np(M-X,O)+x:x}function bw(x,M,O){return O||M==null?M=0:M&&(M=+M),Wc(Oi(x).replace(ca,""),M||0)}function l_(x,M,O){return(O?er(x,M,O):M===n)?M=1:M=wn(M),lv(Oi(x),M)}function Aw(){var x=arguments,M=Oi(x[0]);return x.length<3?M:M.replace(x[1],x[2])}var CN=Ya(function(x,M,O){return x+(O?"_":"")+M.toLowerCase()});function c_(x,M,O){return O&&typeof O!="number"&&er(x,M,O)&&(M=O=n),O=O===n?$:O>>>0,O?(x=Oi(x),x&&(typeof M=="string"||M!=null&&!e_(M))&&(M=Ts(M),!M&&rl(x))?zu(pr(x),0,O):x.split(M,O)):[]}var u_=Ya(function(x,M,O){return x+(O?" ":"")+w(M)});function Sw(x,M,O){return x=Oi(x),O=O==null?0:cl(wn(O),0,x.length),M=Ts(M),x.slice(O,O+M.length)==M}function Nv(x,M,O){var X=re.templateSettings;O&&er(x,M,O)&&(M=n),x=Oi(x),M=n_({},M,X,Bp);var ee=n_({},M.imports,X.imports,Bp),he=La(ee),ve=rp(ee,he),Me,Ue,ft=0,dt=M.interpolate||Te,vt="__p += '",It=Ea((M.escape||Te).source+"|"+dt.source+"|"+(dt===vi?Zo:Te).source+"|"+(M.evaluate||Te).source+"|$","g"),Yt="//# sourceURL="+(li.call(M,"sourceURL")?(M.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++D0+"]")+`
`;x.replace(It,function(gn,hi,_i,hu,Ml,du){return _i||(_i=hu),vt+=x.slice(ft,du).replace(We,qm),hi&&(Me=!0,vt+=`' +
__e(`+hi+`) +
'`),Ml&&(Ue=!0,vt+=`';
`+Ml+`;
__p += '`),_i&&(vt+=`' +
((__t = (`+_i+`)) == null ? '' : __t) +
'`),ft=du+gn.length,gn}),vt+=`';
`;var mn=li.call(M,"variable")&&M.variable;if(!mn)vt=`with (obj) {
`+vt+`
}
`;else if(Ui.test(mn))throw new tn(o);vt=(Ue?vt.replace(Ct,""):vt).replace(be,"$1").replace(xt,"$1;"),vt="function("+(mn||"obj")+`) {
`+(mn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Me?", __e = _.escape":"")+(Ue?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+vt+`return __p
}`;var $n=U(function(){return ii(he,Yt+"return "+vt).apply(n,ve)});if($n.source=vt,Oa($n))throw $n;return $n}function H1(x){return Oi(x).toLowerCase()}function f_(x){return Oi(x).toUpperCase()}function Mw(x,M,O){if(x=Oi(x),x&&(O||M===n))return Vm(x);if(!x||!(M=Ts(M)))return x;var X=pr(x),ee=pr(M),he=Mf(X,ee),ve=Nu(X,ee)+1;return zu(X,he,ve).join("")}function RN(x,M,O){if(x=Oi(x),x&&(O||M===n))return x.slice(0,Jm(x)+1);if(!x||!(M=Ts(M)))return x;var X=pr(x),ee=Nu(X,pr(M))+1;return zu(X,0,ee).join("")}function h_(x,M,O){if(x=Oi(x),x&&(O||M===n))return x.replace(ca,"");if(!x||!(M=Ts(M)))return x;var X=pr(x),ee=Mf(X,pr(M));return zu(X,ee).join("")}function u(x,M){var O=F,X=j;if(Nr(M)){var ee="separator"in M?M.separator:ee;O="length"in M?wn(M.length):O,X="omission"in M?Ts(M.omission):X}x=Oi(x);var he=x.length;if(rl(x)){var ve=pr(x);he=ve.length}if(O>=he)return x;var Me=O-ja(X);if(Me<1)return X;var Ue=ve?zu(ve,0,Me).join(""):x.slice(0,Me);if(ee===n)return Ue+X;if(ve&&(Me+=Ue.length-Me),e_(ee)){if(x.slice(Me).search(ee)){var ft,dt=Ue;for(ee.global||(ee=Ea(ee.source,Oi(Uc.exec(ee))+"g")),ee.lastIndex=0;ft=ee.exec(dt);)var vt=ft.index;Ue=Ue.slice(0,vt===n?Me:vt)}}else if(x.indexOf(Ts(ee),Me)!=Me){var It=Ue.lastIndexOf(ee);It>-1&&(Ue=Ue.slice(0,It))}return Ue+X}function h(x){return x=Oi(x),x&&Dt.test(x)?x.replace($e,k0):x}var y=Ya(function(x,M,O){return x+(O?" ":"")+M.toUpperCase()}),w=Hi("toUpperCase");function N(x,M,O){return x=Oi(x),M=O?n:M,M===n?zh(x)?j0(x):x1(x):x.match(M)||[]}var U=Rn(function(x,M){try{return ka(x,n,M)}catch(O){return Oa(O)?O:new tn(O)}}),Z=Bi(function(x,M){return Gs(M,function(O){O=ti(O),ws(x,O,Ln(x[O],x))}),x});function ae(x){var M=x==null?0:x.length,O=Vt();return x=M?Zi(x,function(X){if(typeof X[1]!="function")throw new ar(s);return[O(X[0]),X[1]]}):[],Rn(function(X){for(var ee=-1;++ee<M;){var he=x[ee];if(ka(he[0],this,X))return ka(he[1],this,X)}})}function ye(x){return Yh(Ra(x,d))}function je(x){return function(){return x}}function lt(x,M){return x==null||x!==x?M:x}var ht=fl(),Ye=fl(!0);function Ve(x){return x}function cn(x){return nv(typeof x=="function"?x:Ra(x,d))}function on(x){return rv(Ra(x,d))}function nr(x,M){return og(x,Ra(M,d))}var Be=Rn(function(x,M){return function(O){return Uu(O,x,M)}}),Ce=Rn(function(x,M){return function(O){return Uu(x,O,M)}});function Ge(x,M,O){var X=La(M),ee=cs(M,X);O==null&&!(Nr(M)&&(ee.length||!X.length))&&(O=M,M=x,x=this,ee=cs(M,La(M)));var he=!(Nr(O)&&"chain"in O)||!!O.chain,ve=uu(x);return Gs(ee,function(Me){var Ue=M[Me];x[Me]=Ue,ve&&(x.prototype[Me]=function(){var ft=this.__chain__;if(he||ft){var dt=x(this.__wrapped__),vt=dt.__actions__=Vr(this.__actions__);return vt.push({func:Ue,args:arguments,thisArg:x}),dt.__chain__=ft,dt}return Ue.apply(x,nl([this.value()],arguments))})}),x}function ut(){return Tr._===this&&(Tr._=po),this}function kt(){}function Kn(x){return x=wn(x),Rn(function(M){return av(M,x)})}var $t=Na(Zi),un=Na(km),Za=Na(jm);function xi(x){return nu(x)?Sf(ti(x)):Lx(x)}function md(x){return function(M){return x==null?n:_r(x,M)}}var NN=dl(),HK=dl(!0);function DN(){return[]}function BN(){return!1}function kK(){return{}}function GK(){return""}function jK(){return!0}function VK(x,M){if(x=wn(x),x<1||x>Q)return[];var O=$,X=sr(x,$);M=Vt(M),x-=$;for(var ee=Wl(X,M);++O<x;)M(O);return ee}function XK(x){return vn(x)?Zi(x,ti):ao(x)?[x]:Vr(gl(Oi(x)))}function qK(x){var M=++ha;return Oi(x)+M}var YK=hl(function(x,M){return x+M},0),WK=td("ceil"),JK=hl(function(x,M){return x/M},1),KK=td("floor");function $K(x){return x&&x.length?yo(x,Ve,pa):n}function ZK(x,M){return x&&x.length?yo(x,Vt(M,2),pa):n}function QK(x){return Fh(x,Ve)}function e$(x,M){return Fh(x,Vt(M,2))}function t$(x){return x&&x.length?yo(x,Ve,sg):n}function n$(x,M){return x&&x.length?yo(x,Vt(M,2),sg):n}var i$=hl(function(x,M){return x*M},1),r$=td("round"),a$=hl(function(x,M){return x-M},0);function s$(x){return x&&x.length?np(x,Ve):0}function o$(x,M){return x&&x.length?np(x,Vt(M,2)):0}return re.after=pn,re.ary=fi,re.assign=dN,re.assignIn=uw,re.assignInWith=n_,re.assignWith=pN,re.at=mN,re.before=Rr,re.bind=Ln,re.bindAll=Z,re.bindKey=Al,re.castArray=sN,re.chain=_l,re.chunk=na,re.compact=ou,re.concat=Nn,re.cond=ae,re.conforms=ye,re.constant=je,re.countBy=Wu,re.create=gN,re.curry=Fp,re.curryRight=Wx,re.debounce=ud,re.defaults=vN,re.defaultsDeep=fw,re.defer=$u,re.delay=yv,re.difference=nn,re.differenceBy=ci,re.differenceWith=wo,re.drop=Xf,re.dropRight=Xu,re.dropRightWhile=_g,re.dropWhile=qf,re.fill=ya,re.filter=cd,re.flatMap=g,re.flatMapDeep=E,re.flatMapDepth=D,re.flatten=br,re.flattenDeep=qu,re.flattenDepth=hs,re.flip=iN,re.flow=ht,re.flowRight=Ye,re.fromPairs=Zs,re.functions=dw,re.functionsIn=i_,re.groupBy=ue,re.initial=Ag,re.intersection=Yi,re.intersectionBy=Sg,re.intersectionWith=lu,re.invert=pw,re.invertBy=mw,re.invokeMap=Pe,re.iteratee=cn,re.keyBy=ot,re.keys=La,re.keysIn=$a,re.map=bt,re.mapKeys=_N,re.mapValues=bN,re.matches=on,re.matchesProperty=nr,re.memoize=xv,re.merge=AN,re.mergeWith=Ev,re.method=Be,re.methodOf=Ce,re.mixin=Ge,re.negate=_v,re.nthArg=Kn,re.omit=r_,re.omitBy=O1,re.once=JM,re.orderBy=Bt,re.over=$t,re.overArgs=KM,re.overEvery=un,re.overSome=Za,re.partial=S1,re.partialRight=Jx,re.partition=Ut,re.pick=SN,re.pickBy=Bg,re.property=xi,re.propertyOf=md,re.pull=Yx,re.pullAll=Wi,re.pullAllBy=vv,re.pullAllWith=uc,re.pullAt=fc,re.range=NN,re.rangeRight=HK,re.rearg=$M,re.reject=Ju,re.remove=Cr,re.rest=ZM,re.reverse=Pp,re.sampleSize=qe,re.set=gw,re.setWith=vw,re.shuffle=we,re.slice=Ti,re.sortBy=qt,re.sortedUniq=sd,re.sortedUniqBy=od,re.split=c_,re.spread=rN,re.tail=To,re.take=lr,re.takeRight=xl,re.takeRightWhile=hc,re.takeWhile=Yf,re.tap=Wf,re.throttle=M1,re.thru=cr,re.toArray=Sl,re.toPairs=L1,re.toPairsIn=P1,re.toPath=XK,re.toPlainObject=cw,re.transform=U1,re.unary=w1,re.union=Co,re.unionBy=ui,re.unionWith=Ci,re.uniq=sn,re.uniqBy=Jn,re.uniqWith=Gi,re.unset=yw,re.unzip=xa,re.unzipWith=eo,re.update=a_,re.updateWith=wN,re.values=Og,re.valuesIn=I1,re.without=to,re.words=N,re.wrap=aN,re.xor=ia,re.xorBy=Ka,re.xorWith=Ji,re.zip=no,re.zipObject=cu,re.zipObjectDeep=Up,re.zipWith=io,re.entries=L1,re.entriesIn=P1,re.extend=uw,re.extendWith=n_,Ge(re,re),re.add=YK,re.attempt=U,re.camelCase=xw,re.capitalize=o_,re.ceil=WK,re.clamp=F1,re.clone=bv,re.cloneDeep=QM,re.cloneDeepWith=ni,re.cloneWith=oN,re.conformsTo=E1,re.deburr=$f,re.defaultTo=lt,re.divide=JK,re.endsWith=hd,re.eq=Ro,re.escape=dd,re.escapeRegExp=Tv,re.every=wg,re.find=Eg,re.findIndex=Eo,re.findKey=Rg,re.findLast=m,re.findLastIndex=Lp,re.findLastKey=Sv,re.floor=KK,re.forEach=I,re.forEachRight=q,re.forIn=hw,re.forInRight=yN,re.forOwn=Ng,re.forOwnRight=Mv,re.get=wv,re.gt=T1,re.gte=ew,re.has=B1,re.hasIn=Dg,re.head=vl,re.identity=Ve,re.includes=xe,re.indexOf=bg,re.inRange=s_,re.invoke=xN,re.isArguments=Kf,re.isArray=vn,re.isArrayBuffer=Kx,re.isArrayLike=Ba,re.isArrayLikeObject=qr,re.isBoolean=lN,re.isBuffer=fd,re.isDate=tw,re.isElement=nw,re.isEmpty=$x,re.isEqual=tr,re.isEqualWith=C1,re.isError=Oa,re.isFinite=cN,re.isFunction=uu,re.isInteger=Zx,re.isLength=zp,re.isMap=Qx,re.isMatch=R1,re.isMatchWith=uN,re.isNaN=iw,re.isNative=fN,re.isNil=hN,re.isNull=rw,re.isNumber=aw,re.isObject=Nr,re.isObjectLike=Br,re.isPlainObject=pc,re.isRegExp=e_,re.isSafeInteger=N1,re.isSet=sw,re.isString=t_,re.isSymbol=ao,re.isTypedArray=Tg,re.isUndefined=fu,re.isWeakMap=D1,re.isWeakSet=ow,re.join=yl,re.kebabCase=Cv,re.last=vr,re.lastIndexOf=ad,re.lowerCase=pd,re.lowerFirst=EN,re.lt=lw,re.lte=Av,re.max=$K,re.maxBy=ZK,re.mean=QK,re.meanBy=e$,re.min=t$,re.minBy=n$,re.stubArray=DN,re.stubFalse=BN,re.stubObject=kK,re.stubString=GK,re.stubTrue=jK,re.multiply=i$,re.nth=qx,re.noConflict=ut,re.noop=kt,re.now=ji,re.pad=_w,re.padEnd=Rv,re.padStart=TN,re.parseInt=bw,re.random=z1,re.reduce=bn,re.reduceRight=ro,re.repeat=l_,re.replace=Aw,re.result=MN,re.round=r$,re.runInContext=Ne,re.sample=Ku,re.size=Ke,re.snakeCase=CN,re.some=At,re.sortedIndex=_n,re.sortedIndexBy=Hn,re.sortedIndexOf=Qt,re.sortedLastIndex=Tn,re.sortedLastIndexBy=Ar,re.sortedLastIndexOf=Qs,re.startCase=u_,re.startsWith=Sw,re.subtract=a$,re.sum=s$,re.sumBy=o$,re.template=Nv,re.times=VK,re.toFinite=Zu,re.toInteger=wn,re.toLength=Qu,re.toLower=H1,re.toNumber=mc,re.toSafeInteger=Cg,re.toString=Oi,re.toUpper=f_,re.trim=Mw,re.trimEnd=RN,re.trimStart=h_,re.truncate=u,re.unescape=h,re.uniqueId=qK,re.upperCase=y,re.upperFirst=w,re.each=I,re.eachRight=q,re.first=vl,Ge(re,function(){var x={};return mr(re,function(M,O){li.call(re.prototype,O)||(x[O]=M)}),x}(),{chain:!1}),re.VERSION=i,Gs(["bind","bindKey","curry","curryRight","partial","partialRight"],function(x){re[x].placeholder=re}),Gs(["drop","take"],function(x,M){Cn.prototype[x]=function(O){O=O===n?1:Qi(wn(O),0);var X=this.__filtered__&&!M?new Cn(this):this.clone();return X.__filtered__?X.__takeCount__=sr(O,X.__takeCount__):X.__views__.push({size:sr(O,$),type:x+(X.__dir__<0?"Right":"")}),X},Cn.prototype[x+"Right"]=function(O){return this.reverse()[x](O).reverse()}}),Gs(["filter","map","takeWhile"],function(x,M){var O=M+1,X=O==Y||O==H;Cn.prototype[x]=function(ee){var he=this.clone();return he.__iteratees__.push({iteratee:Vt(ee,3),type:O}),he.__filtered__=he.__filtered__||X,he}}),Gs(["head","last"],function(x,M){var O="take"+(M?"Right":"");Cn.prototype[x]=function(){return this[O](1).value()[0]}}),Gs(["initial","tail"],function(x,M){var O="drop"+(M?"":"Right");Cn.prototype[x]=function(){return this.__filtered__?new Cn(this):this[O](1)}}),Cn.prototype.compact=function(){return this.filter(Ve)},Cn.prototype.find=function(x){return this.filter(x).head()},Cn.prototype.findLast=function(x){return this.reverse().find(x)},Cn.prototype.invokeMap=Rn(function(x,M){return typeof x=="function"?new Cn(this):this.map(function(O){return Uu(O,x,M)})}),Cn.prototype.reject=function(x){return this.filter(_v(Vt(x)))},Cn.prototype.slice=function(x,M){x=wn(x);var O=this;return O.__filtered__&&(x>0||M<0)?new Cn(O):(x<0?O=O.takeRight(-x):x&&(O=O.drop(x)),M!==n&&(M=wn(M),O=M<0?O.dropRight(-M):O.take(M-x)),O)},Cn.prototype.takeRightWhile=function(x){return this.reverse().takeWhile(x).reverse()},Cn.prototype.toArray=function(){return this.take($)},mr(Cn.prototype,function(x,M){var O=/^(?:filter|find|map|reject)|While$/.test(M),X=/^(?:head|last)$/.test(M),ee=re[X?"take"+(M=="last"?"Right":""):M],he=X||/^find/.test(M);ee&&(re.prototype[M]=function(){var ve=this.__wrapped__,Me=X?[1]:arguments,Ue=ve instanceof Cn,ft=Me[0],dt=Ue||vn(ve),vt=function(hi){var _i=ee.apply(re,nl([hi],Me));return X&&It?_i[0]:_i};dt&&O&&typeof ft=="function"&&ft.length!=1&&(Ue=dt=!1);var It=this.__chain__,Yt=!!this.__actions__.length,mn=he&&!It,$n=Ue&&!Yt;if(!he&&dt){ve=$n?ve:new Cn(this);var gn=x.apply(ve,Me);return gn.__actions__.push({func:cr,args:[vt],thisArg:n}),new As(gn,It)}return mn&&$n?x.apply(this,Me):(gn=this.thru(vt),mn?X?gn.value()[0]:gn.value():gn)})}),Gs(["pop","push","shift","sort","splice","unshift"],function(x){var M=op[x],O=/^(?:push|sort|unshift)$/.test(x)?"tap":"thru",X=/^(?:pop|shift)$/.test(x);re.prototype[x]=function(){var ee=arguments;if(X&&!this.__chain__){var he=this.value();return M.apply(vn(he)?he:[],ee)}return this[O](function(ve){return M.apply(vn(ve)?ve:[],ee)})}}),mr(Cn.prototype,function(x,M){var O=re[M];if(O){var X=O.name+"";li.call(Vs,X)||(Vs[X]=[]),Vs[X].push({name:M,func:O})}}),Vs[gr(n,A).name]=[{name:"wrapper",func:n}],Cn.prototype.clone=go,Cn.prototype.reverse=hp,Cn.prototype.value=Zl,re.prototype.at=Mg,re.prototype.chain=ds,re.prototype.commit=ld,re.prototype.next=Ip,re.prototype.plant=bl,re.prototype.reverse=dc,re.prototype.toJSON=re.prototype.valueOf=re.prototype.value=Jf,re.prototype.first=re.prototype.head,qc&&(re.prototype[qc]=Yu),re},jc=Gc();zc?((zc.exports=jc)._=jc,Cu._=jc):Tr._=jc}).call(yCe)}(jA,jA.exports)),jA.exports}var SH;function Kb(){return SH||(SH=1,function(t){var e=nh&&nh.__createBinding||(Object.create?function(V,$,oe,de){de===void 0&&(de=oe);var fe=Object.getOwnPropertyDescriptor($,oe);(!fe||("get"in fe?!$.__esModule:fe.writable||fe.configurable))&&(fe={enumerable:!0,get:function(){return $[oe]}}),Object.defineProperty(V,de,fe)}:function(V,$,oe,de){de===void 0&&(de=oe),V[de]=$[oe]}),n=nh&&nh.__setModuleDefault||(Object.create?function(V,$){Object.defineProperty(V,"default",{enumerable:!0,value:$})}:function(V,$){V.default=$}),i=nh&&nh.__importStar||function(V){if(V&&V.__esModule)return V;var $={};if(V!=null)for(var oe in V)oe!=="default"&&Object.prototype.hasOwnProperty.call(V,oe)&&e($,V,oe);return n($,V),$},r=nh&&nh.__importDefault||function(V){return V&&V.__esModule?V:{default:V}};Object.defineProperty(t,"__esModule",{value:!0}),t.validateArcs=t.clearOuterArcs=t.clearArcs=t.redrawArcs=t.getCoordByValue=t.createGradientElement=t.getColors=t.applyGradientColors=t.getArcDataByPercentage=t.getArcDataByValue=t.applyColors=t.setupTooltip=t.setupArcs=t.drawArc=t.setArcData=t.hideTooltip=void 0;var a=i(Q3()),s=Z3,o=i(Kb()),l=r(nK()),c=vCe(),f=v1(),d=xCe(),p=function(V,$,oe){if($.data.tooltip!=null){var de=$.data.tooltip.text!=oe.tooltip.current.text();de&&(oe.tooltip.current.html($.data.tooltip.text).style("position","absolute").style("display","block").style("opacity",1),v($.data.tooltip,$.data.color,oe)),oe.tooltip.current.style("left",V.pageX+15+"px").style("top",V.pageY-10+"px")}$.data.onMouseMove!=null&&$.data.onMouseMove(V)},v=function(V,$,oe){Object.entries(c.defaultTooltipStyle).forEach(function(de){var fe=de[0],ge=de[1];return oe.tooltip.current.style(a.camelCaseToKebabCase(fe),ge)}),oe.tooltip.current.style("background-color",$),V.style!=null&&Object.entries(V.style).forEach(function(de){var fe=de[0],ge=de[1];return oe.tooltip.current.style(a.camelCaseToKebabCase(fe),ge)})},_=function(V,$,oe,de){de.cancel(),(0,t.hideTooltip)(oe),$.data.onMouseLeave!=null&&$.data.onMouseLeave(V)},S=function(V){V.tooltip.current.html(" ").style("display","none")};t.hideTooltip=S;var b=function(V,$,oe){V.target.style.stroke="none"},A=function(V,$){$.data.onMouseClick!=null&&$.data.onMouseClick(V)},T=function(V){var $,oe,de=V.props.arc,fe=V.props.minValue,ge=V.props.maxValue,Se=(de==null?void 0:de.nbSubArcs)||(($=de==null?void 0:de.subArcs)===null||$===void 0?void 0:$.length)||1,De=(0,t.getColors)(Se,V);if(de!=null&&de.subArcs&&!(de!=null&&de.nbSubArcs)){var He=0,Fe=0,ke=[],Qe=[],Re=[];(oe=de==null?void 0:de.subArcs)===null||oe===void 0||oe.forEach(function(St,Ie){var _e,Le=0,pt=0,ze=St.limit;if(St.length!=null)Le=St.length,ze=a.getCurrentGaugeValueByPercentage(Le+Fe,V);else if(St.limit==null){pt=He;var le=void 0,te=(_e=de==null?void 0:de.subArcs)===null||_e===void 0?void 0:_e.slice(Ie),Ee=(1-a.calculatePercentage(fe,ge,He))*100;le||(le=Ee/Math.max((te==null?void 0:te.length)||1,1)/100),ze=He+le*100,Le=le}else pt=ze-He,Ie!==0?Le=a.calculatePercentage(fe,ge,ze)-Fe:Le=a.calculatePercentage(fe,ge,pt);ke.push(Le),Qe.push(ze),Fe=ke.reduce(function(Xe,et){return Xe+et},0),He=ze,St.tooltip!=null&&Re.push(St.tooltip)});var st=de.subArcs;V.arcData.current=ke.map(function(St,Ie){return{value:St,limit:Qe[Ie],color:De[Ie],showTick:st[Ie].showTick||!1,tooltip:st[Ie].tooltip||void 0,onMouseMove:st[Ie].onMouseMove,onMouseLeave:st[Ie].onMouseLeave,onMouseClick:st[Ie].onClick}})}else{var pe=ge/Se;V.arcData.current=Array.from({length:Se},function(St,Ie){return{value:pe,limit:(Ie+1)*pe,color:De[Ie],tooltip:void 0}})}};t.setArcData=T;var R=function(V,$){var oe;$===void 0&&($=void 0);var de=$??a.calculatePercentage(V.props.minValue,V.props.maxValue,V.props.value),fe=(0,t.getArcDataByPercentage)(de,V),ge={value:de,color:(fe==null?void 0:fe.color)||"white"},Se={value:1-de,color:(oe=V.props.arc)===null||oe===void 0?void 0:oe.emptyColor};return[ge,Se]},C=function(V,$){$===void 0&&($=!1);var oe=V.dimensions.current.outerRadius;if(V.props.type==f.GaugeType.Grafana&&$){V.doughnut.current.selectAll(".outerSubArc").remove();var de=(0,s.arc)().outerRadius(oe+7).innerRadius(oe+2).cornerRadius(0).padAngle(0),fe=V.doughnut.current.selectAll("anyString").data(V.pieChart.current(V.arcData.current)).enter().append("g").attr("class","outerSubArc"),ge=fe.append("path").attr("d",de);(0,t.applyColors)(ge,V);var Se=(0,d.throttle)(function(De,He){return p(De,He,V)},20);fe.on("mouseleave",function(De,He){return _(De,He,V,Se)}).on("mouseout",function(De,He){return b(De)}).on("mousemove",Se).on("click",function(De,He){return A(De,He)})}},L=function(V,$){var oe,de;$===void 0&&($=void 0);var fe=V.props.arc,ge=fe.padding,Se=fe.cornerRadius,De=V.dimensions.current,He=De.innerRadius,Fe=De.outerRadius,ke={};!((de=(oe=V.props)===null||oe===void 0?void 0:oe.arc)===null||de===void 0)&&de.gradient?ke=[{value:1}]:ke=V.arcData.current,V.props.type==f.GaugeType.Grafana&&(ke=R(V,$));var Qe=V.props.type==f.GaugeType.Grafana?0:ge,Re=V.props.type==f.GaugeType.Grafana?0:Se,st=(0,s.arc)().outerRadius(Fe).innerRadius(He).cornerRadius(Re).padAngle(Qe),pe=V.doughnut.current.selectAll("anyString").data(V.pieChart.current(ke)).enter().append("g").attr("class","subArc"),St=pe.append("path").attr("d",st);(0,t.applyColors)(St,V);var Ie=(0,d.throttle)(function(_e,Le){return p(_e,Le,V)},20);pe.on("mouseleave",function(_e,Le){return _(_e,Le,V,Ie)}).on("mouseout",function(_e,Le){return b(_e)}).on("mousemove",Ie).on("click",function(_e,Le){return A(_e,Le)})};t.drawArc=L;var P=function(V,$){$===void 0&&($=!1),(0,t.setupTooltip)(V),C(V,$),(0,t.drawArc)(V)};t.setupArcs=P;var k=function(V){var $=document.getElementsByClassName(l.default.arcTooltipClassname).length!=0;$||(0,s.select)("body").append("div").attr("class",l.default.arcTooltipClassname),V.tooltip.current=(0,s.select)(".".concat(l.default.arcTooltipClassname)),V.tooltip.current.on("mouseleave",function(){return o.hideTooltip(V)}).on("mouseout",function(){return o.hideTooltip(V)})};t.setupTooltip=k;var G=function(V,$){var oe,de;if(!((de=(oe=$.props)===null||oe===void 0?void 0:oe.arc)===null||de===void 0)&&de.gradient){var fe="subArc-linear-gradient-".concat(Math.random()),ge=(0,t.createGradientElement)($.doughnut.current,fe);(0,t.applyGradientColors)(ge,$),V.style("fill",function(Se){return"url(#".concat(fe,")")})}else V.style("fill",function(Se){return Se.data.color})};t.applyColors=G;var z=function(V,$){return $.arcData.current.find(function(oe){return V<=oe.limit})};t.getArcDataByValue=z;var F=function(V,$){return(0,t.getArcDataByValue)(a.getCurrentGaugeValueByPercentage(V,$),$)};t.getArcDataByPercentage=F;var j=function(V,$){$.arcData.current.forEach(function(oe){var de,fe,ge,Se,De=a.normalize(oe==null?void 0:oe.limit,(fe=(de=$==null?void 0:$.props)===null||de===void 0?void 0:de.minValue)!==null&&fe!==void 0?fe:0,(Se=(ge=$==null?void 0:$.props)===null||ge===void 0?void 0:ge.maxValue)!==null&&Se!==void 0?Se:100);V.append("stop").attr("offset","".concat(De,"%")).style("stop-color",oe.color).style("stop-opacity",1)})};t.applyGradientColors=j;var ne=function(V,$){var oe,de=$.props.arc,fe=[];if(de.colorArray)fe=de.colorArray;else{var ge=(oe=de.subArcs)===null||oe===void 0?void 0:oe.map(function(ke){return ke.color});fe=ge!=null&&ge.some(function(ke){return ke!=null})?ge:l.default.defaultColors}fe||(fe=["#fff"]);var Se=V===(fe==null?void 0:fe.length);if(Se)return fe;for(var De=(0,s.scaleLinear)().domain([1,V]).range([fe[0],fe[fe.length-1]]).interpolate(s.interpolateHsl),He=[],Fe=1;Fe<=V;Fe++)He.push(De(Fe));return He};t.getColors=ne;var W=function(V,$){var oe=V.append("defs").append("linearGradient").attr("id",$).attr("x1","0%").attr("x2","100%").attr("y1","0%").attr("y2","0%");return oe};t.createGradientElement=W;var Y=function(V,$,oe,de,fe){var ge;oe===void 0&&(oe="inner"),de===void 0&&(de=0),fe===void 0&&(fe=1);var Se={outer:function(){return $.dimensions.current.outerRadius-de+2},inner:function(){return $.dimensions.current.innerRadius*fe-de+9},between:function(){var ze=$.dimensions.current.outerRadius-$.dimensions.current.innerRadius,le=$.dimensions.current.innerRadius+ze-5;return le}},De=Se[oe]();$.props.type===f.GaugeType.Grafana?De+=5:$.props.type===f.GaugeType.Semicircle&&(De+=-2);var He=a.calculatePercentage($.props.minValue,$.props.maxValue,V),Fe=(ge={},ge[f.GaugeType.Grafana]={startAngle:a.degToRad(-23),endAngle:a.degToRad(203)},ge[f.GaugeType.Semicircle]={startAngle:a.degToRad(.9),endAngle:a.degToRad(179.1)},ge[f.GaugeType.Radial]={startAngle:a.degToRad(-39),endAngle:a.degToRad(219)},ge),ke=Fe[$.props.type],Qe=ke.startAngle,Re=ke.endAngle,st=Qe+He*(Re-Qe),pe=1*($.dimensions.current.width/500),St=[0,-pe/2],Ie=[St[0]-De*Math.cos(st),St[1]-De*Math.sin(st)],_e=[$.dimensions.current.outerRadius,$.dimensions.current.outerRadius],Le=_e[0]+Ie[0],pt=_e[1]+Ie[1];return{x:Le,y:pt}};t.getCoordByValue=Y;var K=function(V){(0,t.clearArcs)(V),(0,t.setArcData)(V),(0,t.setupArcs)(V)};t.redrawArcs=K;var H=function(V){V.doughnut.current.selectAll(".subArc").remove()};t.clearArcs=H;var J=function(V){V.doughnut.current.selectAll(".outerSubArc").remove()};t.clearOuterArcs=J;var Q=function(V){ie(V)};t.validateArcs=Q;var ie=function(V){for(var $,oe=V.props.minValue,de=V.props.maxValue,fe=V.props.arc,ge=fe.subArcs,Se=void 0,De=0,He=(($=V.props.arc)===null||$===void 0?void 0:$.subArcs)||[];De<He.length;De++){var Fe=He[De],ke=Fe.limit;if(typeof ke<"u"){if(ke<oe||ke>de)throw new Error("The limit of a subArc must be between the minValue and maxValue. The limit of the subArc is ".concat(ke));if(typeof Se<"u"&&ke<=Se)throw new Error("The limit of a subArc must be greater than the limit of the previous subArc. The limit of the subArc is ".concat(ke,`. If you're trying to specify length in percent of the arc, use property "length". refer to: https://github.com/antoniolago/react-gauge-component`));Se=ke}}if(ge.length>0){var Qe=ge[ge.length-1];Qe.limit<de&&(Qe.limit=de)}}}(nh)),nh}var gu={},MH;function _Ce(){return MH||(MH=1,function(t){var e=gu&&gu.__assign||function(){return e=Object.assign||function(W){for(var Y,K=1,H=arguments.length;K<H;K++){Y=arguments[K];for(var J in Y)Object.prototype.hasOwnProperty.call(Y,J)&&(W[J]=Y[J])}return W},e.apply(this,arguments)},n=gu&&gu.__createBinding||(Object.create?function(W,Y,K,H){H===void 0&&(H=K);var J=Object.getOwnPropertyDescriptor(Y,K);(!J||("get"in J?!Y.__esModule:J.writable||J.configurable))&&(J={enumerable:!0,get:function(){return Y[K]}}),Object.defineProperty(W,H,J)}:function(W,Y,K,H){H===void 0&&(H=K),W[H]=Y[K]}),i=gu&&gu.__setModuleDefault||(Object.create?function(W,Y){Object.defineProperty(W,"default",{enumerable:!0,value:Y})}:function(W,Y){W.default=Y}),r=gu&&gu.__importStar||function(W){if(W&&W.__esModule)return W;var Y={};if(W!=null)for(var K in W)K!=="default"&&Object.prototype.hasOwnProperty.call(W,K)&&n(Y,W,K);return i(Y,W),Y},a=gu&&gu.__importDefault||function(W){return W&&W.__esModule?W:{default:W}};Object.defineProperty(t,"__esModule",{value:!0}),t.calculateAnchorAndAngleByValue=t.clearTicks=t.clearValueLabel=t.addValueText=t.addText=t.getLabelCoordsByValue=t.addTick=t.addTickValue=t.addTickLine=t.mapTick=t.addArcTicks=t.setupTicks=t.setupValueLabel=t.setupLabels=void 0;var s=r(Q3()),o=a(nK()),l=tK(),c=r(Z3),f=v1(),d=Kb(),p=function(W){(0,t.setupValueLabel)(W),(0,t.setupTicks)(W)};t.setupLabels=p;var v=function(W){var Y,K=W.props.labels;!((Y=K==null?void 0:K.valueLabel)===null||Y===void 0)&&Y.hide||(0,t.addValueText)(W)};t.setupValueLabel=v;var _=function(W){var Y,K,H,J,Q,ie,V,$,oe,de=W.props.labels,fe=W.props.minValue,ge=W.props.maxValue;if(o.default.debugTicksRadius)for(var Se=0;Se<ge;Se++){var De=(0,t.mapTick)(Se,W);(0,t.addTick)(De,W)}else if(!(!((Y=de.tickLabels)===null||Y===void 0)&&Y.hideMinMax)){var He=(H=(K=de.tickLabels)===null||K===void 0?void 0:K.ticks)===null||H===void 0?void 0:H.some(function(Re){return Re.value==fe});if(!He){var Fe=(0,t.mapTick)(fe,W);(0,t.addTick)(Fe,W)}var ke=(Q=(J=de.tickLabels)===null||J===void 0?void 0:J.ticks)===null||Q===void 0?void 0:Q.some(function(Re){return Re.value==ge});if(!ke){var Qe=(0,t.mapTick)(ge,W);(0,t.addTick)(Qe,W)}}((V=(ie=de.tickLabels)===null||ie===void 0?void 0:ie.ticks)===null||V===void 0?void 0:V.length)>0&&((oe=($=de.tickLabels)===null||$===void 0?void 0:$.ticks)===null||oe===void 0||oe.forEach(function(Re){(0,t.addTick)(Re,W)})),(0,t.addArcTicks)(W)};t.setupTicks=_;var S=function(W){var Y;(Y=W.arcData.current)===null||Y===void 0||Y.map(function(K){if(K.showTick)return K.limit}).forEach(function(K){K&&(0,t.addTick)((0,t.mapTick)(K,W),W)})};t.addArcTicks=S;var b=function(W,Y){var K=Y.props.labels.tickLabels;return{value:W,valueConfig:K==null?void 0:K.defaultTickValueConfig,lineConfig:K==null?void 0:K.defaultTickLineConfig}};t.mapTick=b;var A=function(W,Y){var K,H,J,Q,ie,V,$,oe,de,fe,ge,Se,De,He,Fe,ke,Qe,Re,st=Y.props.labels,pe=(0,t.calculateAnchorAndAngleByValue)(W==null?void 0:W.value,Y);pe.tickAnchor;var St=pe.angle,Ie=((K=W.lineConfig)===null||K===void 0?void 0:K.distanceFromArc)||((J=(H=st==null?void 0:st.tickLabels)===null||H===void 0?void 0:H.defaultTickLineConfig)===null||J===void 0?void 0:J.distanceFromArc)||0;((ie=(Q=Y.props.labels)===null||Q===void 0?void 0:Q.tickLabels)===null||ie===void 0?void 0:ie.type)=="outer"&&(Ie=-Ie);var _e=(0,t.getLabelCoordsByValue)(W==null?void 0:W.value,Y,Ie),Le=((V=W.lineConfig)===null||V===void 0?void 0:V.color)||((oe=($=st==null?void 0:st.tickLabels)===null||$===void 0?void 0:$.defaultTickLineConfig)===null||oe===void 0?void 0:oe.color)||((de=l.defaultTickLabels.defaultTickLineConfig)===null||de===void 0?void 0:de.color),pt=((fe=W.lineConfig)===null||fe===void 0?void 0:fe.width)||((Se=(ge=st==null?void 0:st.tickLabels)===null||ge===void 0?void 0:ge.defaultTickLineConfig)===null||Se===void 0?void 0:Se.width)||((De=l.defaultTickLabels.defaultTickLineConfig)===null||De===void 0?void 0:De.width),ze=((He=W.lineConfig)===null||He===void 0?void 0:He.length)||((ke=(Fe=st==null?void 0:st.tickLabels)===null||Fe===void 0?void 0:Fe.defaultTickLineConfig)===null||ke===void 0?void 0:ke.length)||((Qe=l.defaultTickLabels.defaultTickLineConfig)===null||Qe===void 0?void 0:Qe.length),le,te;((Re=st==null?void 0:st.tickLabels)===null||Re===void 0?void 0:Re.type)=="inner"?(le=_e.x+ze*Math.cos(St*Math.PI/180),te=_e.y+ze*Math.sin(St*Math.PI/180)):(le=_e.x-ze*Math.cos(St*Math.PI/180),te=_e.y-ze*Math.sin(St*Math.PI/180));var Ee=c.line(),Xe;Xe=[[_e.x,_e.y],[le,te]],Y.g.current.append("path").datum(Xe).attr("class",o.default.tickLineClassname).attr("d",Ee).attr("stroke",Le).attr("stroke-width",pt).attr("fill","none")};t.addTickLine=A;var T=function(W,Y){var K,H,J,Q,ie,V,$,oe,de,fe,ge,Se,De,He,Fe,ke,Qe,Re=Y.props.labels,st=Y.props.arc,pe=st.width,St=W==null?void 0:W.value,Ie=(0,t.calculateAnchorAndAngleByValue)(St,Y).tickAnchor,_e=27-pe*10,Le=((K=Re==null?void 0:Re.tickLabels)===null||K===void 0?void 0:K.type)=="inner";Le?_e-=10:_e=pe*10-10;var pt=((H=W.lineConfig)===null||H===void 0?void 0:H.distanceFromArc)||((Q=(J=Re==null?void 0:Re.tickLabels)===null||J===void 0?void 0:J.defaultTickLineConfig)===null||Q===void 0?void 0:Q.distanceFromArc)||0,ze=((ie=W.lineConfig)===null||ie===void 0?void 0:ie.length)||(($=(V=Re==null?void 0:Re.tickLabels)===null||V===void 0?void 0:V.defaultTickLineConfig)===null||$===void 0?void 0:$.length)||0,le=j(W,Y);le||(Le?(_e+=pt,_e+=ze):(_e-=pt,_e-=ze));var te=(0,t.getLabelCoordsByValue)(St,Y,_e),Ee=((oe=W.valueConfig)===null||oe===void 0?void 0:oe.style)||((fe=(de=Re==null?void 0:Re.tickLabels)===null||de===void 0?void 0:de.defaultTickValueConfig)===null||fe===void 0?void 0:fe.style)||{};Ee=e({},Ee);var Xe="",et=((ge=W.valueConfig)===null||ge===void 0?void 0:ge.maxDecimalDigits)||((De=(Se=Re==null?void 0:Re.tickLabels)===null||Se===void 0?void 0:Se.defaultTickValueConfig)===null||De===void 0?void 0:De.maxDecimalDigits);!((He=W.valueConfig)===null||He===void 0)&&He.formatTextValue?Xe=W.valueConfig.formatTextValue(s.floatingNumber(St,et)):!((ke=(Fe=Re==null?void 0:Re.tickLabels)===null||Fe===void 0?void 0:Fe.defaultTickValueConfig)===null||ke===void 0)&&ke.formatTextValue?Xe=Re.tickLabels.defaultTickValueConfig.formatTextValue(s.floatingNumber(St,et)):Y.props.minValue===0&&Y.props.maxValue===100?(Xe=s.floatingNumber(St,et).toString(),Xe+="%"):Xe=s.floatingNumber(St,et).toString(),((Qe=Re==null?void 0:Re.tickLabels)===null||Qe===void 0?void 0:Qe.type)=="inner"?(Ie==="end"&&(te.x+=10),Ie==="start"&&(te.x-=10)):Ie==="middle"&&(te.y+=2),Ie==="middle"?te.y+=0:te.y+=3,Ee.textAnchor=Ie,(0,t.addText)(Xe,te.x,te.y,Y,Ee,o.default.tickValueClassname)};t.addTickValue=T;var R=function(W,Y){Y.props.labels;var K=j(W,Y),H=ne(W,Y);K||(0,t.addTickLine)(W,Y),!o.default.debugTicksRadius&&!H&&(0,t.addTickValue)(W,Y)};t.addTick=R;var C=function(W,Y,K){var H;K===void 0&&(K=0);var J=Y.props.labels,Q=Y.props.minValue,ie=Y.props.maxValue,V=(H=J.tickLabels)===null||H===void 0?void 0:H.type,$=(0,d.getCoordByValue)(W,Y,V,K,.93),oe=$.x,de=$.y;return s.calculatePercentage(Q,ie,W),Y.props.type==f.GaugeType.Radial&&(de+=3),{x:oe,y:de}};t.getLabelCoordsByValue=C;var L=function(W,Y,K,H,J,Q,ie){ie===void 0&&(ie=0);var V=H.g.current.append("g").attr("class",Q).attr("transform","translate(".concat(Y,", ").concat(K,")")).append("text").text(W);P(V,J),V.attr("transform","rotate(".concat(ie,")"))};t.addText=L;var P=function(W,Y){Object.entries(Y).forEach(function(K){var H=K[0],J=K[1];return W.style(s.camelCaseToKebabCase(H),J)}),Y!=null&&Object.entries(Y).forEach(function(K){var H=K[0],J=K[1];return W.style(s.camelCaseToKebabCase(H),J)})},k=function(W){var Y,K,H,J=W.props.labels,Q=W.props.value,ie=J==null?void 0:J.valueLabel,V=20,$="",oe=(Y=J==null?void 0:J.valueLabel)===null||Y===void 0?void 0:Y.maxDecimalDigits,de=s.floatingNumber(Q,oe);ie.formatTextValue?$=ie.formatTextValue(de):W.props.minValue===0&&W.props.maxValue===100?($=de.toString(),$+="%"):$=de.toString();var fe=4,ge=($==null?void 0:$.length)||0,Se=ge>fe?fe/ge*1.5:1,De=(K=ie==null?void 0:ie.style)===null||K===void 0?void 0:K.fontSize,He=e({},ie.style),Fe=W.dimensions.current.outerRadius,ke=0;He.textAnchor="middle",W.props.type==f.GaugeType.Semicircle?ke=W.dimensions.current.outerRadius/1.5+V:W.props.type==f.GaugeType.Radial?ke=W.dimensions.current.outerRadius*1.45+V:W.props.type==f.GaugeType.Grafana&&(ke=W.dimensions.current.outerRadius*1+V);var Qe=(W.props.type==f.GaugeType.Radial,.003);Se=W.dimensions.current.width*Qe*Se;var Re=parseInt(De,10)*Se;He.fontSize=Re+"px",ie.matchColorWithArc&&(He.fill=((H=(0,d.getArcDataByValue)(Q,W))===null||H===void 0?void 0:H.color)||"white"),(0,t.addText)($,Fe,ke,W,He,o.default.valueLabelClassname)};t.addValueText=k;var G=function(W){return W.g.current.selectAll(".".concat(o.default.valueLabelClassname)).remove()};t.clearValueLabel=G;var z=function(W){W.g.current.selectAll(".".concat(o.default.tickLineClassname)).remove(),W.g.current.selectAll(".".concat(o.default.tickValueClassname)).remove()};t.clearTicks=z;var F=function(W,Y){var K,H,J=Y.props.labels,Q=Y.props.minValue,ie=Y.props.maxValue,V=s.calculatePercentage(Q,ie,W),$=(K={},K[f.GaugeType.Grafana]={startAngle:-20,endAngle:220},K[f.GaugeType.Semicircle]={startAngle:0,endAngle:180},K[f.GaugeType.Radial]={startAngle:-42,endAngle:266},K),oe=$[Y.props.type],de=oe.startAngle,fe=oe.endAngle,ge=de+V*100*fe/100,Se=V<.5,De=V>o.default.rangeBetweenCenteredTickValueLabel[0]&&V<o.default.rangeBetweenCenteredTickValueLabel[1],He="",Fe=((H=J==null?void 0:J.tickLabels)===null||H===void 0?void 0:H.type)=="inner";return De?He="middle":Se?He=Fe?"start":"end":He=Fe?"end":"start",{tickAnchor:He,angle:ge}};t.calculateAnchorAndAngleByValue=F;var j=function(W,Y){var K,H,J,Q,ie=Y.props.labels,V=(K=l.defaultTickLabels.defaultTickLineConfig)===null||K===void 0?void 0:K.hide,$=V,oe=(J=(H=ie==null?void 0:ie.tickLabels)===null||H===void 0?void 0:H.defaultTickLineConfig)===null||J===void 0?void 0:J.hide;oe!=null&&($=oe);var de=(Q=W.lineConfig)===null||Q===void 0?void 0:Q.hide;return de!=null&&($=de),$},ne=function(W,Y){var K,H,J,Q,ie=Y.props.labels,V=(K=l.defaultTickLabels.defaultTickValueConfig)===null||K===void 0?void 0:K.hide,$=V,oe=(J=(H=ie==null?void 0:ie.tickLabels)===null||H===void 0?void 0:H.defaultTickValueConfig)===null||J===void 0?void 0:J.hide;oe!=null&&($=oe);var de=(Q=W.valueConfig)===null||Q===void 0?void 0:Q.hide;return de!=null&&($=de),$}}(gu)),gu}var tm={},wH;function bCe(){return wH||(wH=1,function(t){var e=tm&&tm.__createBinding||(Object.create?function(L,P,k,G){G===void 0&&(G=k);var z=Object.getOwnPropertyDescriptor(P,k);(!z||("get"in z?!P.__esModule:z.writable||z.configurable))&&(z={enumerable:!0,get:function(){return P[k]}}),Object.defineProperty(L,G,z)}:function(L,P,k,G){G===void 0&&(G=k),L[G]=P[k]}),n=tm&&tm.__setModuleDefault||(Object.create?function(L,P){Object.defineProperty(L,"default",{enumerable:!0,value:P})}:function(L,P){L.default=P}),i=tm&&tm.__importStar||function(L){if(L&&L.__esModule)return L;var P={};if(L!=null)for(var k in L)k!=="default"&&Object.prototype.hasOwnProperty.call(L,k)&&e(P,L,k);return n(P,L),P};Object.defineProperty(t,"__esModule",{value:!0}),t.clearPointerElement=t.addPointerElement=t.translatePointer=t.drawPointer=void 0;var r=Z3,a=MU(),s=Kb(),o=i(Q3()),l=i(Kb()),c=v1(),f=function(L,P){var k;P===void 0&&(P=!1),L.pointer.current.context=d(L);var G=L.pointer.current.context,z=G.prevPercent,F=G.currentPercent,j=G.prevProgress,ne=L.props.pointer,W=((k=L.prevProps)===null||k===void 0?void 0:k.current.value)==null;(W||P)&&L.props.type!=c.GaugeType.Grafana&&p(L);var Y=(!P||W)&&ne.animate;Y?L.doughnut.current.transition().delay(ne.animationDelay).ease(ne.elastic?r.easeElastic:r.easeExpOut).duration(ne.animationDuration).tween("progress",function(){var K=(0,r.interpolateNumber)(z,F);return function(H){var J=K(H);S(J,j)&&(L.props.type==c.GaugeType.Grafana?(l.clearArcs(L),l.drawArc(L,J)):v(J,L)),L.pointer.current.context.prevProgress=J}}):v(F,L)};t.drawPointer=f;var d=function(L){var P,k=L.props.value,G=L.props.pointer,z=G.length,F=L.props.minValue,j=L.props.maxValue;L.pointer.current.context.pointerPath;var ne=A(L),W=G.type==a.PointerType.Needle?z:.2,Y=[a.PointerType.Needle,a.PointerType.Arrow],K={centerPoint:[0,-ne/2],pointerRadius:A(L),pathLength:L.dimensions.current.outerRadius*W,currentPercent:o.calculatePercentage(F,j,k),prevPercent:o.calculatePercentage(F,j,((P=L.prevProps)===null||P===void 0?void 0:P.current.value)||F),prevProgress:0,pathStr:"",shouldDrawPath:Y.includes(G.type),prevColor:""};return K},p=function(L){var P=L.props.value,k=L.props.pointer,G=L.pointer.current.context,z=G.shouldDrawPath,F=G.centerPoint,j=G.pointerRadius;G.pathStr;var ne=G.currentPercent,W=G.prevPercent;z&&(L.pointer.current.context.pathStr=b(L,W||ne),L.pointer.current.path=L.pointer.current.element.append("path").attr("d",L.pointer.current.context.pathStr).attr("fill",k.color)),k.type==a.PointerType.Needle?L.pointer.current.element.append("circle").attr("cx",F[0]).attr("cy",F[1]).attr("r",j).attr("fill",k.color):k.type==a.PointerType.Blob&&L.pointer.current.element.append("circle").attr("cx",F[0]).attr("cy",F[1]).attr("r",j).attr("fill",k.baseColor).attr("stroke",k.color).attr("stroke-width",k.strokeWidth*j/10),_(j,P,L)},v=function(L,P){var k,G=P.props.pointer,z=P.pointer.current.context,F=z.pointerRadius,j=z.shouldDrawPath,ne=z.prevColor;if(_(F,L,P),j&&P.props.type!=c.GaugeType.Grafana&&P.pointer.current.path.attr("d",b(P,L)),G.type==a.PointerType.Blob){var W=(k=l.getArcDataByPercentage(L,P))===null||k===void 0?void 0:k.color,Y=W!=ne;Y&&P.pointer.current.element.select("circle").attr("stroke",W);var K=G.strokeWidth*F/10;P.pointer.current.element.select("circle").attr("stroke-width",K),P.pointer.current.context.prevColor=W}},_=function(L,P,k){var G,z=k.props.pointer,F=z.type,j=k.dimensions,ne=o.getCurrentGaugeValueByPercentage(P,k),W=(G={},G[a.PointerType.Needle]=function(){(0,t.translatePointer)(j.current.outerRadius,j.current.outerRadius,k)},G[a.PointerType.Arrow]=function(){var Y=(0,s.getCoordByValue)(ne,k,"inner",0,.7),K=Y.x,H=Y.y;K-=1,H+=L-3,(0,t.translatePointer)(K,H,k)},G[a.PointerType.Blob]=function(){var Y=(0,s.getCoordByValue)(ne,k,"between",0,.75),K=Y.x,H=Y.y;K-=1,H+=L,(0,t.translatePointer)(K,H,k)},G);return W[F]()},S=function(L,P,k){var G=L>1||L<0,z=Math.abs(L-P)<1e-4,F=L==P;return!z&&!F&&!G},b=function(L,P){var k=L.pointer.current.context,G=k.centerPoint,z=k.pointerRadius,F=k.pathLength,j=o.degToRad(L.props.type==c.GaugeType.Semicircle?0:-42),ne=o.degToRad(L.props.type==c.GaugeType.Semicircle?180:223),W=j+P*(ne-j),Y=[G[0]-F*Math.cos(W),G[1]-F*Math.sin(W)],K=W-Math.PI/2,H=[G[0]-z*Math.cos(K),G[1]-z*Math.sin(K)],J=W+Math.PI/2,Q=[G[0]-z*Math.cos(J),G[1]-z*Math.sin(J)],ie="M ".concat(H[0]," ").concat(H[1]," L ").concat(Y[0]," ").concat(Y[1]," L ").concat(Q[0]," ").concat(Q[1]);return ie},A=function(L){var P=L.props.pointer,k=P.width;return k*(L.dimensions.current.width/500)},T=function(L,P,k){return k.pointer.current.element.attr("transform","translate("+L+", "+P+")")};t.translatePointer=T;var R=function(L){return L.pointer.current.element=L.g.current.append("g").attr("class","pointer")};t.addPointerElement=R;var C=function(L){return L.pointer.current.element.selectAll("*").remove()};t.clearPointerElement=C}(tm)),tm}var EH;function ACe(){return EH||(EH=1,function(t){var e=em&&em.__createBinding||(Object.create?function(S,b,A,T){T===void 0&&(T=A);var R=Object.getOwnPropertyDescriptor(b,A);(!R||("get"in R?!b.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return b[A]}}),Object.defineProperty(S,T,R)}:function(S,b,A,T){T===void 0&&(T=A),S[T]=b[A]}),n=em&&em.__setModuleDefault||(Object.create?function(S,b){Object.defineProperty(S,"default",{enumerable:!0,value:b})}:function(S,b){S.default=b}),i=em&&em.__importStar||function(S){if(S&&S.__esModule)return S;var b={};if(S!=null)for(var A in S)A!=="default"&&Object.prototype.hasOwnProperty.call(S,A)&&e(b,S,A);return n(b,S),b};Object.defineProperty(t,"__esModule",{value:!0}),t.clearChart=t.centerGraph=t.calculateRadius=t.updateDimensions=t.renderChart=t.calculateAngles=t.initChart=void 0;var r=v1(),a=i(Kb()),s=i(_Ce()),o=i(bCe()),l=function(S,b){var A,T,R,C,L=S.dimensions.current.angles;!((T=(A=S.resizeObserver)===null||A===void 0?void 0:A.current)===null||T===void 0)&&T.disconnect&&((C=(R=S.resizeObserver)===null||R===void 0?void 0:R.current)===null||C===void 0||C.disconnect());var P=JSON.stringify(S.prevProps.current.value)!==JSON.stringify(S.props.value);if(P&&!b){(0,t.renderChart)(S,!1);return}S.container.current.select("svg").remove(),S.svg.current=S.container.current.append("svg"),S.g.current=S.svg.current.append("g"),S.doughnut.current=S.g.current.append("g").attr("class","doughnut"),(0,t.calculateAngles)(S),S.pieChart.current.value(function(k){return k.value}).startAngle(L.startAngle).endAngle(L.endAngle).sort(null),o.addPointerElement(S),(0,t.renderChart)(S,!0)};t.initChart=l;var c=function(S){var b=S.dimensions.current.angles;S.props.type==r.GaugeType.Semicircle?(b.startAngle=-Math.PI/2+.02,b.endAngle=Math.PI/2-.02):S.props.type==r.GaugeType.Radial?(b.startAngle=-Math.PI/1.37,b.endAngle=Math.PI/1.37):S.props.type==r.GaugeType.Grafana&&(b.startAngle=-Math.PI/1.6,b.endAngle=Math.PI/1.6)};t.calculateAngles=c;var f=function(S,b){var A,T,R,C,L,P;b===void 0&&(b=!1);var k=S.dimensions,G=S.props.arc,z=S.props.labels;if(b){(0,t.updateDimensions)(S),S.g.current.attr("transform","translate("+k.current.margin.left+", 35)"),(0,t.calculateRadius)(S),S.doughnut.current.attr("transform","translate("+k.current.outerRadius+", "+k.current.outerRadius+")"),S.doughnut.current.on("mouseleave",function(){return a.hideTooltip(S)}).on("mouseout",function(){return a.hideTooltip(S)});var F=G.width;k.current.innerRadius=k.current.outerRadius*(1-F),(0,t.clearChart)(S),a.setArcData(S),a.setupArcs(S,b),s.setupLabels(S),!((R=(T=S.props)===null||T===void 0?void 0:T.pointer)===null||R===void 0)&&R.hide||o.drawPointer(S,b);var j=(A={},A[r.GaugeType.Semicircle]=50,A[r.GaugeType.Radial]=55,A[r.GaugeType.Grafana]=55,A),ne=S.doughnut.current.node().getBoundingClientRect().height,W=S.container.current.node().getBoundingClientRect().width,Y=S.props.type;S.svg.current.attr("width",W).attr("height",ne+j[Y])}else{var K=JSON.stringify(S.prevProps.current.arc)!==JSON.stringify(S.props.arc),H=JSON.stringify(S.prevProps.current.pointer)!==JSON.stringify(S.props.pointer),J=JSON.stringify(S.prevProps.current.value)!==JSON.stringify(S.props.value),Q=JSON.stringify((C=S.prevProps.current.labels)===null||C===void 0?void 0:C.tickLabels)!==JSON.stringify(z.tickLabels),ie=K;ie&&(a.clearArcs(S),a.setArcData(S),a.setupArcs(S,b));var V=H||J&&!(!((P=(L=S.props)===null||L===void 0?void 0:L.pointer)===null||P===void 0)&&P.hide);V&&o.drawPointer(S),(K||Q)&&(s.clearTicks(S),s.setupTicks(S)),J&&(s.clearValueLabel(S),s.setupValueLabel(S))}};t.renderChart=f;var d=function(S){var b=S.props.marginInPercent,A=S.dimensions,T=S.container.current.node().getBoundingClientRect(),R=T.width,C=T.height;A.current.fixedHeight==0&&(A.current.fixedHeight=C+200);var L=typeof b=="number",P=L?b:b.left,k=L?b:b.right,G=L?b:b.top,z=L?b:b.bottom;A.current.margin.left=R*P,A.current.margin.right=R*k,A.current.width=R-A.current.margin.left-A.current.margin.right,A.current.margin.top=A.current.fixedHeight*G,A.current.margin.bottom=A.current.fixedHeight*z,A.current.height=A.current.width/2-A.current.margin.top-A.current.margin.bottom};t.updateDimensions=d;var p=function(S){var b=S.dimensions;b.current.width<2*b.current.height?b.current.outerRadius=(b.current.width-b.current.margin.left-b.current.margin.right)/2:b.current.outerRadius=b.current.height-b.current.margin.top-b.current.margin.bottom+35,(0,t.centerGraph)(S)};t.calculateRadius=p;var v=function(S){var b=S.dimensions;b.current.margin.left=b.current.width/2-b.current.outerRadius+b.current.margin.right,S.g.current.attr("transform","translate("+b.current.margin.left+", "+b.current.margin.top+")")};t.centerGraph=v;var _=function(S){s.clearTicks(S),s.clearValueLabel(S),o.clearPointerElement(S),a.clearArcs(S)};t.clearChart=_}(em)),em}var m4={},TH;function SCe(){return TH||(TH=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultDimensions=t.defaultAngles=t.defaultMargins=void 0,t.defaultMargins={top:0,right:0,bottom:0,left:0},t.defaultAngles={startAngle:0,endAngle:0,startAngleDeg:0,endAngleDeg:0},t.defaultDimensions={width:0,height:0,margin:t.defaultMargins,outerRadius:0,innerRadius:0,angles:t.defaultAngles,fixedHeight:0}}(m4)),m4}var CH;function MCe(){if(CH)return _c;CH=1;var t=_c&&_c.__assign||function(){return t=Object.assign||function(_){for(var S,b=1,A=arguments.length;b<A;b++){S=arguments[b];for(var T in S)Object.prototype.hasOwnProperty.call(S,T)&&(_[T]=S[T])}return _},t.apply(this,arguments)},e=_c&&_c.__createBinding||(Object.create?function(_,S,b,A){A===void 0&&(A=b);var T=Object.getOwnPropertyDescriptor(S,b);(!T||("get"in T?!S.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return S[b]}}),Object.defineProperty(_,A,T)}:function(_,S,b,A){A===void 0&&(A=b),_[A]=S[b]}),n=_c&&_c.__setModuleDefault||(Object.create?function(_,S){Object.defineProperty(_,"default",{enumerable:!0,value:S})}:function(_,S){_.default=S}),i=_c&&_c.__importStar||function(_){if(_&&_.__esModule)return _;var S={};if(_!=null)for(var b in _)b!=="default"&&Object.prototype.hasOwnProperty.call(_,b)&&e(S,_,b);return n(S,_),S};Object.defineProperty(_c,"__esModule",{value:!0}),_c.GaugeComponent=void 0;var r=i(ax()),a=Z3,s=v1(),o=i(ACe()),l=i(Kb()),c=Q3(),f=SCe(),d=MU(),p=eK(),v=function(_){var S=(0,r.useRef)({}),b=(0,r.useRef)({}),A=(0,r.useRef)({}),T=(0,r.useRef)({}),R=(0,r.useRef)(!0),C=(0,r.useRef)(0),L=(0,r.useRef)(t({},d.defaultPointerRef)),P=(0,r.useRef)({}),k=(0,r.useRef)([]),G=(0,r.useRef)((0,a.pie)()),z=(0,r.useRef)(t({},f.defaultDimensions)),F=(0,r.useRef)(_),j=(0,r.useRef)({}),ne=(0,r.useRef)({}),W=(0,r.useRef)(null),Y={props:F.current,resizeObserver:ne,prevProps:j,svg:S,g:A,dimensions:z,doughnut:T,isFirstRun:R,currentProgress:C,pointer:L,container:P,arcData:k,pieChart:G,tooltip:b},K=function(){var V,$,oe=t({},s.defaultGaugeProps);if(Y.props=F.current=(0,c.mergeObjects)(oe,_),((V=Y.props.arc)===null||V===void 0?void 0:V.width)==(($=s.defaultGaugeProps.arc)===null||$===void 0?void 0:$.width)){var de=F.current.arc;de.width=(0,p.getArcWidthByType)(Y.props.type)}Y.props.marginInPercent==s.defaultGaugeProps.marginInPercent&&(F.current.marginInPercent=(0,s.getGaugeMarginByType)(Y.props.type)),l.validateArcs(Y)},H=function(){var V=JSON.stringify(j.current.arc)!==JSON.stringify(F.current.arc),$=JSON.stringify(j.current.pointer)!==JSON.stringify(F.current.pointer),oe=JSON.stringify(j.current.value)!==JSON.stringify(F.current.value),de=JSON.stringify(j.current.minValue)!==JSON.stringify(F.current.minValue),fe=JSON.stringify(j.current.maxValue)!==JSON.stringify(F.current.maxValue);return V||$||oe||de||fe};(0,r.useLayoutEffect)(function(){K(),R.current=(0,c.isEmptyObject)(P.current),R.current&&(P.current=(0,a.select)(W.current)),H()&&o.initChart(Y,R.current),Y.prevProps.current=F.current},[_]),(0,r.useEffect)(function(){var V=function(){return o.renderChart(Y,!0)};return window.addEventListener("resize",V),function(){return window.removeEventListener("resize",V)}},[_]),(0,r.useEffect)(function(){var V=W.current;if(V){var $=new ResizeObserver(function(){o.renderChart(Y,!0)});return Y.resizeObserver.current=$,V.parentNode&&$.observe(V.parentNode),function(){var oe;Y.resizeObserver&&((oe=Y.resizeObserver.current)===null||oe===void 0||oe.disconnect(),delete Y.resizeObserver.current)}}},[]);var J=_.id,Q=_.style,ie=_.className;return _.type,r.default.createElement("div",{id:J,className:"".concat(Y.props.type,"-gauge").concat(ie?" "+ie:""),style:Q,ref:function(V){return W.current=V}})};return _c.GaugeComponent=v,_c.default=v,_c}var RH;function wCe(){if(RH)return Gg;RH=1;var t=Gg&&Gg.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Gg,"__esModule",{value:!0}),Gg.GaugeComponent=void 0;var e=t(MCe());return Gg.GaugeComponent=e.default,Gg.default=e.default,Gg}var ECe=wCe();const iK=mR(ECe),TCe=()=>{var o,l,c,f,d;yr();const[t,e]=ce.useState({low:"",high:""}),n=(p,v)=>{e(_=>({..._,[p]:v}))},i=(p,v)=>{v!==""&&WN(p,v)};ce.useEffect(()=>{const p=Ki.value.group==="A"?Ki.value.number:Ki.value.number+20,v=sf.value[p];e({low:(v==null?void 0:v.low)??3,high:(v==null?void 0:v.high)??7})},[Ki.value,sf.value]);const r=()=>{t.low!==""&&WN("low",t.low),t.high!==""&&WN("high",t.high),rte()};ce.useEffect(()=>{try{jk()}catch(p){console.error("Error fetching users:",p)}},[]);const a=()=>{const p=dy.value.filter(_=>cf.value.includes(_._id)).map(_=>({type:"User",name:_.UserName,email:_.Email,alertDelay:Rl.value==="custom"?ly.value:Rl.value})),v=MS.value.map(_=>({type:"Email",name:"-",email:_,alertDelay:Rl.value==="custom"?ly.value:Rl.value}));return[...p,...v]};ce.useEffect(()=>{$T();const p=setInterval($T,5e3);return()=>clearInterval(p)},[]),ce.useEffect(()=>{ite()},[]);const s=async()=>{var p,v;try{const _=Rl.value==="custom"?ly.value:Rl.value;if(sh.value={...sh.value,loading:!0,error:null},(await Bn.post("/global-email-config",{emails:MS.value,users:cf.value,alertDelay:parseInt(_)})).data.success)sh.value={loading:!1,error:null,success:!0},alert("Alert configuration saved successfully");else throw new Error("Server returned unsuccessful response")}catch(_){console.error("Error saving user selection:",_),sh.value={loading:!1,error:_.message,success:!1},alert("Failed to save user selection: "+(((v=(p=_.response)==null?void 0:p.data)==null?void 0:v.message)||_.message))}};return B.jsxs("div",{className:"md:p-2 2xl:p-4 h-full flex flex-col md:flex-row gap-4 md:gap-2 2xl:gap-4",children:[B.jsxs("div",{className:"p-4 md:p-4 2xl:p-4 bg-primary/25 rounded-lg shadow-lg h-full w-full md:w-[65%] 2xl:w-[70%]",children:[B.jsxs("div",{className:"flex justify-between mx-4 md:mx-2 mt-8 md:mt-4 2xl:mt-4 mb-4 md:mb-4 2xl:mb-4",children:[B.jsx("h3",{className:"text-base md:text-lg 2xl:text-xl font-medium tracking-wider text-text/85",children:"Select People"}),B.jsx("button",{onClick:()=>py.value=!0,className:"px-3 md:px-3 2xl:px-6 py-1.5 md:py-1 2xl:py-2 bg-primary text-text text-xs md:text-xs 2xl:text-base tracking-wider rounded hover:bg-primary/80",children:"Select Users"})]}),B.jsx("div",{className:"bg-secondary/10 shadow rounded-lg overflow-hidden mb-6 md:mb-3 2xl:mb-6",children:B.jsx(o0,{data:a(),columns:[{key:"type",header:"Type"},{key:"name",header:"Name"},{key:"email",header:"Email"},{key:"alertDelay",header:"Alert Delay (min)",render:p=>`${p} min`}]})}),B.jsxs("div",{className:"mt-6 bg-secondary/5 p-4 rounded-lg",children:[B.jsx("h4",{className:"text-sm md:text-base 2xl:text-lg font-medium tracking-wider text-text/85 mb-4",children:"Alert Delay"}),B.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[B.jsx(Aa,{type:"radio",name:"alertDelay",id:"delay-1",value:"1",signal:Rl,checkBoxValue:"1 min",labelClassName:"text-sm md:text-sm 2xl:text-base"}),B.jsx(Aa,{type:"radio",name:"alertDelay",id:"delay-5",value:"5",signal:Rl,checkBoxValue:"5 min",labelClassName:"text-sm md:text-sm 2xl:text-base"}),B.jsx(Aa,{type:"radio",name:"alertDelay",id:"delay-10",value:"10",signal:Rl,checkBoxValue:"10 min",labelClassName:"text-sm md:text-sm 2xl:text-base"}),B.jsx(Aa,{type:"radio",name:"alertDelay",id:"delay-custom",value:"custom",signal:Rl,checkBoxValue:"Custom",labelClassName:"text-sm md:text-sm 2xl:text-base"})]}),Rl.value==="custom"&&B.jsx("div",{className:"mt-4",children:B.jsx("input",{type:"number",min:"1",value:ly.value,onChange:p=>ly.value=p.target.value,className:"w-full p-2 border border-secondary rounded bg-background text-text",placeholder:"Enter minutes"})})]}),B.jsx("button",{onClick:s,disabled:sh.value.loading,className:`mt-3 md:mt-6 px-6 py-2 bg-primary text-text text-sm md:text-sm 2xl:text-base rounded hover:bg-primary/80 ${sh.value.loading?"opacity-50 cursor-not-allowed":""}`,children:sh.value.loading?"Saving...":"Save Configuration"})]}),B.jsxs("div",{className:"p-4 bg-primary/25 rounded-lg shadow-lg h-full w-full md:w-[35%] 2xl:w-[30%] flex flex-col gap-6 md:gap-4 2xl:gap-6",children:[B.jsx("h3",{className:"text-base md:text-lg 2xl:text-xl font-medium tracking-wider text-text/85",children:"Set Frequency"}),B.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-secondary/5 rounded-lg",children:[B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 text-sm md:text-sm 2xl:text-lg mb-2",children:"Group A (1-20)"}),B.jsx("select",{value:Ki.value.group==="A"?Ki.value.number:"",onChange:p=>Ki.value={group:"A",number:Number(p.target.value)},className:"w-full p-2 md:p-1.5 2xl:p-2 border border-secondary rounded bg-background text-text text-xs md:text-sm",children:[...Array(20)].map((p,v)=>B.jsxs("option",{value:v+1,className:"text-xs",children:["Sensor ",v+1]},v+1))})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 text-sm md:text-sm 2xl:text-lg mb-2",children:"Group B (21-40)"}),B.jsx("select",{value:Ki.value.group==="B"?Ki.value.number:"",onChange:p=>Ki.value={group:"B",number:Number(p.target.value)},className:"w-full p-2 md:p-1.5 2xl:p-2 border border-secondary rounded bg-background text-text text-xs md:text-sm",children:[...Array(20)].map((p,v)=>B.jsxs("option",{value:v+1,className:"text-xs",children:["Sensor ",v+21]},v+1))})]})]}),B.jsxs("div",{className:"bg-background/35 inset-shadow-2xs inset-shadow-primary p-4 rounded-lg mt-2 md:mt-2 2xl:mt-4",children:[B.jsx("div",{className:"text-center mb-4",children:B.jsxs("span",{className:"text-xl md:text-lg 2xl:text-xl font-semibold tracking-widest text-text",children:["Current:"," ",((o=ete.value.voltages[`v${Ki.value.group==="A"?Ki.value.number:Ki.value.number+20}`])==null?void 0:o.toFixed(2))||"0.00","  mV"]})}),B.jsxs("div",{className:"h-64 md:h-54 2xl:h-64 relative",children:[B.jsx(iK,{value:Gk.value,type:"semicircle",arc:{width:.3,padding:.005,cornerRadius:1,gradient:!1,subArcs:[{limit:((l=sf.value[Ki.value.group==="A"?Ki.value.number:Ki.value.number+20])==null?void 0:l.low)??3,color:"#133044",showTick:!0},{limit:((c=sf.value[Ki.value.group==="A"?Ki.value.number:Ki.value.number+20])==null?void 0:c.high)??7,color:"#409fff",showTick:!0},{limit:10,color:"#5c5c5c99",showTick:!0}]},pointer:{type:"arrow",color:"#409fff",length:.6,width:10,elastic:!0},labels:{valueLabel:{formatTextValue:p=>p.toFixed(2)+" mV",style:{fontSize:5,fill:"#e9ebed",display:"none"}},tickLabels:{type:"outer",ticks:[{value:0},{value:2},{value:4},{value:6},{value:8},{value:10}],defaultTickValueConfig:{formatTextValue:p=>p,style:{fill:"#e9ebed"}}}},maxValue:10,minValue:0}),B.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 translate-y-[-25%] text-center mt-2",children:[B.jsx("div",{className:"text-sm font-medium text-text/65",children:"Threshold"}),B.jsxs("div",{className:"text-lg font-bold text-text",children:[((f=sf.value[Ki.value.group==="A"?Ki.value.number:Ki.value.number+20])==null?void 0:f.low)||3," - ",((d=sf.value[Ki.value.group==="A"?Ki.value.number:Ki.value.number+20])==null?void 0:d.high)||7," mV"]})]})]})]}),B.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-secondary/5 rounded-lg",children:[B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 text-sm md:text-sm 2xl:text-lg mb-1.5",children:"Low Threshold"}),B.jsx("input",{type:"number",min:"0",max:"10",step:"0.01",value:t.low,onChange:p=>n("low",p.target.value),onBlur:p=>i("low",p.target.value),className:"w-full p-2 md:p-1.5 2xl:p-2 border border-secondary rounded bg-background text-text text-sm"})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 text-sm md:text-sm 2xl:text-lg mb-1.5",children:"High Threshold"}),B.jsx("input",{type:"number",min:"0",max:"10",step:"0.01",value:t.high,onChange:p=>n("high",p.target.value),onBlur:p=>i("high",p.target.value),className:"w-full p-2 md:p-1.5 2xl:p-2 border border-secondary rounded bg-background text-text text-sm"})]})]}),B.jsx("button",{onClick:r,className:"mt-auto px-6 py-2 bg-primary text-text text-sm 2xl:text-base rounded hover:bg-primary/80",children:"Save Changes"})]}),py.value&&B.jsxs(Nd,{onClose:()=>py.value=!1,children:[B.jsx("h2",{className:"text-lg tracking-wider font-semibold text-primary/90 mb-3",children:"Select Users for Alerts"}),B.jsx("div",{className:"max-h-96 overflow-y-auto",children:B.jsxs("table",{className:"w-full border-collapse",children:[B.jsx("thead",{children:B.jsxs("tr",{className:"bg-secondary/20",children:[B.jsx("th",{className:"p-2 text-left font-normal tracking-wide",children:"Select"}),B.jsx("th",{className:"p-2 text-left font-normal tracking-wide",children:"Username"}),B.jsx("th",{className:"p-2 text-left font-normal tracking-wide",children:"Email"}),B.jsx("th",{className:"p-2 text-left font-normal tracking-wide",children:"Role"})]})}),B.jsx("tbody",{children:dy.value.map(p=>B.jsxs("tr",{className:"border-b border-secondary/10",children:[B.jsx("td",{className:"p-2",children:B.jsx("input",{type:"checkbox",checked:cf.value.includes(p._id),onChange:()=>ate(p._id),className:"h-4 w-4"})}),B.jsx("td",{className:"p-2",children:p.UserName}),B.jsx("td",{className:"p-2",children:p.Email}),B.jsx("td",{className:"p-2",children:p.Role})]},p._id))})]})}),B.jsx("div",{className:"mt-4 flex justify-end",children:B.jsx("button",{onClick:()=>{py.value=!1,s()},className:"px-4 py-2 bg-primary text-text rounded hover:bg-primary/80",children:"Save & Close"})})]})]})},CCe=()=>(yr(),B.jsxs("div",{className:"p-4 pt-12 md:pt-6 2xl:pt-12 bg-primary/25 rounded-lg shadow-lg h-full",children:[B.jsx("h2",{className:"text-base md:text-lg 2xl:text-xl font-semibold tracking-wider text-text mb-6 md:mb-4 2xl:mb-6",children:"Customize Values by colours - for Dashboard visuals"}),B.jsx("div",{className:" bg-background rounded-md h-[80%] p-6 mt-10",children:B.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-around h-full gap-8 md:gap-2",children:[B.jsxs("div",{className:"flex flex-col items-center justify-around w-full md:w-[40%] h-[60%]",children:[B.jsx(Yg,{htmlFor:"max",type:"number",name:"max",id:"max_value",labelName:"Max Value",signalObject:bd,signalProperty:"max",labelClassName:"text-text/75 font-medium text-base tracking-wide w-fit",inputClassName:"bg-primary/25 text-text/85 p-2 rounded inset-shadow-sm/50 inset-shadow-primary/35 w-30 md:w-40 2xl:w-80 h-12 outline-none",className:"flex items-center w-full justify-between mb-4"}),B.jsx(Yg,{htmlFor:"min",type:"number",name:"min",id:"min_value",labelName:"Min Value",signalObject:bd,signalProperty:"min",labelClassName:"text-text/75 font-medium text-base tracking-wide w-fit",inputClassName:"bg-primary/25 text-text/85 p-2 rounded inset-shadow-sm/50 inset-shadow-primary/35 w-30 md:w-40 2xl:w-80 h-12 outline-none",className:"flex items-center w-full justify-between mb-4"}),B.jsx("div",{className:"flex justify-center mt-8",children:B.jsx("button",{className:"px-6 py-2 bg-primary text-text rounded hover:bg-primary/80",onClick:()=>{bd.value.min=parseInt(document.getElementById("min_value").value),bd.value.max=parseInt(document.getElementById("max_value").value),Kte.success("Threshold values updated successfully!")},children:"Set Value"})})]}),B.jsx("div",{className:"w-[200px] h-1 md:w-1 md:h-[300px] bg-primary/35 rounded-lg mx-8"}),B.jsxs("div",{className:"w-full md:w-5/12 h-full grid grid-cols-3",children:[B.jsxs("div",{className:"flex flex-col items-center justify-center gap-12",children:[B.jsx("span",{className:"w-16 md:w-20 h-7 md:h-9 bg-blue-500 rounded"}),B.jsx("span",{className:"w-16 md:w-20 h-7 md:h-9 bg-yellow-500 rounded"}),B.jsx("span",{className:"w-16 md:w-20 h-7 md:h-9 bg-red-500 rounded"})]}),B.jsxs("div",{className:"flex flex-col items-center justify-center gap-12",children:[B.jsxs("span",{className:"text-text text-sm md:text-base h-7 md:h-9",children:[" ",`< ${bd.value.min} mv`]}),B.jsx("span",{className:"text-text text-xs md:text-base h-7 md:h-9",children:`${bd.value.min} mv - ${bd.value.max} mv`}),B.jsx("span",{className:"text-text text-sm md:text-base h-7 md:h-9",children:`> ${bd.value.max} mv`})]}),B.jsxs("div",{className:"flex flex-col items-center justify-center gap-12",children:[B.jsx("span",{className:"text-text text-sm md:text-base h-7 md:h-9",children:"Low"}),B.jsx("span",{className:"text-text text-sm md:text-base h-7 md:h-9",children:"Medium"}),B.jsx("span",{className:"text-text text-sm md:text-base h-7 md:h-9",children:"High"})]})]})]})})]})),RCe="/assets/utmaps-HMXQxodm.png",NCe=()=>B.jsxs("div",{className:"p-4 md:p-2 2xl:p-4 bg-primary/25 rounded-lg shadow-lg h-full flex flex-col justify-around items-center gap-4",children:[B.jsx("div",{className:"h-[350px] md:h-[50%]",children:B.jsx("img",{src:RCe,alt:"ut maps",className:"h-full"})}),B.jsx("div",{children:B.jsxs("p",{className:"first-letter:float-left first-letter:mr-3 first-letter:text-5xl md:first-letter:text-7xl first-letter:font-bold text-base md:text-lg w-[30ch] md:w-[65ch] text-pretty text-justify",children:[B.jsx("span",{className:"text-primary font-semibold tracking-wider",children:"µTMapS"})," ",B.jsx("code",{className:"bg-background/30 p-1.5 px-2 text-sm rounded-md",children:"&"})," ",B.jsx("em",{className:"text-text/80 font-bold tracking-wider",children:"µTMapS"})," are IIoT-enabled temperature measurement and temperature profiling sensors that captures continuous measurements at multiple points with a single customizable waveguide with multiple configurations in contrast to contact based thermocouples/RTDs or contactless IR guns."]})})]}),NH=en(0),DH=en(0),DCe=()=>{yr();const{user:t}=jl(),e=(t==null?void 0:t.Role)==="super_admin",n=[{id:"info",label:"Info",icon:fCe},{id:"report",label:"Set Report Options",icon:WTe},{id:"alert",label:"Set Alert",icon:oCe},{id:"threshold",label:"Set threshold",icon:uCe},{id:"user",label:"Set User Options",icon:cCe}];let i;if(t)if(e||t.Role==="admin")i=n;else{const r=n.find(a=>a.id==="info");i=r?[r]:[]}else i=[];return ce.useEffect(()=>{const r=()=>{const a=document.querySelector("header");a&&(NH.value=a.offsetHeight),window.innerWidth>=1024&&(DH.value=window.innerHeight-100)};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),ce.useEffect(()=>{Sa.value==="user"?YM():Sa.value==="alert"&&(nte(),jk())},[Sa.value]),B.jsx("section",{className:"bg-background text-text min-h-screen w-full overflow-x-hidden",style:{marginTop:`${NH.value}px`},children:B.jsxs("div",{className:"max-w-screen mx-auto px-4 sm:px-6 lg:px-8 py-8",style:{height:window.innerWidth>=1024?`${DH.value}px`:"auto"},children:[B.jsxs("div",{className:"flex flex-col md:flex-row gap-4 md:gap-2 2xl:gap-2 mx-2 md:mx-4 my-2 md:my-1 h-full",children:[B.jsx("fieldset",{className:"border border-primary/75 rounded-lg p-2 md:p-1.5 2xl:p-2 py-1 h-full",children:B.jsx(AU,{tabOptions:i,variant:"vertical"})}),B.jsxs("fieldset",{className:"border border-primary/75 rounded-lg p-4 md:p-4 2xl:p-4 h-full flex-1",children:[Sa.value==="info"&&B.jsx(NCe,{}),Sa.value==="user"&&B.jsx(pCe,{userSignals:dCe,isSuperAdmin:e}),Sa.value==="report"&&B.jsx(mCe,{}),Sa.value==="alert"&&B.jsx(TCe,{}),Sa.value==="threshold"&&B.jsx(CCe,{})]})]}),nR.value&&B.jsxs(Nd,{onClose:()=>nR.value=!1,children:[B.jsx("h2",{className:"text-xl font-semibold text-primary mb-4",children:"Edit User"}),lf.value&&B.jsx("p",{className:"text-red-500 mb-4",children:lf.value}),B.jsxs("form",{onSubmit:r=>{r.preventDefault(),$J()},className:"space-y-4",children:[B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"Username"}),B.jsx("input",{type:"text",value:Mc.value.UserName,onChange:r=>Mc.value={...Mc.value,UserName:r.target.value},className:"w-full p-2 border border-secondary rounded bg-background text-text"})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"Email"}),B.jsx("input",{type:"email",value:Mc.value.Email,onChange:r=>Mc.value={...Mc.value,Email:r.target.value},className:"w-full p-2 border border-secondary rounded bg-background text-text"})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"Role"}),B.jsx("select",{value:Mc.value.Role,onChange:r=>Mc.value={...Mc.value,Role:r.target.value},className:"w-full p-2 border border-secondary rounded bg-background text-text",children:B.jsx("option",{value:"user",children:"User"})})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"Phone Number"}),B.jsx("input",{type:"text",value:Mc.value.phoneNumber,onChange:r=>Mc.value={...Mc.value,phoneNumber:r.target.value},className:"w-full p-2 border border-secondary rounded bg-background text-text"})]}),B.jsx("button",{type:"submit",className:"w-full bg-primary text-text py-2 rounded hover:bg-primary/80",children:"Save Changes"})]})]}),iR.value&&B.jsxs(Nd,{onClose:()=>iR.value=!1,children:[B.jsx("h2",{className:"text-xl font-semibold text-primary mb-4",children:"Change Password"}),lf.value&&B.jsx("p",{className:"text-red-500 mb-4",children:lf.value}),B.jsxs("form",{onSubmit:r=>{r.preventDefault(),ZJ(e)},className:"space-y-4",children:[!e&&B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"Current Password"}),B.jsx("input",{type:"password",value:Nl.value.currentPassword,onChange:r=>Nl.value={...Nl.value,currentPassword:r.target.value},className:"w-full p-2 border border-secondary rounded bg-background text-text"})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-text mb-2",children:"New Password"}),B.jsx("input",{type:"password",value:Nl.value.newPassword,onChange:r=>Nl.value={...Nl.value,newPassword:r.target.value},className:"w-full p-2 border border-secondary rounded bg-background text-text"})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-text mb-2",children:"Confirm New Password"}),B.jsx("input",{type:"password",value:Nl.value.confirmPassword,onChange:r=>Nl.value={...Nl.value,confirmPassword:r.target.value},className:"w-full p-2 border border-secondary rounded bg-background text-text"})]}),B.jsx("button",{type:"submit",className:"w-full bg-primary text-text py-2 rounded hover:bg-primary/80",children:"Change Password"})]})]}),rR.value&&B.jsxs(Nd,{onClose:()=>rR.value=!1,children:[B.jsx("h2",{className:"text-xl font-semibold text-primary mb-4",children:"Add New User"}),lf.value&&B.jsx("p",{className:"text-red-500 mb-4",children:lf.value}),B.jsxs("form",{onSubmit:r=>{r.preventDefault(),QJ()},className:"space-y-4",children:[B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"Username"}),B.jsx("input",{type:"text",value:Ds.value.UserName,onChange:r=>Ds.value={...Ds.value,UserName:r.target.value},className:"w-full p-2 border border-secondary rounded bg-background text-text",required:!0})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"Email"}),B.jsx("input",{type:"email",value:Ds.value.Email,onChange:r=>Ds.value={...Ds.value,Email:r.target.value},className:"w-full p-2 border border-secondary rounded bg-background text-text",required:!0})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"Password"}),B.jsx("input",{type:"password",value:Ds.value.Password,onChange:r=>Ds.value={...Ds.value,Password:r.target.value},className:"w-full p-2 border border-secondary rounded bg-background text-text",required:!0})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"Role"}),B.jsxs("select",{value:Ds.value.Role,onChange:r=>Ds.value={...Ds.value,Role:r.target.value},className:"w-full p-2 border border-secondary rounded bg-background text-text",required:!0,children:[B.jsx("option",{value:"user",children:"User"}),B.jsx("option",{value:"admin",children:"Admin"}),B.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"Phone Number"}),B.jsx("input",{type:"text",value:Ds.value.phoneNumber,onChange:r=>Ds.value={...Ds.value,phoneNumber:r.target.value},className:"w-full p-2 border border-secondary rounded bg-background text-text"})]}),B.jsx("button",{type:"submit",className:"w-full bg-primary text-text py-2 rounded hover:bg-primary/80",children:"Add User"})]})]})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function WM(t){return t+.5|0}const i0=(t,e,n)=>Math.max(Math.min(t,n),e);function VA(t){return i0(WM(t*2.55),0,255)}function s0(t){return i0(WM(t*255),0,255)}function fm(t){return i0(WM(t/2.55)/100,0,1)}function BH(t){return i0(WM(t*100),0,100)}const rf={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},E5=[..."0123456789ABCDEF"],BCe=t=>E5[t&15],OCe=t=>E5[(t&240)>>4]+E5[t&15],tE=t=>(t&240)>>4===(t&15),LCe=t=>tE(t.r)&&tE(t.g)&&tE(t.b)&&tE(t.a);function PCe(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&rf[t[1]]*17,g:255&rf[t[2]]*17,b:255&rf[t[3]]*17,a:e===5?rf[t[4]]*17:255}:(e===7||e===9)&&(n={r:rf[t[1]]<<4|rf[t[2]],g:rf[t[3]]<<4|rf[t[4]],b:rf[t[5]]<<4|rf[t[6]],a:e===9?rf[t[7]]<<4|rf[t[8]]:255})),n}const UCe=(t,e)=>t<255?e(t):"";function ICe(t){var e=LCe(t)?BCe:OCe;return t?"#"+e(t.r)+e(t.g)+e(t.b)+UCe(t.a,e):void 0}const FCe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function rK(t,e,n){const i=e*Math.min(n,1-n),r=(a,s=(a+t/30)%12)=>n-i*Math.max(Math.min(s-3,9-s,1),-1);return[r(0),r(8),r(4)]}function zCe(t,e,n){const i=(r,a=(r+t/60)%6)=>n-n*e*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function HCe(t,e,n){const i=rK(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function kCe(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function wU(t){const n=t.r/255,i=t.g/255,r=t.b/255,a=Math.max(n,i,r),s=Math.min(n,i,r),o=(a+s)/2;let l,c,f;return a!==s&&(f=a-s,c=o>.5?f/(2-a-s):f/(a+s),l=kCe(n,i,r,f,a),l=l*60+.5),[l|0,c||0,o]}function EU(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(s0)}function TU(t,e,n){return EU(rK,t,e,n)}function GCe(t,e,n){return EU(HCe,t,e,n)}function jCe(t,e,n){return EU(zCe,t,e,n)}function aK(t){return(t%360+360)%360}function VCe(t){const e=FCe.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?VA(+e[5]):s0(+e[5]));const r=aK(+e[2]),a=+e[3]/100,s=+e[4]/100;return e[1]==="hwb"?i=GCe(r,a,s):e[1]==="hsv"?i=jCe(r,a,s):i=TU(r,a,s),{r:i[0],g:i[1],b:i[2],a:n}}function XCe(t,e){var n=wU(t);n[0]=aK(n[0]+e),n=TU(n),t.r=n[0],t.g=n[1],t.b=n[2]}function qCe(t){if(!t)return;const e=wU(t),n=e[0],i=BH(e[1]),r=BH(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${fm(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const OH={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},LH={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function YCe(){const t={},e=Object.keys(LH),n=Object.keys(OH);let i,r,a,s,o;for(i=0;i<e.length;i++){for(s=o=e[i],r=0;r<n.length;r++)a=n[r],o=o.replace(a,OH[a]);a=parseInt(LH[s],16),t[o]=[a>>16&255,a>>8&255,a&255]}return t}let nE;function WCe(t){nE||(nE=YCe(),nE.transparent=[0,0,0,0]);const e=nE[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const JCe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function KCe(t){const e=JCe.exec(t);let n=255,i,r,a;if(e){if(e[7]!==i){const s=+e[7];n=e[8]?VA(s):i0(s*255,0,255)}return i=+e[1],r=+e[3],a=+e[5],i=255&(e[2]?VA(i):i0(i,0,255)),r=255&(e[4]?VA(r):i0(r,0,255)),a=255&(e[6]?VA(a):i0(a,0,255)),{r:i,g:r,b:a,a:n}}}function $Ce(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${fm(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const g4=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,X_=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function ZCe(t,e,n){const i=X_(fm(t.r)),r=X_(fm(t.g)),a=X_(fm(t.b));return{r:s0(g4(i+n*(X_(fm(e.r))-i))),g:s0(g4(r+n*(X_(fm(e.g))-r))),b:s0(g4(a+n*(X_(fm(e.b))-a))),a:t.a+n*(e.a-t.a)}}function iE(t,e,n){if(t){let i=wU(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=TU(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function sK(t,e){return t&&Object.assign(e||{},t)}function PH(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=s0(t[3]))):(e=sK(t,{r:0,g:0,b:0,a:1}),e.a=s0(e.a)),e}function QCe(t){return t.charAt(0)==="r"?KCe(t):VCe(t)}class aM{constructor(e){if(e instanceof aM)return e;const n=typeof e;let i;n==="object"?i=PH(e):n==="string"&&(i=PCe(e)||WCe(e)||QCe(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=sK(this._rgb);return e&&(e.a=fm(e.a)),e}set rgb(e){this._rgb=PH(e)}rgbString(){return this._valid?$Ce(this._rgb):void 0}hexString(){return this._valid?ICe(this._rgb):void 0}hslString(){return this._valid?qCe(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let a;const s=n===a?.5:n,o=2*s-1,l=i.a-r.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;a=1-c,i.r=255&c*i.r+a*r.r+.5,i.g=255&c*i.g+a*r.g+.5,i.b=255&c*i.b+a*r.b+.5,i.a=s*i.a+(1-s)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=ZCe(this._rgb,e._rgb,n)),this}clone(){return new aM(this.rgb)}alpha(e){return this._rgb.a=s0(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=WM(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return iE(this._rgb,2,e),this}darken(e){return iE(this._rgb,2,-e),this}saturate(e){return iE(this._rgb,1,e),this}desaturate(e){return iE(this._rgb,1,-e),this}rotate(e){return XCe(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function nm(){}const eRe=(()=>{let t=0;return()=>t++})();function oa(t){return t==null}function Ls(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function $i(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function gf(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function yd(t,e){return gf(t)?t:e}function Ai(t,e){return typeof t>"u"?e:t}const tRe=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Lr(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function fr(t,e,n,i){let r,a,s;if(Ls(t))for(a=t.length,r=0;r<a;r++)e.call(n,t[r],r);else if($i(t))for(s=Object.keys(t),a=s.length,r=0;r<a;r++)e.call(n,t[s[r]],s[r])}function aR(t,e){let n,i,r,a;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],a=e[n],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function sR(t){if(Ls(t))return t.map(sR);if($i(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=sR(t[n[r]]);return e}return t}function oK(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function nRe(t,e,n,i){if(!oK(t))return;const r=e[t],a=n[t];$i(r)&&$i(a)?sM(r,a,i):e[t]=sR(a)}function sM(t,e,n){const i=Ls(e)?e:[e],r=i.length;if(!$i(t))return t;n=n||{};const a=n.merger||nRe;let s;for(let o=0;o<r;++o){if(s=i[o],!$i(s))continue;const l=Object.keys(s);for(let c=0,f=l.length;c<f;++c)a(l[c],t,s,n)}return t}function vS(t,e){return sM(t,e,{merger:iRe})}function iRe(t,e,n){if(!oK(t))return;const i=e[t],r=n[t];$i(i)&&$i(r)?vS(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=sR(r))}const UH={"":t=>t,x:t=>t.x,y:t=>t.y};function rRe(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function aRe(t){const e=rRe(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function oR(t,e){return(UH[e]||(UH[e]=aRe(e)))(t)}function CU(t){return t.charAt(0).toUpperCase()+t.slice(1)}const lR=t=>typeof t<"u",y0=t=>typeof t=="function",IH=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function sRe(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ts=Math.PI,co=2*ts,oRe=co+ts,cR=Number.POSITIVE_INFINITY,lRe=ts/180,oo=ts/2,Jv=ts/4,FH=ts*2/3,lK=Math.log10,$b=Math.sign;function yS(t,e,n){return Math.abs(t-e)<n}function zH(t){const e=Math.round(t);t=yS(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(lK(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function cRe(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,a)=>r-a).pop(),e}function uRe(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function uR(t){return!uRe(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function fRe(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function hRe(t,e,n){let i,r,a;for(i=0,r=t.length;i<r;i++)a=t[i][n],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function Ey(t){return t*(ts/180)}function dRe(t){return t*(180/ts)}function HH(t){if(!gf(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function cK(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let a=Math.atan2(i,n);return a<-.5*ts&&(a+=co),{angle:a,distance:r}}function T5(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function pRe(t,e){return(t-e+oRe)%co-ts}function Vg(t){return(t%co+co)%co}function RU(t,e,n,i){const r=Vg(t),a=Vg(e),s=Vg(n),o=Vg(a-r),l=Vg(s-r),c=Vg(r-a),f=Vg(r-s);return r===a||r===s||i&&a===s||o>l&&c<f}function Au(t,e,n){return Math.max(e,Math.min(n,t))}function mRe(t){return Au(t,-32768,32767)}function rb(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function NU(t,e,n){n=n||(s=>t[s]<e);let i=t.length-1,r=0,a;for(;i-r>1;)a=r+i>>1,n(a)?r=a:i=a;return{lo:r,hi:i}}const C5=(t,e,n,i)=>NU(t,n,i?r=>{const a=t[r][e];return a<n||a===n&&t[r+1][e]===n}:r=>t[r][e]<n),gRe=(t,e,n)=>NU(t,n,i=>t[i][e]>=n);function vRe(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const uK=["push","pop","shift","splice","unshift"];function yRe(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),uK.forEach(n=>{const i="_onData"+CU(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...a){const s=r.apply(this,a);return t._chartjs.listeners.forEach(o=>{typeof o[i]=="function"&&o[i](...a)}),s}})})}function kH(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(uK.forEach(a=>{delete t[a]}),delete t._chartjs)}function xRe(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const fK=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function hK(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,fK.call(window,()=>{i=!1,t.apply(e,n)}))}}function _Re(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const DU=t=>t==="start"?"left":t==="end"?"right":"center",Ho=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,bRe=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e,rE=t=>t===0||t===1,GH=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*co/n)),jH=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*co/n)+1,xS={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*oo)+1,easeOutSine:t=>Math.sin(t*oo),easeInOutSine:t=>-.5*(Math.cos(ts*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>rE(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>rE(t)?t:GH(t,.075,.3),easeOutElastic:t=>rE(t)?t:jH(t,.075,.3),easeInOutElastic(t){return rE(t)?t:t<.5?.5*GH(t*2,.1125,.45):.5+.5*jH(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-xS.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?xS.easeInBounce(t*2)*.5:xS.easeOutBounce(t*2-1)*.5+.5};function BU(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function VH(t){return BU(t)?t:new aM(t)}function v4(t){return BU(t)?t:new aM(t).saturate(.5).darken(.1).hexString()}const ARe=["x","y","borderWidth","radius","tension"],SRe=["color","borderColor","backgroundColor"];function MRe(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:SRe},numbers:{type:"number",properties:ARe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function wRe(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const XH=new Map;function ERe(t,e){e=e||{};const n=t+JSON.stringify(e);let i=XH.get(n);return i||(i=new Intl.NumberFormat(t,e),XH.set(n,i)),i}function dK(t,e,n){return ERe(e,n).format(t)}const TRe={values(t){return Ls(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,a=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),a=CRe(t,n)}const s=lK(Math.abs(a)),o=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:r,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),dK(t,i,l)}};function CRe(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var pK={formatters:TRe};function RRe(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:pK.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const rx=Object.create(null),R5=Object.create(null);function _S(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const a=n[i];t=t[a]||(t[a]=Object.create(null))}return t}function y4(t,e,n){return typeof e=="string"?sM(_S(t,e),n):sM(_S(t,""),e)}class NRe{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>v4(r.backgroundColor),this.hoverBorderColor=(i,r)=>v4(r.borderColor),this.hoverColor=(i,r)=>v4(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return y4(this,e,n)}get(e){return _S(this,e)}describe(e,n){return y4(R5,e,n)}override(e,n){return y4(rx,e,n)}route(e,n,i,r){const a=_S(this,e),s=_S(this,i),o="_"+n;Object.defineProperties(a,{[o]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],c=s[r];return $i(l)?Object.assign({},c,l):Ai(l,c)},set(l){this[o]=l}}})}apply(e){e.forEach(n=>n(this))}}var Ha=new NRe({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[MRe,wRe,RRe]);function DRe(t){return!t||oa(t.size)||oa(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function qH(t,e,n,i,r){let a=e[r];return a||(a=e[r]=t.measureText(r).width,n.push(r)),a>i&&(i=a),i}function Kv(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function YH(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function N5(t,e,n,i){mK(t,e,n,i,null)}function mK(t,e,n,i,r){let a,s,o,l,c,f,d,p;const v=e.pointStyle,_=e.rotation,S=e.radius;let b=(_||0)*lRe;if(v&&typeof v=="object"&&(a=v.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(b),t.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),t.restore();return}if(!(isNaN(S)||S<=0)){switch(t.beginPath(),v){default:r?t.ellipse(n,i,r/2,S,0,0,co):t.arc(n,i,S,0,co),t.closePath();break;case"triangle":f=r?r/2:S,t.moveTo(n+Math.sin(b)*f,i-Math.cos(b)*S),b+=FH,t.lineTo(n+Math.sin(b)*f,i-Math.cos(b)*S),b+=FH,t.lineTo(n+Math.sin(b)*f,i-Math.cos(b)*S),t.closePath();break;case"rectRounded":c=S*.516,l=S-c,s=Math.cos(b+Jv)*l,d=Math.cos(b+Jv)*(r?r/2-c:l),o=Math.sin(b+Jv)*l,p=Math.sin(b+Jv)*(r?r/2-c:l),t.arc(n-d,i-o,c,b-ts,b-oo),t.arc(n+p,i-s,c,b-oo,b),t.arc(n+d,i+o,c,b,b+oo),t.arc(n-p,i+s,c,b+oo,b+ts),t.closePath();break;case"rect":if(!_){l=Math.SQRT1_2*S,f=r?r/2:l,t.rect(n-f,i-l,2*f,2*l);break}b+=Jv;case"rectRot":d=Math.cos(b)*(r?r/2:S),s=Math.cos(b)*S,o=Math.sin(b)*S,p=Math.sin(b)*(r?r/2:S),t.moveTo(n-d,i-o),t.lineTo(n+p,i-s),t.lineTo(n+d,i+o),t.lineTo(n-p,i+s),t.closePath();break;case"crossRot":b+=Jv;case"cross":d=Math.cos(b)*(r?r/2:S),s=Math.cos(b)*S,o=Math.sin(b)*S,p=Math.sin(b)*(r?r/2:S),t.moveTo(n-d,i-o),t.lineTo(n+d,i+o),t.moveTo(n+p,i-s),t.lineTo(n-p,i+s);break;case"star":d=Math.cos(b)*(r?r/2:S),s=Math.cos(b)*S,o=Math.sin(b)*S,p=Math.sin(b)*(r?r/2:S),t.moveTo(n-d,i-o),t.lineTo(n+d,i+o),t.moveTo(n+p,i-s),t.lineTo(n-p,i+s),b+=Jv,d=Math.cos(b)*(r?r/2:S),s=Math.cos(b)*S,o=Math.sin(b)*S,p=Math.sin(b)*(r?r/2:S),t.moveTo(n-d,i-o),t.lineTo(n+d,i+o),t.moveTo(n+p,i-s),t.lineTo(n-p,i+s);break;case"line":s=r?r/2:Math.cos(b)*S,o=Math.sin(b)*S,t.moveTo(n-s,i-o),t.lineTo(n+s,i+o);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(b)*(r?r/2:S),i+Math.sin(b)*S);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function oM(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function OU(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function LU(t){t.restore()}function BRe(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const a=(e.x+n.x)/2;t.lineTo(a,e.y),t.lineTo(a,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function ORe(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function LRe(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),oa(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function PRe(t,e,n,i,r){if(r.strikethrough||r.underline){const a=t.measureText(i),s=e-a.actualBoundingBoxLeft,o=e+a.actualBoundingBoxRight,l=n-a.actualBoundingBoxAscent,c=n+a.actualBoundingBoxDescent,f=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(s,f),t.lineTo(o,f),t.stroke()}}function URe(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function lM(t,e,n,i,r,a={}){const s=Ls(e)?e:[e],o=a.strokeWidth>0&&a.strokeColor!=="";let l,c;for(t.save(),t.font=r.string,LRe(t,a),l=0;l<s.length;++l)c=s[l],a.backdrop&&URe(t,a.backdrop),o&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),oa(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(c,n,i,a.maxWidth)),t.fillText(c,n,i,a.maxWidth),PRe(t,n,i,c,a),i+=Number(r.lineHeight);t.restore()}function D5(t,e){const{x:n,y:i,w:r,h:a,radius:s}=e;t.arc(n+s.topLeft,i+s.topLeft,s.topLeft,1.5*ts,ts,!0),t.lineTo(n,i+a-s.bottomLeft),t.arc(n+s.bottomLeft,i+a-s.bottomLeft,s.bottomLeft,ts,oo,!0),t.lineTo(n+r-s.bottomRight,i+a),t.arc(n+r-s.bottomRight,i+a-s.bottomRight,s.bottomRight,oo,0,!0),t.lineTo(n+r,i+s.topRight),t.arc(n+r-s.topRight,i+s.topRight,s.topRight,0,-oo,!0),t.lineTo(n+s.topLeft,i)}const IRe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FRe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function zRe(t,e){const n=(""+t).match(IRe);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const HRe=t=>+t||0;function PU(t,e){const n={},i=$i(e),r=i?Object.keys(e):e,a=$i(t)?i?s=>Ai(t[s],t[e[s]]):s=>t[s]:()=>t;for(const s of r)n[s]=HRe(a(s));return n}function kRe(t){return PU(t,{top:"y",right:"x",bottom:"y",left:"x"})}function bS(t){return PU(t,["topLeft","topRight","bottomLeft","bottomRight"])}function vf(t){const e=kRe(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Vo(t,e){t=t||{},e=e||Ha.font;let n=Ai(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=Ai(t.style,e.style);i&&!(""+i).match(FRe)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Ai(t.family,e.family),lineHeight:zRe(Ai(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:Ai(t.weight,e.weight),string:""};return r.string=DRe(r),r}function aE(t,e,n,i){let r,a,s;for(r=0,a=t.length;r<a;++r)if(s=t[r],s!==void 0&&s!==void 0)return s}function GRe(t,e,n){const{min:i,max:r}=t,a=tRe(e,(r-i)/2),s=(o,l)=>n&&o===0?0:o+l;return{min:s(i,-Math.abs(a)),max:s(r,a)}}function _x(t,e){return Object.assign(Object.create(t),e)}function UU(t,e=[""],n,i,r=()=>t[0]){const a=n||t;typeof i>"u"&&(i=xK("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:i,_getTarget:r,override:o=>UU([o,...t],e,a,i)};return new Proxy(s,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return vK(o,l,()=>KRe(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return JH(o).includes(l)},ownKeys(o){return JH(o)},set(o,l,c){const f=o._storage||(o._storage=r());return o[l]=f[l]=c,delete o._keys,!0}})}function Zb(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:gK(t,i),setContext:a=>Zb(t,a,n,i),override:a=>Zb(t.override(a),e,n,i)};return new Proxy(r,{deleteProperty(a,s){return delete a[s],delete t[s],!0},get(a,s,o){return vK(a,s,()=>VRe(a,s,o))},getOwnPropertyDescriptor(a,s){return a._descriptors.allKeys?Reflect.has(t,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,s)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,s){return Reflect.has(t,s)},ownKeys(){return Reflect.ownKeys(t)},set(a,s,o){return t[s]=o,delete a[s],!0}})}function gK(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:y0(n)?n:()=>n,isIndexable:y0(i)?i:()=>i}}const jRe=(t,e)=>t?t+CU(e):e,IU=(t,e)=>$i(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function vK(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function VRe(t,e,n){const{_proxy:i,_context:r,_subProxy:a,_descriptors:s}=t;let o=i[e];return y0(o)&&s.isScriptable(e)&&(o=XRe(e,o,t,n)),Ls(o)&&o.length&&(o=qRe(e,o,t,s.isIndexable)),IU(e,o)&&(o=Zb(o,r,a&&a[e],s)),o}function XRe(t,e,n,i){const{_proxy:r,_context:a,_subProxy:s,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(a,s||i);return o.delete(t),IU(t,l)&&(l=FU(r._scopes,r,t,l)),l}function qRe(t,e,n,i){const{_proxy:r,_context:a,_subProxy:s,_descriptors:o}=n;if(typeof a.index<"u"&&i(t))return e[a.index%e.length];if($i(e[0])){const l=e,c=r._scopes.filter(f=>f!==l);e=[];for(const f of l){const d=FU(c,r,t,f);e.push(Zb(d,a,s&&s[t],o))}}return e}function yK(t,e,n){return y0(t)?t(e,n):t}const YRe=(t,e)=>t===!0?e:typeof t=="string"?oR(e,t):void 0;function WRe(t,e,n,i,r){for(const a of e){const s=YRe(n,a);if(s){t.add(s);const o=yK(s._fallback,n,r);if(typeof o<"u"&&o!==n&&o!==i)return o}else if(s===!1&&typeof i<"u"&&n!==i)return null}return!1}function FU(t,e,n,i){const r=e._rootScopes,a=yK(e._fallback,n,i),s=[...t,...r],o=new Set;o.add(i);let l=WH(o,s,n,a||n,i);return l===null||typeof a<"u"&&a!==n&&(l=WH(o,s,a,l,i),l===null)?!1:UU(Array.from(o),[""],r,a,()=>JRe(e,n,i))}function WH(t,e,n,i,r){for(;n;)n=WRe(t,e,n,i,r);return n}function JRe(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return Ls(r)&&$i(n)?n:r||{}}function KRe(t,e,n,i){let r;for(const a of e)if(r=xK(jRe(a,t),n),typeof r<"u")return IU(t,r)?FU(n,i,t,r):r}function xK(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function JH(t){let e=t._keys;return e||(e=t._keys=$Re(t._scopes)),e}function $Re(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const ZRe=Number.EPSILON||1e-14,Qb=(t,e)=>e<t.length&&!t[e].skip&&t[e],_K=t=>t==="x"?"y":"x";function QRe(t,e,n,i){const r=t.skip?e:t,a=e,s=n.skip?e:n,o=T5(a,r),l=T5(s,a);let c=o/(o+l),f=l/(o+l);c=isNaN(c)?0:c,f=isNaN(f)?0:f;const d=i*c,p=i*f;return{previous:{x:a.x-d*(s.x-r.x),y:a.y-d*(s.y-r.y)},next:{x:a.x+p*(s.x-r.x),y:a.y+p*(s.y-r.y)}}}function e3e(t,e,n){const i=t.length;let r,a,s,o,l,c=Qb(t,0);for(let f=0;f<i-1;++f)if(l=c,c=Qb(t,f+1),!(!l||!c)){if(yS(e[f],0,ZRe)){n[f]=n[f+1]=0;continue}r=n[f]/e[f],a=n[f+1]/e[f],o=Math.pow(r,2)+Math.pow(a,2),!(o<=9)&&(s=3/Math.sqrt(o),n[f]=r*s*e[f],n[f+1]=a*s*e[f])}}function t3e(t,e,n="x"){const i=_K(n),r=t.length;let a,s,o,l=Qb(t,0);for(let c=0;c<r;++c){if(s=o,o=l,l=Qb(t,c+1),!o)continue;const f=o[n],d=o[i];s&&(a=(f-s[n])/3,o[`cp1${n}`]=f-a,o[`cp1${i}`]=d-a*e[c]),l&&(a=(l[n]-f)/3,o[`cp2${n}`]=f+a,o[`cp2${i}`]=d+a*e[c])}}function n3e(t,e="x"){const n=_K(e),i=t.length,r=Array(i).fill(0),a=Array(i);let s,o,l,c=Qb(t,0);for(s=0;s<i;++s)if(o=l,l=c,c=Qb(t,s+1),!!l){if(c){const f=c[e]-l[e];r[s]=f!==0?(c[n]-l[n])/f:0}a[s]=o?c?$b(r[s-1])!==$b(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}e3e(t,r,a),t3e(t,a,e)}function sE(t,e,n){return Math.max(Math.min(t,n),e)}function i3e(t,e){let n,i,r,a,s,o=oM(t[0],e);for(n=0,i=t.length;n<i;++n)s=a,a=o,o=n<i-1&&oM(t[n+1],e),a&&(r=t[n],s&&(r.cp1x=sE(r.cp1x,e.left,e.right),r.cp1y=sE(r.cp1y,e.top,e.bottom)),o&&(r.cp2x=sE(r.cp2x,e.left,e.right),r.cp2y=sE(r.cp2y,e.top,e.bottom)))}function r3e(t,e,n,i,r){let a,s,o,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")n3e(t,r);else{let c=i?t[t.length-1]:t[0];for(a=0,s=t.length;a<s;++a)o=t[a],l=QRe(c,o,t[Math.min(a+1,s-(i?0:1))%s],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}e.capBezierPoints&&i3e(t,n)}function zU(){return typeof window<"u"&&typeof document<"u"}function HU(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function fR(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const eN=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function a3e(t,e){return eN(t).getPropertyValue(e)}const s3e=["top","right","bottom","left"];function Iy(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const a=s3e[r];i[a]=parseFloat(t[e+"-"+a+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const o3e=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function l3e(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:a}=i;let s=!1,o,l;if(o3e(r,a,t.target))o=r,l=a;else{const c=e.getBoundingClientRect();o=i.clientX-c.left,l=i.clientY-c.top,s=!0}return{x:o,y:l,box:s}}function sy(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=eN(n),a=r.boxSizing==="border-box",s=Iy(r,"padding"),o=Iy(r,"border","width"),{x:l,y:c,box:f}=l3e(t,n),d=s.left+(f&&o.left),p=s.top+(f&&o.top);let{width:v,height:_}=e;return a&&(v-=s.width+o.width,_-=s.height+o.height),{x:Math.round((l-d)/v*n.width/i),y:Math.round((c-p)/_*n.height/i)}}function c3e(t,e,n){let i,r;if(e===void 0||n===void 0){const a=t&&HU(t);if(!a)e=t.clientWidth,n=t.clientHeight;else{const s=a.getBoundingClientRect(),o=eN(a),l=Iy(o,"border","width"),c=Iy(o,"padding");e=s.width-c.width-l.width,n=s.height-c.height-l.height,i=fR(o.maxWidth,a,"clientWidth"),r=fR(o.maxHeight,a,"clientHeight")}}return{width:e,height:n,maxWidth:i||cR,maxHeight:r||cR}}const oE=t=>Math.round(t*10)/10;function u3e(t,e,n,i){const r=eN(t),a=Iy(r,"margin"),s=fR(r.maxWidth,t,"clientWidth")||cR,o=fR(r.maxHeight,t,"clientHeight")||cR,l=c3e(t,e,n);let{width:c,height:f}=l;if(r.boxSizing==="content-box"){const p=Iy(r,"border","width"),v=Iy(r,"padding");c-=v.width+p.width,f-=v.height+p.height}return c=Math.max(0,c-a.width),f=Math.max(0,i?c/i:f-a.height),c=oE(Math.min(c,s,l.maxWidth)),f=oE(Math.min(f,o,l.maxHeight)),c&&!f&&(f=oE(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&f>l.height&&(f=l.height,c=oE(Math.floor(f*i))),{width:c,height:f}}function KH(t,e,n){const i=e||1,r=Math.floor(t.height*i),a=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const s=t.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height=`${t.height}px`,s.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||s.height!==r||s.width!==a?(t.currentDevicePixelRatio=i,s.height=r,s.width=a,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const f3e=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};zU()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function $H(t,e){const n=a3e(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function oy(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function h3e(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function d3e(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},a={x:e.cp1x,y:e.cp1y},s=oy(t,r,n),o=oy(r,a,n),l=oy(a,e,n),c=oy(s,o,n),f=oy(o,l,n);return oy(c,f,n)}const p3e=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},m3e=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function vb(t,e,n){return t?p3e(e,n):m3e()}function bK(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function AK(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function SK(t){return t==="angle"?{between:RU,compare:pRe,normalize:Vg}:{between:rb,compare:(e,n)=>e-n,normalize:e=>e}}function ZH({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function g3e(t,e,n){const{property:i,start:r,end:a}=n,{between:s,normalize:o}=SK(i),l=e.length;let{start:c,end:f,loop:d}=t,p,v;if(d){for(c+=l,f+=l,p=0,v=l;p<v&&s(o(e[c%l][i]),r,a);++p)c--,f--;c%=l,f%=l}return f<c&&(f+=l),{start:c,end:f,loop:d,style:t.style}}function v3e(t,e,n){if(!n)return[t];const{property:i,start:r,end:a}=n,s=e.length,{compare:o,between:l,normalize:c}=SK(i),{start:f,end:d,loop:p,style:v}=g3e(t,e,n),_=[];let S=!1,b=null,A,T,R;const C=()=>l(r,R,A)&&o(r,R)!==0,L=()=>o(a,A)===0||l(a,R,A),P=()=>S||C(),k=()=>!S||L();for(let G=f,z=f;G<=d;++G)T=e[G%s],!T.skip&&(A=c(T[i]),A!==R&&(S=l(A,r,a),b===null&&P()&&(b=o(A,r)===0?G:z),b!==null&&k()&&(_.push(ZH({start:b,end:G,loop:p,count:s,style:v})),b=null),z=G,R=A));return b!==null&&_.push(ZH({start:b,end:d,loop:p,count:s,style:v})),_}function y3e(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const a=v3e(i[r],t.points,e);a.length&&n.push(...a)}return n}function x3e(t,e,n,i){let r=0,a=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(a+=r);a>r&&t[a%e].skip;)a--;return a%=e,{start:r,end:a}}function _3e(t,e,n,i){const r=t.length,a=[];let s=e,o=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%r];c.skip||c.stop?o.skip||(i=!1,a.push({start:e%r,end:(l-1)%r,loop:i}),e=s=c.stop?l:null):(s=l,o.skip&&(e=l)),o=c}return s!==null&&a.push({start:e%r,end:s%r,loop:i}),a}function b3e(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const a=!!t._loop,{start:s,end:o}=x3e(n,r,a,i);if(i===!0)return QH(t,[{start:s,end:o,loop:a}],n,e);const l=o<s?o+r:o,c=!!t._fullLoop&&s===0&&o===r-1;return QH(t,_3e(n,s,l,c),n,e)}function QH(t,e,n,i){return!i||!i.setContext||!n?e:A3e(t,e,n,i)}function A3e(t,e,n,i){const r=t._chart.getContext(),a=e7(t.options),{_datasetIndex:s,options:{spanGaps:o}}=t,l=n.length,c=[];let f=a,d=e[0].start,p=d;function v(_,S,b,A){const T=o?-1:1;if(_!==S){for(_+=l;n[_%l].skip;)_-=T;for(;n[S%l].skip;)S+=T;_%l!==S%l&&(c.push({start:_%l,end:S%l,loop:b,style:A}),f=A,d=S%l)}}for(const _ of e){d=o?d:_.start;let S=n[d%l],b;for(p=d+1;p<=_.end;p++){const A=n[p%l];b=e7(i.setContext(_x(r,{type:"segment",p0:S,p1:A,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:s}))),S3e(b,f)&&v(d,p-1,_.loop,f),S=A,f=b}d<p-1&&v(d,p-1,_.loop,f)}return c}function e7(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function S3e(t,e){if(!e)return!1;const n=[],i=function(r,a){return BU(a)?(n.includes(a)||n.push(a),n.indexOf(a)):a};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function lE(t,e,n){return t.options.clip?t[n]:e[n]}function M3e(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:lE(n,e,"left"),right:lE(n,e,"right"),top:lE(i,e,"top"),bottom:lE(i,e,"bottom")}:e}function w3e(t,e){const n=e._clip;if(n.disabled)return!1;const i=M3e(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class E3e{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const a=n.listeners[r],s=n.duration;a.forEach(o=>o({chart:e,initial:n.initial,numSteps:s,currentStep:Math.min(i-n.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=fK.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const a=i.items;let s=a.length-1,o=!1,l;for(;s>=0;--s)l=a[s],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),o=!0):(a[s]=a[a.length-1],a.pop());o&&(r.draw(),this._notify(r,i,e,"progress")),a.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=a.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var rm=new E3e;const t7="transparent",T3e={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=VH(t||t7),r=i.valid&&VH(e||t7);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class C3e{constructor(e,n,i,r){const a=n[i];r=aE([e.to,r,a,e.from]);const s=aE([e.from,a,r]);this._active=!0,this._fn=e.fn||T3e[e.type||typeof s],this._easing=xS[e.easing]||xS.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],a=i-this._start,s=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=aE([e.to,n,r,e.from]),this._from=aE([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,a=this._from,s=this._loop,o=this._to;let l;if(this._active=a!==o&&(s||n<i),!this._active){this._target[r]=o,this._notify(!0);return}if(n<0){this._target[r]=a;return}l=n/i%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(a,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class MK{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!$i(e))return;const n=Object.keys(Ha.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const a=e[r];if(!$i(a))return;const s={};for(const o of n)s[o]=a[o];(Ls(a.properties)&&a.properties||[r]).forEach(o=>{(o===r||!i.has(o))&&i.set(o,s)})})}_animateOptions(e,n){const i=n.options,r=N3e(e,i);if(!r)return[];const a=this._createAnimations(r,i);return i.$shared&&R3e(e.options.$animations,i).then(()=>{e.options=i},()=>{}),a}_createAnimations(e,n){const i=this._properties,r=[],a=e.$animations||(e.$animations={}),s=Object.keys(n),o=Date.now();let l;for(l=s.length-1;l>=0;--l){const c=s[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}const f=n[c];let d=a[c];const p=i.get(c);if(d)if(p&&d.active()){d.update(p,f,o);continue}else d.cancel();if(!p||!p.duration){e[c]=f;continue}a[c]=d=new C3e(p,e,c,f),r.push(d)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return rm.add(this._chart,i),!0}}function R3e(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const a=t[i[r]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function N3e(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function n7(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,a=n.max===void 0?e:0;return{start:i?a:r,end:i?r:a}}function D3e(t,e,n){if(n===!1)return!1;const i=n7(t,n),r=n7(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function B3e(t){let e,n,i,r;return $i(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function wK(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,a;for(r=0,a=i.length;r<a;++r)n.push(i[r].index);return n}function i7(t,e,n,i={}){const r=t.keys,a=i.mode==="single";let s,o,l,c;if(e===null)return;let f=!1;for(s=0,o=r.length;s<o;++s){if(l=+r[s],l===n){if(f=!0,i.all)continue;break}c=t.values[l],gf(c)&&(a||e===0||$b(e)===$b(c))&&(e+=c)}return!f&&!i.all?0:e}function O3e(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",s=Object.keys(t),o=new Array(s.length);let l,c,f;for(l=0,c=s.length;l<c;++l)f=s[l],o[l]={[r]:f,[a]:t[f]};return o}function x4(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function L3e(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function P3e(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function U3e(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function r7(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const a=t[r.index];if(n&&a>0||!n&&a<0)return r.index}return null}function a7(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:a,vScale:s,index:o}=i,l=a.axis,c=s.axis,f=L3e(a,s,i),d=e.length;let p;for(let v=0;v<d;++v){const _=e[v],{[l]:S,[c]:b}=_,A=_._stacks||(_._stacks={});p=A[c]=U3e(r,f,S),p[o]=b,p._top=r7(p,s,!0,i.type),p._bottom=r7(p,s,!1,i.type);const T=p._visualValues||(p._visualValues={});T[o]=b}}function _4(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function I3e(t,e){return _x(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function F3e(t,e,n){return _x(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function yA(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const a=r._stacks;if(!a||a[i]===void 0||a[i][n]===void 0)return;delete a[i][n],a[i]._visualValues!==void 0&&a[i]._visualValues[n]!==void 0&&delete a[i]._visualValues[n]}}}const b4=t=>t==="reset"||t==="none",s7=(t,e)=>e?t:Object.assign({},t),z3e=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:wK(n,!0),values:null};class WE{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=x4(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&yA(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(d,p,v,_)=>d==="x"?p:d==="r"?_:v,a=n.xAxisID=Ai(i.xAxisID,_4(e,"x")),s=n.yAxisID=Ai(i.yAxisID,_4(e,"y")),o=n.rAxisID=Ai(i.rAxisID,_4(e,"r")),l=n.indexAxis,c=n.iAxisID=r(l,a,s,o),f=n.vAxisID=r(l,s,a,o);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(s),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&kH(this._data,this),e._stacked&&yA(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if($i(n)){const r=this._cachedMeta;this._data=O3e(n,r)}else if(i!==n){if(i){kH(i,this);const r=this._cachedMeta;yA(r),r._parsed=[]}n&&Object.isExtensible(n)&&yRe(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const a=n._stacked;n._stacked=x4(n.vScale,n),n.stack!==i.stack&&(r=!0,yA(n),n.stack=i.stack),this._resyncElements(e),(r||a!==n._stacked)&&(a7(this,n._parsed),n._stacked=x4(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:a,_stacked:s}=i,o=a.axis;let l=e===0&&n===r.length?!0:i._sorted,c=e>0&&i._parsed[e-1],f,d,p;if(this._parsing===!1)i._parsed=r,i._sorted=!0,p=r;else{Ls(r[e])?p=this.parseArrayData(i,r,e,n):$i(r[e])?p=this.parseObjectData(i,r,e,n):p=this.parsePrimitiveData(i,r,e,n);const v=()=>d[o]===null||c&&d[o]<c[o];for(f=0;f<n;++f)i._parsed[f+e]=d=p[f],l&&(v()&&(l=!1),c=d);i._sorted=l}s&&a7(this,p)}parsePrimitiveData(e,n,i,r){const{iScale:a,vScale:s}=e,o=a.axis,l=s.axis,c=a.getLabels(),f=a===s,d=new Array(r);let p,v,_;for(p=0,v=r;p<v;++p)_=p+i,d[p]={[o]:f||a.parse(c[_],_),[l]:s.parse(n[_],_)};return d}parseArrayData(e,n,i,r){const{xScale:a,yScale:s}=e,o=new Array(r);let l,c,f,d;for(l=0,c=r;l<c;++l)f=l+i,d=n[f],o[l]={x:a.parse(d[0],f),y:s.parse(d[1],f)};return o}parseObjectData(e,n,i,r){const{xScale:a,yScale:s}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let f,d,p,v;for(f=0,d=r;f<d;++f)p=f+i,v=n[p],c[f]={x:a.parse(oR(v,o),p),y:s.parse(oR(v,l),p)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,a=this._cachedMeta,s=n[e.axis],o={keys:wK(r,!0),values:n._stacks[e.axis]._visualValues};return i7(o,s,a.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const a=i[n.axis];let s=a===null?NaN:a;const o=r&&i._stacks[n.axis];r&&o&&(r.values=o,s=i7(r,a,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,a=i._sorted&&e===i.iScale,s=r.length,o=this._getOtherScale(e),l=z3e(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:d}=P3e(o);let p,v;function _(){v=r[p];const S=v[o.axis];return!gf(v[e.axis])||f>S||d<S}for(p=0;p<s&&!(!_()&&(this.updateRangeFromParsed(c,e,v,l),a));++p);if(a){for(p=s-1;p>=0;--p)if(!_()){this.updateRangeFromParsed(c,e,v,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,a,s;for(r=0,a=n.length;r<a;++r)s=n[r][e.axis],gf(s)&&i.push(s);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,a=this.getParsed(e);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:r?""+r.getLabelForValue(a[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=B3e(Ai(this.options.clip,D3e(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],a=n.chartArea,s=[],o=this._drawStart||0,l=this._drawCount||r.length-o,c=this.options.drawActiveElementsOnTop;let f;for(i.dataset&&i.dataset.draw(e,a,o,l),f=o;f<o+l;++f){const d=r[f];d.hidden||(d.active&&c?s.push(d):d.draw(e,a))}for(f=0;f<s.length;++f)s[f].draw(e,a)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const s=this._cachedMeta.data[e];a=s.$context||(s.$context=F3e(this.getContext(),e,s)),a.parsed=this.getParsed(e),a.raw=r.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=I3e(this.chart.getContext(),this.index)),a.dataset=r,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=i,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",a=this._cachedDataOpts,s=e+"-"+n,o=a[s],l=this.enableOptionSharing&&lR(i);if(o)return s7(o,l);const c=this.chart.config,f=c.datasetElementScopeKeys(this._type,e),d=r?[`${e}Hover`,"hover",e,""]:[e,""],p=c.getOptionScopes(this.getDataset(),f),v=Object.keys(Ha.elements[e]),_=()=>this.getContext(i,r,n),S=c.resolveNamedOptions(p,v,_,d);return S.$shared&&(S.$shared=l,a[s]=Object.freeze(s7(S,l))),S}_resolveAnimations(e,n,i){const r=this.chart,a=this._cachedDataOpts,s=`animation-${n}`,o=a[s];if(o)return o;let l;if(r.options.animation!==!1){const f=this.chart.config,d=f.datasetAnimationScopeKeys(this._type,n),p=f.getOptionScopes(this.getDataset(),d);l=f.createResolver(p,this.getContext(e,i,n))}const c=new MK(r,l&&l.animations);return l&&l._cacheable&&(a[s]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||b4(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,a=this.getSharedOptions(i),s=this.includeOptions(n,a)||a!==r;return this.updateSharedOptions(a,n,i),{sharedOptions:a,includeOptions:s}}updateElement(e,n,i,r){b4(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!b4(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const a=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(a)||a})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const r=i.length,a=n.length,s=Math.min(a,r);s&&this.parse(0,s),a>r?this._insertElements(r,a-r,e):a<r&&this._removeElements(a,r-a)}_insertElements(e,n,i=!0){const r=this._cachedMeta,a=r.data,s=e+n;let o;const l=c=>{for(c.length+=n,o=c.length-1;o>=s;o--)c[o]=c[o-n]};for(l(a),o=e;o<s;++o)a[o]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),i&&this.updateElements(a,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&yA(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}yn(WE,"defaults",{}),yn(WE,"datasetElementType",null),yn(WE,"dataElementType",null);function $v(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class kU{constructor(e){yn(this,"options");this.options=e||{}}static override(e){Object.assign(kU.prototype,e)}init(){}formats(){return $v()}parse(){return $v()}format(){return $v()}add(){return $v()}diff(){return $v()}startOf(){return $v()}endOf(){return $v()}}var H3e={_date:kU};function k3e(t,e,n,i){const{controller:r,data:a,_sorted:s}=t,o=r._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&s&&a.length){const c=o._reversePixels?gRe:C5;if(i){if(r._sharedOptions){const f=a[0],d=typeof f.getRange=="function"&&f.getRange(e);if(d){const p=c(a,e,n-d),v=c(a,e,n+d);return{lo:p.lo,hi:v.hi}}}}else{const f=c(a,e,n);if(l){const{vScale:d}=r._cachedMeta,{_parsed:p}=t,v=p.slice(0,f.lo+1).reverse().findIndex(S=>!oa(S[d.axis]));f.lo-=Math.max(0,v);const _=p.slice(f.hi).findIndex(S=>!oa(S[d.axis]));f.hi+=Math.max(0,_)}return f}}return{lo:0,hi:a.length-1}}function tN(t,e,n,i,r){const a=t.getSortedVisibleDatasetMetas(),s=n[e];for(let o=0,l=a.length;o<l;++o){const{index:c,data:f}=a[o],{lo:d,hi:p}=k3e(a[o],e,s,r);for(let v=d;v<=p;++v){const _=f[v];_.skip||i(_,c,v)}}}function G3e(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const a=e?Math.abs(i.x-r.x):0,s=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(s,2))}}function A4(t,e,n,i,r){const a=[];return!r&&!t.isPointInArea(e)||tN(t,n,e,function(o,l,c){!r&&!oM(o,t.chartArea,0)||o.inRange(e.x,e.y,i)&&a.push({element:o,datasetIndex:l,index:c})},!0),a}function j3e(t,e,n,i){let r=[];function a(s,o,l){const{startAngle:c,endAngle:f}=s.getProps(["startAngle","endAngle"],i),{angle:d}=cK(s,{x:e.x,y:e.y});RU(d,c,f)&&r.push({element:s,datasetIndex:o,index:l})}return tN(t,n,e,a),r}function V3e(t,e,n,i,r,a){let s=[];const o=G3e(n);let l=Number.POSITIVE_INFINITY;function c(f,d,p){const v=f.inRange(e.x,e.y,r);if(i&&!v)return;const _=f.getCenterPoint(r);if(!(!!a||t.isPointInArea(_))&&!v)return;const b=o(e,_);b<l?(s=[{element:f,datasetIndex:d,index:p}],l=b):b===l&&s.push({element:f,datasetIndex:d,index:p})}return tN(t,n,e,c),s}function S4(t,e,n,i,r,a){return!a&&!t.isPointInArea(e)?[]:n==="r"&&!i?j3e(t,e,n,r):V3e(t,e,n,i,r,a)}function o7(t,e,n,i,r){const a=[],s=n==="x"?"inXRange":"inYRange";let o=!1;return tN(t,n,e,(l,c,f)=>{l[s]&&l[s](e[n],r)&&(a.push({element:l,datasetIndex:c,index:f}),o=o||l.inRange(e.x,e.y,r))}),i&&!o?[]:a}var X3e={modes:{index(t,e,n,i){const r=sy(e,t),a=n.axis||"x",s=n.includeInvisible||!1,o=n.intersect?A4(t,r,a,i,s):S4(t,r,a,!1,i,s),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const f=o[0].index,d=c.data[f];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:f})}),l):[]},dataset(t,e,n,i){const r=sy(e,t),a=n.axis||"xy",s=n.includeInvisible||!1;let o=n.intersect?A4(t,r,a,i,s):S4(t,r,a,!1,i,s);if(o.length>0){const l=o[0].datasetIndex,c=t.getDatasetMeta(l).data;o=[];for(let f=0;f<c.length;++f)o.push({element:c[f],datasetIndex:l,index:f})}return o},point(t,e,n,i){const r=sy(e,t),a=n.axis||"xy",s=n.includeInvisible||!1;return A4(t,r,a,i,s)},nearest(t,e,n,i){const r=sy(e,t),a=n.axis||"xy",s=n.includeInvisible||!1;return S4(t,r,a,n.intersect,i,s)},x(t,e,n,i){const r=sy(e,t);return o7(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=sy(e,t);return o7(t,r,"y",n.intersect,i)}}};const EK=["left","top","right","bottom"];function xA(t,e){return t.filter(n=>n.pos===e)}function l7(t,e){return t.filter(n=>EK.indexOf(n.pos)===-1&&n.box.axis===e)}function _A(t,e){return t.sort((n,i)=>{const r=e?i:n,a=e?n:i;return r.weight===a.weight?r.index-a.index:r.weight-a.weight})}function q3e(t){const e=[];let n,i,r,a,s,o;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:a,options:{stack:s,stackWeight:o=1}}=r,e.push({index:n,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&a+s,stackWeight:o});return e}function Y3e(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:a}=n;if(!i||!EK.includes(r))continue;const s=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=a}return e}function W3e(t,e){const n=Y3e(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let a,s,o;for(a=0,s=t.length;a<s;++a){o=t[a];const{fullSize:l}=o.box,c=n[o.stack],f=c&&o.stackWeight/c.weight;o.horizontal?(o.width=f?f*i:l&&e.availableWidth,o.height=r):(o.width=i,o.height=f?f*r:l&&e.availableHeight)}return n}function J3e(t){const e=q3e(t),n=_A(e.filter(c=>c.box.fullSize),!0),i=_A(xA(e,"left"),!0),r=_A(xA(e,"right")),a=_A(xA(e,"top"),!0),s=_A(xA(e,"bottom")),o=l7(e,"x"),l=l7(e,"y");return{fullSize:n,leftAndTop:i.concat(a),rightAndBottom:r.concat(l).concat(s).concat(o),chartArea:xA(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:a.concat(s).concat(o)}}function c7(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function TK(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function K3e(t,e,n,i){const{pos:r,box:a}=n,s=t.maxPadding;if(!$i(r)){n.size&&(t[r]-=n.size);const d=i[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?a.height:a.width),n.size=d.size/d.count,t[r]+=n.size}a.getPadding&&TK(s,a.getPadding());const o=Math.max(0,e.outerWidth-c7(s,t,"left","right")),l=Math.max(0,e.outerHeight-c7(s,t,"top","bottom")),c=o!==t.w,f=l!==t.h;return t.w=o,t.h=l,n.horizontal?{same:c,other:f}:{same:f,other:c}}function $3e(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Z3e(t,e){const n=e.maxPadding;function i(r){const a={left:0,top:0,right:0,bottom:0};return r.forEach(s=>{a[s]=Math.max(e[s],n[s])}),a}return i(t?["left","right"]:["top","bottom"])}function XA(t,e,n,i){const r=[];let a,s,o,l,c,f;for(a=0,s=t.length,c=0;a<s;++a){o=t[a],l=o.box,l.update(o.width||e.w,o.height||e.h,Z3e(o.horizontal,e));const{same:d,other:p}=K3e(e,n,o,i);c|=d&&r.length,f=f||p,l.fullSize||r.push(o)}return c&&XA(r,e,n,i)||f}function cE(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function u7(t,e,n,i){const r=n.padding;let{x:a,y:s}=e;for(const o of t){const l=o.box,c=i[o.stack]||{placed:0,weight:1},f=o.stackWeight/c.weight||1;if(o.horizontal){const d=e.w*f,p=c.size||l.height;lR(c.start)&&(s=c.start),l.fullSize?cE(l,r.left,s,n.outerWidth-r.right-r.left,p):cE(l,e.left+c.placed,s,d,p),c.start=s,c.placed+=d,s=l.bottom}else{const d=e.h*f,p=c.size||l.width;lR(c.start)&&(a=c.start),l.fullSize?cE(l,a,r.top,p,n.outerHeight-r.bottom-r.top):cE(l,a,e.top+c.placed,p,d),c.start=a,c.placed+=d,a=l.right}}e.x=a,e.y=s}var mf={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=vf(t.options.layout.padding),a=Math.max(e-r.width,0),s=Math.max(n-r.height,0),o=J3e(t.boxes),l=o.vertical,c=o.horizontal;fr(t.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const f=l.reduce((S,b)=>b.box.options&&b.box.options.display===!1?S:S+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:a,availableHeight:s,vBoxMaxWidth:a/2/f,hBoxMaxHeight:s/2}),p=Object.assign({},r);TK(p,vf(i));const v=Object.assign({maxPadding:p,w:a,h:s,x:r.left,y:r.top},r),_=W3e(l.concat(c),d);XA(o.fullSize,v,d,_),XA(l,v,d,_),XA(c,v,d,_)&&XA(l,v,d,_),$3e(v),u7(o.leftAndTop,v,d,_),v.x+=v.w,v.y+=v.h,u7(o.rightAndBottom,v,d,_),t.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},fr(o.chartArea,S=>{const b=S.box;Object.assign(b,t.chartArea),b.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class CK{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class Q3e extends CK{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const JE="$chartjs",eNe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},f7=t=>t===null||t==="";function tNe(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[JE]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",f7(r)){const a=$H(t,"width");a!==void 0&&(t.width=a)}if(f7(i))if(t.style.height==="")t.height=t.width/(e||2);else{const a=$H(t,"height");a!==void 0&&(t.height=a)}return t}const RK=f3e?{passive:!0}:!1;function nNe(t,e,n){t&&t.addEventListener(e,n,RK)}function iNe(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,RK)}function rNe(t,e){const n=eNe[t.type]||t.type,{x:i,y:r}=sy(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function hR(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function aNe(t,e,n){const i=t.canvas,r=new MutationObserver(a=>{let s=!1;for(const o of a)s=s||hR(o.addedNodes,i),s=s&&!hR(o.removedNodes,i);s&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function sNe(t,e,n){const i=t.canvas,r=new MutationObserver(a=>{let s=!1;for(const o of a)s=s||hR(o.removedNodes,i),s=s&&!hR(o.addedNodes,i);s&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const cM=new Map;let h7=0;function NK(){const t=window.devicePixelRatio;t!==h7&&(h7=t,cM.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function oNe(t,e){cM.size||window.addEventListener("resize",NK),cM.set(t,e)}function lNe(t){cM.delete(t),cM.size||window.removeEventListener("resize",NK)}function cNe(t,e,n){const i=t.canvas,r=i&&HU(i);if(!r)return;const a=hK((o,l)=>{const c=r.clientWidth;n(o,l),c<r.clientWidth&&n()},window),s=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,f=l.contentRect.height;c===0&&f===0||a(c,f)});return s.observe(r),oNe(t,a),s}function M4(t,e,n){n&&n.disconnect(),e==="resize"&&lNe(t)}function uNe(t,e,n){const i=t.canvas,r=hK(a=>{t.ctx!==null&&n(rNe(a,t))},t);return nNe(i,e,r),r}class fNe extends CK{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(tNe(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[JE])return!1;const i=n[JE].initial;["height","width"].forEach(a=>{const s=i[a];oa(s)?n.removeAttribute(a):n.setAttribute(a,s)});const r=i.style||{};return Object.keys(r).forEach(a=>{n.style[a]=r[a]}),n.width=n.width,delete n[JE],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),s={attach:aNe,detach:sNe,resize:cNe}[n]||uNe;r[n]=s(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:M4,detach:M4,resize:M4}[n]||iNe)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return u3e(e,n,i,r)}isAttached(e){const n=e&&HU(e);return!!(n&&n.isConnected)}}function hNe(t){return!zU()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Q3e:fNe}class Gd{constructor(){yn(this,"x");yn(this,"y");yn(this,"active",!1);yn(this,"options");yn(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return uR(this.x)&&uR(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(a=>{r[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),r}}yn(Gd,"defaults",{}),yn(Gd,"defaultRoutes");function dNe(t,e){const n=t.options.ticks,i=pNe(t),r=Math.min(n.maxTicksLimit||i,i),a=n.major.enabled?gNe(e):[],s=a.length,o=a[0],l=a[s-1],c=[];if(s>r)return vNe(e,c,a,s/r),c;const f=mNe(a,e,r);if(s>0){let d,p;const v=s>1?Math.round((l-o)/(s-1)):null;for(uE(e,c,f,oa(v)?0:o-v,o),d=0,p=s-1;d<p;d++)uE(e,c,f,a[d],a[d+1]);return uE(e,c,f,l,oa(v)?e.length:l+v),c}return uE(e,c,f),c}function pNe(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function mNe(t,e,n){const i=yNe(t),r=e.length/n;if(!i)return Math.max(r,1);const a=cRe(i);for(let s=0,o=a.length-1;s<o;s++){const l=a[s];if(l>r)return l}return Math.max(r,1)}function gNe(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function vNe(t,e,n,i){let r=0,a=n[0],s;for(i=Math.ceil(i),s=0;s<t.length;s++)s===a&&(e.push(t[s]),r++,a=n[r*i])}function uE(t,e,n,i,r){const a=Ai(i,0),s=Math.min(Ai(r,t.length),t.length);let o=0,l,c,f;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),f=a;f<0;)o++,f=Math.round(a+o*n);for(c=Math.max(a,0);c<s;c++)c===f&&(e.push(t[c]),o++,f=Math.round(a+o*n))}function yNe(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const xNe=t=>t==="left"?"right":t==="right"?"left":t,d7=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,p7=(t,e)=>Math.min(e||t,t);function m7(t,e){const n=[],i=t.length/e,r=t.length;let a=0;for(;a<r;a+=i)n.push(t[Math.floor(a)]);return n}function _Ne(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),a=t._startPixel,s=t._endPixel,o=1e-6;let l=t.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-a,s-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<a-o||l>s+o)))return l}function bNe(t,e){fr(t,n=>{const i=n.gc,r=i.length/2;let a;if(r>e){for(a=0;a<r;++a)delete n.data[i[a]];i.splice(0,r)}})}function bA(t){return t.drawTicks?t.tickLength:0}function g7(t,e){if(!t.display)return 0;const n=Vo(t.font,e),i=vf(t.padding);return(Ls(t.text)?t.text.length:1)*n.lineHeight+i.height}function ANe(t,e){return _x(t,{scale:e,type:"scale"})}function SNe(t,e,n){return _x(t,{tick:n,index:e,type:"tick"})}function MNe(t,e,n){let i=DU(t);return(n&&e!=="right"||!n&&e==="right")&&(i=xNe(i)),i}function wNe(t,e,n,i){const{top:r,left:a,bottom:s,right:o,chart:l}=t,{chartArea:c,scales:f}=l;let d=0,p,v,_;const S=s-r,b=o-a;if(t.isHorizontal()){if(v=Ho(i,a,o),$i(n)){const A=Object.keys(n)[0],T=n[A];_=f[A].getPixelForValue(T)+S-e}else n==="center"?_=(c.bottom+c.top)/2+S-e:_=d7(t,n,e);p=o-a}else{if($i(n)){const A=Object.keys(n)[0],T=n[A];v=f[A].getPixelForValue(T)-b+e}else n==="center"?v=(c.left+c.right)/2-b+e:v=d7(t,n,e);_=Ho(i,s,r),d=n==="left"?-oo:oo}return{titleX:v,titleY:_,maxWidth:p,rotation:d}}class y1 extends Gd{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=yd(e,Number.POSITIVE_INFINITY),n=yd(n,Number.NEGATIVE_INFINITY),i=yd(i,Number.POSITIVE_INFINITY),r=yd(r,Number.NEGATIVE_INFINITY),{min:yd(e,i),max:yd(n,r),minDefined:gf(e),maxDefined:gf(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:a}=this.getUserBounds(),s;if(r&&a)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)s=o[l].controller.getMinMax(this,e),r||(n=Math.min(n,s.min)),a||(i=Math.max(i,s.max));return n=a&&n>i?i:n,i=r&&n>i?n:i,{min:yd(n,yd(i,n)),max:yd(i,yd(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Lr(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:a,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=GRe(this,a,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?m7(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=dNe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Lr(this.options.afterUpdate,[this])}beforeSetDimensions(){Lr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Lr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Lr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Lr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,a;for(i=0,r=e.length;i<r;i++)a=e[i],a.label=Lr(n.callback,[a.value,i,e],this)}afterTickToLabelConversion(){Lr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Lr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=p7(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,a=n.maxRotation;let s=r,o,l,c;if(!this._isVisible()||!n.display||r>=a||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const f=this._getLabelSizes(),d=f.widest.width,p=f.highest.height,v=Au(this.chart.width-d,0,this.maxWidth);o=e.offset?this.maxWidth/i:v/(i-1),d+6>o&&(o=v/(i-(e.offset?.5:1)),l=this.maxHeight-bA(e.grid)-n.padding-g7(e.title,this.chart.options.font),c=Math.sqrt(d*d+p*p),s=dRe(Math.min(Math.asin(Au((f.highest.height+6)/o,-1,1)),Math.asin(Au(l/c,-1,1))-Math.asin(Au(p/c,-1,1)))),s=Math.max(r,Math.min(a,s))),this.labelRotation=s}afterCalculateLabelRotation(){Lr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Lr(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:a}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const l=g7(r,n.options.font);if(o?(e.width=this.maxWidth,e.height=bA(a)+l):(e.height=this.maxHeight,e.width=bA(a)+l),i.display&&this.ticks.length){const{first:c,last:f,widest:d,highest:p}=this._getLabelSizes(),v=i.padding*2,_=Ey(this.labelRotation),S=Math.cos(_),b=Math.sin(_);if(o){const A=i.mirror?0:b*d.width+S*p.height;e.height=Math.min(this.maxHeight,e.height+A+v)}else{const A=i.mirror?0:S*d.width+b*p.height;e.width=Math.min(this.maxWidth,e.width+A+v)}this._calculatePadding(c,f,b,S)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:a,padding:s},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,v=0;l?c?(p=r*e.width,v=i*n.height):(p=i*e.height,v=r*n.width):a==="start"?v=n.width:a==="end"?p=e.width:a!=="inner"&&(p=e.width/2,v=n.width/2),this.paddingLeft=Math.max((p-f+s)*this.width/(this.width-f),0),this.paddingRight=Math.max((v-d+s)*this.width/(this.width-d),0)}else{let f=n.height/2,d=e.height/2;a==="start"?(f=0,d=e.height):a==="end"&&(f=n.height,d=0),this.paddingTop=f+s,this.paddingBottom=d+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Lr(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)oa(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=m7(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:a}=this,s=[],o=[],l=Math.floor(n/p7(n,i));let c=0,f=0,d,p,v,_,S,b,A,T,R,C,L;for(d=0;d<n;d+=l){if(_=e[d].label,S=this._resolveTickFontOptions(d),r.font=b=S.string,A=a[b]=a[b]||{data:{},gc:[]},T=S.lineHeight,R=C=0,!oa(_)&&!Ls(_))R=qH(r,A.data,A.gc,R,_),C=T;else if(Ls(_))for(p=0,v=_.length;p<v;++p)L=_[p],!oa(L)&&!Ls(L)&&(R=qH(r,A.data,A.gc,R,L),C+=T);s.push(R),o.push(C),c=Math.max(R,c),f=Math.max(C,f)}bNe(a,n);const P=s.indexOf(c),k=o.indexOf(f),G=z=>({width:s[z]||0,height:o[z]||0});return{first:G(0),last:G(n-1),widest:G(P),highest:G(k),widths:s,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return mRe(this._alignToPixels?Kv(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=SNe(this.getContext(),e,i))}return this.$context||(this.$context=ANe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Ey(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),a=this._getLabelSizes(),s=e.autoSkipPadding||0,o=a?a.widest.width+s:0,l=a?a.highest.height+s:0;return this.isHorizontal()?l*i>o*r?o/i:l/r:l*r<o*i?l/i:o/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:a,position:s,border:o}=r,l=a.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),p=bA(a),v=[],_=o.setContext(this.getContext()),S=_.display?_.width:0,b=S/2,A=function(H){return Kv(i,H,S)};let T,R,C,L,P,k,G,z,F,j,ne,W;if(s==="top")T=A(this.bottom),k=this.bottom-p,z=T-b,j=A(e.top)+b,W=e.bottom;else if(s==="bottom")T=A(this.top),j=e.top,W=A(e.bottom)-b,k=T+b,z=this.top+p;else if(s==="left")T=A(this.right),P=this.right-p,G=T-b,F=A(e.left)+b,ne=e.right;else if(s==="right")T=A(this.left),F=e.left,ne=A(e.right)-b,P=T+b,G=this.left+p;else if(n==="x"){if(s==="center")T=A((e.top+e.bottom)/2+.5);else if($i(s)){const H=Object.keys(s)[0],J=s[H];T=A(this.chart.scales[H].getPixelForValue(J))}j=e.top,W=e.bottom,k=T+b,z=k+p}else if(n==="y"){if(s==="center")T=A((e.left+e.right)/2);else if($i(s)){const H=Object.keys(s)[0],J=s[H];T=A(this.chart.scales[H].getPixelForValue(J))}P=T-b,G=P-p,F=e.left,ne=e.right}const Y=Ai(r.ticks.maxTicksLimit,d),K=Math.max(1,Math.ceil(d/Y));for(R=0;R<d;R+=K){const H=this.getContext(R),J=a.setContext(H),Q=o.setContext(H),ie=J.lineWidth,V=J.color,$=Q.dash||[],oe=Q.dashOffset,de=J.tickWidth,fe=J.tickColor,ge=J.tickBorderDash||[],Se=J.tickBorderDashOffset;C=_Ne(this,R,l),C!==void 0&&(L=Kv(i,C,ie),c?P=G=F=ne=L:k=z=j=W=L,v.push({tx1:P,ty1:k,tx2:G,ty2:z,x1:F,y1:j,x2:ne,y2:W,width:ie,color:V,borderDash:$,borderDashOffset:oe,tickWidth:de,tickColor:fe,tickBorderDash:ge,tickBorderDashOffset:Se}))}return this._ticksLength=d,this._borderValue=T,v}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:a}=i,s=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:f,mirror:d}=a,p=bA(i.grid),v=p+f,_=d?-f:v,S=-Ey(this.labelRotation),b=[];let A,T,R,C,L,P,k,G,z,F,j,ne,W="middle";if(r==="top")P=this.bottom-_,k=this._getXAxisLabelAlignment();else if(r==="bottom")P=this.top+_,k=this._getXAxisLabelAlignment();else if(r==="left"){const K=this._getYAxisLabelAlignment(p);k=K.textAlign,L=K.x}else if(r==="right"){const K=this._getYAxisLabelAlignment(p);k=K.textAlign,L=K.x}else if(n==="x"){if(r==="center")P=(e.top+e.bottom)/2+v;else if($i(r)){const K=Object.keys(r)[0],H=r[K];P=this.chart.scales[K].getPixelForValue(H)+v}k=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")L=(e.left+e.right)/2-v;else if($i(r)){const K=Object.keys(r)[0],H=r[K];L=this.chart.scales[K].getPixelForValue(H)}k=this._getYAxisLabelAlignment(p).textAlign}n==="y"&&(l==="start"?W="top":l==="end"&&(W="bottom"));const Y=this._getLabelSizes();for(A=0,T=o.length;A<T;++A){R=o[A],C=R.label;const K=a.setContext(this.getContext(A));G=this.getPixelForTick(A)+a.labelOffset,z=this._resolveTickFontOptions(A),F=z.lineHeight,j=Ls(C)?C.length:1;const H=j/2,J=K.color,Q=K.textStrokeColor,ie=K.textStrokeWidth;let V=k;s?(L=G,k==="inner"&&(A===T-1?V=this.options.reverse?"left":"right":A===0?V=this.options.reverse?"right":"left":V="center"),r==="top"?c==="near"||S!==0?ne=-j*F+F/2:c==="center"?ne=-Y.highest.height/2-H*F+F:ne=-Y.highest.height+F/2:c==="near"||S!==0?ne=F/2:c==="center"?ne=Y.highest.height/2-H*F:ne=Y.highest.height-j*F,d&&(ne*=-1),S!==0&&!K.showLabelBackdrop&&(L+=F/2*Math.sin(S))):(P=G,ne=(1-j)*F/2);let $;if(K.showLabelBackdrop){const oe=vf(K.backdropPadding),de=Y.heights[A],fe=Y.widths[A];let ge=ne-oe.top,Se=0-oe.left;switch(W){case"middle":ge-=de/2;break;case"bottom":ge-=de;break}switch(k){case"center":Se-=fe/2;break;case"right":Se-=fe;break;case"inner":A===T-1?Se-=fe:A>0&&(Se-=fe/2);break}$={left:Se,top:ge,width:fe+oe.width,height:de+oe.height,color:K.backdropColor}}b.push({label:C,font:z,textOffset:ne,options:{rotation:S,color:J,strokeColor:Q,strokeWidth:ie,textAlign:V,textBaseline:W,translation:[L,P],backdrop:$}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Ey(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:a}}=this.options,s=this._getLabelSizes(),o=e+a,l=s.widest.width;let c,f;return n==="left"?r?(f=this.right+a,i==="near"?c="left":i==="center"?(c="center",f+=l/2):(c="right",f+=l)):(f=this.right-o,i==="near"?c="right":i==="center"?(c="center",f-=l/2):(c="left",f=this.left)):n==="right"?r?(f=this.left+a,i==="near"?c="right":i==="center"?(c="center",f-=l/2):(c="left",f-=l)):(f=this.left+o,i==="near"?c="left":i==="center"?(c="center",f+=l/2):(c="right",f=this.right)):c="right",{textAlign:c,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:a,height:s}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,a,s),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(a=>a.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,s;const o=(l,c,f)=>{!f.width||!f.color||(i.save(),i.lineWidth=f.width,i.strokeStyle=f.color,i.setLineDash(f.borderDash||[]),i.lineDashOffset=f.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(a=0,s=r.length;a<s;++a){const l=r[a];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,a=i.setContext(this.getContext()),s=i.display?a.width:0;if(!s)return;const o=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,f,d,p;this.isHorizontal()?(c=Kv(e,this.left,s)-s/2,f=Kv(e,this.right,o)+o/2,d=p=l):(d=Kv(e,this.top,s)-s/2,p=Kv(e,this.bottom,o)+o/2,c=f=l),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(c,d),n.lineTo(f,p),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&OU(i,r);const a=this.getLabelItems(e);for(const s of a){const o=s.options,l=s.font,c=s.label,f=s.textOffset;lM(i,c,0,f,l,o)}r&&LU(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const a=Vo(i.font),s=vf(i.padding),o=i.align;let l=a.lineHeight/2;n==="bottom"||n==="center"||$i(n)?(l+=s.bottom,Ls(i.text)&&(l+=a.lineHeight*(i.text.length-1))):l+=s.top;const{titleX:c,titleY:f,maxWidth:d,rotation:p}=wNe(this,l,n,o);lM(e,i.text,0,0,a,{color:i.color,maxWidth:d,rotation:p,textAlign:MNe(o,n,r),textBaseline:"middle",translation:[c,f]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=Ai(e.grid&&e.grid.z,-1),r=Ai(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==y1.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let a,s;for(a=0,s=n.length;a<s;++a){const o=n[a];o[i]===this.id&&(!e||o.type===e)&&r.push(o)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Vo(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class fE{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;CNe(n)&&(i=this.register(n));const r=this.items,a=e.id,s=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in r||(r[a]=e,ENe(e,s,i),this.override&&Ha.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in Ha[r]&&(delete Ha[r][i],this.override&&delete rx[i])}}function ENe(t,e,n){const i=sM(Object.create(null),[n?Ha.get(n):{},Ha.get(e),t.defaults]);Ha.set(e,i),t.defaultRoutes&&TNe(e,t.defaultRoutes),t.descriptors&&Ha.describe(e,t.descriptors)}function TNe(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),a=[t].concat(i).join("."),s=e[n].split("."),o=s.pop(),l=s.join(".");Ha.route(a,r,l,o)})}function CNe(t){return"id"in t&&"defaults"in t}class RNe{constructor(){this.controllers=new fE(WE,"datasets",!0),this.elements=new fE(Gd,"elements"),this.plugins=new fE(Object,"plugins"),this.scales=new fE(y1,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const a=i||this._getRegistryForType(r);i||a.isForType(r)||a===this.plugins&&r.id?this._exec(e,a,r):fr(r,s=>{const o=i||this._getRegistryForType(s);this._exec(e,o,s)})})}_exec(e,n,i){const r=CU(e);Lr(i["before"+r],[],i),n[e](i),Lr(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Ad=new RNe;class NNe{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=r?this._descriptors(e).filter(r):this._descriptors(e),s=this._notify(a,e,n,i);return n==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,n,i,r){r=r||{};for(const a of e){const s=a.plugin,o=s[i],l=[n,r,a.options];if(Lr(o,l,s)===!1&&r.cancelable)return!1}return!0}invalidate(){oa(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=Ai(i.options&&i.options.plugins,{}),a=DNe(i);return r===!1&&!n?[]:ONe(e,a,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(a,s)=>a.filter(o=>!s.some(l=>o.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function DNe(t){const e={},n=[],i=Object.keys(Ad.plugins.items);for(let a=0;a<i.length;a++)n.push(Ad.getPlugin(i[a]));const r=t.plugins||[];for(let a=0;a<r.length;a++){const s=r[a];n.indexOf(s)===-1&&(n.push(s),e[s.id]=!0)}return{plugins:n,localIds:e}}function BNe(t,e){return!e&&t===!1?null:t===!0?{}:t}function ONe(t,{plugins:e,localIds:n},i,r){const a=[],s=t.getContext();for(const o of e){const l=o.id,c=BNe(i[l],r);c!==null&&a.push({plugin:o,options:LNe(t.config,{plugin:o,local:n[l]},c,s)})}return a}function LNe(t,{plugin:e,local:n},i,r){const a=t.pluginScopeKeys(e),s=t.getOptionScopes(i,a);return n&&e.defaults&&s.push(e.defaults),t.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function B5(t,e){const n=Ha.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function PNe(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function UNe(t,e){return t===e?"_index_":"_value_"}function v7(t){if(t==="x"||t==="y"||t==="r")return t}function INe(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function O5(t,...e){if(v7(t))return t;for(const n of e){const i=n.axis||INe(n.position)||t.length>1&&v7(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function y7(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function FNe(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return y7(t,"x",n[0])||y7(t,"y",n[0])}return{}}function zNe(t,e){const n=rx[t.type]||{scales:{}},i=e.scales||{},r=B5(t.type,e),a=Object.create(null);return Object.keys(i).forEach(s=>{const o=i[s];if(!$i(o))return console.error(`Invalid scale configuration for scale: ${s}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const l=O5(s,o,FNe(s,t),Ha.scales[o.type]),c=UNe(l,r),f=n.scales||{};a[s]=vS(Object.create(null),[{axis:l},o,f[l],f[c]])}),t.data.datasets.forEach(s=>{const o=s.type||t.type,l=s.indexAxis||B5(o,e),f=(rx[o]||{}).scales||{};Object.keys(f).forEach(d=>{const p=PNe(d,l),v=s[p+"AxisID"]||p;a[v]=a[v]||Object.create(null),vS(a[v],[{axis:p},i[v],f[d]])})}),Object.keys(a).forEach(s=>{const o=a[s];vS(o,[Ha.scales[o.type],Ha.scale])}),a}function DK(t){const e=t.options||(t.options={});e.plugins=Ai(e.plugins,{}),e.scales=zNe(t,e)}function BK(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function HNe(t){return t=t||{},t.data=BK(t.data),DK(t),t}const x7=new Map,OK=new Set;function hE(t,e){let n=x7.get(t);return n||(n=e(),x7.set(t,n),OK.add(n)),n}const AA=(t,e,n)=>{const i=oR(e,n);i!==void 0&&t.add(i)};class kNe{constructor(e){this._config=HNe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=BK(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),DK(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return hE(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return hE(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return hE(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return hE(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:a}=this,s=this._cachedScopes(e,i),o=s.get(n);if(o)return o;const l=new Set;n.forEach(f=>{e&&(l.add(e),f.forEach(d=>AA(l,e,d))),f.forEach(d=>AA(l,r,d)),f.forEach(d=>AA(l,rx[a]||{},d)),f.forEach(d=>AA(l,Ha,d)),f.forEach(d=>AA(l,R5,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),OK.has(n)&&s.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,rx[n]||{},Ha.datasets[n]||{},{type:n},Ha,R5]}resolveNamedOptions(e,n,i,r=[""]){const a={$shared:!0},{resolver:s,subPrefixes:o}=_7(this._resolverCache,e,r);let l=s;if(jNe(s,n)){a.$shared=!1,i=y0(i)?i():i;const c=this.createResolver(e,i,o);l=Zb(s,i,c)}for(const c of n)a[c]=l[c];return a}createResolver(e,n,i=[""],r){const{resolver:a}=_7(this._resolverCache,e,i);return $i(n)?Zb(a,n,void 0,r):a}}function _7(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let a=i.get(r);return a||(a={resolver:UU(e,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},i.set(r,a)),a}const GNe=t=>$i(t)&&Object.getOwnPropertyNames(t).some(e=>y0(t[e]));function jNe(t,e){const{isScriptable:n,isIndexable:i}=gK(t);for(const r of e){const a=n(r),s=i(r),o=(s||a)&&t[r];if(a&&(y0(o)||GNe(o))||s&&Ls(o))return!0}return!1}var VNe="4.4.9";const XNe=["top","bottom","left","right","chartArea"];function b7(t,e){return t==="top"||t==="bottom"||XNe.indexOf(t)===-1&&e==="x"}function A7(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function S7(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Lr(n&&n.onComplete,[t],e)}function qNe(t){const e=t.chart,n=e.options.animation;Lr(n&&n.onProgress,[t],e)}function LK(t){return zU()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const KE={},M7=t=>{const e=LK(t);return Object.values(KE).filter(n=>n.canvas===e).pop()};function YNe(t,e,n){const i=Object.keys(t);for(const r of i){const a=+r;if(a>=e){const s=t[r];delete t[r],(n>0||a>e)&&(t[a+n]=s)}}}function WNe(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}class Wg{static register(...e){Ad.add(...e),w7()}static unregister(...e){Ad.remove(...e),w7()}constructor(e,n){const i=this.config=new kNe(n),r=LK(e),a=M7(r);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const s=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||hNe(r)),this.platform.updateConfig(i);const o=this.platform.acquireContext(r,s.aspectRatio),l=o&&o.canvas,c=l&&l.height,f=l&&l.width;if(this.id=eRe(),this.ctx=o,this.canvas=l,this.width=f,this.height=c,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new NNe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=_Re(d=>this.update(d),s.resizeDelay||0),this._dataChanges=[],KE[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}rm.listen(this,"complete",S7),rm.listen(this,"progress",qNe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:a}=this;return oa(e)?n&&a?a:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ad}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():KH(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return YH(this.canvas,this.ctx),this}stop(){return rm.stop(this),this}resize(e,n){rm.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,e,n,a),o=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,KH(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),Lr(i.onResize,[this,s],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};fr(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((s,o)=>(s[o]=!1,s),{});let a=[];n&&(a=a.concat(Object.keys(n).map(s=>{const o=n[s],l=O5(s,o),c=l==="r",f=l==="x";return{options:o,dposition:c?"chartArea":f?"bottom":"left",dtype:c?"radialLinear":f?"category":"linear"}}))),fr(a,s=>{const o=s.options,l=o.id,c=O5(l,o),f=Ai(o.type,s.dtype);(o.position===void 0||b7(o.position,c)!==b7(s.dposition))&&(o.position=s.dposition),r[l]=!0;let d=null;if(l in i&&i[l].type===f)d=i[l];else{const p=Ad.getScale(f);d=new p({id:l,type:f,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(o,e)}),fr(r,(s,o)=>{s||delete i[o]}),fr(i,s=>{mf.configure(this,s,s.options),mf.addBox(this,s)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,a)=>r.index-a.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(A7("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const a=n[i];let s=this.getDatasetMeta(i);const o=a.type||this.config.type;if(s.type&&s.type!==o&&(this._destroyDatasetMeta(i),s=this.getDatasetMeta(i)),s.type=o,s.indexAxis=a.indexAxis||B5(o,this.options),s.order=a.order||0,s.index=i,s.label=""+a.label,s.visible=this.isDatasetVisible(i),s.controller)s.controller.updateIndex(i),s.controller.linkScales();else{const l=Ad.getController(o),{datasetElementType:c,dataElementType:f}=Ha.datasets[o];Object.assign(l,{dataElementType:Ad.getElement(f),datasetElementType:c&&Ad.getElement(c)}),s.controller=new l(this,i),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){fr(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let c=0,f=this.data.datasets.length;c<f;c++){const{controller:d}=this.getDatasetMeta(c),p=!r&&a.indexOf(d)===-1;d.buildOrUpdateElements(p),s=Math.max(+d.getMaxOverflow(),s)}s=this._minPadding=i.layout.autoPadding?s:0,this._updateLayout(s),r||fr(a,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(A7("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){fr(this.scales,e=>{mf.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!IH(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:a}of n){const s=i==="_removeElements"?-a:a;YNe(e,r,s)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=a=>new Set(e.filter(s=>s[0]===a).map((s,o)=>o+","+s.splice(1).join(","))),r=i(0);for(let a=1;a<n;a++)if(!IH(r,i(a)))return;return Array.from(r).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;mf.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],fr(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,a)=>{r._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,y0(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(rm.has(this)?this.attached&&!rm.running(this)&&rm.start(this):(this.draw(),S7({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,a;for(r=0,a=n.length;r<a;++r){const s=n[r];(!e||s.visible)&&i.push(s)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=w3e(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&OU(n,r),e.controller.draw(),r&&LU(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return oM(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const a=X3e.modes[n];return typeof a=="function"?a(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(a=>a&&a._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=_x(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",a=this.getDatasetMeta(e),s=a.controller._resolveAnimations(void 0,r);lR(n)?(a.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),s.update(a,{visible:i}),this.update(o=>o.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),rm.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),YH(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete KE[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(a,s)=>{n.addEventListener(this,a,s),e[a]=s},r=(a,s,o)=>{a.offsetX=s,a.offsetY=o,this._eventHandler(a)};fr(this.options.events,a=>i(a,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},a=(l,c)=>{this.canvas&&this.resize(l,c)};let s;const o=()=>{r("attach",o),this.attached=!0,this.resize(),i("resize",a),i("detach",s)};s=()=>{this.attached=!1,r("resize",a),this._stop(),this._resize(0,0),i("attach",o)},n.isAttached(this.canvas)?o():s()}unbindEvents(){fr(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},fr(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let a,s,o,l;for(n==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+r+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){s=e[o];const c=s&&this.getDatasetMeta(s.datasetIndex).controller;c&&c[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:a,index:s})=>{const o=this.getDatasetMeta(a);if(!o)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:o.data[s],index:s}});!aR(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,a=(l,c)=>l.filter(f=>!c.some(d=>f.datasetIndex===d.datasetIndex&&f.index===d.index)),s=a(n,e),o=i?e:a(e,n);s.length&&this.updateHoverStyle(s,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=s=>(s.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const a=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(a||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:a}=this,s=n,o=this._getActiveElements(e,r,i,s),l=sRe(e),c=WNe(e,this._lastEvent,i,l);i&&(this._lastEvent=null,Lr(a.onHover,[e,o,this],this),l&&Lr(a.onClick,[e,o,this],this));const f=!aR(o,r);return(f||n)&&(this._active=o,this._updateHoverStyles(o,r,n)),this._lastEvent=c,f}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,r)}}yn(Wg,"defaults",Ha),yn(Wg,"instances",KE),yn(Wg,"overrides",rx),yn(Wg,"registry",Ad),yn(Wg,"version",VNe),yn(Wg,"getChart",M7);function w7(){return fr(Wg.instances,t=>t._plugins.invalidate())}function JNe(t,e,n){const{startAngle:i,pixelMargin:r,x:a,y:s,outerRadius:o,innerRadius:l}=e;let c=r/o;t.beginPath(),t.arc(a,s,o,i-c,n+c),l>r?(c=r/l,t.arc(a,s,l,n+c,i-c,!0)):t.arc(a,s,r,n+oo,i-oo),t.closePath(),t.clip()}function KNe(t){return PU(t,["outerStart","outerEnd","innerStart","innerEnd"])}function $Ne(t,e,n,i){const r=KNe(t.options.borderRadius),a=(n-e)/2,s=Math.min(a,i*e/2),o=l=>{const c=(n-Math.min(a,l))*i/2;return Au(l,0,Math.min(a,c))};return{outerStart:o(r.outerStart),outerEnd:o(r.outerEnd),innerStart:Au(r.innerStart,0,s),innerEnd:Au(r.innerEnd,0,s)}}function q_(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function dR(t,e,n,i,r,a){const{x:s,y:o,startAngle:l,pixelMargin:c,innerRadius:f}=e,d=Math.max(e.outerRadius+i+n-c,0),p=f>0?f+i+n+c:0;let v=0;const _=r-l;if(i){const K=f>0?f-i:0,H=d>0?d-i:0,J=(K+H)/2,Q=J!==0?_*J/(J+i):_;v=(_-Q)/2}const S=Math.max(.001,_*d-n/ts)/d,b=(_-S)/2,A=l+b+v,T=r-b-v,{outerStart:R,outerEnd:C,innerStart:L,innerEnd:P}=$Ne(e,p,d,T-A),k=d-R,G=d-C,z=A+R/k,F=T-C/G,j=p+L,ne=p+P,W=A+L/j,Y=T-P/ne;if(t.beginPath(),a){const K=(z+F)/2;if(t.arc(s,o,d,z,K),t.arc(s,o,d,K,F),C>0){const ie=q_(G,F,s,o);t.arc(ie.x,ie.y,C,F,T+oo)}const H=q_(ne,T,s,o);if(t.lineTo(H.x,H.y),P>0){const ie=q_(ne,Y,s,o);t.arc(ie.x,ie.y,P,T+oo,Y+Math.PI)}const J=(T-P/p+(A+L/p))/2;if(t.arc(s,o,p,T-P/p,J,!0),t.arc(s,o,p,J,A+L/p,!0),L>0){const ie=q_(j,W,s,o);t.arc(ie.x,ie.y,L,W+Math.PI,A-oo)}const Q=q_(k,A,s,o);if(t.lineTo(Q.x,Q.y),R>0){const ie=q_(k,z,s,o);t.arc(ie.x,ie.y,R,A-oo,z)}}else{t.moveTo(s,o);const K=Math.cos(z)*d+s,H=Math.sin(z)*d+o;t.lineTo(K,H);const J=Math.cos(F)*d+s,Q=Math.sin(F)*d+o;t.lineTo(J,Q)}t.closePath()}function ZNe(t,e,n,i,r){const{fullCircles:a,startAngle:s,circumference:o}=e;let l=e.endAngle;if(a){dR(t,e,n,i,l,r);for(let c=0;c<a;++c)t.fill();isNaN(o)||(l=s+(o%co||co))}return dR(t,e,n,i,l,r),t.fill(),l}function QNe(t,e,n,i,r){const{fullCircles:a,startAngle:s,circumference:o,options:l}=e,{borderWidth:c,borderJoinStyle:f,borderDash:d,borderDashOffset:p}=l,v=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=p,v?(t.lineWidth=c*2,t.lineJoin=f||"round"):(t.lineWidth=c,t.lineJoin=f||"bevel");let _=e.endAngle;if(a){dR(t,e,n,i,_,r);for(let S=0;S<a;++S)t.stroke();isNaN(o)||(_=s+(o%co||co))}v&&JNe(t,e,_),a||(dR(t,e,n,i,_,r),t.stroke())}class qA extends Gd{constructor(n){super();yn(this,"circumference");yn(this,"endAngle");yn(this,"fullCircles");yn(this,"innerRadius");yn(this,"outerRadius");yn(this,"pixelMargin");yn(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,r){const a=this.getProps(["x","y"],r),{angle:s,distance:o}=cK(a,{x:n,y:i}),{startAngle:l,endAngle:c,innerRadius:f,outerRadius:d,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),v=(this.options.spacing+this.options.borderWidth)/2,_=Ai(p,c-l),S=RU(s,l,c)&&l!==c,b=_>=co||S,A=rb(o,f+v,d+v);return b&&A}getCenterPoint(n){const{x:i,y:r,startAngle:a,endAngle:s,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:f}=this.options,d=(a+s)/2,p=(o+l+f+c)/2;return{x:i+Math.cos(d)*p,y:r+Math.sin(d)*p}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:r}=this,a=(i.offset||0)/4,s=(i.spacing||0)/2,o=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>co?Math.floor(r/co):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*a,Math.sin(l)*a);const c=1-Math.sin(Math.min(ts,r||0)),f=a*c;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,ZNe(n,this,f,s,o),QNe(n,this,f,s,o),n.restore()}}yn(qA,"id","arc"),yn(qA,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),yn(qA,"defaultRoutes",{backgroundColor:"backgroundColor"}),yn(qA,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function PK(t,e,n=e){t.lineCap=Ai(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Ai(n.borderDash,e.borderDash)),t.lineDashOffset=Ai(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Ai(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ai(n.borderWidth,e.borderWidth),t.strokeStyle=Ai(n.borderColor,e.borderColor)}function eDe(t,e,n){t.lineTo(n.x,n.y)}function tDe(t){return t.stepped?BRe:t.tension||t.cubicInterpolationMode==="monotone"?ORe:eDe}function UK(t,e,n={}){const i=t.length,{start:r=0,end:a=i-1}=n,{start:s,end:o}=e,l=Math.max(r,s),c=Math.min(a,o),f=r<s&&a<s||r>o&&a>o;return{count:i,start:l,loop:e.loop,ilen:c<l&&!f?i+c-l:c-l}}function nDe(t,e,n,i){const{points:r,options:a}=e,{count:s,start:o,loop:l,ilen:c}=UK(r,n,i),f=tDe(a);let{move:d=!0,reverse:p}=i||{},v,_,S;for(v=0;v<=c;++v)_=r[(o+(p?c-v:v))%s],!_.skip&&(d?(t.moveTo(_.x,_.y),d=!1):f(t,S,_,p,a.stepped),S=_);return l&&(_=r[(o+(p?c:0))%s],f(t,S,_,p,a.stepped)),!!l}function iDe(t,e,n,i){const r=e.points,{count:a,start:s,ilen:o}=UK(r,n,i),{move:l=!0,reverse:c}=i||{};let f=0,d=0,p,v,_,S,b,A;const T=C=>(s+(c?o-C:C))%a,R=()=>{S!==b&&(t.lineTo(f,b),t.lineTo(f,S),t.lineTo(f,A))};for(l&&(v=r[T(0)],t.moveTo(v.x,v.y)),p=0;p<=o;++p){if(v=r[T(p)],v.skip)continue;const C=v.x,L=v.y,P=C|0;P===_?(L<S?S=L:L>b&&(b=L),f=(d*f+C)/++d):(R(),t.lineTo(C,L),_=P,d=0,S=b=L),A=L}R()}function L5(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?iDe:nDe}function rDe(t){return t.stepped?h3e:t.tension||t.cubicInterpolationMode==="monotone"?d3e:oy}function aDe(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),PK(t,e.options),t.stroke(r)}function sDe(t,e,n,i){const{segments:r,options:a}=e,s=L5(e);for(const o of r)PK(t,a,o.style),t.beginPath(),s(t,e,o,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const oDe=typeof Path2D=="function";function lDe(t,e,n,i){oDe&&!e.options.segment?aDe(t,e,n,i):sDe(t,e,n,i)}class YA extends Gd{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;r3e(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=b3e(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],a=this.points,s=y3e(this,{property:n,start:r,end:r});if(!s.length)return;const o=[],l=rDe(i);let c,f;for(c=0,f=s.length;c<f;++c){const{start:d,end:p}=s[c],v=a[d],_=a[p];if(v===_){o.push(v);continue}const S=Math.abs((r-v[n])/(_[n]-v[n])),b=l(v,_,S,i.stepped);b[n]=e[n],o.push(b)}return o.length===1?o[0]:o}pathSegment(e,n,i){return L5(this)(e,this,n,i)}path(e,n,i){const r=this.segments,a=L5(this);let s=this._loop;n=n||0,i=i||this.points.length-n;for(const o of r)s&=a(e,this,o,{start:n,end:n+i-1});return!!s}draw(e,n,i,r){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),lDe(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}yn(YA,"id","line"),yn(YA,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),yn(YA,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),yn(YA,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function E7(t,e,n,i){const r=t.options,{[n]:a}=t.getProps([n],i);return Math.abs(e-a)<r.radius+r.hitRadius}class $E extends Gd{constructor(n){super();yn(this,"parsed");yn(this,"skip");yn(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const a=this.options,{x:s,y:o}=this.getProps(["x","y"],r);return Math.pow(n-s,2)+Math.pow(i-o,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(n,i){return E7(this,n,"x",i)}inYRange(n,i){return E7(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!oM(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,N5(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}yn($E,"id","point"),yn($E,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),yn($E,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const T7=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},cDe=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class C7 extends Gd{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Lr(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=Vo(i.font),a=r.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=T7(i,a);let c,f;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,f=this._fitRows(s,a,o,l)+10):(f=this.maxHeight,c=this._fitCols(s,r,o,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(f,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:a,maxWidth:s,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],f=r+o;let d=e;a.textAlign="left",a.textBaseline="middle";let p=-1,v=-f;return this.legendItems.forEach((_,S)=>{const b=i+n/2+a.measureText(_.text).width;(S===0||c[c.length-1]+b+2*o>s)&&(d+=f,c[c.length-(S>0?0:1)]=0,v+=f,p++),l[S]={left:0,top:v,row:p,width:b,height:r},c[c.length-1]+=b+o}),d}_fitCols(e,n,i,r){const{ctx:a,maxHeight:s,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],f=s-e;let d=o,p=0,v=0,_=0,S=0;return this.legendItems.forEach((b,A)=>{const{itemWidth:T,itemHeight:R}=uDe(i,n,a,b,r);A>0&&v+R+2*o>f&&(d+=p+o,c.push({width:p,height:v}),_+=p+o,S++,p=v=0),l[A]={left:_,top:v,col:S,width:T,height:R},p=Math.max(p,T),v+=R+o}),d+=p,c.push({width:p,height:v}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:a}}=this,s=vb(a,this.left,this.width);if(this.isHorizontal()){let o=0,l=Ho(i,this.left+r,this.right-this.lineWidths[o]);for(const c of n)o!==c.row&&(o=c.row,l=Ho(i,this.left+r,this.right-this.lineWidths[o])),c.top+=this.top+e+r,c.left=s.leftForLtr(s.x(l),c.width),l+=c.width+r}else{let o=0,l=Ho(i,this.top+e+r,this.bottom-this.columnSizes[o].height);for(const c of n)c.col!==o&&(o=c.col,l=Ho(i,this.top+e+r,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+r,c.left=s.leftForLtr(s.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;OU(e,this),this._draw(),LU(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:a,labels:s}=e,o=Ha.color,l=vb(e.rtl,this.left,this.width),c=Vo(s.font),{padding:f}=s,d=c.size,p=d/2;let v;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:_,boxHeight:S,itemHeight:b}=T7(s,d),A=function(P,k,G){if(isNaN(_)||_<=0||isNaN(S)||S<0)return;r.save();const z=Ai(G.lineWidth,1);if(r.fillStyle=Ai(G.fillStyle,o),r.lineCap=Ai(G.lineCap,"butt"),r.lineDashOffset=Ai(G.lineDashOffset,0),r.lineJoin=Ai(G.lineJoin,"miter"),r.lineWidth=z,r.strokeStyle=Ai(G.strokeStyle,o),r.setLineDash(Ai(G.lineDash,[])),s.usePointStyle){const F={radius:S*Math.SQRT2/2,pointStyle:G.pointStyle,rotation:G.rotation,borderWidth:z},j=l.xPlus(P,_/2),ne=k+p;mK(r,F,j,ne,s.pointStyleWidth&&_)}else{const F=k+Math.max((d-S)/2,0),j=l.leftForLtr(P,_),ne=bS(G.borderRadius);r.beginPath(),Object.values(ne).some(W=>W!==0)?D5(r,{x:j,y:F,w:_,h:S,radius:ne}):r.rect(j,F,_,S),r.fill(),z!==0&&r.stroke()}r.restore()},T=function(P,k,G){lM(r,G.text,P,k+b/2,c,{strikethrough:G.hidden,textAlign:l.textAlign(G.textAlign)})},R=this.isHorizontal(),C=this._computeTitleHeight();R?v={x:Ho(a,this.left+f,this.right-i[0]),y:this.top+f+C,line:0}:v={x:this.left+f,y:Ho(a,this.top+C+f,this.bottom-n[0].height),line:0},bK(this.ctx,e.textDirection);const L=b+f;this.legendItems.forEach((P,k)=>{r.strokeStyle=P.fontColor,r.fillStyle=P.fontColor;const G=r.measureText(P.text).width,z=l.textAlign(P.textAlign||(P.textAlign=s.textAlign)),F=_+p+G;let j=v.x,ne=v.y;l.setWidth(this.width),R?k>0&&j+F+f>this.right&&(ne=v.y+=L,v.line++,j=v.x=Ho(a,this.left+f,this.right-i[v.line])):k>0&&ne+L>this.bottom&&(j=v.x=j+n[v.line].width+f,v.line++,ne=v.y=Ho(a,this.top+C+f,this.bottom-n[v.line].height));const W=l.x(j);if(A(W,ne,P),j=bRe(z,j+_+p,R?j+F:this.right,e.rtl),T(l.x(j),ne,P),R)v.x+=F+f;else if(typeof P.text!="string"){const Y=c.lineHeight;v.y+=IK(P,Y)+f}else v.y+=L}),AK(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=Vo(n.font),r=vf(n.padding);if(!n.display)return;const a=vb(e.rtl,this.left,this.width),s=this.ctx,o=n.position,l=i.size/2,c=r.top+l;let f,d=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),f=this.top+c,d=Ho(e.align,d,this.right-p);else{const _=this.columnSizes.reduce((S,b)=>Math.max(S,b.height),0);f=c+Ho(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}const v=Ho(o,d,d+p);s.textAlign=a.textAlign(DU(o)),s.textBaseline="middle",s.strokeStyle=n.color,s.fillStyle=n.color,s.font=i.string,lM(s,n.text,v,f,i)}_computeTitleHeight(){const e=this.options.title,n=Vo(e.font),i=vf(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,a;if(rb(e,this.left,this.right)&&rb(n,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(r=a[i],rb(e,r.left,r.left+r.width)&&rb(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!dDe(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,a=cDe(r,i);r&&!a&&Lr(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!a&&Lr(n.onHover,[e,i,this],this)}else i&&Lr(n.onClick,[e,i,this],this)}}function uDe(t,e,n,i,r){const a=fDe(i,t,e,n),s=hDe(r,i,e.lineHeight);return{itemWidth:a,itemHeight:s}}function fDe(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((a,s)=>a.length>s.length?a:s)),e+n.size/2+i.measureText(r).width}function hDe(t,e,n){let i=t;return typeof e.text!="string"&&(i=IK(e,n)),i}function IK(t,e){const n=t.text?t.text.length:0;return e*n}function dDe(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var pDe={id:"legend",_element:C7,start(t,e,n){const i=t.legend=new C7({ctx:t.ctx,options:n,chart:t});mf.configure(t,i,n),mf.addBox(t,i)},stop(t){mf.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;mf.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:a,useBorderRadius:s,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),f=vf(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:a,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:s&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class FK extends Gd{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=Ls(i.text)?i.text.length:1;this._padding=vf(i.padding);const a=r*Vo(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:a,options:s}=this,o=s.align;let l=0,c,f,d;return this.isHorizontal()?(f=Ho(o,i,a),d=n+e,c=a-i):(s.position==="left"?(f=i+e,d=Ho(o,r,n),l=ts*-.5):(f=a-e,d=Ho(o,n,r),l=ts*.5),c=r-n),{titleX:f,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=Vo(n.font),a=i.lineHeight/2+this._padding.top,{titleX:s,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(a);lM(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:DU(n.align),textBaseline:"middle",translation:[s,o]})}}function mDe(t,e){const n=new FK({ctx:t.ctx,options:e,chart:t});mf.configure(t,n,e),mf.addBox(t,n),t.titleBlock=n}var gDe={id:"title",_element:FK,start(t,e,n){mDe(t,n)},stop(t){const e=t.titleBlock;mf.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;mf.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const WA={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,a=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();i.add(l.x),r+=l.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((o,l)=>o+l)/i.size,y:r/a}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,a,s,o;for(a=0,s=t.length;a<s;++a){const l=t[a].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),f=T5(e,c);f<r&&(r=f,o=l)}}if(o){const l=o.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function xd(t,e){return e&&(Ls(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function am(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function vDe(t,e){const{element:n,datasetIndex:i,index:r}=e,a=t.getDatasetMeta(i).controller,{label:s,value:o}=a.getLabelAndValue(r);return{chart:t,label:s,parsed:a.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:o,dataset:a.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function R7(t,e){const n=t.chart.ctx,{body:i,footer:r,title:a}=t,{boxWidth:s,boxHeight:o}=e,l=Vo(e.bodyFont),c=Vo(e.titleFont),f=Vo(e.footerFont),d=a.length,p=r.length,v=i.length,_=vf(e.padding);let S=_.height,b=0,A=i.reduce((C,L)=>C+L.before.length+L.lines.length+L.after.length,0);if(A+=t.beforeBody.length+t.afterBody.length,d&&(S+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),A){const C=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;S+=v*C+(A-v)*l.lineHeight+(A-1)*e.bodySpacing}p&&(S+=e.footerMarginTop+p*f.lineHeight+(p-1)*e.footerSpacing);let T=0;const R=function(C){b=Math.max(b,n.measureText(C).width+T)};return n.save(),n.font=c.string,fr(t.title,R),n.font=l.string,fr(t.beforeBody.concat(t.afterBody),R),T=e.displayColors?s+2+e.boxPadding:0,fr(i,C=>{fr(C.before,R),fr(C.lines,R),fr(C.after,R)}),T=0,n.font=f.string,fr(t.footer,R),n.restore(),b+=_.width,{width:b,height:S}}function yDe(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function xDe(t,e,n,i){const{x:r,width:a}=i,s=n.caretSize+n.caretPadding;if(t==="left"&&r+a+s>e.width||t==="right"&&r-a-s<0)return!0}function _De(t,e,n,i){const{x:r,width:a}=n,{width:s,chartArea:{left:o,right:l}}=t;let c="center";return i==="center"?c=r<=(o+l)/2?"left":"right":r<=a/2?c="left":r>=s-a/2&&(c="right"),xDe(c,t,e,n)&&(c="center"),c}function N7(t,e,n){const i=n.yAlign||e.yAlign||yDe(t,n);return{xAlign:n.xAlign||e.xAlign||_De(t,e,n,i),yAlign:i}}function bDe(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function ADe(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function D7(t,e,n,i){const{caretSize:r,caretPadding:a,cornerRadius:s}=t,{xAlign:o,yAlign:l}=n,c=r+a,{topLeft:f,topRight:d,bottomLeft:p,bottomRight:v}=bS(s);let _=bDe(e,o);const S=ADe(e,l,c);return l==="center"?o==="left"?_+=c:o==="right"&&(_-=c):o==="left"?_-=Math.max(f,p)+r:o==="right"&&(_+=Math.max(d,v)+r),{x:Au(_,0,i.width-e.width),y:Au(S,0,i.height-e.height)}}function dE(t,e,n){const i=vf(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function B7(t){return xd([],am(t))}function SDe(t,e,n){return _x(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function O7(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const zK={beforeTitle:nm,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:nm,beforeBody:nm,beforeLabel:nm,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return oa(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:nm,afterBody:nm,beforeFooter:nm,footer:nm,afterFooter:nm};function bc(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?zK[e].call(n,i):r}class P5 extends Gd{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,a=new MK(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=SDe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=bc(i,"beforeTitle",this,e),a=bc(i,"title",this,e),s=bc(i,"afterTitle",this,e);let o=[];return o=xd(o,am(r)),o=xd(o,am(a)),o=xd(o,am(s)),o}getBeforeBody(e,n){return B7(bc(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return fr(e,a=>{const s={before:[],lines:[],after:[]},o=O7(i,a);xd(s.before,am(bc(o,"beforeLabel",this,a))),xd(s.lines,bc(o,"label",this,a)),xd(s.after,am(bc(o,"afterLabel",this,a))),r.push(s)}),r}getAfterBody(e,n){return B7(bc(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=bc(i,"beforeFooter",this,e),a=bc(i,"footer",this,e),s=bc(i,"afterFooter",this,e);let o=[];return o=xd(o,am(r)),o=xd(o,am(a)),o=xd(o,am(s)),o}_createItems(e){const n=this._active,i=this.chart.data,r=[],a=[],s=[];let o=[],l,c;for(l=0,c=n.length;l<c;++l)o.push(vDe(this.chart,n[l]));return e.filter&&(o=o.filter((f,d,p)=>e.filter(f,d,p,i))),e.itemSort&&(o=o.sort((f,d)=>e.itemSort(f,d,i))),fr(o,f=>{const d=O7(e.callbacks,f);r.push(bc(d,"labelColor",this,f)),a.push(bc(d,"labelPointStyle",this,f)),s.push(bc(d,"labelTextColor",this,f))}),this.labelColors=r,this.labelPointStyles=a,this.labelTextColors=s,this.dataPoints=o,o}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let a,s=[];if(!r.length)this.opacity!==0&&(a={opacity:0});else{const o=WA[i.position].call(this,r,this._eventPosition);s=this._createItems(i),this.title=this.getTitle(s,i),this.beforeBody=this.getBeforeBody(s,i),this.body=this.getBody(s,i),this.afterBody=this.getAfterBody(s,i),this.footer=this.getFooter(s,i);const l=this._size=R7(this,i),c=Object.assign({},o,l),f=N7(this.chart,i,c),d=D7(i,c,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,a={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=s,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const a=this.getCaretPosition(e,i,r);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:a}=this,{caretSize:s,cornerRadius:o}=i,{topLeft:l,topRight:c,bottomLeft:f,bottomRight:d}=bS(o),{x:p,y:v}=e,{width:_,height:S}=n;let b,A,T,R,C,L;return a==="center"?(C=v+S/2,r==="left"?(b=p,A=b-s,R=C+s,L=C-s):(b=p+_,A=b+s,R=C-s,L=C+s),T=b):(r==="left"?A=p+Math.max(l,f)+s:r==="right"?A=p+_-Math.max(c,d)-s:A=this.caretX,a==="top"?(R=v,C=R-s,b=A-s,T=A+s):(R=v+S,C=R+s,b=A+s,T=A-s),L=R),{x1:b,x2:A,x3:T,y1:R,y2:C,y3:L}}drawTitle(e,n,i){const r=this.title,a=r.length;let s,o,l;if(a){const c=vb(i.rtl,this.x,this.width);for(e.x=dE(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",s=Vo(i.titleFont),o=i.titleSpacing,n.fillStyle=i.titleColor,n.font=s.string,l=0;l<a;++l)n.fillText(r[l],c.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+o,l+1===a&&(e.y+=i.titleMarginBottom-o)}}_drawColorBox(e,n,i,r,a){const s=this.labelColors[i],o=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=a,f=Vo(a.bodyFont),d=dE(this,"left",a),p=r.x(d),v=l<f.lineHeight?(f.lineHeight-l)/2:0,_=n.y+v;if(a.usePointStyle){const S={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},b=r.leftForLtr(p,c)+c/2,A=_+l/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,N5(e,S,b,A),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,N5(e,S,b,A)}else{e.lineWidth=$i(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const S=r.leftForLtr(p,c),b=r.leftForLtr(r.xPlus(p,1),c-2),A=bS(s.borderRadius);Object.values(A).some(T=>T!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,D5(e,{x:S,y:_,w:c,h:l,radius:A}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),D5(e,{x:b,y:_+1,w:c-2,h:l-2,radius:A}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(S,_,c,l),e.strokeRect(S,_,c,l),e.fillStyle=s.backgroundColor,e.fillRect(b,_+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:a,bodyAlign:s,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:f}=i,d=Vo(i.bodyFont);let p=d.lineHeight,v=0;const _=vb(i.rtl,this.x,this.width),S=function(G){n.fillText(G,_.x(e.x+v),e.y+p/2),e.y+=p+a},b=_.textAlign(s);let A,T,R,C,L,P,k;for(n.textAlign=s,n.textBaseline="middle",n.font=d.string,e.x=dE(this,b,i),n.fillStyle=i.bodyColor,fr(this.beforeBody,S),v=o&&b!=="right"?s==="center"?c/2+f:c+2+f:0,C=0,P=r.length;C<P;++C){for(A=r[C],T=this.labelTextColors[C],n.fillStyle=T,fr(A.before,S),R=A.lines,o&&R.length&&(this._drawColorBox(n,e,C,_,i),p=Math.max(d.lineHeight,l)),L=0,k=R.length;L<k;++L)S(R[L]),p=d.lineHeight;fr(A.after,S)}v=0,p=d.lineHeight,fr(this.afterBody,S),e.y-=a}drawFooter(e,n,i){const r=this.footer,a=r.length;let s,o;if(a){const l=vb(i.rtl,this.x,this.width);for(e.x=dE(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",s=Vo(i.footerFont),n.fillStyle=i.footerColor,n.font=s.string,o=0;o<a;++o)n.fillText(r[o],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:a,yAlign:s}=this,{x:o,y:l}=e,{width:c,height:f}=i,{topLeft:d,topRight:p,bottomLeft:v,bottomRight:_}=bS(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(o+d,l),s==="top"&&this.drawCaret(e,n,i,r),n.lineTo(o+c-p,l),n.quadraticCurveTo(o+c,l,o+c,l+p),s==="center"&&a==="right"&&this.drawCaret(e,n,i,r),n.lineTo(o+c,l+f-_),n.quadraticCurveTo(o+c,l+f,o+c-_,l+f),s==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(o+v,l+f),n.quadraticCurveTo(o,l+f,o,l+f-v),s==="center"&&a==="left"&&this.drawCaret(e,n,i,r),n.lineTo(o,l+d),n.quadraticCurveTo(o,l,o+d,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,a=i&&i.y;if(r||a){const s=WA[e.position].call(this,this._active,this._eventPosition);if(!s)return;const o=this._size=R7(this,e),l=Object.assign({},s,this._size),c=N7(n,e,l),f=D7(e,l,c,n);(r._to!==f.x||a._to!==f.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const s=vf(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(e.save(),e.globalAlpha=i,this.drawBackground(a,e,r,n),bK(e,n.textDirection),a.y+=s.top,this.drawTitle(a,e,n),this.drawBody(a,e,n),this.drawFooter(a,e,n),AK(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),a=!aR(i,r),s=this._positionChanged(r,n);(a||s)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,a=this._active||[],s=this._getActiveElements(e,a,n,i),o=this._positionChanged(s,e),l=n||!aR(s,a)||o;return l&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,r){const a=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const s=this.chart.getElementsAtEventForMode(e,a.mode,a,i);return a.reverse&&s.reverse(),s}_positionChanged(e,n){const{caretX:i,caretY:r,options:a}=this,s=WA[a.position].call(this,e,n);return s!==!1&&(i!==s.x||r!==s.y)}}yn(P5,"positioners",WA);var MDe={id:"tooltip",_element:P5,positioners:WA,afterInit(t,e,n){n&&(t.tooltip=new P5({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:zK},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const wDe=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function EDe(t,e,n,i){const r=t.indexOf(e);if(r===-1)return wDe(t,e,n,i);const a=t.lastIndexOf(e);return r!==a?n:r}const TDe=(t,e)=>t===null?null:Au(Math.round(t),0,e);function L7(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class U5 extends y1{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:a}of n)i[r]===a&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(oa(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:EDe(i,e,Ai(n,e),this._addedLabels),TDe(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let a=this.getLabels();a=e===0&&n===a.length-1?a:a.slice(e,n+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let s=e;s<=n;s++)r.push({value:s});return r}getLabelForValue(e){return L7.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}yn(U5,"id","category"),yn(U5,"defaults",{ticks:{callback:L7}});function CDe(t,e){const n=[],{bounds:r,step:a,min:s,max:o,precision:l,count:c,maxTicks:f,maxDigits:d,includeBounds:p}=t,v=a||1,_=f-1,{min:S,max:b}=e,A=!oa(s),T=!oa(o),R=!oa(c),C=(b-S)/(d+1);let L=zH((b-S)/_/v)*v,P,k,G,z;if(L<1e-14&&!A&&!T)return[{value:S},{value:b}];z=Math.ceil(b/L)-Math.floor(S/L),z>_&&(L=zH(z*L/_/v)*v),oa(l)||(P=Math.pow(10,l),L=Math.ceil(L*P)/P),r==="ticks"?(k=Math.floor(S/L)*L,G=Math.ceil(b/L)*L):(k=S,G=b),A&&T&&a&&fRe((o-s)/a,L/1e3)?(z=Math.round(Math.min((o-s)/L,f)),L=(o-s)/z,k=s,G=o):R?(k=A?s:k,G=T?o:G,z=c-1,L=(G-k)/z):(z=(G-k)/L,yS(z,Math.round(z),L/1e3)?z=Math.round(z):z=Math.ceil(z));const F=Math.max(HH(L),HH(k));P=Math.pow(10,oa(l)?F:l),k=Math.round(k*P)/P,G=Math.round(G*P)/P;let j=0;for(A&&(p&&k!==s?(n.push({value:s}),k<s&&j++,yS(Math.round((k+j*L)*P)/P,s,P7(s,C,t))&&j++):k<s&&j++);j<z;++j){const ne=Math.round((k+j*L)*P)/P;if(T&&ne>o)break;n.push({value:ne})}return T&&p&&G!==o?n.length&&yS(n[n.length-1].value,o,P7(o,C,t))?n[n.length-1].value=o:n.push({value:o}):(!T||G===o)&&n.push({value:G}),n}function P7(t,e,{horizontal:n,minRotation:i}){const r=Ey(i),a=(n?Math.sin(r):Math.cos(r))||.001,s=.75*e*(""+t).length;return Math.min(e/a,s)}class RDe extends y1{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return oa(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:a}=this;const s=l=>r=n?r:l,o=l=>a=i?a:l;if(e){const l=$b(r),c=$b(a);l<0&&c<0?o(0):l>0&&c>0&&s(0)}if(r===a){let l=a===0?1:Math.abs(a*.05);o(a+l),e||s(r-l)}this.min=r,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,s=CDe(r,a);return e.bounds==="ticks"&&hRe(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return dK(e,this.chart.options.locale,this.options.ticks.format)}}class I5 extends RDe{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=gf(e)?e:0,this.max=gf(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Ey(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}yn(I5,"id","linear"),yn(I5,"defaults",{ticks:{callback:pK.formatters.numeric}});const nN={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Bc=Object.keys(nN);function U7(t,e){return t-e}function I7(t,e){if(oa(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:a}=t._parseOpts;let s=e;return typeof i=="function"&&(s=i(s)),gf(s)||(s=typeof i=="string"?n.parse(s,i):n.parse(s)),s===null?null:(r&&(s=r==="week"&&(uR(a)||a===!0)?n.startOf(s,"isoWeek",a):n.startOf(s,r)),+s)}function F7(t,e,n,i){const r=Bc.length;for(let a=Bc.indexOf(t);a<r-1;++a){const s=nN[Bc[a]],o=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((n-e)/(o*s.size))<=i)return Bc[a]}return Bc[r-1]}function NDe(t,e,n,i,r){for(let a=Bc.length-1;a>=Bc.indexOf(n);a--){const s=Bc[a];if(nN[s].common&&t._adapter.diff(r,i,s)>=e-1)return s}return Bc[n?Bc.indexOf(n):0]}function DDe(t){for(let e=Bc.indexOf(t)+1,n=Bc.length;e<n;++e)if(nN[Bc[e]].common)return Bc[e]}function z7(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=NU(n,e),a=n[i]>=e?n[i]:n[r];t[a]=!0}}function BDe(t,e,n,i){const r=t._adapter,a=+r.startOf(e[0].value,i),s=e[e.length-1].value;let o,l;for(o=a;o<=s;o=+r.add(o,1,i))l=n[o],l>=0&&(e[l].major=!0);return e}function H7(t,e,n){const i=[],r={},a=e.length;let s,o;for(s=0;s<a;++s)o=e[s],r[o]=s,i.push({value:o,major:!1});return a===0||!n?i:BDe(t,i,r,n)}class pR extends y1{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new H3e._date(e.adapters.date);r.init(n),vS(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:I7(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:a,minDefined:s,maxDefined:o}=this.getUserBounds();function l(c){!s&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!o&&!isNaN(c.max)&&(a=Math.max(a,c.max))}(!s||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=gf(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),a=gf(a)&&!isNaN(a)?a:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,a-1),this.max=Math.max(r+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const a=this.min,s=this.max,o=vRe(r,a,s);return this._unit=n.unit||(i.autoSkip?F7(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):NDe(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:DDe(this._unit),this.initOffsets(r),e.reverse&&o.reverse(),H7(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,a;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?i=a:i=(a-this.getDecimalForValue(e[e.length-2]))/2);const s=e.length<3?.5:.25;n=Au(n,0,s),i=Au(i,0,s),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,a=r.time,s=a.unit||F7(a.minUnit,n,i,this._getLabelCapacity(n)),o=Ai(r.ticks.stepSize,1),l=s==="week"?a.isoWeekday:!1,c=uR(l)||l===!0,f={};let d=n,p,v;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":s),e.diff(i,n,s)>1e5*o)throw new Error(n+" and "+i+" are too far apart with stepSize of "+o+" "+s);const _=r.ticks.source==="data"&&this.getDataTimestamps();for(p=d,v=0;p<i;p=+e.add(p,o,s),v++)z7(f,p,_);return(p===i||r.bounds==="ticks"||v===1)&&z7(f,p,_),Object.keys(f).sort(U7).map(S=>+S)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,a=this._unit,s=n||r[a];return this._adapter.format(e,s)}_tickFormatFunction(e,n,i,r){const a=this.options,s=a.ticks.callback;if(s)return Lr(s,[e,n,i],this);const o=a.time.displayFormats,l=this._unit,c=this._majorUnit,f=l&&o[l],d=c&&o[c],p=i[n],v=c&&d&&p&&p.major;return this._adapter.format(e,r||(v?d:f))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=Ey(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(r),s=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:i*a+o*s,h:i*s+o*a}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,a=this._tickFormatFunction(e,0,H7(this,[e],this._majorUnit),r),s=this._getLabelSize(a),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(I7(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return xRe(e.sort(U7))}}yn(pR,"id","time"),yn(pR,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function pE(t,e,n){let i=0,r=t.length-1,a,s,o,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=C5(t,"pos",e)),{pos:a,time:o}=t[i],{pos:s,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=C5(t,"time",e)),{time:a,pos:o}=t[i],{time:s,pos:l}=t[r]);const c=s-a;return c?o+(l-o)*(e-a)/c:o}class k7 extends pR{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=pE(n,this.min),this._tableRange=pE(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],a=[];let s,o,l,c,f;for(s=0,o=e.length;s<o;++s)c=e[s],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(s=0,o=r.length;s<o;++s)f=r[s+1],l=r[s-1],c=r[s],Math.round((f+l)/2)!==c&&a.push({time:c,pos:s/(o-1)});return a}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,a)=>r-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(pE(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return pE(this._table,i*this._tableRange+this._minPos,!0)}}yn(k7,"id","timeseries"),yn(k7,"defaults",pR.defaults);Wg.register(U5,I5,$E,YA,gDe,MDe,pDe,qA);const ODe=()=>{var z,F,j,ne,W,Y,K;const{user:t}=jl(),[e,n]=ce.useState([]),[i,r]=ce.useState(""),[a,s]=ce.useState({group:"A",number:1}),[o,l]=ce.useState({}),[c,f]=ce.useState("5"),[d,p]=ce.useState([]),[v,_]=ce.useState({voltages:{},timestamp:null}),[S,b]=ce.useState(5),A=()=>{i&&!e.includes(i)&&(n([...e,i]),r(""))},T=H=>{n(e.filter(J=>J!==H))},R=async()=>{try{const J=(await Bn.get("/alert-config")).data,Q={};J.forEach(V=>{Q[V.sensorId]={high:V.high,low:V.low}}),l(Q);const ie=a.group==="A"?a.number:a.number+20;Q[ie]&&b(Q[ie].high),J.length>0&&(n(J[0].emails||[]),f(J[0].alertDelay.toString()||"5"))}catch(H){console.error("Error fetching thresholds:",H)}},C=async()=>{try{const H=await Bn.get("/voltage-history");p(H.data);const Q=`v${a.group==="A"?a.number:a.number+20}`;H.data.Voltages&&H.data.Voltages[Q]!==void 0&&setCurrentValue(H.data.Voltages[Q])}catch(H){console.error("Error fetching voltage history:",H)}},L=async()=>{try{const H=await Bn.get("/global-email-config");H.data&&Array.isArray(H.data)&&n(H.data)}catch(H){console.error("Error fetching global email config:",H)}};ce.useEffect(()=>{R(),C(),L();const H=a.group==="A"?a.number:a.number+20;o[H]&&b(currentValue||o[H].high);const J=setInterval(C,5e3);return()=>clearInterval(J)},[a]);const P=(H,J)=>{const Q=a.group==="A"?a.number:a.number+20;l(ie=>({...ie,[Q]:{...ie[Q],[H]:J===""?"":parseFloat(parseFloat(J).toFixed(2))}})),H==="high"&&b(parseFloat(parseFloat(J).toFixed(2)))},k=async()=>{var H,J,Q,ie;try{const V=a.group==="A"?a.number:a.number+20,$=((H=o[V])==null?void 0:H.high)??7,oe=((J=o[V])==null?void 0:J.low)??3;if(e.length===0){alert("Please add at least one email address");return}const de={sensorId:V,high:$,low:oe,emails:e,alertDelay:parseInt(c)};await Bn.post("/alert-config",{sensorId:V,high:((Q=o[V])==null?void 0:Q.high)||7,low:((ie=o[V])==null?void 0:ie.low)||3,emails:e,alertDelay:parseInt(c)}),await Bn.post("/global-email-config",{emails:e}),alert("Configuration saved successfully"),R()}catch(V){console.error("Error saving thresholds:",V),alert("Error saving configuration. Please try again.")}};ce.useEffect(()=>{if(d!=null&&d.Voltages){const J=`v${a.group==="A"?a.number:a.number+20}`;d.Voltages[J]!==void 0&&b(d.Voltages[J])}},[d,a]);const G=async()=>{try{const H=await Bn("/voltage-history");if(H.data&&H.data.length>0){const J=H.data.find(V=>V.sensorGroup==="1-20"),Q=H.data.find(V=>V.sensorGroup==="21-40"),ie={...(J==null?void 0:J.voltages)||{},...(Q==null?void 0:Q.voltages)||{}};_({voltages:ie,timestamp:new Date(Math.max(new Date((J==null?void 0:J.timestamp)||0),new Date((Q==null?void 0:Q.timestamp)||0)))})}}catch(H){console.error("Error fetching voltages:",H)}};return ce.useEffect(()=>{G();const H=setInterval(G,3e3);return()=>clearInterval(H)},[]),B.jsx("div",{className:"min-h-screen bg-background pt-28",children:B.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:B.jsx("div",{className:"bg-secondary/10 rounded-lg p-6",children:B.jsxs("div",{className:"grid sm:grid-cols-2 gap-8",children:[B.jsxs("div",{className:"space-y-6",children:[B.jsx("h2",{className:"text-2xl font-bold text-text",children:"Sensor Configuration"}),B.jsxs("div",{className:" bg-secondary/5 p-4 rounded-lg",children:[B.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[B.jsxs("div",{children:[B.jsx("h3",{className:"text-lg font-semibold tracking-wide text-text mb-2",children:"Group A (1-20)"}),B.jsx("select",{value:a.group==="A"?a.number:"",onChange:H=>s({group:"A",number:Number(H.target.value)}),className:`w-full p-2 border ${a.group==="A"?"border-primary bg-primary/10":"border-secondary bg-background"} rounded text-text transition-colors duration-200`,children:[...Array(20)].map((H,J)=>B.jsxs("option",{value:J+1,className:"text-text/75 bg-background",children:["Sensor ",J+1]},J+1))})]}),B.jsxs("div",{children:[B.jsx("h3",{className:"text-lg font-semibold tracking-wide mb-2 text-text",children:"Group B (21-40)"}),B.jsx("select",{value:a.group==="B"?a.number:"",onChange:H=>s({group:"B",number:Number(H.target.value)}),className:`w-full p-2 border ${a.group==="B"?"border-primary bg-primary/10":"border-secondary bg-background"} rounded text-text transition-colors duration-200`,children:[...Array(20)].map((H,J)=>B.jsxs("option",{value:J+1,className:"text-text/75 bg-background",children:["Sensor ",J+21]},J+1))})]})]}),B.jsxs("div",{className:"bg-secondary/50 p-4 rounded-lg mt-6",children:[B.jsx("div",{className:"text-center mb-4",children:B.jsxs("span",{className:"text-2xl font-semibold tracking-wider text-text",children:["Current:"," ",((z=v.voltages[`v${a.group==="A"?a.number:a.number+20}`])==null?void 0:z.toFixed(2))||"0.00","mV"]})}),B.jsxs("div",{className:"h-64 relative",children:[B.jsx(iK,{value:S,type:"semicircle",arc:{width:.3,padding:.005,cornerRadius:1,gradient:!1,subArcs:[{limit:((F=o[a.group==="A"?a.number:a.number+20])==null?void 0:F.low)??3,color:"#133044",showTick:!0},{limit:((j=o[a.group==="A"?a.number:a.number+20])==null?void 0:j.high)??7,color:"#409fff",showTick:!0},{limit:10,color:"#5c5c5c99",showTick:!0}]},pointer:{type:"arrow",color:"#409fff",length:.6,width:10,elastic:!0},labels:{valueLabel:{formatTextValue:H=>H.toFixed(2)+" mV",style:{fontSize:5,fill:"#e9ebed",display:"none"}},tickLabels:{type:"outer",ticks:[{value:0},{value:2},{value:4},{value:6},{value:8},{value:10}],defaultTickValueConfig:{formatTextValue:H=>H,style:{fill:"#e9ebed"}}}},maxValue:10,minValue:0}),B.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 translate-y-[-25%] text-center mt-2",children:[B.jsx("div",{className:"text-lg font-medium text-text/70",children:"Threshold"}),B.jsxs("div",{className:"text-xl font-bold text-text",children:[((ne=o[a.group==="A"?a.number:a.number+20])==null?void 0:ne.low)||3," - ",((W=o[a.group==="A"?a.number:a.number+20])==null?void 0:W.high)||7," mV"]})]})]})]})]}),B.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-secondary/5 p-4 rounded-lg",children:[B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"Low Threshold"}),B.jsx("input",{type:"number",min:"0",max:"10",step:"0.01",value:((Y=o[a.group==="A"?a.number:a.number+20])==null?void 0:Y.low)??3,onChange:H=>P("low",H.target.value),className:"w-full p-2 border border-secondary rounded bg-background text-text"})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"High Threshold"}),B.jsx("input",{type:"number",min:"0",max:"10",step:"0.01",value:((K=o[a.group==="A"?a.number:a.number+20])==null?void 0:K.high)??7,onChange:H=>P("high",H.target.value),className:"w-full p-2 border border-secondary rounded bg-background text-text"})]})]}),B.jsx("div",{className:"flex justify-end",children:B.jsx("button",{onClick:k,className:"px-6 py-2 bg-primary text-text rounded hover:bg-primary/80",children:"Save Configuration"})})]}),B.jsxs("div",{className:"space-y-6",children:[B.jsx("h2",{className:"text-2xl font-bold text-text",children:"Email Configuration"}),B.jsxs("div",{className:"flex gap-2",children:[B.jsx("input",{type:"email",value:i,onChange:H=>r(H.target.value),onKeyDown:H=>{H.key==="Enter"&&i&&!e.includes(i)&&A()},placeholder:"Add email address",className:"flex-1 p-2 border border-secondary rounded bg-background text-text"}),B.jsx("button",{onClick:A,className:"px-4 py-2 bg-primary text-text rounded hover:bg-primary/80",children:"Add"})]}),B.jsx("div",{className:"space-y-2",children:e.map(H=>B.jsxs("div",{className:"flex justify-between items-center p-2 bg-secondary/5 rounded",children:[B.jsx("span",{className:"text-text",children:H}),B.jsx("button",{onClick:()=>T(H),className:"text-red-500 hover:text-red-600",children:"Remove"})]},H))}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"Alert Delay"}),B.jsx("div",{className:"flex gap-4",children:["1","5","10","15","30","60"].map(H=>B.jsxs("label",{className:"flex items-center",children:[B.jsx("input",{type:"radio",value:H,checked:c===H,onChange:J=>f(J.target.value),className:"mr-2"}),B.jsxs("span",{className:"text-text",children:[H," min"]})]},H))})]})]})]})})})})},LDe=()=>{const{user:t}=jl(),[e,n]=ce.useState([]),[i,r]=ce.useState(null),[a,s]=ce.useState(!1),[o,l]=ce.useState(!1),[c,f]=ce.useState(!1),[d,p]=ce.useState({UserName:"",Email:"",Role:"",phoneNumber:""}),[v,_]=ce.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[S,b]=ce.useState({UserName:"",Email:"",Role:"",phoneNumber:"",Password:""}),[A,T]=ce.useState(""),R=(t==null?void 0:t.Role)==="super_admin";ce.useEffect(()=>{(t==null?void 0:t.Role)==="super_admin"||(t==null?void 0:t.Role)==="admin"?C():navigate("/dashboard")},[t]);const C=async()=>{var j;try{const ne=await Bn.get("/users");n(ne.data)}catch(ne){((j=ne.response)==null?void 0:j.status)===403?T("You don't have permission to view user list"):T("Error fetching users"),console.error("Error fetching users:",ne)}},L=j=>{r(j),p({UserName:j.UserName,Email:j.Email,Role:j.Role,phoneNumber:j.phoneNumber}),s(!0)},P=j=>{r({_id:j}),l(!0)},k=async j=>{var ne,W;j.preventDefault();try{await Bn.put(`/users/${i._id}`,d),C(),s(!1)}catch(Y){T(((W=(ne=Y.response)==null?void 0:ne.data)==null?void 0:W.message)||"Error updating user")}},G=async j=>{var ne,W;if(j.preventDefault(),v.newPassword!==v.confirmPassword){T("Passwords do not match");return}try{await Bn.put(`/users/${i._id}/change-password`,{currentPassword:v.currentPassword,newPassword:v.newPassword,isSuperAdmin:t.Role==="super_admin"}),l(!1),_({currentPassword:"",newPassword:"",confirmPassword:""})}catch(Y){T(((W=(ne=Y.response)==null?void 0:ne.data)==null?void 0:W.message)||"Error changing password")}},z=async j=>{var ne,W;j.preventDefault();try{await Bn.get(`/signup?${new URLSearchParams(S).toString()}`),C(),f(!1),b({UserName:"",Email:"",Role:"user",phoneNumber:"",Password:""})}catch(Y){T(((W=(ne=Y.response)==null?void 0:ne.data)==null?void 0:W.message)||"Error adding user")}},F=async j=>{var ne,W;if(window.confirm("Are you sure you want to delete this user?"))try{await Bn.delete(`/users/${j}`),C()}catch(Y){T(((W=(ne=Y.response)==null?void 0:ne.data)==null?void 0:W.message)||"Error deleting user")}};return B.jsx("div",{className:"min-h-screen bg-background pt-28",children:B.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[B.jsx("h1",{className:"text-3xl font-bold text-text mb-8",children:"User Management"}),R&&B.jsx("button",{onClick:()=>f(!0),className:"mb-4 bg-primary text-text px-4 py-2 rounded hover:bg-primary/85",children:"Add new user"}),B.jsx("div",{className:"bg-secondary/10 shadow rounded-lg overflow-hidden",children:B.jsx(o0,{data:e,columns:[{key:"UserName",header:"Username"},{key:"Email",header:"Email"},{key:"Role",header:"Role"},{key:"phoneNumber",header:"Phone"}],actions:j=>B.jsxs(B.Fragment,{children:[R&&B.jsxs(B.Fragment,{children:[B.jsx("button",{onClick:()=>L(j),className:"text-primary hover:text-primary/80 mr-4",children:"Edit"}),B.jsx("button",{onClick:()=>F(j._id),className:"text-red-500 hover:text-red-600 mr-4",children:"Delete"})]}),B.jsx("button",{onClick:()=>P(j._id),className:"text-primary hover:text-primary/80",children:"Change Password"})]})})}),a&&B.jsxs(Nd,{onClose:()=>s(!1),children:[B.jsx("h2",{className:"text-xl font-semibold text-primary mb-4",children:"Edit User"}),A&&B.jsx("p",{className:"text-red-500 mb-4",children:A}),B.jsxs("form",{onSubmit:k,className:"space-y-4",children:[B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"Username"}),B.jsx("input",{type:"text",value:d.UserName,onChange:j=>p({...d,UserName:j.target.value}),className:"w-full p-2 border border-secondary rounded bg-background text-text"})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"Email"}),B.jsx("input",{type:"email",value:d.Email,onChange:j=>p({...d,Email:j.target.value}),className:"w-full p-2 border border-secondary rounded bg-background text-text"})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"Role"}),B.jsxs("select",{value:d.Role,onChange:j=>p({...d,Role:j.target.value}),defaultValue:"user",className:"w-full p-2 border border-secondary rounded bg-background text-text",children:[B.jsx("option",{value:"user",children:"User"}),B.jsx("option",{value:"admin",children:"Admin"}),B.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"Phone Number"}),B.jsx("input",{type:"text",value:d.phoneNumber,onChange:j=>p({...d,phoneNumber:j.target.value}),className:"w-full p-2 border border-secondary rounded bg-background text-text"})]}),B.jsx("button",{type:"submit",className:"w-full bg-primary text-text py-2 rounded hover:bg-primary/80",children:"Save Changes"})]})]}),o&&B.jsxs(Nd,{onClose:()=>l(!1),children:[B.jsx("h2",{className:"text-xl font-semibold text-primary mb-4",children:"Change Password"}),A&&B.jsx("p",{className:"text-red-500 mb-4",children:A}),B.jsxs("form",{onSubmit:G,className:"space-y-4",children:[!R&&B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"Current Password"}),B.jsx("input",{type:"password",value:v.currentPassword,onChange:j=>_({...v,currentPassword:j.target.value}),className:"w-full p-2 border border-secondary rounded bg-background text-text"})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-text mb-2",children:"New Password"}),B.jsx("input",{type:"password",value:v.newPassword,onChange:j=>_({...v,newPassword:j.target.value}),className:"w-full p-2 border border-secondary rounded bg-background text-text"})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-text mb-2",children:"Confirm New Password"}),B.jsx("input",{type:"password",value:v.confirmPassword,onChange:j=>_({...v,confirmPassword:j.target.value}),className:"w-full p-2 border border-secondary rounded bg-background text-text"})]}),B.jsx("button",{type:"submit",className:"w-full bg-primary text-text py-2 rounded hover:bg-primary/80",children:"Change Password"})]})]}),c&&B.jsxs(Nd,{onClose:()=>f(!1),children:[B.jsx("h2",{className:"text-xl font-semibold text-primary mb-4",children:"Add New User"}),A&&B.jsx("p",{className:"text-red-500 mb-4",children:A}),B.jsxs("form",{onSubmit:z,className:"space-y-4",children:[B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"Username"}),B.jsx("input",{type:"text",value:S.UserName,onChange:j=>b({...S,UserName:j.target.value}),className:"w-full p-2 border border-secondary rounded bg-background text-text",required:!0})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"Email"}),B.jsx("input",{type:"email",value:S.Email,onChange:j=>b({...S,Email:j.target.value}),className:"w-full p-2 border border-secondary rounded bg-background text-text",required:!0})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"Password"}),B.jsx("input",{type:"password",value:S.Password,onChange:j=>b({...S,Password:j.target.value}),className:"w-full p-2 border border-secondary rounded bg-background text-text",required:!0})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"Role"}),B.jsxs("select",{value:S.Role,onChange:j=>b({...S,Role:j.target.value}),className:"w-full p-2 border border-secondary rounded bg-background text-text",required:!0,children:[B.jsx("option",{value:"user",children:"User"}),B.jsx("option",{value:"admin",children:"Admin"}),B.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"Phone Number"}),B.jsx("input",{type:"text",value:S.phoneNumber,onChange:j=>b({...S,phoneNumber:j.target.value}),className:"w-full p-2 border border-secondary rounded bg-background text-text"})]}),B.jsx("button",{type:"submit",className:"w-full bg-primary text-text py-2 rounded hover:bg-primary/80",children:"Add User"})]})]})]})})},PDe=()=>{const{user:t}=jl(),e=sx(),[n,i]=ce.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[r,a]=ce.useState(""),[s,o]=ce.useState("");ce.useEffect(()=>{(t==null?void 0:t.Role)==="super_admin"&&e("/dashboard")},[t,e]);const l=f=>{i({...n,[f.target.name]:f.target.value})},c=async f=>{var d,p;if(f.preventDefault(),a(""),o(""),n.newPassword!==n.confirmPassword){a("New passwords do not match");return}try{await Bn.put(`/users/${t._id}/change-password`,{currentPassword:n.currentPassword,newPassword:n.newPassword}),o("Password changed successfully"),i({currentPassword:"",newPassword:"",confirmPassword:""})}catch(v){a(((p=(d=v.response)==null?void 0:d.data)==null?void 0:p.message)||"Error changing password")}};return!t||t.Role==="super_admin"?null:B.jsx("div",{className:"min-h-screen bg-background pt-28 grid place-content-center",children:B.jsxs("div",{className:"max-w-md mx-auto p-4 bg-secondary rounded-lg w-92",children:[B.jsx("h1",{className:"text-3xl font-bold text-text mb-8",children:"Change Password"}),r&&B.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:r}),s&&B.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:s}),B.jsxs("form",{onSubmit:c,className:"space-y-6",children:[B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"Current Password"}),B.jsx("input",{type:"password",name:"currentPassword",value:n.currentPassword,onChange:l,className:"w-full p-2 border border-secondary rounded bg-background text-text",required:!0})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"New Password"}),B.jsx("input",{type:"password",name:"newPassword",value:n.newPassword,onChange:l,className:"w-full p-2 border border-secondary rounded bg-background text-text",required:!0})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-text/70 mb-2",children:"Confirm New Password"}),B.jsx("input",{type:"password",name:"confirmPassword",value:n.confirmPassword,onChange:l,className:"w-full p-2 border border-secondary rounded bg-background text-text",required:!0})]}),B.jsx("button",{type:"submit",className:"w-full bg-primary text-text py-2 rounded hover:bg-primary/80",children:"Change Password"})]})]})})},G7=en(0),UDe=en(0),IDe=()=>{const{user:t}=jl(),[e,n]=ce.useState([]),[i,r]=ce.useState(!0),[a,s]=ce.useState(null),[o,l]=ce.useState({page:1,limit:10,totalItems:0,totalPages:1}),[c,f]=ce.useState({userId:"",type:"",startDate:"",endDate:""}),d=[{key:"user",header:"User"},{key:"type",header:"Activity Type"},{key:"ipAddress",header:"IP Address"},{key:"location",header:"Location"},{key:"createdAt",header:"Date & Time"}];ce.useEffect(()=>{const b=()=>{const A=document.querySelector("header");A&&(G7.value=A.offsetHeight),window.innerWidth>=1024&&(UDe.value=window.innerHeight-100)};return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]);const p=async()=>{var b;if(t)try{r(!0),s(null);const A={page:o.page,limit:o.limit,...c},T=await Bn.get("/auth/admin/activities",{params:A});n(T.data.activities||[]),l(R=>({...R,totalItems:T.data.totalItems||0,totalPages:T.data.totalPages||1}))}catch(A){console.error("Error fetching activities:",A),((b=A.response)==null?void 0:b.status)===403?s("You don't have permission to view activities. Only super admins can access this page."):s("Failed to load activities. Please try again later.")}finally{r(!1)}};ce.useEffect(()=>{if(t&&t.Role!=="super_admin"){s("You don't have permission to view activities. Only super admins can access this page."),r(!1);return}p()},[o.page,c,t]);const v=b=>Array.isArray(b)?b.map(A=>{const T=A.user||{},R=A.location||{};return{...A,user:T.UserName||"System",type:A.type?A.type.split("_").map(C=>C.charAt(0).toUpperCase()+C.slice(1)).join(" "):"Unknown",location:[R.city,R.region,R.country].filter(Boolean).join(", ")||"N/A",createdAt:A.createdAt?new Date(A.createdAt).toLocaleString():"N/A"}}):[],_=b=>{l(A=>({...A,page:b}))},S=b=>{const{name:A,value:T}=b.target;f(R=>({...R,[A]:T,page:1}))};return t?i?B.jsx("div",{className:"p-4",children:"Loading activities..."}):a?B.jsx("div",{className:"p-4",children:B.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4",role:"alert",children:[B.jsx("p",{className:"font-bold",children:"Access Denied"}),B.jsx("p",{children:a}),B.jsx("button",{onClick:()=>navigate(-1),className:"mt-2 px-4 py-2 bg-primary text-white rounded hover:bg-primary-dark",children:"Go Back"})]})}):B.jsx("section",{className:"bg-background text-text min-h-screen w-full overflow-x-hidden",style:{marginTop:`${G7.value}px`},children:B.jsxs("div",{className:"p-4 md:p-6 w-[80%] mx-auto",children:[B.jsx("div",{className:"mb-6",children:B.jsx("h1",{className:"text-2xl font-bold text-primary tracking-wider",children:"Activities Log"})}),B.jsx("div",{className:"bg-background/70 p-4 rounded-lg mb-6 space-y-4",children:B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-medium text-text mb-1",children:"User ID"}),B.jsx("input",{type:"text",name:"userId",value:c.userId,onChange:S,className:"w-full px-3 py-2 bg-background border border-secondary rounded-md text-text",placeholder:"Filter by User ID"})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-medium text-text mb-1",children:"Activity Type"}),B.jsxs("select",{name:"type",value:c.type,onChange:S,className:"w-full px-3 py-2 bg-background border border-secondary rounded-md text-text",children:[B.jsx("option",{value:"",children:"All Types"}),B.jsx("option",{value:"login",children:"Login"}),B.jsx("option",{value:"logout",children:"Logout"}),B.jsx("option",{value:"location_update",children:"Location Update"})]})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-medium text-text mb-1",children:"From Date"}),B.jsx("input",{type:"date",name:"startDate",value:c.startDate,onChange:S,className:"w-full px-3 py-2 bg-background border border-secondary rounded-md text-text"})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-medium text-text mb-1",children:"To Date"}),B.jsx("input",{type:"date",name:"endDate",value:c.endDate,onChange:S,className:"w-full px-3 py-2 bg-background border border-secondary rounded-md text-text"})]})]})}),B.jsx(o0,{data:v(e),columns:d,isLoading:i}),o.totalPages>1&&B.jsxs("div",{className:"flex justify-between items-center mt-4",children:[B.jsx("button",{onClick:()=>_(o.page-1),disabled:o.page===1,className:"px-4 py-2 bg-primary/50 text-text rounded-md disabled:opacity-50",children:"Previous"}),B.jsxs("span",{className:"text-text",children:["Page ",o.page," of ",o.totalPages]}),B.jsx("button",{onClick:()=>_(o.page+1),disabled:o.page===o.totalPages,className:"px-4 py-2 bg-primary/50 text-text rounded-md disabled:opacity-50",children:"Next"})]})]})}):B.jsx("div",{children:"Loading user data..."})},jg=({children:t})=>{const{user:e,loading:n}=jl();return n?B.jsx("div",{children:"Loading..."}):e?t:B.jsx(j5,{to:"/login"})},w4=({children:t})=>{const{user:e,loading:n}=jl();return n?B.jsx("div",{className:"flex justify-center items-center h-screen bg-background",children:B.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-primary"})}):e?B.jsx(j5,{to:"/",replace:!0}):t},FDe=()=>{const{user:t}=jl();return B.jsxs(LZ,{children:[t&&B.jsx(Zte,{}),B.jsxs(uZ,{children:[B.jsx(Ac,{path:"/login",element:B.jsx(w4,{children:B.jsx(Mee,{})})}),B.jsx(Ac,{path:"/cookie-consent",element:B.jsx(w4,{children:B.jsx(Eee,{})})}),B.jsx(Ac,{path:"/verify-otp",element:B.jsx(w4,{children:B.jsx(wee,{})})}),B.jsx(Ac,{path:"/",element:B.jsx(j5,{to:"/dashboard",replace:!0})}),B.jsx(Ac,{path:"/dashboard",element:B.jsx(jg,{children:B.jsx(qTe,{})})}),B.jsx(Ac,{path:"/analytics",element:B.jsx(jg,{children:B.jsx(QTe,{})})}),B.jsx(Ac,{path:"/reports",element:B.jsx(jg,{children:B.jsx(sCe,{})})}),B.jsx(Ac,{path:"/settings",element:B.jsx(jg,{children:B.jsx(DCe,{})})}),B.jsx(Ac,{path:"/change-password",element:B.jsx(PDe,{})}),B.jsx(Ac,{path:"/user-list",element:B.jsx(jg,{children:B.jsx(LDe,{})})}),B.jsx(Ac,{path:"/email-config",element:B.jsx(jg,{children:B.jsx(ODe,{})})}),B.jsx(Ac,{path:"/log-list",element:B.jsx(jg,{children:B.jsx(Qte,{})})}),B.jsx(Ac,{path:"/activities",element:B.jsx(jg,{children:B.jsx(IDe,{})})})]})]})};function zDe(){return B.jsx(_ee,{children:B.jsx(FDe,{})})}j7.createRoot(document.getElementById("root")).render(B.jsxs(ce.StrictMode,{children:[B.jsx(Jte,{position:"top-right",reverseOrder:!1,toastOptions:{className:"",duration:5e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,theme:{primary:"green",secondary:"black"}},error:{duration:4e3,theme:{primary:"red",secondary:"black"}}}}),B.jsx(zDe,{})]}))});export default HDe();
